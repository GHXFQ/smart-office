{"map":"{\"version\":3,\"sources\":[\"js/chunk-839f2418.8c2b3745.js\"],\"names\":[\"window\",\"push\",\"13ab\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"vue_runtime_esm_bundler\",\"_hoisted_1\",\"class\",\"_hoisted_2\",\"key\",\"_hoisted_3\",\"_hoisted_4\",\"_hoisted_5\",\"_hoisted_6\",\"_hoisted_7\",\"_hoisted_8\",\"_hoisted_9\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"_hoisted_13\",\"_hoisted_14\",\"_hoisted_15\",\"_hoisted_16\",\"_hoisted_17\",\"_hoisted_18\",\"_hoisted_19\",\"_hoisted_20\",\"_hoisted_21\",\"_hoisted_22\",\"_hoisted_23\",\"_hoisted_24\",\"_hoisted_25\",\"_hoisted_26\",\"_hoisted_27\",\"_hoisted_28\",\"_hoisted_29\",\"_hoisted_30\",\"_hoisted_31\",\"_hoisted_32\",\"_hoisted_33\",\"_hoisted_34\",\"_hoisted_35\",\"_hoisted_36\",\"_hoisted_37\",\"_hoisted_38\",\"_hoisted_39\",\"_hoisted_40\",\"ref\",\"_hoisted_41\",\"_hoisted_42\",\"_hoisted_43\",\"_hoisted_44\",\"_hoisted_45\",\"_hoisted_46\",\"_hoisted_47\",\"_hoisted_48\",\"_hoisted_49\",\"_hoisted_50\",\"_hoisted_51\",\"_hoisted_52\",\"_hoisted_53\",\"_hoisted_54\",\"_hoisted_55\",\"_hoisted_56\",\"_hoisted_57\",\"_hoisted_58\",\"style\",\"text-align\",\"margin-top\",\"_hoisted_59\",\"_hoisted_60\",\"_hoisted_61\",\"_hoisted_62\",\"_hoisted_63\",\"_hoisted_64\",\"_hoisted_65\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"_component_el_alert\",\"Object\",\"_component_el_input\",\"_component_Refresh\",\"_component_el_icon\",\"_component_el_button\",\"_component_el_badge\",\"_component_el_skeleton\",\"_component_UserFilled\",\"_component_el_empty\",\"_component_Phone\",\"_component_el_tooltip\",\"_component_VideoCamera\",\"_component_InfoFilled\",\"_component_Document\",\"_component_Reading\",\"_component_ChatCalendarEvent\",\"_component_ChatLineSquare\",\"_component_PictureFilled\",\"_component_FolderOpened\",\"_component_Microphone\",\"_component_Position\",\"_component_ChatDotSquare\",\"_component_el_card\",\"_component_el_table_column\",\"_component_el_tag\",\"_component_el_table\",\"_component_el_dialog\",\"_directive_loading\",\"default\",\"loading\",\"title\",\"type\",\"closable\",\"show-icon\",\"modelValue\",\"searchQuery\",\"onUpdate:modelValue\",\"$event\",\"placeholder\",\"clearable\",\"prefix-icon\",\"Search\",\"circle\",\"size\",\"onClick\",\"refreshChatSessions\",\"_\",\"tabs\",\"tab\",\"index\",\"active\",\"activeTab\",\"keys\",\"groupedUsersByDepartment\",\"length\",\"departmentUsers\",\"deptName\",\"contact\",\"id\",\"selectedContact\",\"selectContact\",\"avatar\",\"avatar_url\",\"src\",\"alt\",\"backgroundColor\",\"color\",\"initial\",\"status\",\"name\",\"lastTime\",\"lastMessage\",\"unread\",\"value\",\"rows\",\"animated\",\"filteredContacts\",\"description\",\"image-size\",\"image\",\"currentContact\",\"getStatusText\",\"content\",\"placement\",\"messages\",\"message\",\"sender\",\"userId\",\"getSenderColor\",\"getSenderInitial\",\"message_type\",\"file\",\"downloadFile\",\"file_name\",\"formatFileSize\",\"file_size\",\"viewKnowledge\",\"knowledge_detail\",\"formatMessageTime\",\"created_at\",\"calendar_data\",\"hiddenCalendarEvents\",\"includes\",\"messageId\",\"eventData\",\"onCalendarEventAdded\",\"handleCalendarEventAdded\",\"onCalendarEventHidden\",\"handleCalendarEventHidden\",\"openImageUpload\",\"openFileUpload\",\"openKnowledgeDialog\",\"messageInput\",\"resize\",\"onKeyup\",\"sendMessage\",\"display\",\"onChange\",\"args\",\"handleFileUpload\",\"accept\",\"handleImageUpload\",\"knowledgeDialogVisible\",\"width\",\"footer\",\"data\",\"knowledgeList\",\"onRowClick\",\"selectKnowledge\",\"prop\",\"label\",\"scope\",\"row\",\"file_type\",\"formatDate\",\"shareKnowledge\",\"knowledgeLoading\",\"vuex_esm_browser\",\"components_message\",\"message_box\",\"dist\",\"request\",\"getChatSessions\",\"url\",\"method\",\"getChatSession\",\"sendTextMessage\",\"sendImageMessage\",\"formData\",\"headers\",\"Content-Type\",\"sendKnowledgeMessage\",\"downloadMessageFile\",\"responseType\",\"addCalendarEvent\",\"api_knowledge\",\"vue_router\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_1\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_2\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_3\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_4\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_5\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_6\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_7\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_8\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_9\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_10\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_11\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_12\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_13\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_14\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_render\",\"_component_Calendar\",\"_component_Clock\",\"_component_Location\",\"_component_el_form_item\",\"_component_el_date_picker\",\"_component_el_option\",\"_component_el_select\",\"_component_el_switch\",\"_component_el_form\",\"formatDateRange\",\"start\",\"end\",\"location\",\"calendarEventAdded\",\"showDetails\",\"addToCalendar\",\"hideCalendarEvent\",\"detailsVisible\",\"addToCalendarWithEdits\",\"model\",\"editableEvent\",\"label-width\",\"format\",\"value-format\",\"reminder\",\"is_all_day\",\"date_formatDate\",\"date\",\"Date\",\"isNaN\",\"getTime\",\"year\",\"getFullYear\",\"month\",\"getMonth\",\"day\",\"getDate\",\"hour\",\"getHours\",\"minute\",\"getMinutes\",\"second\",\"getSeconds\",\"pad\",\"num\",\"replace\",\"String\",\"slice\",\"ChatCalendarEventvue_type_script_lang_js\",\"components\",\"Calendar\",\"Clock\",\"Location\",\"InfoFilled\",\"props\",\"Number\",\"required\",\"emits\",\"[object Object]\",\"emit\",\"initEditableEvent\",\"formatDateForPicker\",\"dateString\",\"e\",\"async\",\"success\",\"error\",\"_error$response\",\"_error$response$data\",\"response\",\"_error$response2\",\"_error$response2$data\",\"startDate\",\"endDate\",\"startDateStr\",\"toDateString\",\"exportHelper\",\"exportHelper_default\",\"n\",\"__exports__\",\"ChatCalendarEvent\",\"ai\",\"Indexvue_type_script_lang_js\",\"store\",\"currentUser\",\"getters\",\"user\",\"userInfo\",\"messageContainer\",\"fileInput\",\"imageInput\",\"chatSessions\",\"currentChatId\",\"selectedKnowledge\",\"contacts\",\"allColleagues\",\"find\",\"c\",\"_userInfo$value\",\"filter\",\"toLowerCase\",\"getActiveContacts\",\"isGroup\",\"usersMap\",\"Map\",\"forEach\",\"set\",\"colleague\",\"has\",\"first_name\",\"last_name\",\"trim\",\"username\",\"getRandomColor\",\"department\",\"groupedUsers\",\"Array\",\"from\",\"values\",\"departmentName\",\"route\",\"refreshInterval\",\"clearInterval\",\"userData\",\"fetchCurrentUser\",\"console\",\"log\",\"loadAllUsers\",\"loadChatSessions\",\"sessionId\",\"query\",\"session\",\"foundContact\",\"parseInt\",\"loadChatMessages\",\"setInterval\",\"scrollToBottom\",\"token\",\"localStorage\",\"getItem\",\"warn\",\"warning\",\"Error\",\"setItem\",\"JSON\",\"stringify\",\"isArray\",\"results\",\"map\",\"otherParticipant\",\"participants\",\"p\",\"is_group\",\"last_message\",\"updated_at\",\"unread_count\",\"startsWith\",\"NODE_ENV\",\"BASE_URL\",\"VUE_APP_BASE_API\",\"sort\",\"a\",\"b\",\"chatId\",\"messageData\",\"sessionData\",\"possibleMessageFields\",\"field\",\"some\",\"tempContact\",\"unshift\",\"res\",\"params\",\"chat\",\"selectedDocumentIds\",\"doc\",\"errorMessage\",\"scrollTop\",\"scrollHeight\",\"contactId\",\"existingChat\",\"participant_ids\",\"newSession\",\"tempMessage\",\"now\",\"toISOString\",\"is_temp\",\"messageCopy\",\"aiMsg\",\"chat_id\",\"document_ids\",\"aiContent\",\"tempIndex\",\"findIndex\",\"m\",\"splice\",\"savedMessage\",\"click\",\"event\",\"target\",\"files\",\"FormData\",\"append\",\"docRes\",\"loadKnowledgeList\",\"knowledge\",\"URL\",\"createObjectURL\",\"Blob\",\"link\",\"document\",\"createElement\",\"href\",\"setAttribute\",\"body\",\"appendChild\",\"removeChild\",\"alert\",\"dangerouslyUseHTMLString\",\"confirmButtonText\",\"colors\",\"timestamp\",\"diff\",\"hours\",\"toString\",\"padStart\",\"minutes\",\"days\",\"getDay\",\"sizeInKB\",\"toFixed\",\"statusMap\",\"online\",\"offline\",\"busy\",\"away\",\"forceRefresh\",\"info\",\"users\",\"Phone\",\"VideoCamera\",\"Document\",\"PictureFilled\",\"FolderOpened\",\"Microphone\",\"Position\",\"ChatDotSquare\",\"Reading\",\"UserFilled\",\"ChatLineSquare\",\"Refresh\",\"MoreFilled\",\"Index_exports_\",\"1b61\",\"271a\",\"exports\",\"defineBuiltIn\",\"uncurryThis\",\"validateArgumentsLength\",\"$URLSearchParams\",\"URLSearchParams\",\"URLSearchParamsPrototype\",\"prototype\",\"getAll\",\"$has\",\"undefined\",\"arguments\",\"$value\",\"this\",\"enumerable\",\"unsafe\",\"48cf\",\"d\",\"getScheduleReminders\",\"markScheduleReminderAsRead\",\"aiChatWithDocuments\",\"aiChatWithDocumentsStream\",\"getAIChatSessions\",\"getAIChatSession\",\"_utils_request__WEBPACK_IMPORTED_MODULE_1__\",\"onChunk\",\"onComplete\",\"onError\",\"controller\",\"AbortController\",\"signal\",\"fetch\",\"then\",\"ok\",\"get\",\"reader\",\"getReader\",\"decoder\",\"TextDecoder\",\"readStream\",\"read\",\"done\",\"chunk\",\"decode\",\"stream\",\"chatIdMarker\",\"parts\",\"split\",\"normalChunk\",\"jsonStr\",\"parsed\",\"parse\",\"finalChatId\",\"catch\",\"5494\",\"DESCRIPTORS\",\"defineBuiltInAccessor\",\"count\",\"configurable\",\"7232\",\"88a7\",\"$delete\",\"entries\",\"v\",\"k\",\"entry\",\"dindex\",\"found\",\"entriesLength\",\"910d\",\"$\",\"call\",\"aCallable\",\"anObject\",\"getIteratorDirect\",\"createIteratorProxy\",\"callWithSafeIterationClosing\",\"IS_PURE\",\"iteratorClose\",\"iteratorHelperWithoutClosingOnEarlyError\",\"filterWithoutClosingOnEarlyError\",\"TypeError\",\"IteratorProxy\",\"result\",\"iterator\",\"predicate\",\"next\",\"counter\",\"proto\",\"real\",\"forced\",\"c728\",\"d6d6\",\"$TypeError\",\"passed\",\"db6a\",\"getCategories\",\"addCategory\",\"updateCategory\",\"deleteCategory\",\"getDocuments\",\"uploadDocument\",\"deleteDocument\",\"downloadDocumentFile\",\"getDocumentChunks\",\"buildKnowledgeBase\",\"getKnowledgeBaseStatus\",\"getKnowledgeList\",\"baseURL\",\"Promise\",\"reject\",\"lastModified\",\"timeout\",\"onUploadProgress\",\"progressEvent\",\"percentCompleted\",\"Math\",\"round\",\"loaded\",\"total\",\"code\",\"requestConfig\",\"documentId\",\"df38\",\"f665\",\"iterate\",\"findWithoutClosingOnEarlyError\",\"record\",\"stop\",\"IS_RECORD\",\"INTERRUPTED\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-839f2418\"],{\"13ab\":function(e,t,a){\"use strict\";a.r(t);var l=a(\"7a23\");const o={class:\"chat-container\"},c={key:0,class:\"chat-header-actions\"},n={class:\"chat-layout\"},r={class:\"chat-sidebar\"},s={class:\"search-box\"},i={class:\"search-header\"},d={class:\"chat-tabs\"},u=[\"onClick\"],m={class:\"contacts-list\"},b={key:0},p={class:\"department-header\"},O=[\"onClick\"],j={class:\"contact-avatar\"},v={class:\"avatar-initial\"},g=[\"src\"],h={class:\"contact-info\"},f={class:\"contact-name\"},_={class:\"time\"},V={class:\"contact-message\"},y={class:\"message-text\"},C={key:1,class:\"loading-container\"},w=[\"onClick\"],N={class:\"contact-avatar\"},k={class:\"avatar-initial\"},E=[\"src\"],D={class:\"contact-info\"},B={class:\"contact-name\"},x={class:\"time\"},S={class:\"contact-message\"},I={class:\"message-text\"},A={key:0,class:\"empty-contacts\"},T={key:2,class:\"loading-container\"},M={class:\"chat-content\"},P={key:0,class:\"chat-header\"},U={class:\"contact-avatar\"},$={class:\"avatar-initial\"},Y=[\"src\"],F={class:\"contact-info\"},z={class:\"chat-actions\"},H={key:1,class:\"chat-messages\",ref:\"messageContainer\"},R={class:\"message-container\"},L={key:0,class:\"message-avatar\"},G={class:\"avatar-initial\"},K=[\"src\"],W={class:\"message-content-wrapper\"},q={key:0},J={key:1,class:\"message-image\"},Q=[\"src\"],X=[\"onClick\"],Z={class:\"file-size\"},ee=[\"onClick\"],te={class:\"knowledge-info\"},ae={class:\"knowledge-title\"},le={class:\"knowledge-desc\"},oe={class:\"message-time\"},ce={key:1,class:\"empty-messages\"},ne={key:2,class:\"loading-messages\"},re={style:{\"text-align\":\"right\",\"margin-top\":\"20px\"}},se={key:2,class:\"chat-input\"},ie={class:\"chat-tools\"},de={class:\"input-area\"},ue={class:\"send-button\"},me={key:3,class:\"empty-chat\"},be={class:\"empty-illustration\"},pe={class:\"dialog-footer\"};function Oe(e,t,a,Oe,je,ve){const ge=Object(l[\"resolveComponent\"])(\"el-alert\"),he=Object(l[\"resolveComponent\"])(\"el-input\"),fe=Object(l[\"resolveComponent\"])(\"Refresh\"),_e=Object(l[\"resolveComponent\"])(\"el-icon\"),Ve=Object(l[\"resolveComponent\"])(\"el-button\"),ye=Object(l[\"resolveComponent\"])(\"el-badge\"),Ce=Object(l[\"resolveComponent\"])(\"el-skeleton\"),we=Object(l[\"resolveComponent\"])(\"UserFilled\"),Ne=Object(l[\"resolveComponent\"])(\"el-empty\"),ke=Object(l[\"resolveComponent\"])(\"Phone\"),Ee=Object(l[\"resolveComponent\"])(\"el-tooltip\"),De=Object(l[\"resolveComponent\"])(\"VideoCamera\"),Be=Object(l[\"resolveComponent\"])(\"InfoFilled\"),xe=Object(l[\"resolveComponent\"])(\"Document\"),Se=Object(l[\"resolveComponent\"])(\"Reading\"),Ie=Object(l[\"resolveComponent\"])(\"ChatCalendarEvent\"),Ae=Object(l[\"resolveComponent\"])(\"ChatLineSquare\"),Te=Object(l[\"resolveComponent\"])(\"PictureFilled\"),Me=Object(l[\"resolveComponent\"])(\"FolderOpened\"),Pe=Object(l[\"resolveComponent\"])(\"Microphone\"),Ue=Object(l[\"resolveComponent\"])(\"Position\"),$e=Object(l[\"resolveComponent\"])(\"ChatDotSquare\"),Ye=Object(l[\"resolveComponent\"])(\"el-card\"),Fe=Object(l[\"resolveComponent\"])(\"el-table-column\"),ze=Object(l[\"resolveComponent\"])(\"el-tag\"),He=Object(l[\"resolveComponent\"])(\"el-table\"),Re=Object(l[\"resolveComponent\"])(\"el-dialog\"),Le=Object(l[\"resolveDirective\"])(\"loading\");return Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",o,[Object(l[\"createVNode\"])(Ye,{class:\"chat-card\"},{default:Object(l[\"withCtx\"])(()=>[Oe.loading?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",c,[Object(l[\"createVNode\"])(ge,{title:\"...\",type:\"info\",closable:!1,\"show-icon\":\"\"})])):Object(l[\"createCommentVNode\"])(\"\",!0),Object(l[\"createElementVNode\"])(\"div\",n,[Object(l[\"createElementVNode\"])(\"div\",r,[Object(l[\"createElementVNode\"])(\"div\",s,[Object(l[\"createElementVNode\"])(\"div\",i,[Object(l[\"createVNode\"])(he,{modelValue:Oe.searchQuery,\"onUpdate:modelValue\":t[0]||(t[0]=e=>Oe.searchQuery=e),placeholder:\"...\",clearable:\"\",\"prefix-icon\":Oe.Search},null,8,[\"modelValue\",\"prefix-icon\"]),Object(l[\"createVNode\"])(Ve,{circle:\"\",size:\"small\",onClick:Oe.refreshChatSessions,title:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(fe)]),_:1})]),_:1},8,[\"onClick\"])])]),Object(l[\"createElementVNode\"])(\"div\",d,[(Object(l[\"openBlock\"])(!0),Object(l[\"createElementBlock\"])(l[\"Fragment\"],null,Object(l[\"renderList\"])(Oe.tabs,(e,t)=>(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:t,class:Object(l[\"normalizeClass\"])([\"chat-tab\",{active:Oe.activeTab===t}]),onClick:e=>Oe.activeTab=t},Object(l[\"toDisplayString\"])(e),11,u))),128))]),Object(l[\"createElementVNode\"])(\"div\",m,[1===Oe.activeTab?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(l[\"Fragment\"],{key:0},[!Oe.loading&&Object.keys(Oe.groupedUsersByDepartment).length>0?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",b,[(Object(l[\"openBlock\"])(!0),Object(l[\"createElementBlock\"])(l[\"Fragment\"],null,Object(l[\"renderList\"])(Oe.groupedUsersByDepartment,(e,t)=>(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:t,class:\"department-group\"},[Object(l[\"createElementVNode\"])(\"div\",p,Object(l[\"toDisplayString\"])(t),1),(Object(l[\"openBlock\"])(!0),Object(l[\"createElementBlock\"])(l[\"Fragment\"],null,Object(l[\"renderList\"])(e,e=>(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(l[\"normalizeClass\"])([\"contact-item\",{active:Oe.selectedContact===e.id}]),onClick:t=>Oe.selectContact(e)},[Object(l[\"createElementVNode\"])(\"div\",j,[e.avatar||e.avatar_url?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"img\",{key:1,src:e.avatar_url||e.avatar,alt:\"avatar\",class:\"avatar\"},null,8,g)):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(l[\"normalizeStyle\"])({backgroundColor:e.color})},[Object(l[\"createElementVNode\"])(\"span\",v,Object(l[\"toDisplayString\"])(e.initial),1)],4)),Object(l[\"createElementVNode\"])(\"div\",{class:Object(l[\"normalizeClass\"])([\"contact-status\",\"status-\"+e.status])},null,2)]),Object(l[\"createElementVNode\"])(\"div\",h,[Object(l[\"createElementVNode\"])(\"div\",f,[Object(l[\"createElementVNode\"])(\"span\",null,Object(l[\"toDisplayString\"])(e.name),1),Object(l[\"createElementVNode\"])(\"span\",_,Object(l[\"toDisplayString\"])(e.lastTime),1)]),Object(l[\"createElementVNode\"])(\"div\",V,[Object(l[\"createElementVNode\"])(\"span\",y,Object(l[\"toDisplayString\"])(e.lastMessage),1),e.unread?(Object(l[\"openBlock\"])(),Object(l[\"createBlock\"])(ye,{key:0,value:e.unread,class:\"message-badge\"},null,8,[\"value\"])):Object(l[\"createCommentVNode\"])(\"\",!0)])])],10,O))),128))]))),128))])):Oe.loading?Object(l[\"createCommentVNode\"])(\"\",!0):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",C,[Object(l[\"createVNode\"])(Ce,{rows:5,animated:\"\"})]))],64)):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(l[\"Fragment\"],{key:1},[(Object(l[\"openBlock\"])(!0),Object(l[\"createElementBlock\"])(l[\"Fragment\"],null,Object(l[\"renderList\"])(Oe.filteredContacts,e=>(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(l[\"normalizeClass\"])([\"contact-item\",{active:Oe.selectedContact===e.id}]),onClick:t=>Oe.selectContact(e)},[Object(l[\"createElementVNode\"])(\"div\",N,[e.avatar||e.avatar_url?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"img\",{key:1,src:e.avatar_url||e.avatar,alt:\"avatar\",class:\"avatar\"},null,8,E)):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(l[\"normalizeStyle\"])({backgroundColor:e.color})},[Object(l[\"createElementVNode\"])(\"span\",k,Object(l[\"toDisplayString\"])(e.initial),1)],4)),Object(l[\"createElementVNode\"])(\"div\",{class:Object(l[\"normalizeClass\"])([\"contact-status\",\"status-\"+e.status])},null,2)]),Object(l[\"createElementVNode\"])(\"div\",D,[Object(l[\"createElementVNode\"])(\"div\",B,[Object(l[\"createElementVNode\"])(\"span\",null,Object(l[\"toDisplayString\"])(e.name),1),Object(l[\"createElementVNode\"])(\"span\",x,Object(l[\"toDisplayString\"])(e.lastTime),1)]),Object(l[\"createElementVNode\"])(\"div\",S,[Object(l[\"createElementVNode\"])(\"span\",I,Object(l[\"toDisplayString\"])(e.lastMessage),1),e.unread?(Object(l[\"openBlock\"])(),Object(l[\"createBlock\"])(ye,{key:0,value:e.unread,class:\"message-badge\"},null,8,[\"value\"])):Object(l[\"createCommentVNode\"])(\"\",!0)])])],10,w))),128)),Oe.loading||0!==Oe.filteredContacts.length?Object(l[\"createCommentVNode\"])(\"\",!0):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",A,[Object(l[\"createVNode\"])(Ne,{description:\"\",\"image-size\":100},{image:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,{size:64,class:\"empty-icon\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(we)]),_:1})]),_:1})]))],64)),Oe.loading?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",T,[Object(l[\"createVNode\"])(Ce,{rows:5,animated:\"\"})])):Object(l[\"createCommentVNode\"])(\"\",!0)])]),Object(l[\"createElementVNode\"])(\"div\",M,[null!==Oe.selectedContact?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",P,[Object(l[\"createElementVNode\"])(\"div\",U,[Oe.currentContact.avatar||Oe.currentContact.avatar_url?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"img\",{key:1,src:Oe.currentContact.avatar_url||Oe.currentContact.avatar,alt:\"avatar\",class:\"avatar\"},null,8,Y)):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(l[\"normalizeStyle\"])({backgroundColor:Oe.currentContact.color})},[Object(l[\"createElementVNode\"])(\"span\",$,Object(l[\"toDisplayString\"])(Oe.currentContact.initial||\"?\"),1)],4)),Object(l[\"createElementVNode\"])(\"div\",{class:Object(l[\"normalizeClass\"])([\"contact-status\",\"status-\"+(Oe.currentContact.status||\"online\")])},null,2)]),Object(l[\"createElementVNode\"])(\"div\",F,[Object(l[\"createElementVNode\"])(\"h6\",null,Object(l[\"toDisplayString\"])(Oe.currentContact.name||\"\"),1),Object(l[\"createElementVNode\"])(\"p\",null,Object(l[\"toDisplayString\"])(Oe.getStatusText(Oe.currentContact.status||\"online\")),1)]),Object(l[\"createElementVNode\"])(\"div\",z,[Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"bottom\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(ke)]),_:1})]),_:1})]),_:1}),Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"bottom\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(De)]),_:1})]),_:1})]),_:1}),Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"bottom\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Be)]),_:1})]),_:1})]),_:1})])])):Object(l[\"createCommentVNode\"])(\"\",!0),null!==Oe.selectedContact?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",H,[Oe.messages.length>0?(Object(l[\"openBlock\"])(!0),Object(l[\"createElementBlock\"])(l[\"Fragment\"],{key:0},Object(l[\"renderList\"])(Oe.messages,(e,t)=>(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:e.id||t,class:Object(l[\"normalizeClass\"])([\"message\",e.sender.id===Oe.userId?\"message-sent\":\"message-received\"])},[Object(l[\"createElementVNode\"])(\"div\",R,[e.sender.id!==Oe.userId?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",L,[e.sender.avatar||e.sender.avatar_url?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"img\",{key:1,src:e.sender.avatar_url||e.sender.avatar,alt:\"avatar\",class:\"avatar small\"},null,8,K)):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar small\",style:Object(l[\"normalizeStyle\"])({backgroundColor:Oe.getSenderColor(e.sender)})},[Object(l[\"createElementVNode\"])(\"span\",G,Object(l[\"toDisplayString\"])(Oe.getSenderInitial(e.sender)),1)],4))])):Object(l[\"createCommentVNode\"])(\"\",!0),Object(l[\"createElementVNode\"])(\"div\",W,[Object(l[\"createElementVNode\"])(\"div\",{class:Object(l[\"normalizeClass\"])([\"message-content\",e.sender.id===Oe.userId?\"sent\":\"received\"])},[\"text\"===e.message_type?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"span\",q,Object(l[\"toDisplayString\"])(e.content),1)):\"image\"===e.message_type?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",J,[Object(l[\"createElementVNode\"])(\"img\",{src:e.file,alt:\"image\"},null,8,Q)])):\"file\"===e.message_type?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:2,class:\"message-file\",onClick:t=>Oe.downloadFile(e)},[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(xe)]),_:1}),Object(l[\"createElementVNode\"])(\"span\",null,Object(l[\"toDisplayString\"])(e.file_name),1),Object(l[\"createElementVNode\"])(\"span\",Z,Object(l[\"toDisplayString\"])(Oe.formatFileSize(e.file_size)),1)],8,X)):\"knowledge\"===e.message_type?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",{key:3,class:\"message-knowledge\",onClick:t=>Oe.viewKnowledge(e)},[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Se)]),_:1}),Object(l[\"createElementVNode\"])(\"div\",te,[Object(l[\"createElementVNode\"])(\"div\",ae,Object(l[\"toDisplayString\"])(e.knowledge_detail.title),1),Object(l[\"createElementVNode\"])(\"div\",le,Object(l[\"toDisplayString\"])(e.knowledge_detail.description),1)])],8,ee)):Object(l[\"createCommentVNode\"])(\"\",!0)],2),Object(l[\"createElementVNode\"])(\"div\",oe,Object(l[\"toDisplayString\"])(Oe.formatMessageTime(e.created_at)),1),e.calendar_data&&!Oe.hiddenCalendarEvents.includes(e.id)?(Object(l[\"openBlock\"])(),Object(l[\"createBlock\"])(Ie,{key:0,messageId:e.id,eventData:e.calendar_data,onCalendarEventAdded:Oe.handleCalendarEventAdded,onCalendarEventHidden:t=>Oe.handleCalendarEventHidden(e.id)},null,8,[\"messageId\",\"eventData\",\"onCalendarEventAdded\",\"onCalendarEventHidden\"])):Object(l[\"createCommentVNode\"])(\"\",!0)])])],2))),128)):Oe.loading?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",ne,[Object(l[\"createVNode\"])(Ce,{rows:3,animated:\"\"}),Object(l[\"createVNode\"])(Ce,{style:{\"margin-top\":\"20px\"},rows:2,animated:\"\"}),Object(l[\"createElementVNode\"])(\"div\",re,[Object(l[\"createVNode\"])(Ce,{rows:2,animated:\"\"})])])):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",ce,[Object(l[\"createVNode\"])(Ne,{description:\"\"},{image:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,{size:64,class:\"empty-icon\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ae)]),_:1})]),default:Object(l[\"withCtx\"])(()=>[t[6]||(t[6]=Object(l[\"createElementVNode\"])(\"p\",null,\"\",-1))]),_:1})]))],512)):Object(l[\"createCommentVNode\"])(\"\",!0),null!==Oe.selectedContact?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",se,[Object(l[\"createElementVNode\"])(\"div\",ie,[Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"top\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\",onClick:Oe.openImageUpload},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Te)]),_:1})]),_:1},8,[\"onClick\"])]),_:1}),Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"top\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\",onClick:Oe.openFileUpload},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Me)]),_:1})]),_:1},8,[\"onClick\"])]),_:1}),Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"top\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\",onClick:Oe.openKnowledgeDialog},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Se)]),_:1})]),_:1},8,[\"onClick\"])]),_:1}),Object(l[\"createVNode\"])(Ee,{content:\"\",placement:\"top\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ve,{circle:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Pe)]),_:1})]),_:1})]),_:1})]),Object(l[\"createElementVNode\"])(\"div\",de,[Object(l[\"createVNode\"])(he,{modelValue:Oe.messageInput,\"onUpdate:modelValue\":t[1]||(t[1]=e=>Oe.messageInput=e),type:\"textarea\",rows:3,placeholder:\"...\",resize:\"none\",onKeyup:Object(l[\"withKeys\"])(Object(l[\"withModifiers\"])(Oe.sendMessage,[\"prevent\"]),[\"enter\"])},null,8,[\"modelValue\",\"onKeyup\"])]),Object(l[\"createElementVNode\"])(\"div\",ue,[Object(l[\"createVNode\"])(Ve,{type:\"primary\",onClick:Oe.sendMessage},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(_e,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Ue)]),_:1}),t[7]||(t[7]=Object(l[\"createTextVNode\"])(\"  \"))]),_:1},8,[\"onClick\"])])])):Object(l[\"createCommentVNode\"])(\"\",!0),null===Oe.selectedContact?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",me,[Object(l[\"createElementVNode\"])(\"div\",be,[Object(l[\"createVNode\"])(_e,{size:64},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])($e)]),_:1})]),t[8]||(t[8]=Object(l[\"createElementVNode\"])(\"h4\",null,\"\",-1)),t[9]||(t[9]=Object(l[\"createElementVNode\"])(\"p\",null,\"\",-1))])):Object(l[\"createCommentVNode\"])(\"\",!0)])])]),_:1}),Object(l[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"fileInput\",style:{display:\"none\"},onChange:t[2]||(t[2]=(...e)=>Oe.handleFileUpload&&Oe.handleFileUpload(...e))},null,544),Object(l[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"imageInput\",style:{display:\"none\"},accept:\"image/*\",onChange:t[3]||(t[3]=(...e)=>Oe.handleImageUpload&&Oe.handleImageUpload(...e))},null,544),Object(l[\"createVNode\"])(Re,{modelValue:Oe.knowledgeDialogVisible,\"onUpdate:modelValue\":t[5]||(t[5]=e=>Oe.knowledgeDialogVisible=e),title:\"\",width:\"50%\"},{footer:Object(l[\"withCtx\"])(()=>[Object(l[\"createElementVNode\"])(\"span\",pe,[Object(l[\"createVNode\"])(Ve,{onClick:t[4]||(t[4]=e=>Oe.knowledgeDialogVisible=!1)},{default:Object(l[\"withCtx\"])(()=>t[11]||(t[11]=[Object(l[\"createTextVNode\"])(\"\")])),_:1})])]),default:Object(l[\"withCtx\"])(()=>[Object(l[\"withDirectives\"])((Object(l[\"openBlock\"])(),Object(l[\"createBlock\"])(He,{data:Oe.knowledgeList,style:{width:\"100%\"},onRowClick:Oe.selectKnowledge},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(Fe,{prop:\"title\",label:\"\"}),Object(l[\"createVNode\"])(Fe,{prop:\"file_type\",label:\"\"},{default:Object(l[\"withCtx\"])(e=>[Object(l[\"createVNode\"])(ze,null,{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createTextVNode\"])(Object(l[\"toDisplayString\"])(e.row.file_type),1)]),_:2},1024)]),_:1}),Object(l[\"createVNode\"])(Fe,{prop:\"created_at\",label:\"\"},{default:Object(l[\"withCtx\"])(e=>[Object(l[\"createTextVNode\"])(Object(l[\"toDisplayString\"])(Oe.formatDate(e.row.created_at)),1)]),_:1}),Object(l[\"createVNode\"])(Fe,{label:\"\"},{default:Object(l[\"withCtx\"])(e=>[Object(l[\"createVNode\"])(Ve,{type:\"primary\",size:\"small\",onClick:Object(l[\"withModifiers\"])(t=>Oe.shareKnowledge(e.row),[\"stop\"])},{default:Object(l[\"withCtx\"])(()=>t[10]||(t[10]=[Object(l[\"createTextVNode\"])(\"  \")])),_:2},1032,[\"onClick\"])]),_:1})]),_:1},8,[\"data\",\"onRowClick\"])),[[Le,Oe.knowledgeLoading]])]),_:1},8,[\"modelValue\"])])}a(\"d9e2\"),a(\"14d9\"),a(\"e9f5\"),a(\"910d\"),a(\"f665\"),a(\"7d54\"),a(\"ab43\"),a(\"a732\"),a(\"88a7\"),a(\"271a\"),a(\"5494\");var je=a(\"5502\"),ve=a(\"3ef4\"),ge=a(\"c9a1\"),he=a(\"f6f2\"),fe=a(\"b775\");function _e(){return Object(fe[\"a\"])({url:\"/api/chat/sessions/\",method:\"get\"})}function Ve(e){return Object(fe[\"a\"])({url:`/api/chat/sessions/${e}/`,method:\"get\"})}function ye(e){return Object(fe[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"text\"}})}function Ce(e){return Object(fe[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:e,headers:{\"Content-Type\":\"multipart/form-data\"}})}function we(e){return Object(fe[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"knowledge\",content:\"\"}})}function Ne(e){return Object(fe[\"a\"])({url:`/api/chat/messages/${e}/download/`,method:\"get\",responseType:\"blob\"})}function ke(e,t){return Object(fe[\"a\"])({url:`/api/chat/messages/${e}/add_calendar_event/`,method:\"post\",data:t})}var Ee=a(\"db6a\"),De=a(\"6605\");const Be={key:0,class:\"calendar-event-container\"},xe={class:\"calendar-event-card\"},Se={class:\"el-icon calendar-icon\"},Ie={class:\"event-title\"},Ae={class:\"calendar-event-content\"},Te={class:\"event-time\"},Me={class:\"el-icon\"},Pe={key:0,class:\"event-location\"},Ue={class:\"el-icon\"},$e={key:1,class:\"event-description\"},Ye={class:\"el-icon\"},Fe={key:0,class:\"calendar-event-actions\"},ze={key:1,class:\"calendar-event-success\"},He={class:\"dialog-footer\"};function Re(e,t,a,o,c,n){const r=Object(l[\"resolveComponent\"])(\"Calendar\"),s=Object(l[\"resolveComponent\"])(\"Clock\"),i=Object(l[\"resolveComponent\"])(\"Location\"),d=Object(l[\"resolveComponent\"])(\"InfoFilled\"),u=Object(l[\"resolveComponent\"])(\"el-button\"),m=Object(l[\"resolveComponent\"])(\"el-alert\"),b=Object(l[\"resolveComponent\"])(\"el-input\"),p=Object(l[\"resolveComponent\"])(\"el-form-item\"),O=Object(l[\"resolveComponent\"])(\"el-date-picker\"),j=Object(l[\"resolveComponent\"])(\"el-option\"),v=Object(l[\"resolveComponent\"])(\"el-select\"),g=Object(l[\"resolveComponent\"])(\"el-switch\"),h=Object(l[\"resolveComponent\"])(\"el-form\"),f=Object(l[\"resolveComponent\"])(\"el-dialog\");return a.eventData?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",Be,[Object(l[\"createElementVNode\"])(\"div\",xe,[Object(l[\"createElementVNode\"])(\"div\",{class:Object(l[\"normalizeClass\"])([\"calendar-event-header\",\"event-type-\"+a.eventData.type])},[Object(l[\"createElementVNode\"])(\"i\",Se,[Object(l[\"createVNode\"])(r)]),Object(l[\"createElementVNode\"])(\"span\",Ie,Object(l[\"toDisplayString\"])(a.eventData.title),1)],2),Object(l[\"createElementVNode\"])(\"div\",Ae,[Object(l[\"createElementVNode\"])(\"div\",Te,[Object(l[\"createElementVNode\"])(\"i\",Me,[Object(l[\"createVNode\"])(s)]),Object(l[\"createElementVNode\"])(\"span\",null,Object(l[\"toDisplayString\"])(o.formatDateRange(a.eventData.start,a.eventData.end)),1)]),a.eventData.location?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",Pe,[Object(l[\"createElementVNode\"])(\"i\",Ue,[Object(l[\"createVNode\"])(i)]),Object(l[\"createElementVNode\"])(\"span\",null,Object(l[\"toDisplayString\"])(a.eventData.location),1)])):Object(l[\"createCommentVNode\"])(\"\",!0),a.eventData.description?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",$e,[Object(l[\"createElementVNode\"])(\"i\",Ye,[Object(l[\"createVNode\"])(d)]),Object(l[\"createElementVNode\"])(\"span\",null,Object(l[\"toDisplayString\"])(a.eventData.description),1)])):Object(l[\"createCommentVNode\"])(\"\",!0)]),o.calendarEventAdded?(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",ze,[Object(l[\"createVNode\"])(m,{type:\"success\",closable:!1,\"show-icon\":\"\"},{default:Object(l[\"withCtx\"])(()=>t[13]||(t[13]=[Object(l[\"createElementVNode\"])(\"span\",null,\"\",-1)])),_:1})])):(Object(l[\"openBlock\"])(),Object(l[\"createElementBlock\"])(\"div\",Fe,[Object(l[\"createVNode\"])(u,{type:\"primary\",size:\"small\",onClick:o.showDetails},{default:Object(l[\"withCtx\"])(()=>t[10]||(t[10]=[Object(l[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"]),Object(l[\"createVNode\"])(u,{type:\"success\",size:\"small\",onClick:o.addToCalendar},{default:Object(l[\"withCtx\"])(()=>t[11]||(t[11]=[Object(l[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"]),Object(l[\"createVNode\"])(u,{type:\"default\",size:\"small\",onClick:o.hideCalendarEvent},{default:Object(l[\"withCtx\"])(()=>t[12]||(t[12]=[Object(l[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"])]))]),Object(l[\"createVNode\"])(f,{modelValue:o.detailsVisible,\"onUpdate:modelValue\":t[9]||(t[9]=e=>o.detailsVisible=e),title:\"\",width:\"500px\"},{footer:Object(l[\"withCtx\"])(()=>[Object(l[\"createElementVNode\"])(\"div\",He,[Object(l[\"createVNode\"])(u,{onClick:t[8]||(t[8]=e=>o.detailsVisible=!1)},{default:Object(l[\"withCtx\"])(()=>t[14]||(t[14]=[Object(l[\"createTextVNode\"])(\"\")])),_:1}),Object(l[\"createVNode\"])(u,{type:\"primary\",onClick:o.addToCalendarWithEdits},{default:Object(l[\"withCtx\"])(()=>t[15]||(t[15]=[Object(l[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"])])]),default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(h,{model:o.editableEvent,\"label-width\":\"80px\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(b,{modelValue:o.editableEvent.title,\"onUpdate:modelValue\":t[0]||(t[0]=e=>o.editableEvent.title=e),placeholder:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(O,{modelValue:o.editableEvent.start,\"onUpdate:modelValue\":t[1]||(t[1]=e=>o.editableEvent.start=e),type:\"datetime\",placeholder:\"\",format:\"YYYY-MM-DD HH:mm\",\"value-format\":\"YYYY-MM-DD HH:mm:ss\"},null,8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(O,{modelValue:o.editableEvent.end,\"onUpdate:modelValue\":t[2]||(t[2]=e=>o.editableEvent.end=e),type:\"datetime\",placeholder:\"\",format:\"YYYY-MM-DD HH:mm\",\"value-format\":\"YYYY-MM-DD HH:mm:ss\"},null,8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(b,{modelValue:o.editableEvent.location,\"onUpdate:modelValue\":t[3]||(t[3]=e=>o.editableEvent.location=e),placeholder:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(v,{modelValue:o.editableEvent.type,\"onUpdate:modelValue\":t[4]||(t[4]=e=>o.editableEvent.type=e),placeholder:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(j,{label:\"\",value:\"blue\"}),Object(l[\"createVNode\"])(j,{label:\"\",value:\"orange\"}),Object(l[\"createVNode\"])(j,{label:\"\",value:\"green\"}),Object(l[\"createVNode\"])(j,{label:\"\",value:\"red\"}),Object(l[\"createVNode\"])(j,{label:\"\",value:\"purple\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(v,{modelValue:o.editableEvent.reminder,\"onUpdate:modelValue\":t[5]||(t[5]=e=>o.editableEvent.reminder=e),placeholder:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(j,{label:\"\",value:\"none\"}),Object(l[\"createVNode\"])(j,{label:\"10\",value:\"10min\"}),Object(l[\"createVNode\"])(j,{label:\"30\",value:\"30min\"}),Object(l[\"createVNode\"])(j,{label:\"1\",value:\"1hour\"}),Object(l[\"createVNode\"])(j,{label:\"1\",value:\"1day\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(g,{modelValue:o.editableEvent.is_all_day,\"onUpdate:modelValue\":t[6]||(t[6]=e=>o.editableEvent.is_all_day=e)},null,8,[\"modelValue\"])]),_:1}),Object(l[\"createVNode\"])(p,{label:\"\"},{default:Object(l[\"withCtx\"])(()=>[Object(l[\"createVNode\"])(b,{modelValue:o.editableEvent.description,\"onUpdate:modelValue\":t[7]||(t[7]=e=>o.editableEvent.description=e),type:\"textarea\",rows:3,placeholder:\"\"},null,8,[\"modelValue\"])]),_:1})]),_:1},8,[\"model\"])]),_:1},8,[\"modelValue\"])])):Object(l[\"createCommentVNode\"])(\"\",!0)}function Le(e,t=\"YYYY-MM-DD\"){if(!e)return\"\";if(!(e instanceof Date)&&(e=new Date(e),isNaN(e.getTime())))return\"\";const a=e.getFullYear(),l=e.getMonth()+1,o=e.getDate(),c=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),s=e=>e<10?\"0\"+e:e;return t.replace(/YYYY/g,a).replace(/YY/g,String(a).slice(2)).replace(/MM/g,s(l)).replace(/M/g,l).replace(/DD/g,s(o)).replace(/D/g,o).replace(/HH/g,s(c)).replace(/H/g,c).replace(/hh/g,s(c%12||12)).replace(/h/g,c%12||12).replace(/mm/g,s(n)).replace(/m/g,n).replace(/ss/g,s(r)).replace(/s/g,r)}var Ge={name:\"ChatCalendarEvent\",components:{Calendar:he[\"Calendar\"],Clock:he[\"Clock\"],Location:he[\"Location\"],InfoFilled:he[\"InfoFilled\"]},props:{messageId:{type:Number,required:!0},eventData:{type:Object,required:!0}},emits:[\"calendar-event-added\",\"calendar-event-hidden\"],setup(e,{emit:t}){const a=Object(l[\"ref\"])(!1),o=Object(l[\"ref\"])(!1),{eventData:c}=Object(l[\"toRefs\"])(e),n=Object(l[\"reactive\"])({title:\"\",start:\"\",end:\"\",location:\"\",type:\"blue\",reminder:\"30min\",description:\"\",is_all_day:!1}),r=()=>{c.value&&(n.title=c.value.title||\"\",n.start=s(c.value.start),n.end=s(c.value.end),n.location=c.value.location||\"\",n.type=c.value.type||\"blue\",n.reminder=c.value.reminder||\"30min\",n.description=c.value.description||\"\",n.is_all_day=c.value.is_all_day||!1)},s=e=>{if(!e)return\"\";try{const t=new Date(e);return Le(t,\"YYYY-MM-DD HH:mm:ss\")}catch(t){return\"\"}},i=()=>{r(),o.value=!0},d=async()=>{try{await ke(e.messageId),a.value=!0,ve[\"a\"].success(\"\"),t(\"calendar-event-added\")}catch(c){var l,o;ve[\"a\"].error(\"\"+((null===(l=c.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.error)||c.message))}},u=async()=>{try{await ke(e.messageId,n),a.value=!0,o.value=!1,ve[\"a\"].success(\"\"),t(\"calendar-event-added\")}catch(r){var l,c;ve[\"a\"].error(\"\"+((null===(l=r.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.error)||r.message))}},m=()=>{t(\"calendar-event-hidden\")},b=(e,t)=>{if(!e)return\"\";try{const a=new Date(e),l=t?new Date(t):null,o=Le(a,\"YYYYMMDD HH:mm\");return l?a.toDateString()===l.toDateString()?`${Le(a,\"YYYYMMDD HH:mm\")} - ${Le(l,\"HH:mm\")}`:`${Le(a,\"YYYYMMDD HH:mm\")} - ${Le(l,\"YYYYMMDD HH:mm\")}`:o}catch(a){return\"\"}};return{calendarEventAdded:a,detailsVisible:o,editableEvent:n,showDetails:i,addToCalendar:d,addToCalendarWithEdits:u,hideCalendarEvent:m,formatDateRange:b}}},Ke=(a(\"df38\"),a(\"6b0d\")),We=a.n(Ke);const qe=We()(Ge,[[\"render\",Re],[\"__scopeId\",\"data-v-c8fe79b0\"]]);var Je=qe,Qe=a(\"48cf\"),Xe={name:\"Chat\",components:{ChatCalendarEvent:Je},setup(){const e=Object(je[\"b\"])(),t=Object(l[\"computed\"])(()=>e.getters.user),a=Object(l[\"ref\"])(null),o=Object(l[\"ref\"])(\"\"),c=Object(l[\"ref\"])(0),n=Object(l[\"ref\"])(null),r=Object(l[\"ref\"])(\"\"),s=Object(l[\"ref\"])(null),i=Object(l[\"ref\"])(null),d=Object(l[\"ref\"])(null),u=Object(l[\"ref\"])([]),m=Object(l[\"ref\"])(!1),b=Object(l[\"ref\"])([]),p=Object(l[\"ref\"])(null),O=Object(l[\"ref\"])(!1),j=Object(l[\"ref\"])(!1),v=Object(l[\"ref\"])([]),g=Object(l[\"ref\"])(null),h=Object(l[\"ref\"])([\"\",\"\"]),f=Object(l[\"ref\"])([]),_=Object(l[\"ref\"])([]),V=Object(l[\"computed\"])(()=>null===n.value?{}:f.value.find(e=>e.id===n.value)||{}),y=Object(l[\"computed\"])(()=>{var e;return(null===(e=a.value)||void 0===e?void 0:e.id)||null}),C=Object(l[\"computed\"])(()=>o.value?f.value.filter(e=>e.name.toLowerCase().includes(o.value.toLowerCase())):f.value),w=Object(l[\"computed\"])(()=>0===c.value?C.value:1===c.value?C.value.filter(e=>!e.isGroup):C.value),N=Object(l[\"computed\"])(()=>{const e=new Map;C.value.filter(e=>!e.isGroup).forEach(t=>{a.value&&t.userId===a.value.id||e.set(t.userId||t.id,t)}),_.value.forEach(t=>{if((!a.value||t.id!==a.value.id)&&!e.has(t.id)){const a={id:\"user_\"+t.id,userId:t.id,name:((t.first_name||\"\")+\" \"+(t.last_name||\"\")).trim()||t.username||\"\",initial:(t.first_name||t.username||\"\")[0],avatar:t.avatar||\"\",color:W(t.id),status:\"online\",lastMessage:\"\",lastTime:\"\",unread:0,isGroup:!1,department:t.department||\"\"};e.set(t.id,a)}});const t={};return Array.from(e.values()).forEach(e=>{const a=e.department||\"\";t[a]||(t[a]=[]),t[a].push(e)}),t}),k=Object(De[\"c\"])();let E=null;Object(l[\"onBeforeUnmount\"])(()=>{E&&clearInterval(E)}),Object(l[\"onMounted\"])(async()=>{try{const e=await D();if(!e)return void ve[\"a\"].error(\"\");if(console.log(\":\",e),!a.value||!a.value.id)return console.error(\":\",a.value),void ve[\"a\"].error(\"\");console.log(\":\",a.value),await ee(),await B();const t=k.query.session||k.query.id;if(t){const e=f.value.find(e=>e.id===parseInt(t));e?(n.value=e.id,await x(t)):(console.log(\"ID:\",t),await x(t))}E=setInterval(async()=>{n.value&&await x(n.value),await B()},3e4),await Object(l[\"nextTick\"])(),I()}catch(e){console.error(\":\",e),ve[\"a\"].error(\": \"+e.message)}});const D=async()=>{try{console.log(\"...\");const e=localStorage.getItem(\"token\");if(!e)return console.warn(\"token\"),ve[\"a\"].warning(\"\"),null;const t=await Object(fe[\"a\"])({url:\"/api/auth/users/me/\",method:\"get\"});console.log(\":\",t);let l=null;if(t.data&&t.data.id)l=t.data,console.log(\"data:\",l);else if(t.data&&t.data.data&&t.data.data.id)l=t.data.data,console.log(\"data:\",l);else{if(!t.id)throw console.error(\":\",t),new Error(\"\");l=t,console.log(\":\",l)}if(!l||!l.id)throw console.error(\":\",l),new Error(\"\");return a.value=l,localStorage.setItem(\"user\",JSON.stringify(l)),console.log(\":\",a.value),l}catch(e){return console.error(\":\",e),ve[\"a\"].error(\": \"+(e.message||\"\")),null}},B=async()=>{try{m.value=!0,console.log(\"...\");const e=await _e();if(console.log(\":\",e),!e)return console.error(\"\"),void(f.value=[]);let t;e.success&&e.data?(t=e.data,console.log(\":\",t)):(t=e,console.log(\":\",t)),b.value=t,t&&Array.isArray(t.results)?(console.log(\", :\",t.results.length),f.value=t.results.map(e=>{let t=null;if(e.participants&&Array.isArray(e.participants)&&(t=a.value&&a.value.id?e.participants.find(e=>e.user&&e.user.id!==a.value.id):e.participants[0]),e.is_group)return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:W(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?q(e.last_message.created_at):q(e.updated_at),unread:e.unread_count,isGroup:!0};if(t){const a=t.user;let l=\"\";if(a.avatar){const e=a.avatar;l=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}return{id:e.id,userId:a.id,name:((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\",initial:(a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:l,color:W(a.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?q(e.last_message.created_at):q(e.updated_at),unread:e.unread_count,isGroup:!1,department:a.department}}return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:W(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?q(e.last_message.created_at):q(e.updated_at),unread:e.unread_count,isGroup:e.is_group}})):t&&Array.isArray(t)?(console.log(\", :\",t.length),f.value=t.map(e=>{let t=null;if(e.participants&&Array.isArray(e.participants)&&(t=a.value&&a.value.id?e.participants.find(e=>e.user&&e.user.id!==a.value.id):e.participants[0]),e.is_group)return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:W(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?q(e.last_message.created_at):q(e.updated_at),unread:e.unread_count,isGroup:!0};if(t){const a=t.user;let l=\"\";if(a.avatar){const e=a.avatar;l=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}return{id:e.id,name:((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\",initial:(a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:l,color:W(a.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?q(e.last_message.created_at):q(e.updated_at),unread:e.unread_count,isGroup:!1}}return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:W(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?q(e.last_message.created_at):q(e.updated_at),unread:e.unread_count,isGroup:e.is_group}})):(console.error(\":\",t),f.value=[]),console.log(\":\",f.value),f.value.length>0&&f.value.sort((e,t)=>t.unread-e.unread)}catch(e){console.error(\":\",e),ve[\"a\"].error(\": \"+(e.message||\"\")),f.value=[]}finally{m.value=!1}},x=async e=>{if(e)try{m.value=!0,console.log(` ${e} ...`);const o=await Ve(e);if(console.log(\":\",o),!o)return console.error(\"\"),void(u.value=[]);let c=[],r=null;if(o.data&&o.data.messages)c=o.data.messages,r=o.data,console.log(\":\",c.length);else if(o.data&&o.data.data&&o.data.data.messages)c=o.data.data.messages,r=o.data.data,console.log(\":\",c.length);else if(o.messages)c=o.messages,r=o,console.log(\":\",c.length);else{console.warn(\":\",o),console.log(\"...\");const e=[\"message\",\"chat_messages\",\"chats\",\"content\"];for(const t of e){if(o[t]&&Array.isArray(o[t])){console.log(` ${t}`),c=o[t],r=o;break}if(o.data&&o.data[t]&&Array.isArray(o.data[t])){console.log(`data ${t}`),c=o.data[t],r=o.data;break}}0===c.length&&console.warn(\"\")}if(c.forEach(e=>{if(e.sender&&e.sender.avatar){const t=e.sender.avatar;t.startsWith(\"http://\")||t.startsWith(\"https://\")?e.sender.avatar_url=t:t.startsWith(\"/\")?e.sender.avatar_url=`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${t}`:e.sender.avatar_url=`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${t}`}}),console.log(\":\",r),console.log(\":\",c),r&&!f.value.some(t=>t.id===parseInt(e))){console.log(\":\",r);const t=r;let l=null;t.participants&&Array.isArray(t.participants)&&t.participants.length>0&&a.value&&(l=t.participants.find(e=>e.user&&e.user.id!==a.value.id));let o=null;if(t.is_group)o={id:parseInt(e),name:t.title||\"\",initial:(t.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:W(parseInt(e)),status:\"online\",lastMessage:t.last_message?t.last_message.content:\"\",lastTime:q(t.updated_at),unread:0,isGroup:!0};else if(l&&l.user){const a=l.user;let c=\"\";if(a.avatar){const e=a.avatar;c=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}o={id:parseInt(e),name:((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\",initial:(a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:c,color:W(a.id),status:\"online\",lastMessage:t.last_message?t.last_message.content:\"\",lastTime:q(t.updated_at),unread:0,isGroup:!1}}else o={id:parseInt(e),name:t.title||\"\",initial:(t.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:W(parseInt(e)),status:\"online\",lastMessage:\"\",lastTime:q(t.updated_at),unread:0,isGroup:t.is_group};o&&(f.value.unshift(o),console.log(\":\",o))}u.value=c||[],p.value=parseInt(e),n.value=parseInt(e);try{const t=await Object(fe[\"a\"])({url:\"/api/ai/documents/\",method:\"get\",params:{chat:e}});t&&t.data&&Array.isArray(t.data.results)&&(oe.value=t.data.results.map(e=>e.id),console.log(\"ID:\",oe.value))}catch(t){oe.value=[]}Object(l[\"nextTick\"])(()=>{I()})}catch(o){console.error(\":\",o);let e=\"\";if(o.response){const t=o.response.status;404===t?e=\"\":403===t?e=\"\":o.response.data&&o.response.data.message&&(e=o.response.data.message)}else o.message&&(e=o.message);ve[\"a\"].error(e),u.value=[]}finally{m.value=!1}else console.error(\": chatId\")},S=async()=>{if(await ee(),await B(),p.value){const e=f.value.find(e=>e.id===p.value);e&&(n.value=e.id)}},I=()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)},A=async e=>{if(!e.isGroup&&a.value&&e.userId===a.value.id)return void ve[\"a\"].warning(\"\");console.log(\":\",e);let t=e.id;if(\"string\"===typeof t&&t.startsWith(\"user_\")){let a=e.userId||e.id.replace(\"user_\",\"\");console.log(\":\",a);const l=f.value.find(e=>!e.isGroup&&(e.userId&&e.userId==a||e.user&&e.user.id==a));if(l)console.log(\":\",l),t=l.id;else{console.log(\"\");try{const l=await Object(fe[\"a\"])({url:\"/api/chat/sessions/\",method:\"post\",data:{participant_ids:[a],is_group:!1}});console.log(\":\",l);let o=null;if(l&&l.data?o=l.data:l&&l.id&&(o=l),!o||!o.id)throw new Error(\"\");{const l={id:o.id,userId:a,name:e.name,initial:e.initial,avatar:e.avatar,avatar_url:e.avatar_url||\"\",color:e.color||W(a),status:\"online\",lastMessage:\"\",lastTime:q(new Date),unread:0,isGroup:!1,department:e.department};f.value.unshift(l),t=o.id,ve[\"a\"].success(\"\")}}catch(o){return console.error(\":\",o),void ve[\"a\"].error(\": \"+(o.message||\"\"))}}}n.value=t,r.value=\"\",u.value=[];try{await x(t),Object(l[\"nextTick\"])(()=>{I()})}catch(o){console.error(\":\",o),ve[\"a\"].error(\"\"+(o.message||\"\"))}};Object(l[\"watch\"])(u,()=>{Object(l[\"nextTick\"])(()=>{I()})});const T=async()=>{if(r.value.trim()&&p.value)try{if(console.log(\"IDs:\",oe.value),!a.value||!a.value.id){const e=await D();if(!e||!e.id)throw new Error(\"\")}const e={id:\"temp-\"+Date.now(),content:r.value.trim(),sender:{id:a.value.id,username:a.value.username||\"\",first_name:a.value.first_name||\"\",last_name:a.value.last_name||\"\"},message_type:\"text\",created_at:(new Date).toISOString(),is_temp:!0};u.value.push(e);const t=r.value;let o,c;if(r.value=\"\",await Object(l[\"nextTick\"])(),I(),oe.value&&oe.value.length>0){o=await Object(Qe[\"a\"])({message:t,chat_id:p.value,document_ids:oe.value});let a=\"\";if(o&&\"string\"===typeof o.data?a=o.data:o&&o.data&&o.data.message&&(a=o.data.message),a){c={id:\"ai-\"+Date.now(),content:a,sender:{id:0,username:\"AI\"},message_type:\"text\",created_at:(new Date).toISOString()};const t=u.value.findIndex(t=>t.id===e.id);-1!==t?u.value.splice(t,1,c):u.value.push(c)}}else{o=await ye({chat:p.value,content:t});let l=null;o&&o.success&&o.data?l=o.data:o&&o.id?l=o:o&&o.chat&&(l={id:o.id||\"msg-\"+Date.now(),content:o.content,message_type:o.message_type,file:o.file,created_at:o.created_at||(new Date).toISOString(),sender:{id:a.value.id,username:a.value.username||\"\",first_name:a.value.first_name||\"\",last_name:a.value.last_name||\"\"}});const c=u.value.findIndex(t=>t.id===e.id);-1!==c&&l?u.value.splice(c,1,l):l&&u.value.push(l)}await Object(l[\"nextTick\"])(),I()}catch(e){console.error(\":\",e),u.value=u.value.filter(e=>!e.is_temp),r.value=e.savedMessage||r.value,ve[\"a\"].error(\"\")}},M=()=>{i.value.click()},P=()=>{d.value.click()},U=async e=>{const t=e.target.files[0];if(t&&p.value)try{const a=new FormData;a.append(\"file\",t),a.append(\"chat\",p.value),await Object(fe[\"a\"])({url:\"/api/ai/documents/upload/\",method:\"post\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}});const l=await Object(fe[\"a\"])({url:\"/api/ai/documents/\",method:\"get\",params:{chat:p.value}});l&&l.data&&Array.isArray(l.data.results)&&(oe.value=l.data.results.map(e=>e.id),console.log(\"IDs:\",oe.value),ve[\"a\"].success(\"\")),x(p.value),e.target.value=\"\"}catch(a){console.error(\":\",a),ve[\"a\"].error(\"\")}},$=async e=>{const t=e.target.files[0];if(t&&p.value)try{await Ce(p.value,\"\",t),x(p.value),e.target.value=\"\"}catch(a){console.error(\":\",a),ve[\"a\"].error(\"\")}},Y=async()=>{O.value=!0,await F()},F=async()=>{try{j.value=!0;const{data:e}=await Object(Ee[\"j\"])();v.value=e}catch(e){console.error(\":\",e),ve[\"a\"].error(\"\")}finally{j.value=!1}},z=e=>{g.value=e},H=async e=>{if(p.value)try{await we(p.value,\": \"+e.title,e.id),O.value=!1,x(p.value)}catch(t){console.error(\":\",t),ve[\"a\"].error(\"\")}},R=async e=>{try{const t=await Ne(e.id),a=window.URL.createObjectURL(new Blob([t.data])),l=document.createElement(\"a\");l.href=a,l.setAttribute(\"download\",e.file_name||\"download\"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(t){console.error(\":\",t),ve[\"a\"].error(\"\")}},L=e=>{e.knowledge_detail&&ge[\"a\"].alert(`: ${e.knowledge_detail.title}<br>: ${e.knowledge_detail.description||\"\"}`,\"\",{dangerouslyUseHTMLString:!0,confirmButtonText:\"\"})},G=e=>W(e.id),K=e=>(e.first_name||e.username)[0],W=e=>{const t=[\"#007bff\",\"#28a745\",\"#dc3545\",\"#fd7e14\",\"#6f42c1\",\"#20c997\",\"#17a2b8\",\"#6c757d\"],a=\"number\"===typeof e?e%t.length:0;return t[a]},q=e=>{if(!e)return\"\";const t=new Date(e),a=new Date,l=a-t;if(l<864e5){const e=t.getHours().toString().padStart(2,\"0\"),a=t.getMinutes().toString().padStart(2,\"0\");return`${e}:${a}`}if(l<6048e5){const e=[\"\",\"\",\"\",\"\",\"\",\"\",\"\"];return e[t.getDay()]}return`${t.getMonth()+1}${t.getDate()}`},J=e=>{if(!e)return\"\";const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,\"0\")}-${t.getDate().toString().padStart(2,\"0\")}`},Q=e=>e<1024?e+\" KB\":(e/1024).toFixed(2)+\" MB\",X=e=>{const t={online:\"\",offline:\"\",busy:\"\",away:\"\"};return t[e]||e},Z=async()=>{try{ve[\"a\"].info(\"...\");const e=await D();if(!e)return void ve[\"a\"].error(\"\");await B(),0===f.value.length?ve[\"a\"].warning(\"\"):ve[\"a\"].success(\" \"+f.value.length+\" \")}catch(e){console.error(\":\",e),ve[\"a\"].error(\": \"+(e.message||\"\"))}},ee=async()=>{try{console.log(\"...\");try{console.log(\"...\");const e=await Object(fe[\"a\"])({url:\"/api/auth/users/\",method:\"get\"});console.log(\"API:\",e);let t=[];if(e&&e.results?t=e.results:Array.isArray(e)?t=e:e&&e.data&&(Array.isArray(e.data)?t=e.data:e.data.results&&(t=e.data.results)),t&&t.length>0)return console.log(`${t.length}`),void(_.value=t)}catch(e){console.error(\":\",e)}console.warn(\"API\"),_.value=[{id:1,username:\"zhangsan\",first_name:\"\",last_name:\"\",department:\"\",avatar:\"\"},{id:2,username:\"lisi\",first_name:\"\",last_name:\"\",department:\"\",avatar:\"\"},{id:3,username:\"wangwu\",first_name:\"\",last_name:\"\",department:\"\",avatar:\"\"},{id:4,username:\"zhaoliu\",first_name:\"\",last_name:\"\",department:\"\",avatar:\"\"}],console.log(\"\")}catch(e){console.error(\":\",e),_.value=[{id:1,username:\"user1\",first_name:\"\",last_name:\"1\",department:\"\"},{id:2,username:\"user2\",first_name:\"\",last_name:\"2\",department:\"\"},{id:3,username:\"user3\",first_name:\"\",last_name:\"3\",department:\"\"},{id:4,username:\"user4\",first_name:\"\",last_name:\"4\",department:\"\"}]}},te=Object(l[\"ref\"])([]),ae=()=>{},le=e=>{te.value.push(e)},oe=Object(l[\"ref\"])([]);return{searchQuery:o,activeTab:c,selectedContact:n,tabs:h,contacts:f,currentContact:V,filteredContacts:C,messages:u,messageInput:r,messageContainer:s,fileInput:i,imageInput:d,currentUser:t,userInfo:a,userId:y,knowledgeDialogVisible:O,knowledgeLoading:j,knowledgeList:v,loading:m,Search:he[\"Search\"],Phone:he[\"Phone\"],VideoCamera:he[\"VideoCamera\"],InfoFilled:he[\"InfoFilled\"],Document:he[\"Document\"],PictureFilled:he[\"PictureFilled\"],FolderOpened:he[\"FolderOpened\"],Microphone:he[\"Microphone\"],Position:he[\"Position\"],ChatDotSquare:he[\"ChatDotSquare\"],Reading:he[\"Reading\"],UserFilled:he[\"UserFilled\"],ChatLineSquare:he[\"ChatLineSquare\"],Refresh:he[\"Refresh\"],MoreFilled:he[\"MoreFilled\"],sendMessage:T,getStatusText:X,selectContact:A,openFileUpload:M,openImageUpload:P,handleFileUpload:U,handleImageUpload:$,openKnowledgeDialog:Y,selectKnowledge:z,shareKnowledge:H,downloadFile:R,viewKnowledge:L,getSenderColor:G,getSenderInitial:K,formatMessageTime:q,formatDate:J,formatFileSize:Q,refreshChatSessions:S,forceRefresh:Z,groupedUsersByDepartment:N,getActiveContacts:w,loadAllUsers:ee,hiddenCalendarEvents:te,handleCalendarEventAdded:ae,handleCalendarEventHidden:le,selectedDocumentIds:oe}}};a(\"1b61\");const Ze=We()(Xe,[[\"render\",Oe],[\"__scopeId\",\"data-v-3fbd6060\"]]);t[\"default\"]=Ze},\"1b61\":function(e,t,a){\"use strict\";a(\"c728\")},\"271a\":function(e,t,a){\"use strict\";var l=a(\"cb2d\"),o=a(\"e330\"),c=a(\"577e\"),n=a(\"d6d6\"),r=URLSearchParams,s=r.prototype,i=o(s.getAll),d=o(s.has),u=new r(\"a=1\");!u.has(\"a\",2)&&u.has(\"a\",void 0)||l(s,\"has\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var l=i(this,e);n(t,1);var o=c(a),r=0;while(r<l.length)if(l[r++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},\"48cf\":function(e,t,a){\"use strict\";a.d(t,\"e\",(function(){return o})),a.d(t,\"f\",(function(){return c})),a.d(t,\"a\",(function(){return n})),a.d(t,\"b\",(function(){return r})),a.d(t,\"d\",(function(){return s})),a.d(t,\"c\",(function(){return i}));a(\"d9e2\");var l=a(\"b775\");function o(){return Object(l[\"a\"])({url:\"/api/ai/schedule-reminder/\",method:\"get\"})}function c(e){return Object(l[\"a\"])({url:`/api/ai/recommendations/${e}/mark_as_read/`,method:\"post\"})}function n(e){return Object(l[\"a\"])({url:\"/api/ai/chat-with-documents/\",method:\"post\",data:e,responseType:\"text\"})}function r(e,t,a,l){const o=new AbortController,c=o.signal,n=localStorage.getItem(\"token\"),r={\"Content-Type\":\"application/json\"};return n&&(r[\"Authorization\"]=\"Bearer \"+n),fetch(\"http://localhost:8000/api/ai/chat-with-documents/\",{method:\"POST\",headers:r,body:JSON.stringify(e),signal:c}).then(e=>{if(!e.ok)throw new Error(\"HTTP error! Status: \"+e.status);const o=e.headers.get(\"X-Chat-ID\"),c=e.body.getReader(),n=new TextDecoder;function r(){c.read().then(({done:e,value:l})=>{if(e)return void(a&&a(o));let c=n.decode(l,{stream:!0});const s=\"__CHAT_ID__\";if(c.includes(s)){const e=c.split(s),l=e[0];l&&t&&t(l,o);const n=e[1];if(n)try{const e=JSON.parse(n);if(e.chat_id){const t=e.chat_id.toString();return void(a&&a(t))}}catch(i){console.error(\"chat_id JSON\",i)}}else t&&t(c,o);r()}).catch(e=>{l&&l(e)})}r()}).catch(e=>{\"AbortError\"!==e.name&&l&&l(e)}),o}function s(){return Object(l[\"a\"])({url:\"/api/ai/chats/\",method:\"get\"})}function i(e){return Object(l[\"a\"])({url:`/api/ai/chats/${e}/`,method:\"get\"})}},5494:function(e,t,a){\"use strict\";var l=a(\"83ab\"),o=a(\"e330\"),c=a(\"edd0\"),n=URLSearchParams.prototype,r=o(n.forEach);l&&!(\"size\"in n)&&c(n,\"size\",{get:function(){var e=0;return r(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7232:function(e,t,a){},\"88a7\":function(e,t,a){\"use strict\";var l=a(\"cb2d\"),o=a(\"e330\"),c=a(\"577e\"),n=a(\"d6d6\"),r=URLSearchParams,s=r.prototype,i=o(s.append),d=o(s[\"delete\"]),u=o(s.forEach),m=o([].push),b=new r(\"a=1&a=2&b=3\");b[\"delete\"](\"a\",1),b[\"delete\"](\"b\",void 0),b+\"\"!==\"a=2\"&&l(s,\"delete\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var l=[];u(this,(function(e,t){m(l,{key:t,value:e})})),n(t,1);var o,r=c(e),s=c(a),b=0,p=0,O=!1,j=l.length;while(b<j)o=l[b++],O||o.key===r?(O=!0,d(this,o.key)):p++;while(p<j)o=l[p++],o.key===r&&o.value===s||i(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},\"910d\":function(e,t,a){\"use strict\";var l=a(\"23e7\"),o=a(\"c65b\"),c=a(\"59ed\"),n=a(\"825a\"),r=a(\"46c4\"),s=a(\"c5cc\"),i=a(\"9bdd\"),d=a(\"c430\"),u=a(\"2a62\"),m=a(\"f99f\"),b=!d&&m(\"filter\",TypeError),p=s((function(){var e,t,a,l=this.iterator,c=this.predicate,r=this.next;while(1){if(e=n(o(r,l)),t=this.done=!!e.done,t)return;if(a=e.value,i(l,c,[a,this.counter++],!0))return a}}));l({target:\"Iterator\",proto:!0,real:!0,forced:d||b},{filter:function(e){n(this);try{c(e)}catch(t){u(this,\"throw\",t)}return b?o(b,this,e):new p(r(this),{predicate:e})}})},c728:function(e,t,a){},d6d6:function(e,t,a){\"use strict\";var l=TypeError;e.exports=function(e,t){if(e<t)throw new l(\"Not enough arguments\");return e}},db6a:function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return c})),a.d(t,\"a\",(function(){return n})),a.d(t,\"k\",(function(){return r})),a.d(t,\"c\",(function(){return s})),a.d(t,\"h\",(function(){return i})),a.d(t,\"l\",(function(){return d})),a.d(t,\"d\",(function(){return u})),a.d(t,\"e\",(function(){return m})),a.d(t,\"g\",(function(){return b})),a.d(t,\"b\",(function(){return p})),a.d(t,\"i\",(function(){return O})),a.d(t,\"j\",(function(){return j}));a(\"d9e2\");var l=a(\"b775\");const o=\"/api/knowledge\";function c(){return console.log(\"getCategories API\"),Object(l[\"a\"])({url:o+\"/categories/\",method:\"get\"}).then(e=>{if(console.log(\"getCategories API:\",e),!e)return console.warn(\"getCategories\"),[];if(Array.isArray(e))return e;if(e.results&&Array.isArray(e.results))return e.results;if(e.data&&Array.isArray(e.data))return e.data;if(\"object\"===typeof e)for(const t of[\"items\",\"categories\",\"list\"])if(e[t]&&Array.isArray(e[t]))return e[t];return console.warn(\":\",e),[]}).catch(e=>(console.error(\"getCategories API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),[]))}function n(e){return Object(l[\"a\"])({url:o+\"/categories/\",method:\"post\",data:e})}function r(e,t){return Object(l[\"a\"])({url:`${o}/categories/${e}/`,method:\"put\",data:t})}function s(e){return Object(l[\"a\"])({url:`${o}/categories/${e}/`,method:\"delete\"})}function i(e){return console.log(\"getDocuments API:\",o+\"/documents/\",\":\",e),Object(l[\"a\"])({url:o+\"/documents/\",method:\"get\",params:e}).then(e=>(console.log(\"getDocuments API:\",e),e)).catch(e=>{throw console.error(\"getDocuments API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function d(e){if(console.log(\"...\",e),e instanceof FormData){const t=e.get(\"file\");if(!t)return console.warn(\"FormData!\"),Promise.reject(new Error(\"\"));if(console.log(\"FormData:\",{name:t.name,size:t.size,type:t.type,lastModified:t.lastModified}),!t.size||0===t.size)return Promise.reject(new Error(\"0\"))}return Object(l[\"a\"])({url:o+\"/documents/\",method:\"post\",data:e,timeout:12e4,headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log(`: ${t}%`)}}).then(e=>(console.log(\":\",e),e)).catch(e=>{throw console.error(\":\",e),e.response?(console.error(\":\",e.response.status),console.error(\":\",e.response.data),413===e.response.status?e.message=\"\":400===e.response.status?e.message=\": \"+JSON.stringify(e.response.data):401===e.response.status?e.message=\"\":500===e.response.status&&(e.message=\"\")):e.request&&(console.error(\":\",e.request),\"ECONNABORTED\"===e.code?e.message=\"\":e.message=\"\"),e})}function u(e){console.log(\">>> deleteDocument function entered for ID:\",e);const t={url:`${o}/documents/${e}/`,method:\"delete\"};return console.log(\">>> deleteDocument - Request config prepared:\",t),Object(l[\"a\"])(t).then(e=>(console.log(\"deleteDocument API:\",e),e)).catch(e=>{throw console.error(\"deleteDocument API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function m(e){return Object(l[\"a\"])({url:`${o}/documents/${e}/`,method:\"get\",responseType:\"blob\"})}function b(e){return Object(l[\"a\"])({url:`${o}/documents/${e}/chunks/`,method:\"get\"})}function p(){return console.log(\"buildKnowledgeBase API\"),Object(l[\"a\"])({url:o+\"/build/\",method:\"post\"}).then(e=>(console.log(\"buildKnowledgeBase API:\",e),e)).catch(e=>{throw console.error(\"buildKnowledgeBase API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function O(){return Object(l[\"a\"])({url:o+\"/build/status/\",method:\"get\"})}function j(){return Object(l[\"a\"])({url:o+\"/list/\",method:\"get\"})}},df38:function(e,t,a){\"use strict\";a(\"7232\")},f665:function(e,t,a){\"use strict\";var l=a(\"23e7\"),o=a(\"c65b\"),c=a(\"2266\"),n=a(\"59ed\"),r=a(\"825a\"),s=a(\"46c4\"),i=a(\"2a62\"),d=a(\"f99f\"),u=d(\"find\",TypeError);l({target:\"Iterator\",proto:!0,real:!0,forced:u},{find:function(e){r(this);try{n(e)}catch(l){i(this,\"throw\",l)}if(u)return o(u,this,e);var t=s(this),a=0;return c(t,(function(t,l){if(e(t,a++))return l(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);","extractedComments":[]}