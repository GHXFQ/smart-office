{"map":"{\"version\":3,\"sources\":[\"js/chunk-55cba368.761e0e64.js\"],\"names\":[\"window\",\"push\",\"0193\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"0fd2\",\"exports\",\"21c1\",\"271a\",\"defineBuiltIn\",\"uncurryThis\",\"toString\",\"validateArgumentsLength\",\"$URLSearchParams\",\"URLSearchParams\",\"URLSearchParamsPrototype\",\"prototype\",\"getAll\",\"$has\",\"has\",\"params\",\"undefined\",\"name\",\"length\",\"arguments\",\"$value\",\"this\",\"values\",\"value\",\"index\",\"enumerable\",\"unsafe\",\"28bb\",\"3bee\",\"48cf\",\"d\",\"getScheduleReminders\",\"markScheduleReminderAsRead\",\"aiChatWithDocuments\",\"aiChatWithDocumentsStream\",\"getAIChatSessions\",\"getAIChatSession\",\"_utils_request__WEBPACK_IMPORTED_MODULE_1__\",\"Object\",\"url\",\"method\",\"id\",\"data\",\"responseType\",\"onChunk\",\"onComplete\",\"onError\",\"controller\",\"AbortController\",\"signal\",\"token\",\"localStorage\",\"getItem\",\"headers\",\"Content-Type\",\"fetch\",\"body\",\"JSON\",\"stringify\",\"then\",\"response\",\"ok\",\"Error\",\"status\",\"chatId\",\"get\",\"reader\",\"getReader\",\"decoder\",\"TextDecoder\",\"readStream\",\"read\",\"done\",\"chunk\",\"decode\",\"stream\",\"chatIdMarker\",\"includes\",\"parts\",\"split\",\"normalChunk\",\"jsonStr\",\"parsed\",\"parse\",\"chat_id\",\"finalChatId\",\"e\",\"console\",\"error\",\"catch\",\"5494\",\"DESCRIPTORS\",\"defineBuiltInAccessor\",\"forEach\",\"count\",\"configurable\",\"5f23\",\"6ca1\",\"88a7\",\"append\",\"$delete\",\"entries\",\"v\",\"k\",\"key\",\"entry\",\"dindex\",\"found\",\"entriesLength\",\"910d\",\"$\",\"call\",\"aCallable\",\"anObject\",\"getIteratorDirect\",\"createIteratorProxy\",\"callWithSafeIterationClosing\",\"IS_PURE\",\"iteratorClose\",\"iteratorHelperWithoutClosingOnEarlyError\",\"filterWithoutClosingOnEarlyError\",\"TypeError\",\"IteratorProxy\",\"result\",\"iterator\",\"predicate\",\"next\",\"counter\",\"target\",\"proto\",\"real\",\"forced\",\"filter\",\"bb79\",\"cd59\",\"r\",\"vue_runtime_esm_bundler\",\"_hoisted_1\",\"class\",\"_hoisted_2\",\"_hoisted_3\",\"_hoisted_4\",\"_hoisted_5\",\"ref\",\"_hoisted_6\",\"_hoisted_7\",\"_hoisted_8\",\"_hoisted_9\",\"viewBox\",\"width\",\"height\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"_hoisted_13\",\"_hoisted_14\",\"_hoisted_15\",\"_hoisted_16\",\"_hoisted_17\",\"_hoisted_18\",\"src\",\"_hoisted_19\",\"_hoisted_20\",\"_hoisted_21\",\"_hoisted_22\",\"_hoisted_23\",\"_hoisted_24\",\"_hoisted_25\",\"_hoisted_26\",\"_hoisted_27\",\"_hoisted_28\",\"_hoisted_29\",\"_hoisted_30\",\"_hoisted_31\",\"_hoisted_32\",\"_hoisted_33\",\"_hoisted_34\",\"_hoisted_35\",\"_hoisted_36\",\"_hoisted_37\",\"_hoisted_38\",\"_hoisted_39\",\"_hoisted_40\",\"_hoisted_41\",\"_hoisted_42\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"_component_Delete\",\"_component_el_icon\",\"_component_el_button\",\"_component_DataAnalysis\",\"_component_Cpu\",\"_component_Document\",\"_component_MagicStick\",\"_component_el_radio_button\",\"_component_el_radio_group\",\"_component_Expand\",\"_component_Fold\",\"_component_ChatLineSquare\",\"_component_el_progress\",\"_component_Check\",\"_component_Close\",\"_component_UploadFilled\",\"_component_el_tooltip\",\"_component_el_input\",\"type\",\"size\",\"onClick\",\"clearChat\",\"default\",\"_\",\"messages\",\"msg\",\"idx\",\"role\",\"cx\",\"cy\",\"fill\",\"x\",\"y\",\"text-anchor\",\"font-size\",\"font-family\",\"dy\",\"userAvatarUrl\",\"alt\",\"args\",\"handleAvatarError\",\"content\",\"innerHTML\",\"streaming\",\"source\",\"files\",\"file\",\"ext\",\"toUpperCase\",\"collapsed\",\"rightPanelCollapsed\",\"modelValue\",\"chatMode\",\"onUpdate:modelValue\",\"$event\",\"label\",\"circle\",\"title\",\"chatSessions\",\"session\",\"active\",\"switchChatSession\",\"formatTime\",\"created_at\",\"selectedFiles\",\"startsWith\",\"style\",\"background\",\"bg\",\"percentage\",\"progress\",\"stroke-width\",\"removeFile\",\"display\",\"onChange\",\"handleFileUpload\",\"multiple\",\"accept\",\"placement\",\"popper-class\",\"open-delay\",\"triggerFileInput\",\"disabled\",\"loading\",\"input\",\"placeholder\",\"onKeyup\",\"sendMsg\",\"processingFiles\",\"searchMethod\",\"dist\",\"request\",\"marked_umd\",\"tooltip\",\"message\",\"ai\",\"formatSize\",\"toFixed\",\"getExt\",\"arr\",\"toLowerCase\",\"getFileLabel\",\"ext_lower\",\"getFileBg\",\"escapeHtml\",\"html\",\"replace\",\"m\",\"&\",\"<\",\">\",\"\\\"\",\"'\",\"dateTimeStr\",\"date\",\"Date\",\"getMonth\",\"getDate\",\"getHours\",\"padStart\",\"getMinutes\",\"Indexvue_type_script_lang_js\",\"components\",\"UploadFilled\",\"Document\",\"Close\",\"Check\",\"Delete\",\"ElTooltip\",\"DataAnalysis\",\"Cpu\",\"MagicStick\",\"ChatLineSquare\",\"Fold\",\"Expand\",\"[object Object]\",\"rawContent\",\"chatBody\",\"fileInput\",\"some\",\"showContextBar\",\"retrievalScope\",\"currentRequestController\",\"fetchChatSessions\",\"async\",\"res\",\"Array\",\"isArray\",\"results\",\"sessionId\",\"map\",\"newChatId\",\"getUserInfo\",\"log\",\"avatarUrl\",\"avatar\",\"findAvatar\",\"obj\",\"baseUrl\",\"location\",\"origin\",\"scrollToBottom\",\"scrollTop\",\"scrollHeight\",\"uploadFileAndGetId\",\"formData\",\"FormData\",\"rawFile\",\"smoothTimer\",\"lastProgress\",\"uploadFinished\",\"onUploadProgress\",\"progressEvent\",\"percentCompleted\",\"Math\",\"round\",\"loaded\",\"total\",\"fakeProgress\",\"setInterval\",\"clearInterval\",\"documentId\",\"pollDocumentStatus\",\"interval\",\"min\",\"setTimeout\",\"trim\",\"warning\",\"abort\",\"userMsg\",\"fileMsg\",\"f\",\"assistantMsg\",\"currentInput\",\"currentDocumentIds\",\"docId\",\"Boolean\",\"requestData\",\"document_ids\",\"search_method\",\"lastMsg\",\"click\",\"allowedTypes\",\"text/plain\",\"application/pdf\",\"application/msword\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\"text/markdown\",\"text/x-markdown\",\"text/csv\",\"application/csv\",\"application/vnd.ms-excel\",\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\"image/jpeg\",\"image/png\",\"image/gif\",\"image/bmp\",\"image/webp\",\"image/svg+xml\",\"image/tiff\",\"supportedFormats\",\"validFiles\",\"hasInvalidFile\",\"validExtensions\",\"from\",\"isValidExtension\",\"now\",\"random\",\"FileReader\",\"onload\",\"ev\",\"readAsDataURL\",\"URL\",\"createObjectURL\",\"warn\",\"info\",\"success\",\"splice\",\"renderer\",\"Renderer\",\"table\",\"header\",\"code\",\"infostring\",\"escaped\",\"codeId\",\"substr\",\"lang\",\"langLabel\",\"langClass\",\"setOptions\",\"breaks\",\"gfm\",\"headerIds\",\"mangle\",\"document\",\"addEventListener\",\"classList\",\"contains\",\"getAttribute\",\"codeElem\",\"getElementById\",\"navigator\",\"clipboard\",\"writeText\",\"innerText\",\"exportHelper\",\"exportHelper_default\",\"n\",\"__exports__\",\"d6d6\",\"$TypeError\",\"passed\",\"required\",\"fa3b\",\"ff55\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-55cba368\"],{\"0193\":function(e,t,a){\"use strict\";a(\"bb79\")},\"0fd2\":function(e,t,a){},\"21c1\":function(e,t,a){\"use strict\";a(\"6ca1\")},\"271a\":function(e,t,a){\"use strict\";var c=a(\"cb2d\"),o=a(\"e330\"),n=a(\"577e\"),l=a(\"d6d6\"),r=URLSearchParams,s=r.prototype,i=o(s.getAll),d=o(s.has),u=new r(\"a=1\");!u.has(\"a\",2)&&u.has(\"a\",void 0)||c(s,\"has\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var c=i(this,e);l(t,1);var o=n(a),r=0;while(r<c.length)if(c[r++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},\"28bb\":function(e,t,a){\"use strict\";a(\"0fd2\")},\"3bee\":function(e,t,a){\"use strict\";a(\"5f23\")},\"48cf\":function(e,t,a){\"use strict\";a.d(t,\"e\",(function(){return o})),a.d(t,\"f\",(function(){return n})),a.d(t,\"a\",(function(){return l})),a.d(t,\"b\",(function(){return r})),a.d(t,\"d\",(function(){return s})),a.d(t,\"c\",(function(){return i}));a(\"d9e2\");var c=a(\"b775\");function o(){return Object(c[\"a\"])({url:\"/api/ai/schedule-reminder/\",method:\"get\"})}function n(e){return Object(c[\"a\"])({url:`/api/ai/recommendations/${e}/mark_as_read/`,method:\"post\"})}function l(e){return Object(c[\"a\"])({url:\"/api/ai/chat-with-documents/\",method:\"post\",data:e,responseType:\"text\"})}function r(e,t,a,c){const o=new AbortController,n=o.signal,l=localStorage.getItem(\"token\"),r={\"Content-Type\":\"application/json\"};return l&&(r[\"Authorization\"]=\"Bearer \"+l),fetch(\"http://localhost:8000/api/ai/chat-with-documents/\",{method:\"POST\",headers:r,body:JSON.stringify(e),signal:n}).then(e=>{if(!e.ok)throw new Error(\"HTTP error! Status: \"+e.status);const o=e.headers.get(\"X-Chat-ID\"),n=e.body.getReader(),l=new TextDecoder;function r(){n.read().then(({done:e,value:c})=>{if(e)return void(a&&a(o));let n=l.decode(c,{stream:!0});const s=\"__CHAT_ID__\";if(n.includes(s)){const e=n.split(s),c=e[0];c&&t&&t(c,o);const l=e[1];if(l)try{const e=JSON.parse(l);if(e.chat_id){const t=e.chat_id.toString();return void(a&&a(t))}}catch(i){console.error(\"解析chat_id JSON失败\",i)}}else t&&t(n,o);r()}).catch(e=>{c&&c(e)})}r()}).catch(e=>{\"AbortError\"!==e.name&&c&&c(e)}),o}function s(){return Object(c[\"a\"])({url:\"/api/ai/chats/\",method:\"get\"})}function i(e){return Object(c[\"a\"])({url:`/api/ai/chats/${e}/`,method:\"get\"})}},5494:function(e,t,a){\"use strict\";var c=a(\"83ab\"),o=a(\"e330\"),n=a(\"edd0\"),l=URLSearchParams.prototype,r=o(l.forEach);c&&!(\"size\"in l)&&n(l,\"size\",{get:function(){var e=0;return r(this,(function(){e++})),e},configurable:!0,enumerable:!0})},\"5f23\":function(e,t,a){},\"6ca1\":function(e,t,a){},\"88a7\":function(e,t,a){\"use strict\";var c=a(\"cb2d\"),o=a(\"e330\"),n=a(\"577e\"),l=a(\"d6d6\"),r=URLSearchParams,s=r.prototype,i=o(s.append),d=o(s[\"delete\"]),u=o(s.forEach),b=o([].push),p=new r(\"a=1&a=2&b=3\");p[\"delete\"](\"a\",1),p[\"delete\"](\"b\",void 0),p+\"\"!==\"a=2\"&&c(s,\"delete\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var c=[];u(this,(function(e,t){b(c,{key:t,value:e})})),l(t,1);var o,r=n(e),s=n(a),p=0,m=0,j=!1,f=c.length;while(p<f)o=c[p++],j||o.key===r?(j=!0,d(this,o.key)):m++;while(m<f)o=c[m++],o.key===r&&o.value===s||i(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},\"910d\":function(e,t,a){\"use strict\";var c=a(\"23e7\"),o=a(\"c65b\"),n=a(\"59ed\"),l=a(\"825a\"),r=a(\"46c4\"),s=a(\"c5cc\"),i=a(\"9bdd\"),d=a(\"c430\"),u=a(\"2a62\"),b=a(\"f99f\"),p=!d&&b(\"filter\",TypeError),m=s((function(){var e,t,a,c=this.iterator,n=this.predicate,r=this.next;while(1){if(e=l(o(r,c)),t=this.done=!!e.done,t)return;if(a=e.value,i(c,n,[a,this.counter++],!0))return a}}));c({target:\"Iterator\",proto:!0,real:!0,forced:d||p},{filter:function(e){l(this);try{n(e)}catch(t){u(this,\"throw\",t)}return p?o(p,this,e):new m(r(this),{predicate:e})}})},bb79:function(e,t,a){},cd59:function(e,t,a){\"use strict\";a.r(t);var c=a(\"7a23\");const o={class:\"openwebui-chat-root\"},n={class:\"openwebui-chat-window\"},l={class:\"openwebui-chat-header\"},r={class:\"openwebui-chat-container\"},s={class:\"openwebui-chat-body\",ref:\"chatBody\"},i={key:0,class:\"openwebui-avatar ai-avatar left-avatar\"},d={key:1,class:\"openwebui-avatar user-avatar right-avatar\"},u=[\"src\"],b={key:1,viewBox:\"0 0 40 40\",width:\"36\",height:\"36\"},p={class:\"openwebui-msg-bubble\"},m={key:0},j=[\"innerHTML\"],f={key:2,class:\"openwebui-cursor\"},O={key:3,class:\"source-tag knowledge-base-tag\"},h={key:4,class:\"source-tag general-ai-tag\"},v={key:1,class:\"file-bubble-nest file-bubble-vertical\"},g={class:\"file-icon-area\"},k={key:0,src:\"https://cdn.jsdelivr.net/gh/file-icons/icons/svg/csv.svg\",class:\"file-icon-img\"},w={class:\"file-info-area\"},y={class:\"file-name\"},x={class:\"file-meta\"},C={key:0,class:\"file-desc-text\"},V={class:\"right-panel-header\"},N={class:\"right-panel-mode-controls\"},B={class:\"history-container\"},E={class:\"history-list\"},_=[\"onClick\"],S={class:\"history-item-icon\"},F={class:\"history-item-content\"},T={class:\"history-item-title\"},D={class:\"history-item-time\"},A={key:0,class:\"history-empty\"},I={class:\"openwebui-chat-footer\"},M={key:0,class:\"openwebui-file-preview-bar\"},L={class:\"openwebui-file-thumb\"},U=[\"src\"],$={class:\"openwebui-file-info\"},z=[\"title\"],P={class:\"openwebui-file-meta\"},R={key:1,class:\"openwebui-file-status completed\"},H={class:\"openwebui-input-area\"},W={key:1,class:\"openwebui-options-area\"};function J(e,t,a,J,q,K){const X=Object(c[\"resolveComponent\"])(\"Delete\"),G=Object(c[\"resolveComponent\"])(\"el-icon\"),Q=Object(c[\"resolveComponent\"])(\"el-button\"),Y=Object(c[\"resolveComponent\"])(\"DataAnalysis\"),Z=Object(c[\"resolveComponent\"])(\"Cpu\"),ee=Object(c[\"resolveComponent\"])(\"Document\"),te=Object(c[\"resolveComponent\"])(\"MagicStick\"),ae=Object(c[\"resolveComponent\"])(\"el-radio-button\"),ce=Object(c[\"resolveComponent\"])(\"el-radio-group\"),oe=Object(c[\"resolveComponent\"])(\"Expand\"),ne=Object(c[\"resolveComponent\"])(\"Fold\"),le=Object(c[\"resolveComponent\"])(\"ChatLineSquare\"),re=Object(c[\"resolveComponent\"])(\"el-progress\"),se=Object(c[\"resolveComponent\"])(\"Check\"),ie=Object(c[\"resolveComponent\"])(\"Close\"),de=Object(c[\"resolveComponent\"])(\"UploadFilled\"),ue=Object(c[\"resolveComponent\"])(\"el-tooltip\"),be=Object(c[\"resolveComponent\"])(\"el-input\");return Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",o,[Object(c[\"createElementVNode\"])(\"div\",n,[Object(c[\"createElementVNode\"])(\"div\",l,[t[7]||(t[7]=Object(c[\"createElementVNode\"])(\"span\",{class:\"openwebui-title\"},\"智慧办公助手\",-1)),Object(c[\"createVNode\"])(Q,{type:\"link\",size:\"small\",onClick:J.clearChat,class:\"clear-chat-btn\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(X)]),_:1}),t[6]||(t[6]=Object(c[\"createTextVNode\"])(\" 新对话 \"))]),_:1},8,[\"onClick\"])]),Object(c[\"createElementVNode\"])(\"div\",r,[Object(c[\"createElementVNode\"])(\"div\",s,[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(J.messages,(e,a)=>(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:a,class:Object(c[\"normalizeClass\"])([\"openwebui-msg\",e.role])},[\"assistant\"===e.role?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",i,t[8]||(t[8]=[Object(c[\"createElementVNode\"])(\"svg\",{viewBox:\"0 0 40 40\",width:\"36\",height:\"36\"},[Object(c[\"createElementVNode\"])(\"circle\",{cx:\"20\",cy:\"20\",r:\"20\",fill:\"#2f54eb\"}),Object(c[\"createElementVNode\"])(\"text\",{x:\"50%\",y:\"55%\",\"text-anchor\":\"middle\",fill:\"#fff\",\"font-size\":\"20\",\"font-family\":\"Arial\",dy:\".3em\"},\"🤖\")],-1)]))):Object(c[\"createCommentVNode\"])(\"\",!0),\"user\"===e.role?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",d,[J.userAvatarUrl?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"img\",{key:0,src:J.userAvatarUrl,class:\"user-avatar-img\",alt:\"用户头像\",onError:t[0]||(t[0]=(...e)=>J.handleAvatarError&&J.handleAvatarError(...e))},null,40,u)):(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"svg\",b,t[9]||(t[9]=[Object(c[\"createElementVNode\"])(\"circle\",{cx:\"20\",cy:\"20\",r:\"20\",fill:\"#bbb\"},null,-1),Object(c[\"createElementVNode\"])(\"text\",{x:\"50%\",y:\"55%\",\"text-anchor\":\"middle\",fill:\"#fff\",\"font-size\":\"20\",\"font-family\":\"Arial\",dy:\".3em\"},\"🧑\",-1)])))])):Object(c[\"createCommentVNode\"])(\"\",!0),Object(c[\"createElementVNode\"])(\"div\",p,[\"text\"===e.type?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(c[\"Fragment\"],{key:0},[\"user\"===e.role?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"span\",m,Object(c[\"toDisplayString\"])(e.content),1)):(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"span\",{key:1,innerHTML:e.content},null,8,j)),e.streaming?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"span\",f)):Object(c[\"createCommentVNode\"])(\"\",!0),\"knowledge_base\"===e.source?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",O,[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Y)]),_:1}),t[10]||(t[10]=Object(c[\"createTextVNode\"])(\" 知识库 \"))])):Object(c[\"createCommentVNode\"])(\"\",!0),\"general_ai\"===e.source?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",h,[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Z)]),_:1}),t[11]||(t[11]=Object(c[\"createTextVNode\"])(\" AI大模型 \"))])):Object(c[\"createCommentVNode\"])(\"\",!0)],64)):\"file\"===e.type?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",v,[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(e.files,e=>(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:e.name+e.size,class:\"file-message-card\"},[Object(c[\"createElementVNode\"])(\"div\",g,[\"csv\"===e.ext?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"img\",k)):(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(G,{key:1},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ee)]),_:1}))]),Object(c[\"createElementVNode\"])(\"div\",w,[Object(c[\"createElementVNode\"])(\"div\",y,Object(c[\"toDisplayString\"])(e.name),1),Object(c[\"createElementVNode\"])(\"div\",x,Object(c[\"toDisplayString\"])(e.ext.toUpperCase())+\" · \"+Object(c[\"toDisplayString\"])(e.size),1)])]))),128)),e.content?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",C,Object(c[\"toDisplayString\"])(e.content),1)):Object(c[\"createCommentVNode\"])(\"\",!0)])):Object(c[\"createCommentVNode\"])(\"\",!0)])],2))),128))],512),Object(c[\"createElementVNode\"])(\"div\",{class:Object(c[\"normalizeClass\"])([\"openwebui-right-panel\",{collapsed:J.rightPanelCollapsed}])},[Object(c[\"createElementVNode\"])(\"div\",V,[Object(c[\"createElementVNode\"])(\"div\",N,[Object(c[\"createVNode\"])(ce,{modelValue:J.chatMode,\"onUpdate:modelValue\":t[1]||(t[1]=e=>J.chatMode=e),size:\"default\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ae,{label:\"agent\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(te)]),_:1}),t[12]||(t[12]=Object(c[\"createTextVNode\"])(\" AI助手 \"))]),_:1}),Object(c[\"createVNode\"])(ae,{label:\"knowledge_base\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Y)]),_:1}),t[13]||(t[13]=Object(c[\"createTextVNode\"])(\" 知识库 \"))]),_:1})]),_:1},8,[\"modelValue\"])]),Object(c[\"createVNode\"])(Q,{circle:\"\",onClick:t[2]||(t[2]=e=>J.rightPanelCollapsed=!J.rightPanelCollapsed),title:J.rightPanelCollapsed?\"展开\":\"收起\",class:\"collapse-button\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{size:16},{default:Object(c[\"withCtx\"])(()=>[J.rightPanelCollapsed?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(ne,{key:1})):(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(oe,{key:0}))]),_:1})]),_:1},8,[\"title\"])]),Object(c[\"createElementVNode\"])(\"div\",B,[t[14]||(t[14]=Object(c[\"createElementVNode\"])(\"h3\",{class:\"history-title\"},\"历史记录\",-1)),Object(c[\"createElementVNode\"])(\"div\",E,[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(J.chatSessions,(e,t)=>(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(c[\"normalizeClass\"])([\"history-item\",{active:e.id===J.chatId}]),onClick:t=>J.switchChatSession(e.id)},[Object(c[\"createElementVNode\"])(\"div\",S,[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(le)]),_:1})]),Object(c[\"createElementVNode\"])(\"div\",F,[Object(c[\"createElementVNode\"])(\"div\",T,Object(c[\"toDisplayString\"])(e.title||\"对话 \"+(t+1)),1),Object(c[\"createElementVNode\"])(\"div\",D,Object(c[\"toDisplayString\"])(J.formatTime(e.created_at)),1)])],10,_))),128)),0===J.chatSessions.length?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",A,\" 暂无历史记录 \")):Object(c[\"createCommentVNode\"])(\"\",!0)])])],2)]),Object(c[\"createElementVNode\"])(\"div\",I,[J.selectedFiles.length?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",M,[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(J.selectedFiles,(e,a)=>(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:e.id,class:\"openwebui-file-card\"},[Object(c[\"createElementVNode\"])(\"div\",L,[e.type.startsWith(\"image/\")?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"img\",{key:0,src:e.url,class:\"openwebui-file-img\"},null,8,U)):(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:1,class:\"openwebui-file-icon\",style:Object(c[\"normalizeStyle\"])({background:e.bg})},[\"pdf\"===e.ext?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(G,{key:0},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ee)]),_:1})):\"csv\"===e.ext||\"xls\"===e.ext||\"xlsx\"===e.ext?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(G,{key:1},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ee)]),_:1})):(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(G,{key:2},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ee)]),_:1}))],4))]),Object(c[\"createElementVNode\"])(\"div\",$,[Object(c[\"createElementVNode\"])(\"div\",{class:\"openwebui-file-name\",title:e.name},Object(c[\"toDisplayString\"])(e.name),9,z),Object(c[\"createElementVNode\"])(\"div\",P,Object(c[\"toDisplayString\"])(e.label)+\" · \"+Object(c[\"toDisplayString\"])(e.size),1),\"completed\"!==e.status?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(re,{key:0,percentage:e.progress,status:\"failed\"===e.status?\"exception\":\"\",\"stroke-width\":4,class:\"openwebui-file-progress\"},null,8,[\"percentage\",\"status\"])):(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",R,[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se)]),_:1}),t[15]||(t[15]=Object(c[\"createTextVNode\"])(\" 处理完成 \"))]))]),Object(c[\"createVNode\"])(G,{class:\"openwebui-file-remove\",onClick:e=>J.removeFile(a)},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ie)]),_:2},1032,[\"onClick\"])]))),128))])):Object(c[\"createCommentVNode\"])(\"\",!0),Object(c[\"createElementVNode\"])(\"div\",H,[Object(c[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"fileInput\",style:{display:\"none\"},onChange:t[3]||(t[3]=(...e)=>J.handleFileUpload&&J.handleFileUpload(...e)),multiple:\"\",accept:\".txt,.pdf,.doc,.docx,.md,.xls,.xlsx,.csv,.jpg,.jpeg,.png,.gif,.bmp,.webp,.svg,.tiff\"},null,544),Object(c[\"createVNode\"])(ue,{content:\"文档: txt, pdf, doc, docx, md\\n表格: xls, xlsx, csv\\n图片: jpg, jpeg, png, gif, bmp, webp, svg, tiff\",placement:\"top\",\"popper-class\":\"openwebui-upload-tooltip\",\"open-delay\":200},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Q,{class:\"openwebui-upload-btn\",onClick:J.triggerFileInput,title:\"上传文件/图片\",disabled:J.loading},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(de)]),_:1})]),_:1},8,[\"onClick\",\"disabled\"])]),_:1}),Object(c[\"createVNode\"])(be,{modelValue:J.input,\"onUpdate:modelValue\":t[4]||(t[4]=e=>J.input=e),placeholder:\"请输入您的问题...\",onKeyup:Object(c[\"withKeys\"])(J.sendMsg,[\"enter\"]),class:\"openwebui-input\",disabled:J.loading||J.processingFiles},null,8,[\"modelValue\",\"onKeyup\",\"disabled\"]),Object(c[\"createVNode\"])(Q,{type:\"primary\",onClick:J.sendMsg,class:\"openwebui-send-btn\",loading:J.loading,disabled:J.processingFiles},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createTextVNode\"])(Object(c[\"toDisplayString\"])(J.loading?\"生成中\":J.processingFiles?\"处理中\":\"发送\"),1)]),_:1},8,[\"onClick\",\"loading\",\"disabled\"])]),\"knowledge_base\"===J.chatMode?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",W,[Object(c[\"createVNode\"])(ce,{modelValue:J.searchMethod,\"onUpdate:modelValue\":t[5]||(t[5]=e=>J.searchMethod=e),size:\"small\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ae,{label:\"local\"},{default:Object(c[\"withCtx\"])(()=>t[16]||(t[16]=[Object(c[\"createTextVNode\"])(\"局部检索\")])),_:1}),Object(c[\"createVNode\"])(ae,{label:\"global\"},{default:Object(c[\"withCtx\"])(()=>t[17]||(t[17]=[Object(c[\"createTextVNode\"])(\"全局检索\")])),_:1}),Object(c[\"createVNode\"])(ae,{label:\"basic\"},{default:Object(c[\"withCtx\"])(()=>t[18]||(t[18]=[Object(c[\"createTextVNode\"])(\"基础检索\")])),_:1})]),_:1},8,[\"modelValue\"])])):Object(c[\"createCommentVNode\"])(\"\",!0),t[19]||(t[19]=Object(c[\"createElementVNode\"])(\"div\",{class:\"openwebui-footer-hint\"},\" 支持文档、表格、图片等多种格式文件 \",-1))])])])}a(\"d9e2\"),a(\"14d9\"),a(\"e9f5\"),a(\"910d\"),a(\"7d54\"),a(\"ab43\"),a(\"a732\"),a(\"88a7\"),a(\"271a\"),a(\"5494\");var q=a(\"f6f2\"),K=a(\"b775\"),X=a(\"7c5c\"),G=a(\"f80f\"),Q=a(\"3ef4\"),Y=a(\"48cf\");function Z(e){return e<1024?e+\"B\":e<1048576?(e/1024).toFixed(1)+\"KB\":(e/1024/1024).toFixed(1)+\"MB\"}function ee(e){const t=e.split(\".\");return t.length>1?t[t.length-1].toLowerCase():\"\"}function te(e,t){const a=t.toLowerCase();return e.startsWith(\"image/\")?\"图片\":\"pdf\"===a?\"PDF\":[\"csv\",\"xls\",\"xlsx\"].includes(a)?\"表格\":[\"doc\",\"docx\"].includes(a)?\"文档\":\"md\"===a?\"Markdown\":\"txt\"===a?\"文本\":a.toUpperCase()}function ae(e){const t=e.toLowerCase();return\"pdf\"===t?\"#f87171\":[\"csv\",\"xls\",\"xlsx\"].includes(t)?\"#34d399\":[\"doc\",\"docx\"].includes(t)?\"#60a5fa\":\"md\"===t?\"#a78bfa\":\"txt\"===t?\"#fbbf24\":\"#a5b4fc\"}function ce(e){return e.replace(/[&<>\"']/g,(function(e){return{\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"}[e]}))}function oe(e){if(!e)return\"\";const t=new Date(e);return`${t.getMonth()+1}月${t.getDate()}日 ${t.getHours().toString().padStart(2,\"0\")}:${t.getMinutes().toString().padStart(2,\"0\")}`}var ne={name:\"Dashboard\",components:{UploadFilled:q[\"UploadFilled\"],Document:q[\"Document\"],Close:q[\"Close\"],Check:q[\"Check\"],Delete:q[\"Delete\"],ElTooltip:G[\"a\"],DataAnalysis:q[\"DataAnalysis\"],Cpu:q[\"Cpu\"],MagicStick:q[\"MagicStick\"],ChatLineSquare:q[\"ChatLineSquare\"],Fold:q[\"Fold\"],Expand:q[\"Expand\"]},setup(){const e=Object(c[\"ref\"])(\"\"),t=Object(c[\"ref\"])([{role:\"assistant\",content:\"您好，我是您的AI助手，有什么可以帮您？\",rawContent:\"您好，我是您的AI助手，有什么可以帮您？\",type:\"text\"}]),a=Object(c[\"ref\"])(null),o=Object(c[\"ref\"])(null),n=Object(c[\"ref\"])([]),l=Object(c[\"ref\"])(!1),r=Object(c[\"computed\"])(()=>n.value.some(e=>\"completed\"!==e.status&&\"failed\"!==e.status)),s=Object(c[\"ref\"])(null),i=Object(c[\"computed\"])(()=>null!==s.value),d=Object(c[\"ref\"])(null),u=Object(c[\"ref\"])(\"local\"),b=Object(c[\"ref\"])(\"agent\"),p=Object(c[\"ref\"])(\"local\"),m=Object(c[\"ref\"])(null),j=Object(c[\"ref\"])(!1),f=Object(c[\"ref\"])([]),O=async()=>{try{const e=await Object(Y[\"d\"])();e.data&&Array.isArray(e.data)?f.value=e.data:e.data&&e.data.results&&Array.isArray(e.data.results)&&(f.value=e.data.results)}catch(e){console.error(\"获取聊天会话列表失败:\",e)}},h=async e=>{if(e!==s.value)try{l.value=!0;const a=await Object(Y[\"c\"])(e);a.data&&(s.value=e,a.data.messages&&Array.isArray(a.data.messages)&&(t.value=a.data.messages.map(e=>({role:e.role,content:e.content,rawContent:e.content,type:e.type||\"text\"}))))}catch(a){console.error(\"获取聊天会话详情失败:\",a),Q[\"a\"].error(\"切换聊天会话失败\")}finally{l.value=!1}};Object(c[\"watch\"])(s,e=>{e&&O()});const v=async()=>{try{const e=await Object(K[\"a\"])({url:\"/api/auth/users/me/\",method:\"get\"});console.log(\"用户信息完整响应:\",e);let t=null;if(e.data&&e.data.data&&e.data.data.avatar)t=e.data.data.avatar;else if(e.data&&e.data.avatar)t=e.data.avatar;else if(e.data){const a=e=>{if(!e||\"object\"!==typeof e)return null;if(\"avatar\"in e)return e.avatar;for(const t in e)if(\"object\"===typeof e[t]){const c=a(e[t]);if(c)return c}return null};t=a(e.data)}if(console.log(\"找到的头像URL:\",t),t){if(t.startsWith(\"http\")||t.startsWith(\"data:\"))d.value=t;else{const e=window.location.origin;t.startsWith(\"/\")?d.value=`${e}${t}`:d.value=`${e}/${t}`}console.log(\"处理后的用户头像URL:\",d.value)}else console.log(\"用户信息中没有找到头像:\",e.data)}catch(e){console.error(\"获取用户信息失败:\",e)}},g=()=>{Object(c[\"nextTick\"])(()=>{a.value&&(a.value.scrollTop=a.value.scrollHeight)})},k=async e=>{const t=new FormData;t.append(\"file\",e.rawFile);try{e.progress=0,e.status=\"pending\";let a=null,c=0,o=!1;const n=await Object(K[\"a\"])({url:\"/api/ai/documents/upload/\",method:\"post\",data:t,onUploadProgress:t=>{const n=Math.round(100*t.loaded/t.total);if(n<100)e.progress=n,c=n;else if(!o){o=!0;let t=c;a=setInterval(()=>{t+=3,t>=95&&(t=95,clearInterval(a)),e.progress=t},20)}}});return a&&clearInterval(a),e.progress<95&&(e.progress=95),e.status=\"processing\",e.documentId=n.data.id,w(e),n.data.id}catch(a){throw e.status=\"failed\",console.error(\"文件上传失败:\",a),new Error(`上传文件 ${e.name} 失败: ${a.message||\"服务器错误\"}`)}},w=async(e,t=1e3)=>{if(e.documentId)try{const a=await Object(K[\"a\"])({url:`/api/ai/documents/${e.documentId}/`,method:\"get\"});if(\"completed\"===a.data.status)return e.progress=100,void(e.status=\"completed\");if(\"failed\"===a.data.status)return e.status=\"failed\",void(e.progress=0);\"processing\"===a.data.status&&e.progress<95&&(e.progress=Math.min(e.progress+5,95)),setTimeout(()=>w(e,t),t)}catch(a){setTimeout(()=>w(e,t),t)}},y=()=>{s.value=null,t.value=[{role:\"assistant\",content:\"您好，我是您的AI助手，有什么可以帮您？\",rawContent:\"您好，我是您的AI助手，有什么可以帮您？\",type:\"text\"}],n.value=[],O()};function x(){if(!e.value.trim()&&0===n.value.length)return void Q[\"a\"].warning(\"请输入内容或上传文件\");if(r.value)return void Q[\"a\"].warning(\"文件正在处理中，请稍候再试\");m.value&&(m.value.abort(),m.value=null);const a={role:\"user\",content:e.value,type:\"text\"};if(t.value.push(a),n.value.length>0){const e={role:\"user\",content:`上传了${n.value.length}个文件`,type:\"file\",files:n.value.map(e=>({name:e.name,size:e.size,ext:e.ext}))};t.value.push(e)}const c={role:\"assistant\",content:\"\",type:\"text\",streaming:!0};t.value.push(c);const o=e.value;e.value=\"\";const i=n.value.map(e=>e.docId).filter(Boolean);n.value=[],g(),l.value=!0;const d={message:o,chat_id:s.value,document_ids:i,chatMode:b.value,search_method:u.value};m.value=Object(Y[\"b\"])(d,(e,a)=>{const c=t.value[t.value.length-1];c&&\"assistant\"===c.role&&c.streaming&&(c.rawContent||(c.rawContent=\"\"),c.rawContent+=e,c.content=Object(X[\"marked\"])(c.rawContent),g()),a&&!s.value&&(s.value=a)},e=>{const a=t.value[t.value.length-1];a&&\"assistant\"===a.role&&(a.streaming=!1,a.rawContent&&(a.content=Object(X[\"marked\"])(a.rawContent))),e&&(s.value=e),l.value=!1,m.value=null},e=>{console.error(\"流式请求出错:\",e);const a=t.value[t.value.length-1];a&&\"assistant\"===a.role&&(a.content=\"抱歉，响应生成过程中出现错误，请稍后重试。\",a.streaming=!1),l.value=!1,m.value=null,Q[\"a\"].error(\"请求出错: \"+(e.message||\"未知错误\"))})}const C=()=>{o.value&&(o.value.value=\"\"),o.value&&o.value.click()},V=e=>{const t=e.target.files;if(!t||!t.length)return;const a={\"text/plain\":\"txt\",\"application/pdf\":\"pdf\",\"application/msword\":\"doc\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\"docx\",\"text/markdown\":\"md\",\"text/x-markdown\":\"md\",\"text/csv\":\"csv\",\"application/csv\":\"csv\",\"application/vnd.ms-excel\":\"xls\",\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\"xlsx\",\"image/jpeg\":\"jpg\",\"image/png\":\"png\",\"image/gif\":\"gif\",\"image/bmp\":\"bmp\",\"image/webp\":\"webp\",\"image/svg+xml\":\"svg\",\"image/tiff\":\"tiff\"},c=\"支持的文件格式: txt, pdf, doc, docx, md, xls, xlsx, csv 和常见图片格式\",o=[];let l=!1;const r=[\"txt\",\"pdf\",\"doc\",\"docx\",\"md\",\"xls\",\"xlsx\",\"csv\",\"jpg\",\"jpeg\",\"png\",\"gif\",\"bmp\",\"webp\",\"svg\",\"tiff\"];Array.from(t).forEach(e=>{const t=ee(e.name).toLowerCase(),c=r.includes(t);if(a[e.type]||c){const a=e.name+\"_\"+e.size+\"_\"+Date.now()+Math.random();if(e.type.startsWith(\"image/\")){const c=new FileReader;c.onload=c=>{n.value.push({id:a,name:e.name,type:e.type,url:c.target.result,size:Z(e.size),ext:t,label:te(e.type,t),bg:ae(t),rawFile:e,progress:0,status:\"ready\"}),k(n.value[n.value.length-1])},c.readAsDataURL(e)}else{const c=URL.createObjectURL(e);n.value.push({id:a,name:e.name,type:e.type,url:c,size:Z(e.size),ext:t,label:te(e.type,t),bg:ae(t),rawFile:e,progress:0,status:\"ready\"}),k(n.value[n.value.length-1])}o.push(n.value[n.value.length-1])}else l=!0,Q[\"a\"].error(\"不支持的文件类型: \"+e.name),console.warn(`文件类型拒绝: ${e.name}, MIME: ${e.type}, 扩展名: ${t}`)}),l&&Q[\"a\"].info(c),o.length>0&&o.length===t.length&&Q[\"a\"].success(`已添加${o.length}个文件`)},N=e=>{n.value.splice(e,1)},B=new X[\"marked\"].Renderer;B.table=function(e,t){return`<table class=\"openwebui-md-table\"><thead>${e}</thead><tbody>${t}</tbody></table>`},B.code=function(e,t,a){const c=\"code-\"+Math.random().toString(36).substr(2,9);let o=(t||\"\").split(/\\s+/)[0],n=o||\"code\",l=o?\"language-\"+o:\"\";return`\\n        <div class=\"openwebui-md-code-block-beauty\">\\n          <div class=\"openwebui-md-code-toolbar\">\\n            <span class=\"openwebui-md-code-lang\">${n}</span>\\n            <button class=\"openwebui-copy-btn\" data-clipboard-target=\"#${c}\" title=\"复制代码\">复制</button>\\n          </div>\\n          <pre class=\"openwebui-md-pre\"><code id=\"${c}\" class=\"${l}\">${a?e:ce(e)}</code></pre>\\n        </div>\\n      `},X[\"marked\"].setOptions({breaks:!0,gfm:!0,headerIds:!1,mangle:!1,renderer:B});const E=e=>{console.error(\"头像加载失败:\",e.target.src),e.target.style.display=\"none\",d.value=null};return Object(c[\"onMounted\"])(()=>{document.body.addEventListener(\"click\",(function(e){if(e.target.classList&&e.target.classList.contains(\"openwebui-copy-btn\")){const t=e.target.getAttribute(\"data-clipboard-target\").replace(\"#\",\"\"),a=document.getElementById(t);a&&navigator.clipboard.writeText(a.innerText).then(()=>{e.target.innerText=\"已复制\",setTimeout(()=>{e.target.innerText=\"复制\"},1200)})}})),v(),O(),window.addEventListener(\"beforeunload\",()=>{m.value&&m.value.abort()})}),{input:e,messages:t,sendMsg:x,chatBody:a,fileInput:o,triggerFileInput:C,handleFileUpload:V,selectedFiles:n,removeFile:N,UploadFilled:q[\"UploadFilled\"],Document:q[\"Document\"],Close:q[\"Close\"],Check:q[\"Check\"],loading:l,processingFiles:r,clearChat:y,showContextBar:i,chatId:s,userAvatarUrl:d,handleAvatarError:E,searchMethod:u,chatMode:b,retrievalScope:p,rightPanelCollapsed:j,chatSessions:f,switchChatSession:h,formatTime:oe}}},le=(a(\"0193\"),a(\"ff55\"),a(\"21c1\"),a(\"28bb\"),a(\"3bee\"),a(\"6b0d\")),re=a.n(le);const se=re()(ne,[[\"render\",J],[\"__scopeId\",\"data-v-a81886ac\"]]);t[\"default\"]=se},d6d6:function(e,t,a){\"use strict\";var c=TypeError;e.exports=function(e,t){if(e<t)throw new c(\"Not enough arguments\");return e}},fa3b:function(e,t,a){},ff55:function(e,t,a){\"use strict\";a(\"fa3b\")}}]);","extractedComments":[]}