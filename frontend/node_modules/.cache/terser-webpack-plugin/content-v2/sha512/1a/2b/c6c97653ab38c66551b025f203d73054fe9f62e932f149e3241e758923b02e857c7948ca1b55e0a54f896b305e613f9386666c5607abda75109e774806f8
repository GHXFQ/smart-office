{"map":"{\"version\":3,\"sources\":[\"js/chunk-74fb853a.ba5d8e5a.js\"],\"names\":[\"window\",\"push\",\"12f7\",\"module\",\"exports\",\"__webpack_require__\",\"13ab\",\"__webpack_exports__\",\"r\",\"vue_runtime_esm_bundler\",\"_hoisted_1\",\"class\",\"_hoisted_2\",\"key\",\"_hoisted_3\",\"_hoisted_4\",\"_hoisted_5\",\"_hoisted_6\",\"_hoisted_7\",\"_hoisted_8\",\"_hoisted_9\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"_hoisted_13\",\"_hoisted_14\",\"_hoisted_15\",\"_hoisted_16\",\"_hoisted_17\",\"_hoisted_18\",\"_hoisted_19\",\"_hoisted_20\",\"_hoisted_21\",\"_hoisted_22\",\"_hoisted_23\",\"_hoisted_24\",\"_hoisted_25\",\"_hoisted_26\",\"_hoisted_27\",\"_hoisted_28\",\"_hoisted_29\",\"_hoisted_30\",\"_hoisted_31\",\"_hoisted_32\",\"_hoisted_33\",\"_hoisted_34\",\"_hoisted_35\",\"_hoisted_36\",\"_hoisted_37\",\"ref\",\"_hoisted_38\",\"_hoisted_39\",\"_hoisted_40\",\"_hoisted_41\",\"_hoisted_42\",\"_hoisted_43\",\"_hoisted_44\",\"_hoisted_45\",\"_hoisted_46\",\"_hoisted_47\",\"_hoisted_48\",\"_hoisted_49\",\"_hoisted_50\",\"_hoisted_51\",\"_hoisted_52\",\"_hoisted_53\",\"_hoisted_54\",\"_hoisted_55\",\"style\",\"text-align\",\"margin-top\",\"_hoisted_56\",\"_hoisted_57\",\"_hoisted_58\",\"_hoisted_59\",\"_hoisted_60\",\"_hoisted_61\",\"_hoisted_62\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"_component_el_alert\",\"Object\",\"_component_el_input\",\"_component_Refresh\",\"_component_el_icon\",\"_component_el_button\",\"_component_el_badge\",\"_component_el_skeleton\",\"_component_UserFilled\",\"_component_el_empty\",\"_component_Document\",\"_component_Reading\",\"_component_ChatCalendarEvent\",\"_component_ChatLineSquare\",\"_component_PictureFilled\",\"_component_el_tooltip\",\"_component_FolderOpened\",\"_component_Position\",\"_component_ChatDotSquare\",\"_component_el_card\",\"_component_el_table_column\",\"_component_el_tag\",\"_component_el_table\",\"_component_el_dialog\",\"_directive_loading\",\"default\",\"sessionsLoading\",\"title\",\"type\",\"closable\",\"show-icon\",\"modelValue\",\"searchQuery\",\"onUpdate:modelValue\",\"$event\",\"placeholder\",\"clearable\",\"prefix-icon\",\"Search\",\"circle\",\"size\",\"onClick\",\"refreshChatSessions\",\"_\",\"tabs\",\"tab\",\"index\",\"active\",\"activeTab\",\"keys\",\"groupedUsersByDepartment\",\"length\",\"departmentUsers\",\"deptName\",\"contact\",\"id\",\"selectedContact\",\"selectContact\",\"avatar\",\"avatar_url\",\"src\",\"alt\",\"backgroundColor\",\"color\",\"initial\",\"status\",\"name\",\"lastTime\",\"lastMessage\",\"unread\",\"value\",\"rows\",\"animated\",\"filteredContacts\",\"description\",\"image-size\",\"image\",\"currentContact\",\"getStatusText\",\"messages\",\"message\",\"sender\",\"userId\",\"getSenderColor\",\"getSenderInitial\",\"message_type\",\"content\",\"file\",\"downloadFile\",\"file_name\",\"formatFileSize\",\"file_size\",\"viewKnowledge\",\"knowledge_detail\",\"formatMessageTime\",\"created_at\",\"calendar_data\",\"hiddenCalendarEvents\",\"includes\",\"messageId\",\"eventData\",\"onCalendarEventAdded\",\"handleCalendarEventAdded\",\"onCalendarEventHidden\",\"handleCalendarEventHidden\",\"messagesLoading\",\"placement\",\"openImageUpload\",\"loading\",\"imageUploading\",\"openFileUpload\",\"fileUploading\",\"messageInput\",\"resize\",\"onKeyup\",\"sendMessage\",\"display\",\"onChange\",\"args\",\"handleFileUpload\",\"accept\",\"handleImageUpload\",\"knowledgeDialogVisible\",\"width\",\"footer\",\"data\",\"knowledgeList\",\"onRowClick\",\"selectKnowledge\",\"prop\",\"label\",\"scope\",\"row\",\"file_type\",\"formatDate\",\"shareKnowledge\",\"knowledgeLoading\",\"vuex_esm_browser\",\"components_message\",\"message_box\",\"dist\",\"chat\",\"api_knowledge\",\"vue_router\",\"request\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_1\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_2\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_3\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_4\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_5\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_6\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_7\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_8\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_9\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_10\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_11\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_12\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_13\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_hoisted_14\",\"ChatCalendarEventvue_type_template_id_c8fe79b0_scoped_true_render\",\"_component_Calendar\",\"_component_Clock\",\"_component_Location\",\"_component_InfoFilled\",\"_component_el_form_item\",\"_component_el_date_picker\",\"_component_el_option\",\"_component_el_select\",\"_component_el_switch\",\"_component_el_form\",\"formatDateRange\",\"start\",\"end\",\"location\",\"calendarEventAdded\",\"showDetails\",\"addToCalendar\",\"hideCalendarEvent\",\"detailsVisible\",\"addToCalendarWithEdits\",\"model\",\"editableEvent\",\"label-width\",\"format\",\"value-format\",\"reminder\",\"is_all_day\",\"date_formatDate\",\"date\",\"Date\",\"isNaN\",\"getTime\",\"year\",\"getFullYear\",\"month\",\"getMonth\",\"day\",\"getDate\",\"hour\",\"getHours\",\"minute\",\"getMinutes\",\"second\",\"getSeconds\",\"pad\",\"num\",\"replace\",\"String\",\"slice\",\"ChatCalendarEventvue_type_script_lang_js\",\"components\",\"Calendar\",\"Clock\",\"Location\",\"InfoFilled\",\"props\",\"Number\",\"required\",\"emits\",\"[object Object]\",\"emit\",\"initEditableEvent\",\"formatDateForPicker\",\"dateString\",\"e\",\"async\",\"success\",\"error\",\"_error$response\",\"_error$response$data\",\"response\",\"_error$response2\",\"_error$response2$data\",\"startDate\",\"endDate\",\"startDateStr\",\"toDateString\",\"exportHelper\",\"exportHelper_default\",\"n\",\"__exports__\",\"ChatCalendarEvent\",\"ai\",\"Indexvue_type_script_lang_js\",\"store\",\"currentUser\",\"getters\",\"user\",\"userInfo\",\"messageContainer\",\"fileInput\",\"imageInput\",\"chatSessions\",\"currentChatId\",\"selectedKnowledge\",\"contacts\",\"allColleagues\",\"departments\",\"find\",\"c\",\"_userInfo$value\",\"filter\",\"toLowerCase\",\"getActiveContacts\",\"isGroup\",\"usersMap\",\"Map\",\"forEach\",\"set\",\"colleague\",\"has\",\"first_name\",\"last_name\",\"trim\",\"username\",\"getRandomColor\",\"department\",\"departmentMap\",\"map\",\"dept\",\"groupedUsers\",\"Array\",\"from\",\"values\",\"departmentName\",\"get\",\"route\",\"refreshInterval\",\"clearInterval\",\"userData\",\"fetchCurrentUser\",\"console\",\"log\",\"loadAllUsers\",\"loadDepartments\",\"loadChatSessions\",\"sessionId\",\"query\",\"session\",\"foundContact\",\"parseInt\",\"loadChatMessages\",\"setInterval\",\"scrollToBottom\",\"token\",\"localStorage\",\"getItem\",\"warn\",\"warning\",\"url\",\"method\",\"Error\",\"setItem\",\"JSON\",\"stringify\",\"isBackgroundRefresh\",\"isArray\",\"results\",\"otherParticipant\",\"participants\",\"p\",\"is_group\",\"last_message\",\"updated_at\",\"unread_count\",\"startsWith\",\"NODE_ENV\",\"BASE_URL\",\"VUE_APP_BASE_API\",\"sort\",\"a\",\"b\",\"chatId\",\"messageData\",\"sessionData\",\"possibleMessageFields\",\"field\",\"some\",\"tempContact\",\"unshift\",\"res\",\"params\",\"selectedDocumentIds\",\"doc\",\"errorMessage\",\"scrollTop\",\"scrollHeight\",\"contactId\",\"existingChat\",\"participant_ids\",\"newSession\",\"tempMessage\",\"now\",\"toISOString\",\"is_temp\",\"messageCopy\",\"aiMsg\",\"chat_id\",\"document_ids\",\"aiContent\",\"tempIndex\",\"findIndex\",\"m\",\"splice\",\"savedMessage\",\"click\",\"event\",\"target\",\"files\",\"formData\",\"FormData\",\"append\",\"headers\",\"Content-Type\",\"docRes\",\"openKnowledgeDialog\",\"loadKnowledgeList\",\"knowledge\",\"URL\",\"createObjectURL\",\"Blob\",\"link\",\"document\",\"createElement\",\"href\",\"setAttribute\",\"body\",\"appendChild\",\"removeChild\",\"alert\",\"dangerouslyUseHTMLString\",\"confirmButtonText\",\"colors\",\"timestamp\",\"diff\",\"hours\",\"toString\",\"padStart\",\"minutes\",\"days\",\"getDay\",\"sizeInKB\",\"toFixed\",\"statusMap\",\"online\",\"offline\",\"busy\",\"away\",\"forceRefresh\",\"info\",\"users\",\"depts\",\"Phone\",\"VideoCamera\",\"Document\",\"PictureFilled\",\"FolderOpened\",\"Microphone\",\"Position\",\"ChatDotSquare\",\"Reading\",\"UserFilled\",\"ChatLineSquare\",\"Refresh\",\"MoreFilled\",\"Index_exports_\",\"271a\",\"defineBuiltIn\",\"uncurryThis\",\"validateArgumentsLength\",\"$URLSearchParams\",\"URLSearchParams\",\"URLSearchParamsPrototype\",\"prototype\",\"getAll\",\"$has\",\"undefined\",\"arguments\",\"$value\",\"this\",\"enumerable\",\"unsafe\",\"48cf\",\"d\",\"getScheduleReminders\",\"markScheduleReminderAsRead\",\"aiChatWithDocuments\",\"aiChatWithDocumentsStream\",\"getAIChatSessions\",\"getAIChatSession\",\"deleteAIChatSession\",\"_utils_request__WEBPACK_IMPORTED_MODULE_1__\",\"responseType\",\"onChunk\",\"onComplete\",\"onError\",\"controller\",\"AbortController\",\"signal\",\"fetch\",\"then\",\"ok\",\"errorData\",\"json\",\"catch\",\"reader\",\"getReader\",\"decoder\",\"TextDecoder\",\"buffer\",\"lastChatId\",\"processStream\",\"done\",\"read\",\"decode\",\"stream\",\"lines\",\"split\",\"pop\",\"line\",\"jsonStr\",\"substring\",\"parsed\",\"parse\",\"err\",\"5494\",\"DESCRIPTORS\",\"defineBuiltInAccessor\",\"count\",\"configurable\",\"7232\",\"88a7\",\"$delete\",\"entries\",\"v\",\"k\",\"entry\",\"dindex\",\"found\",\"entriesLength\",\"910d\",\"$\",\"call\",\"aCallable\",\"anObject\",\"getIteratorDirect\",\"createIteratorProxy\",\"callWithSafeIterationClosing\",\"IS_PURE\",\"iteratorClose\",\"iteratorHelperWithoutClosingOnEarlyError\",\"filterWithoutClosingOnEarlyError\",\"TypeError\",\"IteratorProxy\",\"result\",\"iterator\",\"predicate\",\"next\",\"counter\",\"proto\",\"real\",\"forced\",\"d6d6\",\"$TypeError\",\"passed\",\"d800\",\"getChatSessions\",\"getChatSession\",\"createChatSession\",\"sendTextMessage\",\"sendFileMessage\",\"sendImageMessage\",\"sendKnowledgeMessage\",\"downloadMessageFile\",\"addCalendarEvent\",\"findOrCreateChat\",\"findOrCreateChatWithUsers\",\"user_id\",\"userIds\",\"db6a\",\"getCategories\",\"addCategory\",\"updateCategory\",\"deleteCategory\",\"getDocuments\",\"uploadDocument\",\"updateDocument\",\"deleteDocument\",\"downloadDocumentFile\",\"getDocumentChunks\",\"buildKnowledgeBase\",\"getKnowledgeBaseStatus\",\"getKnowledgeList\",\"baseURL\",\"Promise\",\"reject\",\"lastModified\",\"timeout\",\"onUploadProgress\",\"progressEvent\",\"percentCompleted\",\"Math\",\"round\",\"loaded\",\"total\",\"code\",\"requestConfig\",\"documentId\",\"df38\",\"eb87\",\"f665\",\"iterate\",\"findWithoutClosingOnEarlyError\",\"record\",\"stop\",\"IS_RECORD\",\"INTERRUPTED\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-74fb853a\"],{\"12f7\":function(e,t,a){},\"13ab\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"7a23\");const r={class:\"chat-container\"},o={key:0,class:\"chat-header-actions\"},l={class:\"chat-layout\"},c={class:\"chat-sidebar\"},s={class:\"search-box\"},i={class:\"search-header\"},d={class:\"chat-tabs\"},u=[\"onClick\"],m={class:\"contacts-list\"},b={key:0},p={class:\"department-header\"},O=[\"onClick\"],j={class:\"contact-avatar\"},v={class:\"avatar-initial\"},g=[\"src\"],f={class:\"contact-info\"},h={class:\"contact-name\"},y={class:\"time\"},_={class:\"contact-message\"},V={key:1,class:\"loading-container\"},w=[\"onClick\"],C={class:\"contact-avatar\"},k={class:\"avatar-initial\"},E=[\"src\"],N={class:\"contact-info\"},D={class:\"contact-name\"},B={class:\"time\"},S={class:\"contact-message\"},A={key:0,class:\"empty-contacts\"},I={key:2,class:\"loading-container\"},x={class:\"chat-content\"},M={key:0,class:\"chat-header\"},T={class:\"contact-avatar\"},U={class:\"avatar-initial\"},P=[\"src\"],$={class:\"contact-info\"},Y={key:1,class:\"chat-messages\",ref:\"messageContainer\"},F={class:\"message-container\"},L={key:0,class:\"message-avatar\"},z={class:\"avatar-initial\"},H=[\"src\"],R={class:\"message-content-wrapper\"},W={key:0},G={key:1,class:\"message-image\"},q=[\"src\"],K=[\"onClick\"],J={class:\"file-size\"},Q=[\"onClick\"],X={class:\"knowledge-info\"},Z={class:\"knowledge-title\"},ee={class:\"knowledge-desc\"},te={class:\"message-time\"},ae={key:1,class:\"empty-messages\"},ne={key:2,class:\"loading-messages\"},re={style:{\"text-align\":\"right\",\"margin-top\":\"20px\"}},oe={key:2,class:\"chat-input\"},le={class:\"chat-tools\"},ce={class:\"input-area\"},se={class:\"send-button\"},ie={key:3,class:\"empty-chat\"},de={class:\"empty-illustration\"},ue={class:\"dialog-footer\"};function me(e,t,a,me,be,pe){const Oe=Object(n[\"resolveComponent\"])(\"el-alert\"),je=Object(n[\"resolveComponent\"])(\"el-input\"),ve=Object(n[\"resolveComponent\"])(\"Refresh\"),ge=Object(n[\"resolveComponent\"])(\"el-icon\"),fe=Object(n[\"resolveComponent\"])(\"el-button\"),he=Object(n[\"resolveComponent\"])(\"el-badge\"),ye=Object(n[\"resolveComponent\"])(\"el-skeleton\"),_e=Object(n[\"resolveComponent\"])(\"UserFilled\"),Ve=Object(n[\"resolveComponent\"])(\"el-empty\"),we=Object(n[\"resolveComponent\"])(\"Document\"),Ce=Object(n[\"resolveComponent\"])(\"Reading\"),ke=Object(n[\"resolveComponent\"])(\"ChatCalendarEvent\"),Ee=Object(n[\"resolveComponent\"])(\"ChatLineSquare\"),Ne=Object(n[\"resolveComponent\"])(\"PictureFilled\"),De=Object(n[\"resolveComponent\"])(\"el-tooltip\"),Be=Object(n[\"resolveComponent\"])(\"FolderOpened\"),Se=Object(n[\"resolveComponent\"])(\"Position\"),Ae=Object(n[\"resolveComponent\"])(\"ChatDotSquare\"),Ie=Object(n[\"resolveComponent\"])(\"el-card\"),xe=Object(n[\"resolveComponent\"])(\"el-table-column\"),Me=Object(n[\"resolveComponent\"])(\"el-tag\"),Te=Object(n[\"resolveComponent\"])(\"el-table\"),Ue=Object(n[\"resolveComponent\"])(\"el-dialog\"),Pe=Object(n[\"resolveDirective\"])(\"loading\");return Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",r,[Object(n[\"createVNode\"])(Ie,{class:\"chat-card\"},{default:Object(n[\"withCtx\"])(()=>[me.sessionsLoading?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",o,[Object(n[\"createVNode\"])(Oe,{title:\"...\",type:\"info\",closable:!1,\"show-icon\":\"\"})])):Object(n[\"createCommentVNode\"])(\"\",!0),Object(n[\"createElementVNode\"])(\"div\",l,[Object(n[\"createElementVNode\"])(\"div\",c,[Object(n[\"createElementVNode\"])(\"div\",s,[Object(n[\"createElementVNode\"])(\"div\",i,[Object(n[\"createVNode\"])(je,{modelValue:me.searchQuery,\"onUpdate:modelValue\":t[0]||(t[0]=e=>me.searchQuery=e),placeholder:\"...\",clearable:\"\",\"prefix-icon\":me.Search},null,8,[\"modelValue\",\"prefix-icon\"]),Object(n[\"createVNode\"])(fe,{circle:\"\",size:\"small\",onClick:me.refreshChatSessions,title:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ge,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ve)]),_:1})]),_:1},8,[\"onClick\"])])]),Object(n[\"createElementVNode\"])(\"div\",d,[(Object(n[\"openBlock\"])(!0),Object(n[\"createElementBlock\"])(n[\"Fragment\"],null,Object(n[\"renderList\"])(me.tabs,(e,t)=>(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:t,class:Object(n[\"normalizeClass\"])([\"chat-tab\",{active:me.activeTab===t}]),onClick:e=>me.activeTab=t},Object(n[\"toDisplayString\"])(e),11,u))),128))]),Object(n[\"createElementVNode\"])(\"div\",m,[1===me.activeTab?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(n[\"Fragment\"],{key:0},[!me.sessionsLoading&&Object.keys(me.groupedUsersByDepartment).length>0?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",b,[(Object(n[\"openBlock\"])(!0),Object(n[\"createElementBlock\"])(n[\"Fragment\"],null,Object(n[\"renderList\"])(me.groupedUsersByDepartment,(e,t)=>(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:t,class:\"department-group\"},[Object(n[\"createElementVNode\"])(\"div\",p,Object(n[\"toDisplayString\"])(t),1),(Object(n[\"openBlock\"])(!0),Object(n[\"createElementBlock\"])(n[\"Fragment\"],null,Object(n[\"renderList\"])(e,e=>(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(n[\"normalizeClass\"])([\"contact-item\",{active:me.selectedContact===e.id}]),onClick:t=>me.selectContact(e)},[Object(n[\"createElementVNode\"])(\"div\",j,[e.avatar||e.avatar_url?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"img\",{key:1,src:e.avatar_url||e.avatar,alt:\"avatar\",class:\"avatar\"},null,8,g)):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(n[\"normalizeStyle\"])({backgroundColor:e.color})},[Object(n[\"createElementVNode\"])(\"span\",v,Object(n[\"toDisplayString\"])(e.initial),1)],4)),Object(n[\"createElementVNode\"])(\"div\",{class:Object(n[\"normalizeClass\"])([\"contact-status\",\"status-\"+e.status])},null,2)]),Object(n[\"createElementVNode\"])(\"div\",f,[Object(n[\"createElementVNode\"])(\"div\",h,[Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(e.name),1),Object(n[\"createElementVNode\"])(\"span\",y,Object(n[\"toDisplayString\"])(e.lastTime),1)]),Object(n[\"createElementVNode\"])(\"div\",_,[Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(e.lastMessage),1),e.unread?(Object(n[\"openBlock\"])(),Object(n[\"createBlock\"])(he,{key:0,value:e.unread,class:\"message-badge\"},null,8,[\"value\"])):Object(n[\"createCommentVNode\"])(\"\",!0)])])],10,O))),128))]))),128))])):me.sessionsLoading?Object(n[\"createCommentVNode\"])(\"\",!0):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",V,[Object(n[\"createVNode\"])(ye,{rows:5,animated:\"\"})]))],64)):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(n[\"Fragment\"],{key:1},[(Object(n[\"openBlock\"])(!0),Object(n[\"createElementBlock\"])(n[\"Fragment\"],null,Object(n[\"renderList\"])(me.filteredContacts,e=>(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(n[\"normalizeClass\"])([\"contact-item\",{active:me.selectedContact===e.id}]),onClick:t=>me.selectContact(e)},[Object(n[\"createElementVNode\"])(\"div\",C,[e.avatar||e.avatar_url?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"img\",{key:1,src:e.avatar_url||e.avatar,alt:\"avatar\",class:\"avatar\"},null,8,E)):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(n[\"normalizeStyle\"])({backgroundColor:e.color})},[Object(n[\"createElementVNode\"])(\"span\",k,Object(n[\"toDisplayString\"])(e.initial),1)],4)),Object(n[\"createElementVNode\"])(\"div\",{class:Object(n[\"normalizeClass\"])([\"contact-status\",\"status-\"+e.status])},null,2)]),Object(n[\"createElementVNode\"])(\"div\",N,[Object(n[\"createElementVNode\"])(\"div\",D,[Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(e.name),1),Object(n[\"createElementVNode\"])(\"span\",B,Object(n[\"toDisplayString\"])(e.lastTime),1)]),Object(n[\"createElementVNode\"])(\"div\",S,[Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(e.lastMessage),1),e.unread?(Object(n[\"openBlock\"])(),Object(n[\"createBlock\"])(he,{key:0,value:e.unread,class:\"message-badge\"},null,8,[\"value\"])):Object(n[\"createCommentVNode\"])(\"\",!0)])])],10,w))),128)),me.sessionsLoading||0!==me.filteredContacts.length?Object(n[\"createCommentVNode\"])(\"\",!0):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",A,[Object(n[\"createVNode\"])(Ve,{description:\"\",\"image-size\":100},{image:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ge,{size:64,class:\"empty-icon\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(_e)]),_:1})]),_:1})]))],64)),me.sessionsLoading?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",I,[Object(n[\"createVNode\"])(ye,{rows:5,animated:\"\"})])):Object(n[\"createCommentVNode\"])(\"\",!0)])]),Object(n[\"createElementVNode\"])(\"div\",x,[null!==me.selectedContact?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",M,[Object(n[\"createElementVNode\"])(\"div\",T,[me.currentContact.avatar||me.currentContact.avatar_url?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"img\",{key:1,src:me.currentContact.avatar_url||me.currentContact.avatar,alt:\"avatar\",class:\"avatar\"},null,8,P)):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(n[\"normalizeStyle\"])({backgroundColor:me.currentContact.color})},[Object(n[\"createElementVNode\"])(\"span\",U,Object(n[\"toDisplayString\"])(me.currentContact.initial||\"?\"),1)],4)),Object(n[\"createElementVNode\"])(\"div\",{class:Object(n[\"normalizeClass\"])([\"contact-status\",\"status-\"+(me.currentContact.status||\"online\")])},null,2)]),Object(n[\"createElementVNode\"])(\"div\",$,[Object(n[\"createElementVNode\"])(\"h6\",null,Object(n[\"toDisplayString\"])(me.currentContact.name||\"\"),1),Object(n[\"createElementVNode\"])(\"p\",null,Object(n[\"toDisplayString\"])(me.getStatusText(me.currentContact.status||\"online\")),1)])])):Object(n[\"createCommentVNode\"])(\"\",!0),null!==me.selectedContact?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",Y,[me.messages.length>0?(Object(n[\"openBlock\"])(!0),Object(n[\"createElementBlock\"])(n[\"Fragment\"],{key:0},Object(n[\"renderList\"])(me.messages,(e,t)=>(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:e.id||t,class:Object(n[\"normalizeClass\"])([\"message\",e.sender.id===me.userId?\"message-sent\":\"message-received\"])},[Object(n[\"createElementVNode\"])(\"div\",F,[e.sender.id!==me.userId?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",L,[e.sender.avatar||e.sender.avatar_url?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"img\",{key:1,src:e.sender.avatar_url||e.sender.avatar,alt:\"avatar\",class:\"avatar small\"},null,8,H)):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar small\",style:Object(n[\"normalizeStyle\"])({backgroundColor:me.getSenderColor(e.sender)})},[Object(n[\"createElementVNode\"])(\"span\",z,Object(n[\"toDisplayString\"])(me.getSenderInitial(e.sender)),1)],4))])):Object(n[\"createCommentVNode\"])(\"\",!0),Object(n[\"createElementVNode\"])(\"div\",R,[Object(n[\"createElementVNode\"])(\"div\",{class:Object(n[\"normalizeClass\"])([\"message-content\",e.sender.id===me.userId?\"sent\":\"received\"])},[\"text\"===e.message_type?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"span\",W,Object(n[\"toDisplayString\"])(e.content),1)):\"image\"===e.message_type?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",G,[Object(n[\"createElementVNode\"])(\"img\",{src:e.file,alt:\"image\"},null,8,q)])):\"file\"===e.message_type?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:2,class:\"message-file\",onClick:t=>me.downloadFile(e)},[Object(n[\"createVNode\"])(ge,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(we)]),_:1}),Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(e.file_name),1),Object(n[\"createElementVNode\"])(\"span\",J,Object(n[\"toDisplayString\"])(me.formatFileSize(e.file_size)),1)],8,K)):\"knowledge\"===e.message_type?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",{key:3,class:\"message-knowledge\",onClick:t=>me.viewKnowledge(e)},[Object(n[\"createVNode\"])(ge,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(Ce)]),_:1}),Object(n[\"createElementVNode\"])(\"div\",X,[Object(n[\"createElementVNode\"])(\"div\",Z,Object(n[\"toDisplayString\"])(e.knowledge_detail.title),1),Object(n[\"createElementVNode\"])(\"div\",ee,Object(n[\"toDisplayString\"])(e.knowledge_detail.description),1)])],8,Q)):Object(n[\"createCommentVNode\"])(\"\",!0)],2),Object(n[\"createElementVNode\"])(\"div\",te,Object(n[\"toDisplayString\"])(me.formatMessageTime(e.created_at)),1),e.calendar_data&&!me.hiddenCalendarEvents.includes(e.id)?(Object(n[\"openBlock\"])(),Object(n[\"createBlock\"])(ke,{key:0,messageId:e.id,eventData:e.calendar_data,onCalendarEventAdded:me.handleCalendarEventAdded,onCalendarEventHidden:t=>me.handleCalendarEventHidden(e.id)},null,8,[\"messageId\",\"eventData\",\"onCalendarEventAdded\",\"onCalendarEventHidden\"])):Object(n[\"createCommentVNode\"])(\"\",!0)])])],2))),128)):me.messagesLoading?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",ne,[Object(n[\"createVNode\"])(ye,{rows:3,animated:\"\"}),Object(n[\"createVNode\"])(ye,{style:{\"margin-top\":\"20px\"},rows:2,animated:\"\"}),Object(n[\"createElementVNode\"])(\"div\",re,[Object(n[\"createVNode\"])(ye,{rows:2,animated:\"\"})])])):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",ae,[Object(n[\"createVNode\"])(Ve,{description:\"\"},{image:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ge,{size:64,class:\"empty-icon\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(Ee)]),_:1})]),default:Object(n[\"withCtx\"])(()=>[t[6]||(t[6]=Object(n[\"createElementVNode\"])(\"p\",null,\"\",-1))]),_:1})]))],512)):Object(n[\"createCommentVNode\"])(\"\",!0),null!==me.selectedContact?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",oe,[Object(n[\"createElementVNode\"])(\"div\",le,[Object(n[\"createVNode\"])(De,{content:\"\",placement:\"top\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(fe,{circle:\"\",onClick:me.openImageUpload,loading:me.imageUploading},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ge,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(Ne)]),_:1})]),_:1},8,[\"onClick\",\"loading\"])]),_:1}),Object(n[\"createVNode\"])(De,{content:\"\",placement:\"top\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(fe,{circle:\"\",onClick:me.openFileUpload,loading:me.fileUploading},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ge,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(Be)]),_:1})]),_:1},8,[\"onClick\",\"loading\"])]),_:1})]),Object(n[\"createElementVNode\"])(\"div\",ce,[Object(n[\"createVNode\"])(je,{modelValue:me.messageInput,\"onUpdate:modelValue\":t[1]||(t[1]=e=>me.messageInput=e),type:\"textarea\",rows:3,placeholder:\"...\",resize:\"none\",onKeyup:Object(n[\"withKeys\"])(Object(n[\"withModifiers\"])(me.sendMessage,[\"prevent\"]),[\"enter\"])},null,8,[\"modelValue\",\"onKeyup\"])]),Object(n[\"createElementVNode\"])(\"div\",se,[Object(n[\"createVNode\"])(fe,{type:\"primary\",onClick:me.sendMessage},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(ge,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(Se)]),_:1}),t[7]||(t[7]=Object(n[\"createTextVNode\"])(\"  \"))]),_:1},8,[\"onClick\"])])])):Object(n[\"createCommentVNode\"])(\"\",!0),null===me.selectedContact?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",ie,[Object(n[\"createElementVNode\"])(\"div\",de,[Object(n[\"createVNode\"])(ge,{size:64},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(Ae)]),_:1})]),t[8]||(t[8]=Object(n[\"createElementVNode\"])(\"h4\",null,\"\",-1)),t[9]||(t[9]=Object(n[\"createElementVNode\"])(\"p\",null,\"\",-1))])):Object(n[\"createCommentVNode\"])(\"\",!0)])])]),_:1}),Object(n[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"fileInput\",style:{display:\"none\"},onChange:t[2]||(t[2]=(...e)=>me.handleFileUpload&&me.handleFileUpload(...e))},null,544),Object(n[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"imageInput\",style:{display:\"none\"},accept:\"image/*\",onChange:t[3]||(t[3]=(...e)=>me.handleImageUpload&&me.handleImageUpload(...e))},null,544),Object(n[\"createVNode\"])(Ue,{modelValue:me.knowledgeDialogVisible,\"onUpdate:modelValue\":t[5]||(t[5]=e=>me.knowledgeDialogVisible=e),title:\"\",width:\"50%\"},{footer:Object(n[\"withCtx\"])(()=>[Object(n[\"createElementVNode\"])(\"span\",ue,[Object(n[\"createVNode\"])(fe,{onClick:t[4]||(t[4]=e=>me.knowledgeDialogVisible=!1)},{default:Object(n[\"withCtx\"])(()=>t[11]||(t[11]=[Object(n[\"createTextVNode\"])(\"\")])),_:1})])]),default:Object(n[\"withCtx\"])(()=>[Object(n[\"withDirectives\"])((Object(n[\"openBlock\"])(),Object(n[\"createBlock\"])(Te,{data:me.knowledgeList,style:{width:\"100%\"},onRowClick:me.selectKnowledge},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(xe,{prop:\"title\",label:\"\"}),Object(n[\"createVNode\"])(xe,{prop:\"file_type\",label:\"\"},{default:Object(n[\"withCtx\"])(e=>[Object(n[\"createVNode\"])(Me,null,{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(e.row.file_type),1)]),_:2},1024)]),_:1}),Object(n[\"createVNode\"])(xe,{prop:\"created_at\",label:\"\"},{default:Object(n[\"withCtx\"])(e=>[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(me.formatDate(e.row.created_at)),1)]),_:1}),Object(n[\"createVNode\"])(xe,{label:\"\"},{default:Object(n[\"withCtx\"])(e=>[Object(n[\"createVNode\"])(fe,{type:\"primary\",size:\"small\",onClick:Object(n[\"withModifiers\"])(t=>me.shareKnowledge(e.row),[\"stop\"])},{default:Object(n[\"withCtx\"])(()=>t[10]||(t[10]=[Object(n[\"createTextVNode\"])(\"  \")])),_:2},1032,[\"onClick\"])]),_:1})]),_:1},8,[\"data\",\"onRowClick\"])),[[Pe,me.knowledgeLoading]])]),_:1},8,[\"modelValue\"])])}a(\"d9e2\"),a(\"14d9\"),a(\"e9f5\"),a(\"910d\"),a(\"f665\"),a(\"7d54\"),a(\"ab43\"),a(\"a732\"),a(\"88a7\"),a(\"271a\"),a(\"5494\");var be=a(\"5502\"),pe=a(\"3ef4\"),Oe=a(\"c9a1\"),je=a(\"f6f2\"),ve=a(\"d800\"),ge=a(\"db6a\"),fe=a(\"6605\"),he=a(\"b775\");const ye={key:0,class:\"calendar-event-container\"},_e={class:\"calendar-event-card\"},Ve={class:\"el-icon calendar-icon\"},we={class:\"event-title\"},Ce={class:\"calendar-event-content\"},ke={class:\"event-time\"},Ee={class:\"el-icon\"},Ne={key:0,class:\"event-location\"},De={class:\"el-icon\"},Be={key:1,class:\"event-description\"},Se={class:\"el-icon\"},Ae={key:0,class:\"calendar-event-actions\"},Ie={key:1,class:\"calendar-event-success\"},xe={class:\"dialog-footer\"};function Me(e,t,a,r,o,l){const c=Object(n[\"resolveComponent\"])(\"Calendar\"),s=Object(n[\"resolveComponent\"])(\"Clock\"),i=Object(n[\"resolveComponent\"])(\"Location\"),d=Object(n[\"resolveComponent\"])(\"InfoFilled\"),u=Object(n[\"resolveComponent\"])(\"el-button\"),m=Object(n[\"resolveComponent\"])(\"el-alert\"),b=Object(n[\"resolveComponent\"])(\"el-input\"),p=Object(n[\"resolveComponent\"])(\"el-form-item\"),O=Object(n[\"resolveComponent\"])(\"el-date-picker\"),j=Object(n[\"resolveComponent\"])(\"el-option\"),v=Object(n[\"resolveComponent\"])(\"el-select\"),g=Object(n[\"resolveComponent\"])(\"el-switch\"),f=Object(n[\"resolveComponent\"])(\"el-form\"),h=Object(n[\"resolveComponent\"])(\"el-dialog\");return a.eventData?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",ye,[Object(n[\"createElementVNode\"])(\"div\",_e,[Object(n[\"createElementVNode\"])(\"div\",{class:Object(n[\"normalizeClass\"])([\"calendar-event-header\",\"event-type-\"+a.eventData.type])},[Object(n[\"createElementVNode\"])(\"i\",Ve,[Object(n[\"createVNode\"])(c)]),Object(n[\"createElementVNode\"])(\"span\",we,Object(n[\"toDisplayString\"])(a.eventData.title),1)],2),Object(n[\"createElementVNode\"])(\"div\",Ce,[Object(n[\"createElementVNode\"])(\"div\",ke,[Object(n[\"createElementVNode\"])(\"i\",Ee,[Object(n[\"createVNode\"])(s)]),Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(r.formatDateRange(a.eventData.start,a.eventData.end)),1)]),a.eventData.location?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",Ne,[Object(n[\"createElementVNode\"])(\"i\",De,[Object(n[\"createVNode\"])(i)]),Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(a.eventData.location),1)])):Object(n[\"createCommentVNode\"])(\"\",!0),a.eventData.description?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",Be,[Object(n[\"createElementVNode\"])(\"i\",Se,[Object(n[\"createVNode\"])(d)]),Object(n[\"createElementVNode\"])(\"span\",null,Object(n[\"toDisplayString\"])(a.eventData.description),1)])):Object(n[\"createCommentVNode\"])(\"\",!0)]),r.calendarEventAdded?(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",Ie,[Object(n[\"createVNode\"])(m,{type:\"success\",closable:!1,\"show-icon\":\"\"},{default:Object(n[\"withCtx\"])(()=>t[13]||(t[13]=[Object(n[\"createElementVNode\"])(\"span\",null,\"\",-1)])),_:1})])):(Object(n[\"openBlock\"])(),Object(n[\"createElementBlock\"])(\"div\",Ae,[Object(n[\"createVNode\"])(u,{type:\"primary\",size:\"small\",onClick:r.showDetails},{default:Object(n[\"withCtx\"])(()=>t[10]||(t[10]=[Object(n[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"]),Object(n[\"createVNode\"])(u,{type:\"success\",size:\"small\",onClick:r.addToCalendar},{default:Object(n[\"withCtx\"])(()=>t[11]||(t[11]=[Object(n[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"]),Object(n[\"createVNode\"])(u,{type:\"default\",size:\"small\",onClick:r.hideCalendarEvent},{default:Object(n[\"withCtx\"])(()=>t[12]||(t[12]=[Object(n[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"])]))]),Object(n[\"createVNode\"])(h,{modelValue:r.detailsVisible,\"onUpdate:modelValue\":t[9]||(t[9]=e=>r.detailsVisible=e),title:\"\",width:\"500px\"},{footer:Object(n[\"withCtx\"])(()=>[Object(n[\"createElementVNode\"])(\"div\",xe,[Object(n[\"createVNode\"])(u,{onClick:t[8]||(t[8]=e=>r.detailsVisible=!1)},{default:Object(n[\"withCtx\"])(()=>t[14]||(t[14]=[Object(n[\"createTextVNode\"])(\"\")])),_:1}),Object(n[\"createVNode\"])(u,{type:\"primary\",onClick:r.addToCalendarWithEdits},{default:Object(n[\"withCtx\"])(()=>t[15]||(t[15]=[Object(n[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"])])]),default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(f,{model:r.editableEvent,\"label-width\":\"80px\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(b,{modelValue:r.editableEvent.title,\"onUpdate:modelValue\":t[0]||(t[0]=e=>r.editableEvent.title=e),placeholder:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(O,{modelValue:r.editableEvent.start,\"onUpdate:modelValue\":t[1]||(t[1]=e=>r.editableEvent.start=e),type:\"datetime\",placeholder:\"\",format:\"YYYY-MM-DD HH:mm\",\"value-format\":\"YYYY-MM-DD HH:mm:ss\"},null,8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(O,{modelValue:r.editableEvent.end,\"onUpdate:modelValue\":t[2]||(t[2]=e=>r.editableEvent.end=e),type:\"datetime\",placeholder:\"\",format:\"YYYY-MM-DD HH:mm\",\"value-format\":\"YYYY-MM-DD HH:mm:ss\"},null,8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(b,{modelValue:r.editableEvent.location,\"onUpdate:modelValue\":t[3]||(t[3]=e=>r.editableEvent.location=e),placeholder:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(v,{modelValue:r.editableEvent.type,\"onUpdate:modelValue\":t[4]||(t[4]=e=>r.editableEvent.type=e),placeholder:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(j,{label:\"\",value:\"blue\"}),Object(n[\"createVNode\"])(j,{label:\"\",value:\"orange\"}),Object(n[\"createVNode\"])(j,{label:\"\",value:\"green\"}),Object(n[\"createVNode\"])(j,{label:\"\",value:\"red\"}),Object(n[\"createVNode\"])(j,{label:\"\",value:\"purple\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(v,{modelValue:r.editableEvent.reminder,\"onUpdate:modelValue\":t[5]||(t[5]=e=>r.editableEvent.reminder=e),placeholder:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(j,{label:\"\",value:\"none\"}),Object(n[\"createVNode\"])(j,{label:\"10\",value:\"10min\"}),Object(n[\"createVNode\"])(j,{label:\"30\",value:\"30min\"}),Object(n[\"createVNode\"])(j,{label:\"1\",value:\"1hour\"}),Object(n[\"createVNode\"])(j,{label:\"1\",value:\"1day\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(g,{modelValue:r.editableEvent.is_all_day,\"onUpdate:modelValue\":t[6]||(t[6]=e=>r.editableEvent.is_all_day=e)},null,8,[\"modelValue\"])]),_:1}),Object(n[\"createVNode\"])(p,{label:\"\"},{default:Object(n[\"withCtx\"])(()=>[Object(n[\"createVNode\"])(b,{modelValue:r.editableEvent.description,\"onUpdate:modelValue\":t[7]||(t[7]=e=>r.editableEvent.description=e),type:\"textarea\",rows:3,placeholder:\"\"},null,8,[\"modelValue\"])]),_:1})]),_:1},8,[\"model\"])]),_:1},8,[\"modelValue\"])])):Object(n[\"createCommentVNode\"])(\"\",!0)}function Te(e,t=\"YYYY-MM-DD\"){if(!e)return\"\";if(!(e instanceof Date)&&(e=new Date(e),isNaN(e.getTime())))return\"\";const a=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),o=e.getHours(),l=e.getMinutes(),c=e.getSeconds(),s=e=>e<10?\"0\"+e:e;return t.replace(/YYYY/g,a).replace(/YY/g,String(a).slice(2)).replace(/MM/g,s(n)).replace(/M/g,n).replace(/DD/g,s(r)).replace(/D/g,r).replace(/HH/g,s(o)).replace(/H/g,o).replace(/hh/g,s(o%12||12)).replace(/h/g,o%12||12).replace(/mm/g,s(l)).replace(/m/g,l).replace(/ss/g,s(c)).replace(/s/g,c)}var Ue={name:\"ChatCalendarEvent\",components:{Calendar:je[\"Calendar\"],Clock:je[\"Clock\"],Location:je[\"Location\"],InfoFilled:je[\"InfoFilled\"]},props:{messageId:{type:Number,required:!0},eventData:{type:Object,required:!0}},emits:[\"calendar-event-added\",\"calendar-event-hidden\"],setup(e,{emit:t}){const a=Object(n[\"ref\"])(!1),r=Object(n[\"ref\"])(!1),{eventData:o}=Object(n[\"toRefs\"])(e),l=Object(n[\"reactive\"])({title:\"\",start:\"\",end:\"\",location:\"\",type:\"blue\",reminder:\"30min\",description:\"\",is_all_day:!1}),c=()=>{o.value&&(l.title=o.value.title||\"\",l.start=s(o.value.start),l.end=s(o.value.end),l.location=o.value.location||\"\",l.type=o.value.type||\"blue\",l.reminder=o.value.reminder||\"30min\",l.description=o.value.description||\"\",l.is_all_day=o.value.is_all_day||!1)},s=e=>{if(!e)return\"\";try{const t=new Date(e);return Te(t,\"YYYY-MM-DD HH:mm:ss\")}catch(t){return\"\"}},i=()=>{c(),r.value=!0},d=async()=>{try{await Object(ve[\"a\"])(e.messageId),a.value=!0,pe[\"a\"].success(\"\"),t(\"calendar-event-added\")}catch(o){var n,r;pe[\"a\"].error(\"\"+((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||o.message))}},u=async()=>{try{await Object(ve[\"a\"])(e.messageId,l),a.value=!0,r.value=!1,pe[\"a\"].success(\"\"),t(\"calendar-event-added\")}catch(c){var n,o;pe[\"a\"].error(\"\"+((null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||c.message))}},m=()=>{t(\"calendar-event-hidden\")},b=(e,t)=>{if(!e)return\"\";try{const a=new Date(e),n=t?new Date(t):null,r=Te(a,\"YYYYMMDD HH:mm\");return n?a.toDateString()===n.toDateString()?`${Te(a,\"YYYYMMDD HH:mm\")} - ${Te(n,\"HH:mm\")}`:`${Te(a,\"YYYYMMDD HH:mm\")} - ${Te(n,\"YYYYMMDD HH:mm\")}`:r}catch(a){return\"\"}};return{calendarEventAdded:a,detailsVisible:r,editableEvent:l,showDetails:i,addToCalendar:d,addToCalendarWithEdits:u,hideCalendarEvent:m,formatDateRange:b}}},Pe=(a(\"df38\"),a(\"6b0d\")),$e=a.n(Pe);const Ye=$e()(Ue,[[\"render\",Me],[\"__scopeId\",\"data-v-c8fe79b0\"]]);var Fe=Ye,Le=a(\"48cf\"),ze={name:\"Chat\",components:{ChatCalendarEvent:Fe},setup(){const e=Object(be[\"b\"])(),t=Object(n[\"computed\"])(()=>e.getters.user),a=Object(n[\"ref\"])(null),r=Object(n[\"ref\"])(\"\"),o=Object(n[\"ref\"])(0),l=Object(n[\"ref\"])(null),c=Object(n[\"ref\"])(\"\"),s=Object(n[\"ref\"])(null),i=Object(n[\"ref\"])(null),d=Object(n[\"ref\"])(null),u=Object(n[\"ref\"])([]),m=Object(n[\"ref\"])(!1),b=Object(n[\"ref\"])(!1),p=Object(n[\"ref\"])([]),O=Object(n[\"ref\"])(null),j=Object(n[\"ref\"])(!1),v=Object(n[\"ref\"])(!1),g=Object(n[\"ref\"])([]),f=Object(n[\"ref\"])(null),h=Object(n[\"ref\"])([\"\",\"\"]),y=Object(n[\"ref\"])([]),_=Object(n[\"ref\"])([]),V=Object(n[\"ref\"])([]),w=Object(n[\"computed\"])(()=>null===l.value?{}:y.value.find(e=>e.id===l.value)||{}),C=Object(n[\"computed\"])(()=>{var e;return(null===(e=a.value)||void 0===e?void 0:e.id)||null}),k=Object(n[\"computed\"])(()=>r.value?y.value.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())):y.value),E=Object(n[\"computed\"])(()=>0===o.value?k.value:1===o.value?k.value.filter(e=>!e.isGroup):k.value),N=Object(n[\"computed\"])(()=>{const e=new Map;k.value.filter(e=>!e.isGroup).forEach(t=>{a.value&&t.userId===a.value.id||e.set(t.userId||t.id,t)}),_.value.forEach(t=>{if((!a.value||t.id!==a.value.id)&&!e.has(t.id)){const a={id:\"user_\"+t.id,userId:t.id,name:((t.first_name||\"\")+\" \"+(t.last_name||\"\")).trim()||t.username||\"\",initial:(t.first_name||t.username||\"\")[0],avatar:t.avatar||\"\",color:X(t.id),status:\"online\",lastMessage:\"\",lastTime:\"\",unread:0,isGroup:!1,department:t.department||\"\"};e.set(t.id,a)}});const t=new Map(V.value.map(e=>[e.id,e.name])),n={};return Array.from(e.values()).forEach(e=>{const a=t.get(e.department)||\"\";n[a]||(n[a]=[]),n[a].push(e)}),n}),D=Object(fe[\"c\"])();let B=null;Object(n[\"onBeforeUnmount\"])(()=>{B&&clearInterval(B)}),Object(n[\"onMounted\"])(async()=>{try{const e=await S();if(!e)return void pe[\"a\"].error(\"\");if(console.log(\":\",e),!a.value||!a.value.id)return console.error(\":\",a.value),void pe[\"a\"].error(\"\");console.log(\":\",a.value),await re(),await oe(),await A();const t=D.query.session||D.query.id;if(t){const e=y.value.find(e=>e.id===parseInt(t));e?(l.value=e.id,await I(t)):(console.log(\"ID:\",t),await I(t))}B=setInterval(async()=>{l.value&&await I(l.value,!0),await A(!0)},3e4),await Object(n[\"nextTick\"])(),M()}catch(e){console.error(\":\",e),pe[\"a\"].error(\": \"+e.message)}});const S=async()=>{try{console.log(\"...\");const e=localStorage.getItem(\"token\");if(!e)return console.warn(\"token\"),pe[\"a\"].warning(\"\"),null;const t=await Object(he[\"a\"])({url:\"/api/auth/users/me/\",method:\"get\"});console.log(\":\",t);let n=null;if(t.data&&t.data.id)n=t.data,console.log(\"data:\",n);else if(t.data&&t.data.data&&t.data.data.id)n=t.data.data,console.log(\"data:\",n);else{if(!t.id)throw console.error(\":\",t),new Error(\"\");n=t,console.log(\":\",n)}if(!n||!n.id)throw console.error(\":\",n),new Error(\"\");return a.value=n,localStorage.setItem(\"user\",JSON.stringify(n)),console.log(\":\",a.value),n}catch(e){return console.error(\":\",e),pe[\"a\"].error(\": \"+(e.message||\"\")),null}},A=async(e=!1)=>{try{e||(m.value=!0),console.log(\"...\");const t=await Object(ve[\"g\"])();if(console.log(\":\",t),!t)return console.error(\"\"),void(y.value=[]);let n;t.success&&t.data?(n=t.data,console.log(\":\",n)):(n=t,console.log(\":\",n)),p.value=n,n&&Array.isArray(n.results)?(console.log(\", :\",n.results.length),y.value=n.results.map(e=>{let t=null;if(e.participants&&Array.isArray(e.participants)&&(t=a.value&&a.value.id?e.participants.find(e=>e.user&&e.user.id!==a.value.id):e.participants[0]),e.is_group)return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!0};if(t){const a=t.user;let n=\"\";if(a.avatar){const e=a.avatar;n=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}return{id:e.id,userId:a.id,name:((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\",initial:(a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:n,color:X(a.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!1,department:a.department||\"\"}}return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:e.is_group,department:\"\"}})):n&&Array.isArray(n)?(console.log(\", :\",n.length),y.value=n.map(e=>{let t=null;if(e.participants&&Array.isArray(e.participants)&&(t=a.value&&a.value.id?e.participants.find(e=>e.user&&e.user.id!==a.value.id):e.participants[0]),e.is_group)return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!0};if(t){const a=t.user;let n=\"\";if(a.avatar){const e=a.avatar;n=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}return{id:e.id,name:((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\",initial:(a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:n,color:X(a.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!1,department:a.department||\"\"}}return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:e.is_group,department:\"\"}})):(console.error(\":\",n),y.value=[]),console.log(\":\",y.value),y.value.length>0&&y.value.sort((e,t)=>t.unread-e.unread)}catch(t){console.error(\":\",t),pe[\"a\"].error(\": \"+(t.message||\"\")),y.value=[]}finally{e||(m.value=!1)}},I=async(e,t=!1)=>{if(e)try{t||(b.value=!0),console.log(` ${e} ...`);const o=await Object(ve[\"f\"])(e);if(console.log(\":\",o),!o)return console.error(\"\"),void(u.value=[]);let c=[],s=null;if(o.data&&o.data.messages)c=o.data.messages,s=o.data,console.log(\":\",c.length);else if(o.data&&o.data.data&&o.data.data.messages)c=o.data.data.messages,s=o.data.data,console.log(\":\",c.length);else if(o.messages)c=o.messages,s=o,console.log(\":\",c.length);else{console.warn(\":\",o),console.log(\"...\");const e=[\"message\",\"chat_messages\",\"chats\",\"content\"];for(const t of e){if(o[t]&&Array.isArray(o[t])){console.log(` ${t}`),c=o[t],s=o;break}if(o.data&&o.data[t]&&Array.isArray(o.data[t])){console.log(`data ${t}`),c=o.data[t],s=o.data;break}}0===c.length&&console.warn(\"\")}if(c.forEach(e=>{if(e.sender&&e.sender.avatar){const t=e.sender.avatar;t.startsWith(\"http://\")||t.startsWith(\"https://\")?e.sender.avatar_url=t:t.startsWith(\"/\")?e.sender.avatar_url=`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${t}`:e.sender.avatar_url=`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${t}`}}),console.log(\":\",s),console.log(\":\",c),s&&!y.value.some(t=>t.id===parseInt(e))){console.log(\":\",s);const t=s;let n=null;t.participants&&Array.isArray(t.participants)&&t.participants.length>0&&a.value&&(n=t.participants.find(e=>e.user&&e.user.id!==a.value.id));let r=null;if(t.is_group)r={id:parseInt(e),name:t.title||\"\",initial:(t.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(parseInt(e)),status:\"online\",lastMessage:t.last_message?t.last_message.content:\"\",lastTime:Z(t.updated_at),unread:0,isGroup:!0};else if(n&&n.user){const a=n.user;let o=\"\";if(a.avatar){const e=a.avatar;o=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}r={id:parseInt(e),name:((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\",initial:(a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:o,color:X(a.id),status:\"online\",lastMessage:t.last_message?t.last_message.content:\"\",lastTime:Z(t.updated_at),unread:0,isGroup:!1}}else r={id:parseInt(e),name:t.title||\"\",initial:(t.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(parseInt(e)),status:\"online\",lastMessage:\"\",lastTime:Z(t.updated_at),unread:0,isGroup:t.is_group};r&&(y.value.unshift(r),console.log(\":\",r))}u.value=c||[],O.value=parseInt(e),l.value=parseInt(e);try{const t=await Object(he[\"a\"])({url:\"/api/ai/documents/\",method:\"get\",params:{chat:e}});t&&t.data&&Array.isArray(t.data.results)&&(ie.value=t.data.results.map(e=>e.id),console.log(\"ID:\",ie.value))}catch(r){ie.value=[]}Object(n[\"nextTick\"])(()=>{M()})}catch(o){console.error(\":\",o);let e=\"\";if(o.response){const t=o.response.status;404===t?e=\"\":403===t?e=\"\":o.response.data&&o.response.data.message&&(e=o.response.data.message)}else o.message&&(e=o.message);pe[\"a\"].error(e),u.value=[]}finally{t||(b.value=!1)}else console.error(\": chatId\")},x=async()=>{if(await re(),await oe(),await A(),O.value){const e=y.value.find(e=>e.id===O.value);e&&(l.value=e.id)}},M=()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)},T=async e=>{if(!e.isGroup&&a.value&&e.userId===a.value.id)return void pe[\"a\"].warning(\"\");console.log(\":\",e);let t=e.id;if(\"string\"===typeof t&&t.startsWith(\"user_\")){let a=e.userId||e.id.replace(\"user_\",\"\");console.log(\":\",a);const n=y.value.find(e=>!e.isGroup&&(e.userId&&e.userId==a||e.user&&e.user.id==a));if(n)console.log(\":\",n),t=n.id;else{console.log(\"\");try{const n=await Object(he[\"a\"])({url:\"/api/chat/sessions/\",method:\"post\",data:{participant_ids:[a],is_group:!1}});console.log(\":\",n);let r=null;if(n&&n.data?r=n.data:n&&n.id&&(r=n),!r||!r.id)throw new Error(\"\");{const n={id:r.id,userId:a,name:e.name,initial:e.initial,avatar:e.avatar,avatar_url:e.avatar_url||\"\",color:e.color||X(a),status:\"online\",lastMessage:\"\",lastTime:Z(new Date),unread:0,isGroup:!1,department:e.department};y.value.unshift(n),t=r.id,pe[\"a\"].success(\"\")}}catch(r){return console.error(\":\",r),void pe[\"a\"].error(\": \"+(r.message||\"\"))}}}l.value=t,c.value=\"\",u.value=[];try{await I(t),Object(n[\"nextTick\"])(()=>{M()})}catch(r){console.error(\":\",r),pe[\"a\"].error(\"\"+(r.message||\"\"))}};Object(n[\"watch\"])(u,()=>{Object(n[\"nextTick\"])(()=>{M()})});const U=async()=>{if(c.value.trim()&&O.value)try{if(console.log(\"IDs:\",ie.value),!a.value||!a.value.id){const e=await S();if(!e||!e.id)throw new Error(\"\")}const e={id:\"temp-\"+Date.now(),content:c.value.trim(),sender:{id:a.value.id,username:a.value.username||\"\",first_name:a.value.first_name||\"\",last_name:a.value.last_name||\"\"},message_type:\"text\",created_at:(new Date).toISOString(),is_temp:!0};u.value.push(e);const t=c.value;let r,o;if(c.value=\"\",await Object(n[\"nextTick\"])(),M(),ie.value&&ie.value.length>0){r=await Object(Le[\"a\"])({message:t,chat_id:O.value,document_ids:ie.value});let a=\"\";if(r&&\"string\"===typeof r.data?a=r.data:r&&r.data&&r.data.message&&(a=r.data.message),a){o={id:\"ai-\"+Date.now(),content:a,sender:{id:0,username:\"AI\"},message_type:\"text\",created_at:(new Date).toISOString()};const t=u.value.findIndex(t=>t.id===e.id);-1!==t?u.value.splice(t,1,o):u.value.push(o)}}else{r=await Object(ve[\"k\"])({chat:O.value,content:t});let n=null;r&&r.success&&r.data?n=r.data:r&&r.id?n=r:r&&r.chat&&(n={id:r.id||\"msg-\"+Date.now(),content:r.content,message_type:r.message_type,file:r.file,created_at:r.created_at||(new Date).toISOString(),sender:{id:a.value.id,username:a.value.username||\"\",first_name:a.value.first_name||\"\",last_name:a.value.last_name||\"\"}});const o=u.value.findIndex(t=>t.id===e.id);-1!==o&&n?u.value.splice(o,1,n):n&&u.value.push(n)}await Object(n[\"nextTick\"])(),M()}catch(e){console.error(\":\",e),u.value=u.value.filter(e=>!e.is_temp),c.value=e.savedMessage||c.value,pe[\"a\"].error(\"\")}},P=()=>{i.value.click()},$=()=>{d.value.click()},Y=Object(n[\"ref\"])(!1),F=Object(n[\"ref\"])(!1),L=async e=>{const t=e.target.files[0];if(t&&O.value)try{Y.value=!0,await Object(ve[\"h\"])(O.value,\": \"+t.name,t);const a=new FormData;a.append(\"file\",t),a.append(\"chat\",O.value),await Object(he[\"a\"])({url:\"/api/ai/documents/upload/\",method:\"post\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}});const n=await Object(he[\"a\"])({url:\"/api/ai/documents/\",method:\"get\",params:{chat:O.value}});n&&n.data&&Array.isArray(n.data.results)&&(ie.value=n.data.results.map(e=>e.id),console.log(\"IDs:\",ie.value)),pe[\"a\"].success(\"\"),I(O.value,!0),e.target.value=\"\"}catch(a){console.error(\":\",a),pe[\"a\"].error(\"\")}finally{Y.value=!1}},z=async e=>{const t=e.target.files[0];if(t&&O.value)try{F.value=!0,await Object(ve[\"i\"])(O.value,\"\",t),I(O.value,!0),e.target.value=\"\"}catch(a){console.error(\":\",a),pe[\"a\"].error(\"\")}finally{F.value=!1}},H=async()=>{j.value=!0,await R()},R=async()=>{try{v.value=!0;const{data:e}=await Object(ge[\"j\"])();g.value=e}catch(e){console.error(\":\",e),pe[\"a\"].error(\"\")}finally{v.value=!1}},W=e=>{f.value=e},G=async e=>{if(O.value)try{await Object(ve[\"j\"])(O.value,\": \"+e.title,e.id),j.value=!1,I(O.value,!0)}catch(t){console.error(\":\",t),pe[\"a\"].error(\"\")}},q=async e=>{try{const t=await Object(ve[\"c\"])(e.id),a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement(\"a\");n.href=a,n.setAttribute(\"download\",e.file_name||\"download\"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(t){console.error(\":\",t),pe[\"a\"].error(\"\")}},K=e=>{e.knowledge_detail&&Oe[\"a\"].alert(`: ${e.knowledge_detail.title}<br>: ${e.knowledge_detail.description||\"\"}`,\"\",{dangerouslyUseHTMLString:!0,confirmButtonText:\"\"})},J=e=>X(e.id),Q=e=>(e.first_name||e.username)[0],X=e=>{const t=[\"#007bff\",\"#28a745\",\"#dc3545\",\"#fd7e14\",\"#6f42c1\",\"#20c997\",\"#17a2b8\",\"#6c757d\"],a=\"number\"===typeof e?e%t.length:0;return t[a]},Z=e=>{if(!e)return\"\";const t=new Date(e),a=new Date,n=a-t;if(n<864e5){const e=t.getHours().toString().padStart(2,\"0\"),a=t.getMinutes().toString().padStart(2,\"0\");return`${e}:${a}`}if(n<6048e5){const e=[\"\",\"\",\"\",\"\",\"\",\"\",\"\"];return e[t.getDay()]}return`${t.getMonth()+1}${t.getDate()}`},ee=e=>{if(!e)return\"\";const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,\"0\")}-${t.getDate().toString().padStart(2,\"0\")}`},te=e=>e<1024?e+\" KB\":(e/1024).toFixed(2)+\" MB\",ae=e=>{const t={online:\"\",offline:\"\",busy:\"\",away:\"\"};return t[e]||e},ne=async()=>{try{pe[\"a\"].info(\"...\");const e=await S();if(!e)return void pe[\"a\"].error(\"\");await A(),0===y.value.length?pe[\"a\"].warning(\"\"):pe[\"a\"].success(\" \"+y.value.length+\" \")}catch(e){console.error(\":\",e),pe[\"a\"].error(\": \"+(e.message||\"\"))}},re=async()=>{try{console.log(\"...\");try{console.log(\"...\");const e=await Object(he[\"a\"])({url:\"/api/auth/users/\",method:\"get\"});console.log(\"API:\",e);let t=[];if(e&&e.results?t=e.results:Array.isArray(e)?t=e:e&&e.data&&(Array.isArray(e.data)?t=e.data:e.data.results&&(t=e.data.results)),t&&t.length>0)return console.log(`${t.length}`),void(_.value=t)}catch(e){console.error(\":\",e)}console.warn(\"API\"),_.value=[{id:1,username:\"zhangsan\",first_name:\"\",last_name:\"\",department:1,avatar:\"\"},{id:2,username:\"lisi\",first_name:\"\",last_name:\"\",department:2,avatar:\"\"},{id:3,username:\"wangwu\",first_name:\"\",last_name:\"\",department:3,avatar:\"\"},{id:4,username:\"zhaoliu\",first_name:\"\",last_name:\"\",department:\"\",avatar:\"\"}],console.log(\"\")}catch(e){console.error(\":\",e),_.value=[{id:1,username:\"user1\",first_name:\"\",last_name:\"1\",department:\"\"},{id:2,username:\"user2\",first_name:\"\",last_name:\"2\",department:\"\"},{id:3,username:\"user3\",first_name:\"\",last_name:\"3\",department:\"\"},{id:4,username:\"user4\",first_name:\"\",last_name:\"4\",department:\"\"}]}},oe=async()=>{try{console.log(\"...\");const e=await Object(he[\"a\"])({url:\"/api/auth/departments/\",method:\"get\"});console.log(\":\",e);let t=[];e&&e.results?t=e.results:Array.isArray(e)?t=e:e&&e.data&&(Array.isArray(e.data)?t=e.data:e.data.results&&(t=e.data.results)),t&&t.length>0&&(console.log(`${t.length}`),V.value=t)}catch(e){console.error(\":\",e)}},le=Object(n[\"ref\"])([]),ce=()=>{},se=e=>{le.value.push(e)},ie=Object(n[\"ref\"])([]);return{searchQuery:r,activeTab:o,selectedContact:l,tabs:h,contacts:y,currentContact:w,filteredContacts:k,messages:u,messageInput:c,messageContainer:s,fileInput:i,imageInput:d,currentUser:t,userInfo:a,userId:C,knowledgeDialogVisible:j,knowledgeLoading:v,knowledgeList:g,sessionsLoading:m,messagesLoading:b,Search:je[\"Search\"],Phone:je[\"Phone\"],VideoCamera:je[\"VideoCamera\"],InfoFilled:je[\"InfoFilled\"],Document:je[\"Document\"],PictureFilled:je[\"PictureFilled\"],FolderOpened:je[\"FolderOpened\"],Microphone:je[\"Microphone\"],Position:je[\"Position\"],ChatDotSquare:je[\"ChatDotSquare\"],Reading:je[\"Reading\"],UserFilled:je[\"UserFilled\"],ChatLineSquare:je[\"ChatLineSquare\"],Refresh:je[\"Refresh\"],MoreFilled:je[\"MoreFilled\"],sendMessage:U,getStatusText:ae,selectContact:T,openFileUpload:P,openImageUpload:$,handleFileUpload:L,handleImageUpload:z,openKnowledgeDialog:H,selectKnowledge:W,shareKnowledge:G,downloadFile:q,viewKnowledge:K,getSenderColor:J,getSenderInitial:Q,formatMessageTime:Z,formatDate:ee,formatFileSize:te,refreshChatSessions:x,forceRefresh:ne,groupedUsersByDepartment:N,getActiveContacts:E,loadAllUsers:re,loadDepartments:oe,hiddenCalendarEvents:le,handleCalendarEventAdded:ce,handleCalendarEventHidden:se,selectedDocumentIds:ie,fileUploading:Y,imageUploading:F}}};a(\"eb87\");const He=$e()(ze,[[\"render\",me],[\"__scopeId\",\"data-v-69d51bca\"]]);t[\"default\"]=He},\"271a\":function(e,t,a){\"use strict\";var n=a(\"cb2d\"),r=a(\"e330\"),o=a(\"577e\"),l=a(\"d6d6\"),c=URLSearchParams,s=c.prototype,i=r(s.getAll),d=r(s.has),u=new c(\"a=1\");!u.has(\"a\",2)&&u.has(\"a\",void 0)||n(s,\"has\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var n=i(this,e);l(t,1);var r=o(a),c=0;while(c<n.length)if(n[c++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},\"48cf\":function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return r})),a.d(t,\"g\",(function(){return o})),a.d(t,\"a\",(function(){return l})),a.d(t,\"b\",(function(){return c})),a.d(t,\"e\",(function(){return s})),a.d(t,\"d\",(function(){return i})),a.d(t,\"c\",(function(){return d}));a(\"d9e2\");var n=a(\"b775\");function r(){return Object(n[\"a\"])({url:\"/api/ai/schedule-reminder/\",method:\"get\"})}function o(e){return Object(n[\"a\"])({url:`/api/ai/recommendations/${e}/mark_as_read/`,method:\"post\"})}function l(e){return Object(n[\"a\"])({url:\"/api/ai/chat-with-documents/\",method:\"post\",data:e,responseType:\"text\"})}function c(e,t,a,n){const r=new AbortController,o=r.signal,l=localStorage.getItem(\"token\"),c={\"Content-Type\":\"application/json\"};return l&&(c[\"Authorization\"]=\"Bearer \"+l),fetch(\"http://localhost:8000/api/ai/chat-with-documents/\",{method:\"POST\",headers:c,body:JSON.stringify(e),signal:o}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({message:\"JSON\"}));throw new Error(t.message||\"HTTP error! Status: \"+e.status)}const r=e.body.getReader(),o=new TextDecoder(\"utf-8\");let l=\"\",c=null;const s=async()=>{while(1){const{done:s,value:i}=await r.read();if(s){l&&console.error(\"Stream finished but buffer is not empty:\",l),a&&a(c);break}l+=o.decode(i,{stream:!0});const d=l.split(\"\\n\");l=d.pop();for(const r of d)if(r.startsWith(\"data:\")){const o=r.substring(5).trim();if(\"[DONE]\"===o)return void(a&&a(c));try{const e=JSON.parse(o);t&&t(e,e.chat_id),(\"session_id\"===e.type||e.chat_id)&&(c=e.chat_id)}catch(e){console.error(\"JSON: \",o,e),n&&n(new Error(\"\"))}}}};s().catch(e=>{console.error(\"An error occurred while processing the stream:\",e),n&&n(e)})}).catch(e=>{\"AbortError\"!==e.name&&(console.error(\"Fetch request failed:\",e),n&&n(e))}),r}function s(){return Object(n[\"a\"])({url:\"/api/ai/chats/\",method:\"get\"})}function i(e){return Object(n[\"a\"])({url:`/api/ai/chats/${e}/`,method:\"get\"})}function d(e){return Object(n[\"a\"])({url:`/api/ai/chats/${e}/`,method:\"delete\"})}},5494:function(e,t,a){\"use strict\";var n=a(\"83ab\"),r=a(\"e330\"),o=a(\"edd0\"),l=URLSearchParams.prototype,c=r(l.forEach);n&&!(\"size\"in l)&&o(l,\"size\",{get:function(){var e=0;return c(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7232:function(e,t,a){},\"88a7\":function(e,t,a){\"use strict\";var n=a(\"cb2d\"),r=a(\"e330\"),o=a(\"577e\"),l=a(\"d6d6\"),c=URLSearchParams,s=c.prototype,i=r(s.append),d=r(s[\"delete\"]),u=r(s.forEach),m=r([].push),b=new c(\"a=1&a=2&b=3\");b[\"delete\"](\"a\",1),b[\"delete\"](\"b\",void 0),b+\"\"!==\"a=2\"&&n(s,\"delete\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var n=[];u(this,(function(e,t){m(n,{key:t,value:e})})),l(t,1);var r,c=o(e),s=o(a),b=0,p=0,O=!1,j=n.length;while(b<j)r=n[b++],O||r.key===c?(O=!0,d(this,r.key)):p++;while(p<j)r=n[p++],r.key===c&&r.value===s||i(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},\"910d\":function(e,t,a){\"use strict\";var n=a(\"23e7\"),r=a(\"c65b\"),o=a(\"59ed\"),l=a(\"825a\"),c=a(\"46c4\"),s=a(\"c5cc\"),i=a(\"9bdd\"),d=a(\"c430\"),u=a(\"2a62\"),m=a(\"f99f\"),b=!d&&m(\"filter\",TypeError),p=s((function(){var e,t,a,n=this.iterator,o=this.predicate,c=this.next;while(1){if(e=l(r(c,n)),t=this.done=!!e.done,t)return;if(a=e.value,i(n,o,[a,this.counter++],!0))return a}}));n({target:\"Iterator\",proto:!0,real:!0,forced:d||b},{filter:function(e){l(this);try{o(e)}catch(t){u(this,\"throw\",t)}return b?r(b,this,e):new p(c(this),{predicate:e})}})},d6d6:function(e,t,a){\"use strict\";var n=TypeError;e.exports=function(e,t){if(e<t)throw new n(\"Not enough arguments\");return e}},d800:function(e,t,a){\"use strict\";a.d(t,\"g\",(function(){return r})),a.d(t,\"f\",(function(){return o})),a.d(t,\"b\",(function(){return l})),a.d(t,\"k\",(function(){return c})),a.d(t,\"h\",(function(){return s})),a.d(t,\"i\",(function(){return i})),a.d(t,\"j\",(function(){return d})),a.d(t,\"c\",(function(){return u})),a.d(t,\"a\",(function(){return m})),a.d(t,\"d\",(function(){return b})),a.d(t,\"e\",(function(){return p}));a(\"d9e2\");var n=a(\"b775\");function r(){return Object(n[\"a\"])({url:\"/api/chat/sessions/\",method:\"get\"})}function o(e){return Object(n[\"a\"])({url:`/api/chat/sessions/${e}/`,method:\"get\"})}function l(e){return Object(n[\"a\"])({url:\"/api/chat/sessions/\",method:\"post\",data:e})}function c(e){return Object(n[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"text\"}})}function s(e,t,a){const r=new FormData;return r.append(\"chat\",e),r.append(\"message_type\",\"file\"),r.append(\"content\",t),r.append(\"file\",a),Object(n[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:r})}function i(e,t,a){const r=new FormData;return r.append(\"chat\",e),r.append(\"message_type\",\"image\"),r.append(\"content\",t),r.append(\"file\",a),Object(n[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:r})}function d(e){return Object(n[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"knowledge\",content:\"\"}})}function u(e){return Object(n[\"a\"])({url:`/api/chat/messages/${e}/download/`,method:\"get\",responseType:\"blob\"})}function m(e,t){return Object(n[\"a\"])({url:`/api/chat/messages/${e}/add_calendar_event/`,method:\"post\",data:t})}function b(e){return Object(n[\"a\"])({url:\"/api/chat/find-or-create/\",method:\"post\",data:{user_id:e}})}async function p(e){if(!e||0===e.length)throw new Error(\"No user IDs provided\");return 1===e.length?b(e[0]):l({participants:e})}},db6a:function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return o})),a.d(t,\"a\",(function(){return l})),a.d(t,\"k\",(function(){return c})),a.d(t,\"c\",(function(){return s})),a.d(t,\"h\",(function(){return i})),a.d(t,\"m\",(function(){return d})),a.d(t,\"l\",(function(){return u})),a.d(t,\"d\",(function(){return m})),a.d(t,\"e\",(function(){return b})),a.d(t,\"g\",(function(){return p})),a.d(t,\"b\",(function(){return O})),a.d(t,\"i\",(function(){return j})),a.d(t,\"j\",(function(){return v}));a(\"d9e2\");var n=a(\"b775\");const r=\"/api/knowledge\";function o(){return console.log(\"getCategories API\"),Object(n[\"a\"])({url:r+\"/categories/\",method:\"get\"}).then(e=>{if(console.log(\"getCategories API:\",e),!e)return console.warn(\"getCategories\"),[];if(Array.isArray(e))return e;if(e.results&&Array.isArray(e.results))return e.results;if(e.data&&Array.isArray(e.data))return e.data;if(\"object\"===typeof e)for(const t of[\"items\",\"categories\",\"list\"])if(e[t]&&Array.isArray(e[t]))return e[t];return console.warn(\":\",e),[]}).catch(e=>(console.error(\"getCategories API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),[]))}function l(e){return Object(n[\"a\"])({url:r+\"/categories/\",method:\"post\",data:e})}function c(e,t){return Object(n[\"a\"])({url:`${r}/categories/${e}/`,method:\"put\",data:t})}function s(e){return Object(n[\"a\"])({url:`${r}/categories/${e}/`,method:\"delete\"})}function i(e){return console.log(\"getDocuments API:\",r+\"/documents/\",\":\",e),Object(n[\"a\"])({url:r+\"/documents/\",method:\"get\",params:e}).then(e=>(console.log(\"getDocuments API:\",e),e)).catch(e=>{throw console.error(\"getDocuments API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function d(e){if(console.log(\"...\",e),e instanceof FormData){const t=e.get(\"file\");if(!t)return console.warn(\"FormData!\"),Promise.reject(new Error(\"\"));if(console.log(\"FormData:\",{name:t.name,size:t.size,type:t.type,lastModified:t.lastModified}),!t.size||0===t.size)return Promise.reject(new Error(\"0\"))}return Object(n[\"a\"])({url:r+\"/documents/\",method:\"post\",data:e,timeout:12e4,headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log(`: ${t}%`)}}).then(e=>(console.log(\":\",e),e)).catch(e=>{throw console.error(\":\",e),e.response?(console.error(\":\",e.response.status),console.error(\":\",e.response.data),413===e.response.status?e.message=\"\":400===e.response.status?e.message=\": \"+JSON.stringify(e.response.data):401===e.response.status?e.message=\"\":500===e.response.status&&(e.message=\"\")):e.request&&(console.error(\":\",e.request),\"ECONNABORTED\"===e.code?e.message=\"\":e.message=\"\"),e})}function u(e,t){return Object(n[\"a\"])({url:`${r}/documents/${e}/`,method:\"put\",data:t})}function m(e){console.log(\">>> deleteDocument function entered for ID:\",e);const t={url:`${r}/documents/${e}/`,method:\"delete\"};return console.log(\">>> deleteDocument - Request config prepared:\",t),Object(n[\"a\"])(t).then(e=>(console.log(\"deleteDocument API:\",e),e)).catch(e=>{throw console.error(\"deleteDocument API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function b(e){return Object(n[\"a\"])({url:`${r}/documents/${e}/`,method:\"get\",responseType:\"blob\"})}function p(e){return Object(n[\"a\"])({url:`${r}/documents/${e}/chunks/`,method:\"get\"})}function O(){return console.log(\"buildKnowledgeBase API\"),Object(n[\"a\"])({url:r+\"/build/\",method:\"post\"}).then(e=>(console.log(\"buildKnowledgeBase API:\",e),e)).catch(e=>{throw console.error(\"buildKnowledgeBase API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function j(){return Object(n[\"a\"])({url:r+\"/build/status/\",method:\"get\"})}function v(){return Object(n[\"a\"])({url:r+\"/list/\",method:\"get\"})}},df38:function(e,t,a){\"use strict\";a(\"7232\")},eb87:function(e,t,a){\"use strict\";a(\"12f7\")},f665:function(e,t,a){\"use strict\";var n=a(\"23e7\"),r=a(\"c65b\"),o=a(\"2266\"),l=a(\"59ed\"),c=a(\"825a\"),s=a(\"46c4\"),i=a(\"2a62\"),d=a(\"f99f\"),u=d(\"find\",TypeError);n({target:\"Iterator\",proto:!0,real:!0,forced:u},{find:function(e){c(this);try{l(e)}catch(n){i(this,\"throw\",n)}if(u)return r(u,this,e);var t=s(this),a=0;return o(t,(function(t,n){if(e(t,a++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);","extractedComments":[]}