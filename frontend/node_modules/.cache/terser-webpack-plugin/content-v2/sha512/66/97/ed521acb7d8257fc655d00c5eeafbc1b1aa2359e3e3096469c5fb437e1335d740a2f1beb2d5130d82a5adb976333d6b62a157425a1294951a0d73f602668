{"map":"{\"version\":3,\"sources\":[\"js/chunk-02aa04cc.6075db03.js\"],\"names\":[\"window\",\"push\",\"13ab\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"vue_runtime_esm_bundler\",\"_hoisted_1\",\"class\",\"_hoisted_2\",\"key\",\"_hoisted_3\",\"_hoisted_4\",\"_hoisted_5\",\"_hoisted_6\",\"_hoisted_7\",\"_hoisted_8\",\"_hoisted_9\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"_hoisted_13\",\"_hoisted_14\",\"_hoisted_15\",\"_hoisted_16\",\"_hoisted_17\",\"_hoisted_18\",\"_hoisted_19\",\"_hoisted_20\",\"_hoisted_21\",\"_hoisted_22\",\"_hoisted_23\",\"_hoisted_24\",\"_hoisted_25\",\"_hoisted_26\",\"_hoisted_27\",\"_hoisted_28\",\"_hoisted_29\",\"_hoisted_30\",\"_hoisted_31\",\"_hoisted_32\",\"_hoisted_33\",\"_hoisted_34\",\"_hoisted_35\",\"_hoisted_36\",\"_hoisted_37\",\"_hoisted_38\",\"ref\",\"_hoisted_39\",\"_hoisted_40\",\"_hoisted_41\",\"_hoisted_42\",\"_hoisted_43\",\"_hoisted_44\",\"_hoisted_45\",\"_hoisted_46\",\"_hoisted_47\",\"_hoisted_48\",\"_hoisted_49\",\"_hoisted_50\",\"_hoisted_51\",\"_hoisted_52\",\"_hoisted_53\",\"_hoisted_54\",\"_hoisted_55\",\"_hoisted_56\",\"_hoisted_57\",\"_hoisted_58\",\"_hoisted_59\",\"_hoisted_60\",\"_hoisted_61\",\"_hoisted_62\",\"_hoisted_63\",\"_hoisted_64\",\"_hoisted_65\",\"_hoisted_66\",\"_hoisted_67\",\"_hoisted_68\",\"_hoisted_69\",\"_hoisted_70\",\"style\",\"text-align\",\"margin-top\",\"_hoisted_71\",\"_hoisted_72\",\"_hoisted_73\",\"_hoisted_74\",\"_hoisted_75\",\"_hoisted_76\",\"_hoisted_77\",\"_hoisted_78\",\"element-loading-text\",\"_hoisted_79\",\"_hoisted_80\",\"_hoisted_81\",\"white-space\",\"_hoisted_82\",\"_hoisted_83\",\"_hoisted_84\",\"_hoisted_85\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"_component_el_alert\",\"Object\",\"_component_el_input\",\"_component_Refresh\",\"_component_el_icon\",\"_component_el_button\",\"_component_el_badge\",\"_component_el_skeleton\",\"_component_UserFilled\",\"_component_el_empty\",\"_component_el_tooltip\",\"_component_Document\",\"_component_Reading\",\"_component_ChatLineSquare\",\"_component_PictureFilled\",\"_component_FolderOpened\",\"_component_Position\",\"_component_ChatDotSquare\",\"_component_el_card\",\"_component_el_table_column\",\"_component_el_tag\",\"_component_el_table\",\"_component_el_dialog\",\"_component_el_date_picker\",\"_component_el_form_item\",\"_component_el_form\",\"_component_Calendar\",\"_component_DocumentCopy\",\"_component_el_option\",\"_component_el_select\",\"_directive_loading\",\"body-style\",\"backgroundColor\",\"padding\",\"default\",\"sessionsLoading\",\"title\",\"type\",\"closable\",\"show-icon\",\"modelValue\",\"searchQuery\",\"onUpdate:modelValue\",\"$event\",\"placeholder\",\"clearable\",\"prefix-icon\",\"Search\",\"circle\",\"size\",\"onClick\",\"refreshChatSessions\",\"_\",\"tabs\",\"tab\",\"index\",\"active\",\"activeTab\",\"keys\",\"groupedUsersByDepartment\",\"length\",\"departmentUsers\",\"deptName\",\"contact\",\"id\",\"selectedContact\",\"selectContact\",\"avatar\",\"avatar_url\",\"src\",\"alt\",\"color\",\"initial\",\"status\",\"name\",\"lastTime\",\"lastMessage\",\"unread\",\"value\",\"rows\",\"animated\",\"filteredContacts\",\"description\",\"image-size\",\"image\",\"currentContact\",\"getStatusText\",\"content\",\"placement\",\"openSummaryDialog\",\"xmlns\",\"width\",\"height\",\"fill\",\"viewBox\",\"d\",\"messages\",\"message\",\"sender\",\"userId\",\"getSenderColor\",\"getSenderInitial\",\"onContextmenu\",\"openContextMenu\",\"message_type\",\"toggleImageExpand\",\"file\",\"downloadFile\",\"getFileName\",\"file_name\",\"getFileExtension\",\"formatFileSize\",\"file_size\",\"viewKnowledge\",\"knowledge_detail\",\"file_type\",\"formatMessageTime\",\"created_at\",\"messagesLoading\",\"openImageUpload\",\"loading\",\"imageUploading\",\"openFileUpload\",\"fileUploading\",\"messageInput\",\"resize\",\"onKeyup\",\"sendMessage\",\"display\",\"onChange\",\"args\",\"handleFileUpload\",\"accept\",\"handleImageUpload\",\"knowledgeDialogVisible\",\"footer\",\"data\",\"knowledgeList\",\"onRowClick\",\"selectKnowledge\",\"prop\",\"label\",\"scope\",\"row\",\"formatDate\",\"shareKnowledge\",\"knowledgeLoading\",\"summaryDialogVisible\",\"onClose\",\"handleCloseSummaryDialog\",\"top\",\"handleSummarize\",\"disabled\",\"summaryLoading\",\"label-position\",\"margin-bottom\",\"summaryDateRange\",\"range-separator\",\"start-placeholder\",\"end-placeholder\",\"picker-options\",\"pickerOptions\",\"summaryContent\",\"expandedImage\",\"contextMenuStyle\",\"addToCalendarFromMessage\",\"copyMessageContent\",\"contextMenuVisible\",\"calendarDialogVisible\",\"submitCalendarEvent\",\"isSubmitting\",\"model\",\"calendarEvent\",\"rules\",\"calendarRules\",\"label-width\",\"start\",\"format\",\"value-format\",\"end\",\"location\",\"reminder\",\"isAnalyzing\",\"vuex_esm_browser\",\"vue_router\",\"components_message\",\"message_box\",\"dist\",\"chat\",\"api_knowledge\",\"request\",\"ai\",\"Indexvue_type_script_lang_js\",\"components\",\"Calendar\",\"DocumentCopy\",\"[object Object]\",\"store\",\"currentUser\",\"getters\",\"user\",\"userInfo\",\"messageContainer\",\"fileInput\",\"imageInput\",\"chatSessions\",\"currentChatId\",\"selectedKnowledge\",\"contacts\",\"allColleagues\",\"departments\",\"find\",\"c\",\"_userInfo$value\",\"filter\",\"toLowerCase\",\"includes\",\"getActiveContacts\",\"isGroup\",\"usersMap\",\"Map\",\"forEach\",\"set\",\"colleague\",\"has\",\"username\",\"trim\",\"getRandomColor\",\"department\",\"departmentMap\",\"map\",\"dept\",\"groupedUsers\",\"Array\",\"from\",\"values\",\"departmentName\",\"get\",\"route\",\"refreshInterval\",\"clearInterval\",\"async\",\"userData\",\"fetchCurrentUser\",\"error\",\"console\",\"log\",\"loadAllUsers\",\"loadDepartments\",\"loadChatSessions\",\"sessionId\",\"query\",\"session\",\"foundContact\",\"parseInt\",\"loadChatMessages\",\"setInterval\",\"scrollToBottom\",\"token\",\"localStorage\",\"getItem\",\"warn\",\"warning\",\"response\",\"url\",\"method\",\"Error\",\"setItem\",\"JSON\",\"stringify\",\"isBackgroundRefresh\",\"success\",\"isArray\",\"results\",\"otherParticipant\",\"participants\",\"p\",\"is_group\",\"last_message\",\"updated_at\",\"unread_count\",\"startsWith\",\"NODE_ENV\",\"BASE_URL\",\"VUE_APP_BASE_API\",\"first_name\",\"last_name\",\"sort\",\"a\",\"b\",\"chatId\",\"messageData\",\"sessionData\",\"possibleMessageFields\",\"field\",\"some\",\"tempContact\",\"unshift\",\"res\",\"params\",\"selectedDocumentIds\",\"doc\",\"e\",\"errorMessage\",\"scrollTop\",\"scrollHeight\",\"contactId\",\"replace\",\"existingChat\",\"participant_ids\",\"newSession\",\"Date\",\"tempMessage\",\"now\",\"toISOString\",\"is_temp\",\"messageCopy\",\"aiMsg\",\"chat_id\",\"document_ids\",\"aiContent\",\"tempIndex\",\"findIndex\",\"m\",\"splice\",\"savedMessage\",\"click\",\"event\",\"target\",\"files\",\"formData\",\"FormData\",\"append\",\"headers\",\"Content-Type\",\"docRes\",\"maxSize\",\"openKnowledgeDialog\",\"loadKnowledgeList\",\"knowledge\",\"URL\",\"createObjectURL\",\"Blob\",\"link\",\"document\",\"createElement\",\"href\",\"setAttribute\",\"body\",\"appendChild\",\"removeChild\",\"alert\",\"dangerouslyUseHTMLString\",\"confirmButtonText\",\"colors\",\"timestamp\",\"date\",\"diff\",\"hours\",\"getHours\",\"toString\",\"padStart\",\"minutes\",\"getMinutes\",\"days\",\"getDay\",\"getMonth\",\"getDate\",\"getFullYear\",\"sizeInKB\",\"toFixed\",\"statusMap\",\"online\",\"offline\",\"busy\",\"away\",\"forceRefresh\",\"info\",\"company\",\"companyId\",\"users\",\"u\",\"depts\",\"setDate\",\"shortcuts\",\"text\",\"picker\",\"setTime\",\"getTime\",\"$emit\",\"startDate\",\"endDate\",\"summary\",\"imageUrl\",\"fullName\",\"lastDot\",\"lastIndexOf\",\"substring\",\"left\",\"selectedMessage\",\"preventDefault\",\"clientY\",\"clientX\",\"addEventListener\",\"closeContextMenu\",\"once\",\"navigator\",\"clipboard\",\"writeText\",\"then\",\"catch\",\"err\",\"calendarFormRef\",\"required\",\"trigger\",\"validateEndTime\",\"rule\",\"callback\",\"toDateString\",\"newValue\",\"validateField\",\"validator\",\"_response$data\",\"messageContent\",\"eventData\",\"is_all_day\",\"_selectedMessage$valu\",\"validate\",\"valid\",\"_error$response\",\"_error$response$data\",\"menuEl\",\"querySelector\",\"contains\",\"Document\",\"PictureFilled\",\"FolderOpened\",\"Microphone\",\"Position\",\"ChatDotSquare\",\"Reading\",\"UserFilled\",\"ChatLineSquare\",\"Refresh\",\"exportHelper\",\"exportHelper_default\",\"n\",\"__exports__\",\"2056\",\"271a\",\"exports\",\"defineBuiltIn\",\"uncurryThis\",\"validateArgumentsLength\",\"$URLSearchParams\",\"URLSearchParams\",\"URLSearchParamsPrototype\",\"prototype\",\"getAll\",\"$has\",\"undefined\",\"arguments\",\"$value\",\"this\",\"enumerable\",\"unsafe\",\"48cf\",\"getScheduleReminders\",\"markScheduleReminderAsRead\",\"aiChatWithDocuments\",\"aiChatWithDocumentsStream\",\"getAIChatSessions\",\"getAIChatSession\",\"deleteAIChatSession\",\"_utils_request__WEBPACK_IMPORTED_MODULE_1__\",\"responseType\",\"onChunk\",\"onComplete\",\"onError\",\"controller\",\"AbortController\",\"signal\",\"fetch\",\"ok\",\"errorData\",\"json\",\"reader\",\"getReader\",\"decoder\",\"TextDecoder\",\"buffer\",\"lastChatId\",\"processStream\",\"done\",\"read\",\"decode\",\"stream\",\"lines\",\"split\",\"pop\",\"line\",\"jsonStr\",\"parsed\",\"parse\",\"5494\",\"DESCRIPTORS\",\"defineBuiltInAccessor\",\"count\",\"configurable\",\"7ce3\",\"88a7\",\"$delete\",\"entries\",\"v\",\"k\",\"entry\",\"dindex\",\"found\",\"entriesLength\",\"910d\",\"$\",\"call\",\"aCallable\",\"anObject\",\"getIteratorDirect\",\"createIteratorProxy\",\"callWithSafeIterationClosing\",\"IS_PURE\",\"iteratorClose\",\"iteratorHelperWithoutClosingOnEarlyError\",\"filterWithoutClosingOnEarlyError\",\"TypeError\",\"IteratorProxy\",\"result\",\"iterator\",\"predicate\",\"next\",\"counter\",\"proto\",\"real\",\"forced\",\"c466\",\"formatRelativeTime\",\"isNaN\",\"seconds\",\"Math\",\"floor\",\"months\",\"years\",\"d6d6\",\"$TypeError\",\"passed\",\"d800\",\"getChatSessions\",\"getChatSession\",\"createChatSession\",\"sendTextMessage\",\"sendFileMessage\",\"sendImageMessage\",\"sendKnowledgeMessage\",\"downloadMessageFile\",\"findOrCreateChat\",\"findOrCreateChatWithUsers\",\"summarizeChat\",\"analyzeForCalendar\",\"createCalendarEvent\",\"messageId\",\"user_id\",\"userIds\",\"start_date\",\"end_date\",\"db6a\",\"getCategories\",\"addCategory\",\"updateCategory\",\"deleteCategory\",\"getDocuments\",\"uploadDocument\",\"updateDocument\",\"deleteDocument\",\"downloadDocumentFile\",\"getDocumentChunks\",\"buildKnowledgeBase\",\"getKnowledgeBaseStatus\",\"getKnowledgeList\",\"baseURL\",\"Promise\",\"reject\",\"lastModified\",\"timeout\",\"onUploadProgress\",\"progressEvent\",\"percentCompleted\",\"round\",\"loaded\",\"total\",\"code\",\"requestConfig\",\"documentId\",\"f665\",\"iterate\",\"findWithoutClosingOnEarlyError\",\"record\",\"stop\",\"IS_RECORD\",\"INTERRUPTED\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-02aa04cc\",\"chunk-2d0e4842\"],{\"13ab\":function(e,t,a){\"use strict\";a.r(t);var r=a(\"7a23\");const n={class:\"chat-container\"},o={key:0,class:\"chat-header-actions\"},c={class:\"chat-layout\"},l={class:\"chat-sidebar\"},s={class:\"search-box\"},i={class:\"search-header\"},d={class:\"chat-tabs\"},u=[\"onClick\"],m={class:\"contacts-list\"},p={key:0},b={class:\"department-header\"},g=[\"onClick\"],O={class:\"contact-avatar\"},j={class:\"avatar-initial\"},v=[\"src\"],f={class:\"contact-info\"},h={class:\"contact-name\"},y={class:\"time\"},w={class:\"contact-message\"},V={key:1,class:\"loading-container\"},_=[\"onClick\"],k={class:\"contact-avatar\"},C={class:\"avatar-initial\"},N=[\"src\"],E={class:\"contact-info\"},D={class:\"contact-name\"},x={class:\"time\"},B={class:\"contact-message\"},S={key:0,class:\"empty-contacts\"},A={key:2,class:\"loading-container\"},I={class:\"chat-content\"},M={key:0,class:\"chat-header\"},T={class:\"contact-avatar\"},U={class:\"avatar-initial\"},$=[\"src\"],P={class:\"contact-info\"},F={class:\"chat-actions\"},z={key:1,class:\"chat-messages\",ref:\"messageContainer\"},L={class:\"message-container\"},Y={key:0,class:\"message-avatar\"},R={class:\"avatar-initial\"},H=[\"src\"],q=[\"onContextmenu\"],G={key:0,class:\"text-card\"},W={class:\"text-card-inner\"},K={key:1,class:\"image-card\"},J={class:\"image-card-inner\"},Q=[\"onClick\"],X=[\"src\"],Z=[\"onClick\"],ee={class:\"file-card-inner\"},te={class:\"file-icon\"},ae={class:\"file-info\"},re={class:\"file-name\"},ne={class:\"file-name-main\"},oe={class:\"file-name-ext\"},ce={class:\"file-meta\"},le={class:\"file-size\"},se=[\"onClick\"],ie={class:\"knowledge-card-inner\"},de={class:\"knowledge-icon\"},ue={class:\"knowledge-content\"},me={class:\"knowledge-title\"},pe={class:\"knowledge-desc\"},be={class:\"knowledge-footer\"},ge={class:\"knowledge-type\"},Oe={class:\"message-time\"},je={key:1,class:\"empty-messages\"},ve={key:2,class:\"loading-messages\"},fe={style:{\"text-align\":\"right\",\"margin-top\":\"20px\"}},he={key:2,class:\"chat-input\"},ye={class:\"chat-tools\"},we={class:\"input-area\"},Ve={class:\"send-button\"},_e={key:3,class:\"empty-chat\"},ke={class:\"empty-illustration\"},Ce={class:\"dialog-footer\"},Ne={\"element-loading-text\":\"...\"},Ee={key:0,class:\"summary-content-wrapper\"},De={class:\"summary-content\"},xe={style:{\"white-space\":\"pre-wrap\"}},Be={class:\"dialog-footer\"},Se=[\"src\"],Ae={\"element-loading-text\":\"AI...\"},Ie={class:\"dialog-footer\"};function Me(e,t,a,Me,Te,Ue){const $e=Object(r[\"resolveComponent\"])(\"el-alert\"),Pe=Object(r[\"resolveComponent\"])(\"el-input\"),Fe=Object(r[\"resolveComponent\"])(\"Refresh\"),ze=Object(r[\"resolveComponent\"])(\"el-icon\"),Le=Object(r[\"resolveComponent\"])(\"el-button\"),Ye=Object(r[\"resolveComponent\"])(\"el-badge\"),Re=Object(r[\"resolveComponent\"])(\"el-skeleton\"),He=Object(r[\"resolveComponent\"])(\"UserFilled\"),qe=Object(r[\"resolveComponent\"])(\"el-empty\"),Ge=Object(r[\"resolveComponent\"])(\"el-tooltip\"),We=Object(r[\"resolveComponent\"])(\"Document\"),Ke=Object(r[\"resolveComponent\"])(\"Reading\"),Je=Object(r[\"resolveComponent\"])(\"ChatLineSquare\"),Qe=Object(r[\"resolveComponent\"])(\"PictureFilled\"),Xe=Object(r[\"resolveComponent\"])(\"FolderOpened\"),Ze=Object(r[\"resolveComponent\"])(\"Position\"),et=Object(r[\"resolveComponent\"])(\"ChatDotSquare\"),tt=Object(r[\"resolveComponent\"])(\"el-card\"),at=Object(r[\"resolveComponent\"])(\"el-table-column\"),rt=Object(r[\"resolveComponent\"])(\"el-tag\"),nt=Object(r[\"resolveComponent\"])(\"el-table\"),ot=Object(r[\"resolveComponent\"])(\"el-dialog\"),ct=Object(r[\"resolveComponent\"])(\"el-date-picker\"),lt=Object(r[\"resolveComponent\"])(\"el-form-item\"),st=Object(r[\"resolveComponent\"])(\"el-form\"),it=Object(r[\"resolveComponent\"])(\"Calendar\"),dt=Object(r[\"resolveComponent\"])(\"DocumentCopy\"),ut=Object(r[\"resolveComponent\"])(\"el-option\"),mt=Object(r[\"resolveComponent\"])(\"el-select\"),pt=Object(r[\"resolveDirective\"])(\"loading\");return Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",n,[Object(r[\"createVNode\"])(tt,{class:\"chat-card\",\"body-style\":{backgroundColor:\"transparent\",padding:0}},{default:Object(r[\"withCtx\"])(()=>[Me.sessionsLoading?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",o,[Object(r[\"createVNode\"])($e,{title:\"...\",type:\"info\",closable:!1,\"show-icon\":\"\"})])):Object(r[\"createCommentVNode\"])(\"\",!0),Object(r[\"createElementVNode\"])(\"div\",c,[Object(r[\"createElementVNode\"])(\"div\",l,[Object(r[\"createElementVNode\"])(\"div\",s,[Object(r[\"createElementVNode\"])(\"div\",i,[Object(r[\"createVNode\"])(Pe,{modelValue:Me.searchQuery,\"onUpdate:modelValue\":t[0]||(t[0]=e=>Me.searchQuery=e),placeholder:\"...\",clearable:\"\",\"prefix-icon\":Me.Search},null,8,[\"modelValue\",\"prefix-icon\"]),Object(r[\"createVNode\"])(Le,{circle:\"\",size:\"small\",onClick:Me.refreshChatSessions,title:\"\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Fe)]),_:1})]),_:1},8,[\"onClick\"])])]),Object(r[\"createElementVNode\"])(\"div\",d,[(Object(r[\"openBlock\"])(!0),Object(r[\"createElementBlock\"])(r[\"Fragment\"],null,Object(r[\"renderList\"])(Me.tabs,(e,t)=>(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:t,class:Object(r[\"normalizeClass\"])([\"chat-tab\",{active:Me.activeTab===t}]),onClick:e=>Me.activeTab=t},Object(r[\"toDisplayString\"])(e),11,u))),128))]),Object(r[\"createElementVNode\"])(\"div\",m,[1===Me.activeTab?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(r[\"Fragment\"],{key:0},[!Me.sessionsLoading&&Object.keys(Me.groupedUsersByDepartment).length>0?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",p,[(Object(r[\"openBlock\"])(!0),Object(r[\"createElementBlock\"])(r[\"Fragment\"],null,Object(r[\"renderList\"])(Me.groupedUsersByDepartment,(e,t)=>(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:t,class:\"department-group\"},[Object(r[\"createElementVNode\"])(\"div\",b,Object(r[\"toDisplayString\"])(t),1),(Object(r[\"openBlock\"])(!0),Object(r[\"createElementBlock\"])(r[\"Fragment\"],null,Object(r[\"renderList\"])(e,e=>(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(r[\"normalizeClass\"])([\"contact-item\",{active:Me.selectedContact===e.id}]),onClick:t=>Me.selectContact(e)},[Object(r[\"createElementVNode\"])(\"div\",O,[e.avatar||e.avatar_url?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"img\",{key:1,src:e.avatar_url||e.avatar,alt:\"avatar\",class:\"avatar\"},null,8,v)):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(r[\"normalizeStyle\"])({backgroundColor:e.color})},[Object(r[\"createElementVNode\"])(\"span\",j,Object(r[\"toDisplayString\"])(e.initial),1)],4)),Object(r[\"createElementVNode\"])(\"div\",{class:Object(r[\"normalizeClass\"])([\"contact-status\",\"status-\"+e.status])},null,2)]),Object(r[\"createElementVNode\"])(\"div\",f,[Object(r[\"createElementVNode\"])(\"div\",h,[Object(r[\"createElementVNode\"])(\"span\",null,Object(r[\"toDisplayString\"])(e.name),1),Object(r[\"createElementVNode\"])(\"span\",y,Object(r[\"toDisplayString\"])(e.lastTime),1)]),Object(r[\"createElementVNode\"])(\"div\",w,[Object(r[\"createElementVNode\"])(\"span\",null,Object(r[\"toDisplayString\"])(e.lastMessage),1),e.unread?(Object(r[\"openBlock\"])(),Object(r[\"createBlock\"])(Ye,{key:0,value:e.unread,class:\"message-badge\"},null,8,[\"value\"])):Object(r[\"createCommentVNode\"])(\"\",!0)])])],10,g))),128))]))),128))])):Me.sessionsLoading?Object(r[\"createCommentVNode\"])(\"\",!0):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",V,[Object(r[\"createVNode\"])(Re,{rows:5,animated:\"\"})]))],64)):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(r[\"Fragment\"],{key:1},[(Object(r[\"openBlock\"])(!0),Object(r[\"createElementBlock\"])(r[\"Fragment\"],null,Object(r[\"renderList\"])(Me.filteredContacts,e=>(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(r[\"normalizeClass\"])([\"contact-item\",{active:Me.selectedContact===e.id}]),onClick:t=>Me.selectContact(e)},[Object(r[\"createElementVNode\"])(\"div\",k,[e.avatar||e.avatar_url?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"img\",{key:1,src:e.avatar_url||e.avatar,alt:\"avatar\",class:\"avatar\"},null,8,N)):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(r[\"normalizeStyle\"])({backgroundColor:e.color})},[Object(r[\"createElementVNode\"])(\"span\",C,Object(r[\"toDisplayString\"])(e.initial),1)],4)),Object(r[\"createElementVNode\"])(\"div\",{class:Object(r[\"normalizeClass\"])([\"contact-status\",\"status-\"+e.status])},null,2)]),Object(r[\"createElementVNode\"])(\"div\",E,[Object(r[\"createElementVNode\"])(\"div\",D,[Object(r[\"createElementVNode\"])(\"span\",null,Object(r[\"toDisplayString\"])(e.name),1),Object(r[\"createElementVNode\"])(\"span\",x,Object(r[\"toDisplayString\"])(e.lastTime),1)]),Object(r[\"createElementVNode\"])(\"div\",B,[Object(r[\"createElementVNode\"])(\"span\",null,Object(r[\"toDisplayString\"])(e.lastMessage),1),e.unread?(Object(r[\"openBlock\"])(),Object(r[\"createBlock\"])(Ye,{key:0,value:e.unread,class:\"message-badge\"},null,8,[\"value\"])):Object(r[\"createCommentVNode\"])(\"\",!0)])])],10,_))),128)),Me.sessionsLoading||0!==Me.filteredContacts.length?Object(r[\"createCommentVNode\"])(\"\",!0):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",S,[Object(r[\"createVNode\"])(qe,{description:\"\",\"image-size\":100},{image:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,{size:64,class:\"empty-icon\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(He)]),_:1})]),_:1})]))],64)),Me.sessionsLoading?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",A,[Object(r[\"createVNode\"])(Re,{rows:5,animated:\"\"})])):Object(r[\"createCommentVNode\"])(\"\",!0)])]),Object(r[\"createElementVNode\"])(\"div\",I,[null!==Me.selectedContact?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",M,[Object(r[\"createElementVNode\"])(\"div\",T,[Me.currentContact.avatar||Me.currentContact.avatar_url?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"img\",{key:1,src:Me.currentContact.avatar_url||Me.currentContact.avatar,alt:\"avatar\",class:\"avatar\"},null,8,$)):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar\",style:Object(r[\"normalizeStyle\"])({backgroundColor:Me.currentContact.color})},[Object(r[\"createElementVNode\"])(\"span\",U,Object(r[\"toDisplayString\"])(Me.currentContact.initial||\"?\"),1)],4)),Object(r[\"createElementVNode\"])(\"div\",{class:Object(r[\"normalizeClass\"])([\"contact-status\",\"status-\"+(Me.currentContact.status||\"online\")])},null,2)]),Object(r[\"createElementVNode\"])(\"div\",P,[Object(r[\"createElementVNode\"])(\"h6\",null,Object(r[\"toDisplayString\"])(Me.currentContact.name||\"\"),1),Object(r[\"createElementVNode\"])(\"p\",null,Object(r[\"toDisplayString\"])(Me.getStatusText(Me.currentContact.status||\"online\")),1)]),Object(r[\"createElementVNode\"])(\"div\",F,[Object(r[\"createVNode\"])(Ge,{content:\"AI\",placement:\"bottom\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Le,{onClick:Me.openSummaryDialog,circle:\"\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>t[20]||(t[20]=[Object(r[\"createElementVNode\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",class:\"bi bi-robot\",viewBox:\"0 0 16 16\"},[Object(r[\"createElementVNode\"])(\"path\",{d:\"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5M3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.6 26.6 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.93.93 0 0 1-.765.935c-.845.147-2.34.346-4.235.346s-3.39-.2-4.235-.346A.93.93 0 0 1 3 9.22z\"}),Object(r[\"createElementVNode\"])(\"path\",{d:\"M4 1.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M12 1a2 2 0 0 1 2 2v10.5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM4 0a1 1 0 0 0-1 1v10.5a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z\"})],-1)])),_:1})]),_:1},8,[\"onClick\"])]),_:1})])])):Object(r[\"createCommentVNode\"])(\"\",!0),null!==Me.selectedContact?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",z,[Me.messages.length>0?(Object(r[\"openBlock\"])(!0),Object(r[\"createElementBlock\"])(r[\"Fragment\"],{key:0},Object(r[\"renderList\"])(Me.messages,(e,a)=>(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:e.id||a,class:Object(r[\"normalizeClass\"])([\"message\",e.sender.id===Me.userId?\"message-sent\":\"message-received\"])},[Object(r[\"createElementVNode\"])(\"div\",L,[e.sender.id!==Me.userId?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",Y,[e.sender.avatar||e.sender.avatar_url?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"img\",{key:1,src:e.sender.avatar_url||e.sender.avatar,alt:\"avatar\",class:\"avatar small\"},null,8,H)):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:0,class:\"avatar small\",style:Object(r[\"normalizeStyle\"])({backgroundColor:Me.getSenderColor(e.sender)})},[Object(r[\"createElementVNode\"])(\"span\",R,Object(r[\"toDisplayString\"])(Me.getSenderInitial(e.sender)),1)],4))])):Object(r[\"createCommentVNode\"])(\"\",!0),Object(r[\"createElementVNode\"])(\"div\",{class:\"message-content-wrapper\",onContextmenu:Object(r[\"withModifiers\"])(t=>Me.openContextMenu(t,e),[\"prevent\"])},[Object(r[\"createElementVNode\"])(\"div\",{class:Object(r[\"normalizeClass\"])([\"message-content\",e.sender.id===Me.userId?\"sent\":\"received\"])},[\"text\"===e.message_type?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",G,[Object(r[\"createElementVNode\"])(\"div\",W,Object(r[\"toDisplayString\"])(e.content),1)])):\"image\"===e.message_type?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",K,[Object(r[\"createElementVNode\"])(\"div\",J,[Object(r[\"createElementVNode\"])(\"div\",{class:\"image-preview\",onClick:t=>Me.toggleImageExpand(e.file)},[Object(r[\"createElementVNode\"])(\"img\",{src:e.file,alt:\"image\"},null,8,X)],8,Q)])])):\"file\"===e.message_type?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:2,class:\"file-card\",onClick:t=>Me.downloadFile(e)},[Object(r[\"createElementVNode\"])(\"div\",ee,[Object(r[\"createElementVNode\"])(\"div\",te,[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(We)]),_:1})]),Object(r[\"createElementVNode\"])(\"div\",ae,[Object(r[\"createElementVNode\"])(\"div\",re,[Object(r[\"createElementVNode\"])(\"span\",ne,Object(r[\"toDisplayString\"])(Me.getFileName(e.file_name)),1),Object(r[\"createElementVNode\"])(\"span\",oe,Object(r[\"toDisplayString\"])(Me.getFileExtension(e.file_name)),1)]),Object(r[\"createElementVNode\"])(\"div\",ce,[Object(r[\"createElementVNode\"])(\"span\",le,Object(r[\"toDisplayString\"])(Me.formatFileSize(e.file_size)),1),t[21]||(t[21]=Object(r[\"createElementVNode\"])(\"span\",{class:\"file-download-hint\"},\"\",-1))])])])],8,Z)):\"knowledge\"===e.message_type?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:3,class:\"knowledge-card\",onClick:t=>Me.viewKnowledge(e)},[Object(r[\"createElementVNode\"])(\"div\",ie,[Object(r[\"createElementVNode\"])(\"div\",de,[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Ke)]),_:1})]),Object(r[\"createElementVNode\"])(\"div\",ue,[Object(r[\"createElementVNode\"])(\"div\",me,Object(r[\"toDisplayString\"])(e.knowledge_detail.title),1),Object(r[\"createElementVNode\"])(\"div\",pe,Object(r[\"toDisplayString\"])(e.knowledge_detail.description),1),Object(r[\"createElementVNode\"])(\"div\",be,[Object(r[\"createElementVNode\"])(\"span\",ge,Object(r[\"toDisplayString\"])(e.knowledge_detail.file_type),1),t[22]||(t[22]=Object(r[\"createElementVNode\"])(\"span\",{class:\"knowledge-view\"},\"\",-1))])])])],8,se)):Object(r[\"createCommentVNode\"])(\"\",!0)],2),Object(r[\"createElementVNode\"])(\"div\",Oe,Object(r[\"toDisplayString\"])(Me.formatMessageTime(e.created_at)),1)],40,q)])],2))),128)):Me.messagesLoading?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",ve,[Object(r[\"createVNode\"])(Re,{rows:3,animated:\"\"}),Object(r[\"createVNode\"])(Re,{style:{\"margin-top\":\"20px\"},rows:2,animated:\"\"}),Object(r[\"createElementVNode\"])(\"div\",fe,[Object(r[\"createVNode\"])(Re,{rows:2,animated:\"\"})])])):(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",je,[Object(r[\"createVNode\"])(qe,{description:\"\"},{image:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,{size:64,class:\"empty-icon\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Je)]),_:1})]),default:Object(r[\"withCtx\"])(()=>[t[23]||(t[23]=Object(r[\"createElementVNode\"])(\"p\",null,\"\",-1))]),_:1})]))],512)):Object(r[\"createCommentVNode\"])(\"\",!0),null!==Me.selectedContact?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",he,[Object(r[\"createElementVNode\"])(\"div\",ye,[Object(r[\"createVNode\"])(Ge,{content:\"\",placement:\"top\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Le,{circle:\"\",onClick:Me.openImageUpload,loading:Me.imageUploading},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Qe)]),_:1})]),_:1},8,[\"onClick\",\"loading\"])]),_:1}),Object(r[\"createVNode\"])(Ge,{content:\"\",placement:\"top\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Le,{circle:\"\",onClick:Me.openFileUpload,loading:Me.fileUploading},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Xe)]),_:1})]),_:1},8,[\"onClick\",\"loading\"])]),_:1})]),Object(r[\"createElementVNode\"])(\"div\",we,[Object(r[\"createVNode\"])(Pe,{modelValue:Me.messageInput,\"onUpdate:modelValue\":t[1]||(t[1]=e=>Me.messageInput=e),type:\"textarea\",rows:3,placeholder:\"...\",resize:\"none\",onKeyup:Object(r[\"withKeys\"])(Object(r[\"withModifiers\"])(Me.sendMessage,[\"prevent\"]),[\"enter\"])},null,8,[\"modelValue\",\"onKeyup\"])]),Object(r[\"createElementVNode\"])(\"div\",Ve,[Object(r[\"createVNode\"])(Le,{type:\"primary\",onClick:Me.sendMessage},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Ze)]),_:1}),t[24]||(t[24]=Object(r[\"createTextVNode\"])(\"  \"))]),_:1},8,[\"onClick\"])])])):Object(r[\"createCommentVNode\"])(\"\",!0),null===Me.selectedContact?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",_e,[Object(r[\"createElementVNode\"])(\"div\",ke,[Object(r[\"createVNode\"])(ze,{size:64},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(et)]),_:1})]),t[25]||(t[25]=Object(r[\"createElementVNode\"])(\"h4\",null,\"\",-1)),t[26]||(t[26]=Object(r[\"createElementVNode\"])(\"p\",null,\"\",-1))])):Object(r[\"createCommentVNode\"])(\"\",!0)])])]),_:1}),Object(r[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"fileInput\",style:{display:\"none\"},onChange:t[2]||(t[2]=(...e)=>Me.handleFileUpload&&Me.handleFileUpload(...e))},null,544),Object(r[\"createElementVNode\"])(\"input\",{type:\"file\",ref:\"imageInput\",style:{display:\"none\"},accept:\"image/*\",onChange:t[3]||(t[3]=(...e)=>Me.handleImageUpload&&Me.handleImageUpload(...e))},null,544),Object(r[\"createVNode\"])(ot,{modelValue:Me.knowledgeDialogVisible,\"onUpdate:modelValue\":t[5]||(t[5]=e=>Me.knowledgeDialogVisible=e),title:\"\",width:\"50%\"},{footer:Object(r[\"withCtx\"])(()=>[Object(r[\"createElementVNode\"])(\"span\",Ce,[Object(r[\"createVNode\"])(Le,{onClick:t[4]||(t[4]=e=>Me.knowledgeDialogVisible=!1)},{default:Object(r[\"withCtx\"])(()=>t[28]||(t[28]=[Object(r[\"createTextVNode\"])(\"\")])),_:1})])]),default:Object(r[\"withCtx\"])(()=>[Object(r[\"withDirectives\"])((Object(r[\"openBlock\"])(),Object(r[\"createBlock\"])(nt,{data:Me.knowledgeList,style:{width:\"100%\"},onRowClick:Me.selectKnowledge},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(at,{prop:\"title\",label:\"\"}),Object(r[\"createVNode\"])(at,{prop:\"file_type\",label:\"\"},{default:Object(r[\"withCtx\"])(e=>[Object(r[\"createVNode\"])(rt,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createTextVNode\"])(Object(r[\"toDisplayString\"])(e.row.file_type),1)]),_:2},1024)]),_:1}),Object(r[\"createVNode\"])(at,{prop:\"created_at\",label:\"\"},{default:Object(r[\"withCtx\"])(e=>[Object(r[\"createTextVNode\"])(Object(r[\"toDisplayString\"])(Me.formatDate(e.row.created_at)),1)]),_:1}),Object(r[\"createVNode\"])(at,{label:\"\"},{default:Object(r[\"withCtx\"])(e=>[Object(r[\"createVNode\"])(Le,{type:\"primary\",size:\"small\",onClick:Object(r[\"withModifiers\"])(t=>Me.shareKnowledge(e.row),[\"stop\"])},{default:Object(r[\"withCtx\"])(()=>t[27]||(t[27]=[Object(r[\"createTextVNode\"])(\"  \")])),_:2},1032,[\"onClick\"])]),_:1})]),_:1},8,[\"data\",\"onRowClick\"])),[[pt,Me.knowledgeLoading]])]),_:1},8,[\"modelValue\"]),Object(r[\"createVNode\"])(ot,{modelValue:Me.summaryDialogVisible,\"onUpdate:modelValue\":t[7]||(t[7]=e=>Me.summaryDialogVisible=e),title:\"AI \",width:\"50%\",onClose:Me.handleCloseSummaryDialog,top:\"5vh\"},{footer:Object(r[\"withCtx\"])(()=>[Object(r[\"createElementVNode\"])(\"span\",Be,[Object(r[\"createVNode\"])(Le,{onClick:Me.handleCloseSummaryDialog},{default:Object(r[\"withCtx\"])(()=>t[29]||(t[29]=[Object(r[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\"]),Object(r[\"createVNode\"])(Le,{type:\"primary\",onClick:Me.handleSummarize,disabled:Me.summaryLoading},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createTextVNode\"])(Object(r[\"toDisplayString\"])(Me.summaryLoading?\"...\":\"\"),1)]),_:1},8,[\"onClick\",\"disabled\"])])]),default:Object(r[\"withCtx\"])(()=>[Object(r[\"withDirectives\"])((Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",Ne,[Object(r[\"createVNode\"])(st,{\"label-position\":\"top\",style:{\"margin-bottom\":\"20px\"}},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(lt,{label:\"\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ct,{modelValue:Me.summaryDateRange,\"onUpdate:modelValue\":t[6]||(t[6]=e=>Me.summaryDateRange=e),type:\"datetimerange\",\"range-separator\":\"\",\"start-placeholder\":\"\",\"end-placeholder\":\"\",\"picker-options\":Me.pickerOptions,style:{width:\"100%\"}},null,8,[\"modelValue\",\"picker-options\"])]),_:1})]),_:1}),Me.summaryContent?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",Ee,[Object(r[\"createVNode\"])($e,{title:\"AI \",type:\"info\",closable:!1,\"show-icon\":\"\",class:\"summary-title\"}),Object(r[\"createElementVNode\"])(\"div\",De,[Object(r[\"createElementVNode\"])(\"p\",xe,Object(r[\"toDisplayString\"])(Me.summaryContent),1)])])):Object(r[\"createCommentVNode\"])(\"\",!0),Me.summaryContent||Me.summaryLoading?Object(r[\"createCommentVNode\"])(\"\",!0):(Object(r[\"openBlock\"])(),Object(r[\"createBlock\"])(qe,{key:1,description:\"\"}))])),[[pt,Me.summaryLoading]])]),_:1},8,[\"modelValue\",\"onClose\"]),Me.expandedImage?(Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",{key:0,class:\"fullscreen-image-preview\",onClick:t[8]||(t[8]=e=>Me.expandedImage=null)},[Object(r[\"createElementVNode\"])(\"img\",{src:Me.expandedImage,alt:\"\",class:\"fullscreen-preview-image\"},null,8,Se)])):Object(r[\"createCommentVNode\"])(\"\",!0),Object(r[\"withDirectives\"])(Object(r[\"createElementVNode\"])(\"div\",{class:\"chat-context-menu\",style:Object(r[\"normalizeStyle\"])(Me.contextMenuStyle)},[Object(r[\"createElementVNode\"])(\"div\",{class:\"context-menu-item\",onClick:t[9]||(t[9]=(...e)=>Me.addToCalendarFromMessage&&Me.addToCalendarFromMessage(...e))},[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(it)]),_:1}),t[30]||(t[30]=Object(r[\"createElementVNode\"])(\"span\",null,\"\",-1))]),Object(r[\"createElementVNode\"])(\"div\",{class:\"context-menu-item\",onClick:t[10]||(t[10]=(...e)=>Me.copyMessageContent&&Me.copyMessageContent(...e))},[Object(r[\"createVNode\"])(ze,null,{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(dt)]),_:1}),t[31]||(t[31]=Object(r[\"createElementVNode\"])(\"span\",null,\"\",-1))])],4),[[r[\"vShow\"],Me.contextMenuVisible]]),Object(r[\"createVNode\"])(ot,{modelValue:Me.calendarDialogVisible,\"onUpdate:modelValue\":t[19]||(t[19]=e=>Me.calendarDialogVisible=e),title:\"\",width:\"500px\"},{footer:Object(r[\"withCtx\"])(()=>[Object(r[\"createElementVNode\"])(\"div\",Ie,[Object(r[\"createVNode\"])(Le,{onClick:t[18]||(t[18]=e=>Me.calendarDialogVisible=!1)},{default:Object(r[\"withCtx\"])(()=>t[32]||(t[32]=[Object(r[\"createTextVNode\"])(\"\")])),_:1}),Object(r[\"createVNode\"])(Le,{type:\"primary\",onClick:Me.submitCalendarEvent,loading:Me.isSubmitting},{default:Object(r[\"withCtx\"])(()=>t[33]||(t[33]=[Object(r[\"createTextVNode\"])(\"\")])),_:1},8,[\"onClick\",\"loading\"])])]),default:Object(r[\"withCtx\"])(()=>[Object(r[\"withDirectives\"])((Object(r[\"openBlock\"])(),Object(r[\"createElementBlock\"])(\"div\",Ae,[Object(r[\"createVNode\"])(st,{model:Me.calendarEvent,rules:Me.calendarRules,ref:\"calendarFormRef\",\"label-width\":\"80px\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"title\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Pe,{modelValue:Me.calendarEvent.title,\"onUpdate:modelValue\":t[11]||(t[11]=e=>Me.calendarEvent.title=e),placeholder:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"start\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ct,{modelValue:Me.calendarEvent.start,\"onUpdate:modelValue\":t[12]||(t[12]=e=>Me.calendarEvent.start=e),type:\"datetime\",placeholder:\"\",format:\"YYYY-MM-DD HH:mm\",\"value-format\":\"YYYY-MM-DD HH:mm:ss\"},null,8,[\"modelValue\"])]),_:1}),Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"end\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ct,{modelValue:Me.calendarEvent.end,\"onUpdate:modelValue\":t[13]||(t[13]=e=>Me.calendarEvent.end=e),type:\"datetime\",placeholder:\"\",format:\"YYYY-MM-DD HH:mm\",\"value-format\":\"YYYY-MM-DD HH:mm:ss\"},null,8,[\"modelValue\"])]),_:1}),Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"location\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Pe,{modelValue:Me.calendarEvent.location,\"onUpdate:modelValue\":t[14]||(t[14]=e=>Me.calendarEvent.location=e),placeholder:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"type\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(mt,{modelValue:Me.calendarEvent.type,\"onUpdate:modelValue\":t[15]||(t[15]=e=>Me.calendarEvent.type=e),placeholder:\"\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ut,{label:\"\",value:\"blue\"}),Object(r[\"createVNode\"])(ut,{label:\"\",value:\"orange\"}),Object(r[\"createVNode\"])(ut,{label:\"\",value:\"green\"}),Object(r[\"createVNode\"])(ut,{label:\"\",value:\"red\"}),Object(r[\"createVNode\"])(ut,{label:\"\",value:\"purple\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"reminder\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(mt,{modelValue:Me.calendarEvent.reminder,\"onUpdate:modelValue\":t[16]||(t[16]=e=>Me.calendarEvent.reminder=e),placeholder:\"\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(ut,{label:\"\",value:\"none\"}),Object(r[\"createVNode\"])(ut,{label:\"10\",value:\"10min\"}),Object(r[\"createVNode\"])(ut,{label:\"30\",value:\"30min\"}),Object(r[\"createVNode\"])(ut,{label:\"1\",value:\"1hour\"}),Object(r[\"createVNode\"])(ut,{label:\"1\",value:\"1day\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(r[\"createVNode\"])(lt,{label:\"\",prop:\"description\"},{default:Object(r[\"withCtx\"])(()=>[Object(r[\"createVNode\"])(Pe,{modelValue:Me.calendarEvent.description,\"onUpdate:modelValue\":t[17]||(t[17]=e=>Me.calendarEvent.description=e),type:\"textarea\",rows:3,placeholder:\"\"},null,8,[\"modelValue\"])]),_:1})]),_:1},8,[\"model\",\"rules\"])])),[[pt,Me.isAnalyzing]])]),_:1},8,[\"modelValue\"])])}a(\"d9e2\"),a(\"14d9\"),a(\"e9f5\"),a(\"910d\"),a(\"f665\"),a(\"7d54\"),a(\"ab43\"),a(\"a732\"),a(\"88a7\"),a(\"271a\"),a(\"5494\");var Te=a(\"5502\"),Ue=a(\"6605\"),$e=a(\"3ef4\"),Pe=a(\"c9a1\"),Fe=a(\"f6f2\"),ze=a(\"d800\"),Le=a(\"db6a\"),Ye=(a(\"c466\"),a(\"b775\")),Re=a(\"48cf\"),He={name:\"Chat\",components:{Calendar:Fe[\"Calendar\"],DocumentCopy:Fe[\"DocumentCopy\"]},setup(){const e=Object(Te[\"b\"])(),t=Object(r[\"computed\"])(()=>e.getters.user),a=Object(r[\"ref\"])(null),n=Object(r[\"ref\"])(\"\"),o=Object(r[\"ref\"])(0),c=Object(r[\"ref\"])(null),l=Object(r[\"ref\"])(\"\"),s=Object(r[\"ref\"])(null),i=Object(r[\"ref\"])(null),d=Object(r[\"ref\"])(null),u=Object(r[\"ref\"])([]),m=Object(r[\"ref\"])(!1),p=Object(r[\"ref\"])(!1),b=Object(r[\"ref\"])([]),g=Object(r[\"ref\"])(null),O=Object(r[\"ref\"])(!1),j=Object(r[\"ref\"])(!1),v=Object(r[\"ref\"])([]),f=Object(r[\"ref\"])(null),h=Object(r[\"ref\"])([\"\",\"\"]),y=Object(r[\"ref\"])([]),w=Object(r[\"ref\"])([]),V=Object(r[\"ref\"])([]),_=Object(r[\"computed\"])(()=>null===c.value?{}:y.value.find(e=>e.id===c.value)||{}),k=Object(r[\"computed\"])(()=>{var e;return(null===(e=a.value)||void 0===e?void 0:e.id)||null}),C=Object(r[\"computed\"])(()=>n.value?y.value.filter(e=>e.name.toLowerCase().includes(n.value.toLowerCase())):y.value),N=Object(r[\"computed\"])(()=>0===o.value?C.value:1===o.value?C.value.filter(e=>!e.isGroup):C.value),E=Object(r[\"computed\"])(()=>{const e=new Map;C.value.filter(e=>!e.isGroup).forEach(t=>{a.value&&t.userId===a.value.id||e.set(t.userId||t.id,t)}),w.value.forEach(t=>{if((!a.value||t.id!==a.value.id)&&!e.has(t.id)){const a={id:\"user_\"+t.id,userId:t.id,name:(t.name||t.username||\"\").trim(),initial:(t.name||t.username||\"\")[0],avatar:t.avatar||\"\",color:X(t.id),status:\"online\",lastMessage:\"\",lastTime:\"\",unread:0,isGroup:!1,department:t.department||\"\"};e.set(t.id,a)}});const t=new Map(V.value.map(e=>[e.id,e.name])),r={};return Array.from(e.values()).forEach(e=>{const a=t.get(e.department)||\"\";r[a]||(r[a]=[]),r[a].push(e)}),r}),D=Object(Ue[\"c\"])();let x=null;Object(r[\"onBeforeUnmount\"])(()=>{x&&clearInterval(x)}),Object(r[\"onMounted\"])(async()=>{try{const e=await B();if(!e)return void $e[\"a\"].error(\"\");if(console.log(\":\",e),!a.value||!a.value.id)return console.error(\":\",a.value),void $e[\"a\"].error(\"\");console.log(\":\",a.value),await ne(),await oe(),await S();const t=D.query.session||D.query.id;if(t){const e=y.value.find(e=>e.id===parseInt(t));e?(c.value=e.id,await A(t)):(console.log(\"ID:\",t),await A(t))}x=setInterval(async()=>{c.value&&await A(c.value,!0),await S(!0)},3e4),await Object(r[\"nextTick\"])(),M()}catch(e){console.error(\":\",e),$e[\"a\"].error(\": \"+e.message)}});const B=async()=>{try{console.log(\"...\");const e=localStorage.getItem(\"token\");if(!e)return console.warn(\"token\"),$e[\"a\"].warning(\"\"),null;const t=await Object(Ye[\"a\"])({url:\"/api/auth/users/me/\",method:\"get\"});console.log(\":\",t);let r=null;if(t.data&&t.data.id)r=t.data,console.log(\"data:\",r);else if(t.data&&t.data.data&&t.data.data.id)r=t.data.data,console.log(\"data:\",r);else{if(!t.id)throw console.error(\":\",t),new Error(\"\");r=t,console.log(\":\",r)}if(!r||!r.id)throw console.error(\":\",r),new Error(\"\");return a.value=r,localStorage.setItem(\"user\",JSON.stringify(r)),console.log(\":\",a.value),r}catch(e){return console.error(\":\",e),$e[\"a\"].error(\": \"+(e.message||\"\")),null}},S=async(e=!1)=>{try{e||(m.value=!0),console.log(\"...\");const t=await Object(ze[\"h\"])();if(console.log(\":\",t),!t)return console.error(\"\"),void(y.value=[]);let r;t.success&&t.data?(r=t.data,console.log(\":\",r)):(r=t,console.log(\":\",r)),b.value=r,r&&Array.isArray(r.results)?(console.log(\", :\",r.results.length),y.value=r.results.map(e=>{let t=null;if(e.participants&&Array.isArray(e.participants)&&(t=a.value&&a.value.id?e.participants.find(e=>e.user&&e.user.id!==a.value.id):e.participants[0]),e.is_group)return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!0};if(t){const a=t.user;let r=\"\";if(a.avatar){const e=a.avatar;r=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}return{id:e.id,userId:a.id,name:(a.name||((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\").trim(),initial:(a.name||a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:r,color:X(a.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!1,department:a.department||\"\"}}return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:e.is_group,department:\"\"}})):r&&Array.isArray(r)?(console.log(\", :\",r.length),y.value=r.map(e=>{let t=null;if(e.participants&&Array.isArray(e.participants)&&(t=a.value&&a.value.id?e.participants.find(e=>e.user&&e.user.id!==a.value.id):e.participants[0]),e.is_group)return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!0};if(t){const a=t.user;let r=\"\";if(a.avatar){const e=a.avatar;r=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}return{id:e.id,name:(a.name||((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\").trim(),initial:(a.name||a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:r,color:X(a.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:!1,department:a.department||\"\"}}return{id:e.id,name:e.title||\"\",initial:(e.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(e.id),status:\"online\",lastMessage:e.last_message?e.last_message.content:\"\",lastTime:e.last_message?Z(e.last_message.created_at):Z(e.updated_at),unread:e.unread_count,isGroup:e.is_group,department:\"\"}})):(console.error(\":\",r),y.value=[]),console.log(\":\",y.value),y.value.length>0&&y.value.sort((e,t)=>t.unread-e.unread)}catch(t){console.error(\":\",t),$e[\"a\"].error(\": \"+(t.message||\"\")),y.value=[]}finally{e||(m.value=!1)}},A=async(e,t=!1)=>{if(e)try{t||(p.value=!0),console.log(` ${e} ...`);const o=await Object(ze[\"g\"])(e);if(console.log(\":\",o),!o)return console.error(\"\"),void(u.value=[]);let l=[],s=null;if(o.data&&o.data.messages)l=o.data.messages,s=o.data,console.log(\":\",l.length);else if(o.data&&o.data.data&&o.data.data.messages)l=o.data.data.messages,s=o.data.data,console.log(\":\",l.length);else if(o.messages)l=o.messages,s=o,console.log(\":\",l.length);else{console.warn(\":\",o),console.log(\"...\");const e=[\"message\",\"chat_messages\",\"chats\",\"content\"];for(const t of e){if(o[t]&&Array.isArray(o[t])){console.log(` ${t}`),l=o[t],s=o;break}if(o.data&&o.data[t]&&Array.isArray(o.data[t])){console.log(`data ${t}`),l=o.data[t],s=o.data;break}}0===l.length&&console.warn(\"\")}if(l.forEach(e=>{if(e.sender&&e.sender.avatar){const t=e.sender.avatar;t.startsWith(\"http://\")||t.startsWith(\"https://\")?e.sender.avatar_url=t:t.startsWith(\"/\")?e.sender.avatar_url=`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${t}`:e.sender.avatar_url=`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${t}`}}),console.log(\":\",s),console.log(\":\",l),s&&!y.value.some(t=>t.id===parseInt(e))){console.log(\":\",s);const t=s;let r=null;t.participants&&Array.isArray(t.participants)&&t.participants.length>0&&a.value&&(r=t.participants.find(e=>e.user&&e.user.id!==a.value.id));let n=null;if(t.is_group)n={id:parseInt(e),name:t.title||\"\",initial:(t.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(parseInt(e)),status:\"online\",lastMessage:t.last_message?t.last_message.content:\"\",lastTime:Z(t.updated_at),unread:0,isGroup:!0};else if(r&&r.user){const a=r.user;let o=\"\";if(a.avatar){const e=a.avatar;o=e.startsWith(\"http://\")||e.startsWith(\"https://\")?e:e.startsWith(\"/\")?`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}${e}`:`${Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_BASE_API||\"http://localhost:8000\"}/${e}`}n={id:parseInt(e),name:(a.name||((a.first_name||\"\")+\" \"+(a.last_name||\"\")).trim()||a.username||\"\").trim(),initial:(a.name||a.first_name||a.username||\"\")[0],avatar:a.avatar||\"\",avatar_url:o,color:X(a.id),status:\"online\",lastMessage:t.last_message?t.last_message.content:\"\",lastTime:Z(t.updated_at),unread:0,isGroup:!1}}else n={id:parseInt(e),name:t.title||\"\",initial:(t.title||\"\")[0],avatar:\"\",avatar_url:\"\",color:X(parseInt(e)),status:\"online\",lastMessage:\"\",lastTime:Z(t.updated_at),unread:0,isGroup:t.is_group};n&&(y.value.unshift(n),console.log(\":\",n))}u.value=l||[],g.value=parseInt(e),c.value=parseInt(e);try{const t=await Object(Ye[\"a\"])({url:\"/api/ai/documents/\",method:\"get\",params:{chat:e}});t&&t.data&&Array.isArray(t.data.results)&&(ce.value=t.data.results.map(e=>e.id),console.log(\"ID:\",ce.value))}catch(n){ce.value=[]}Object(r[\"nextTick\"])(()=>{M()})}catch(o){console.error(\":\",o);let e=\"\";if(o.response){const t=o.response.status;404===t?e=\"\":403===t?e=\"\":o.response.data&&o.response.data.message&&(e=o.response.data.message)}else o.message&&(e=o.message);$e[\"a\"].error(e),u.value=[]}finally{t||(p.value=!1)}else console.error(\": chatId\")},I=async()=>{if(await ne(),await oe(),await S(),g.value){const e=y.value.find(e=>e.id===g.value);e&&(c.value=e.id)}},M=()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)},T=async e=>{if(!e.isGroup&&a.value&&e.userId===a.value.id)return void $e[\"a\"].warning(\"\");console.log(\":\",e);let t=e.id;if(\"string\"===typeof t&&t.startsWith(\"user_\")){let a=e.userId||e.id.replace(\"user_\",\"\");console.log(\":\",a);const r=y.value.find(e=>!e.isGroup&&(e.userId&&e.userId==a||e.user&&e.user.id==a));if(r)console.log(\":\",r),t=r.id;else{console.log(\"\");try{const r=await Object(Ye[\"a\"])({url:\"/api/chat/sessions/\",method:\"post\",data:{participant_ids:[a],is_group:!1}});console.log(\":\",r);let n=null;if(r&&r.data?n=r.data:r&&r.id&&(n=r),!n||!n.id)throw new Error(\"\");{const r={id:n.id,userId:a,name:e.name,initial:e.initial,avatar:e.avatar,avatar_url:e.avatar_url||\"\",color:e.color||X(a),status:\"online\",lastMessage:\"\",lastTime:Z(new Date),unread:0,isGroup:!1,department:e.department};y.value.unshift(r),t=n.id,$e[\"a\"].success(\"\")}}catch(n){return console.error(\":\",n),void $e[\"a\"].error(\": \"+(n.message||\"\"))}}}c.value=t,l.value=\"\",u.value=[];try{await A(t),Object(r[\"nextTick\"])(()=>{M()})}catch(n){console.error(\":\",n),$e[\"a\"].error(\"\"+(n.message||\"\"))}};Object(r[\"watch\"])(u,()=>{Object(r[\"nextTick\"])(()=>{M()})});const U=async()=>{if(l.value.trim()&&g.value)try{if(console.log(\"IDs:\",ce.value),!a.value||!a.value.id){const e=await B();if(!e||!e.id)throw new Error(\"\")}const e={id:\"temp-\"+Date.now(),content:l.value.trim(),sender:{id:a.value.id,username:a.value.username||\"\",first_name:a.value.first_name||\"\",last_name:a.value.last_name||\"\"},message_type:\"text\",created_at:(new Date).toISOString(),is_temp:!0};u.value.push(e);const t=l.value;let n,o;if(l.value=\"\",await Object(r[\"nextTick\"])(),M(),ce.value&&ce.value.length>0){n=await Object(Re[\"a\"])({message:t,chat_id:g.value,document_ids:ce.value});let a=\"\";if(n&&\"string\"===typeof n.data?a=n.data:n&&n.data&&n.data.message&&(a=n.data.message),a){o={id:\"ai-\"+Date.now(),content:a,sender:{id:0,username:\"AI\"},message_type:\"text\",created_at:(new Date).toISOString()};const t=u.value.findIndex(t=>t.id===e.id);-1!==t?u.value.splice(t,1,o):u.value.push(o)}}else{n=await Object(ze[\"l\"])({chat:g.value,content:t});let r=null;n&&n.success&&n.data?r=n.data:n&&n.id?r=n:n&&n.chat&&(r={id:n.id||\"msg-\"+Date.now(),content:n.content,message_type:n.message_type,file:n.file,created_at:n.created_at||(new Date).toISOString(),sender:{id:a.value.id,username:a.value.username||\"\",first_name:a.value.first_name||\"\",last_name:a.value.last_name||\"\"}});const o=u.value.findIndex(t=>t.id===e.id);-1!==o&&r?u.value.splice(o,1,r):r&&u.value.push(r)}await Object(r[\"nextTick\"])(),M()}catch(e){console.error(\":\",e),u.value=u.value.filter(e=>!e.is_temp),l.value=e.savedMessage||l.value,$e[\"a\"].error(\"\")}},$=()=>{i.value.click()},P=()=>{d.value.click()},F=Object(r[\"ref\"])(!1),z=Object(r[\"ref\"])(!1),L=async e=>{const t=e.target.files[0];if(t&&g.value)try{F.value=!0,await Object(ze[\"i\"])(g.value,\": \"+t.name,t);const a=new FormData;a.append(\"file\",t),a.append(\"chat\",g.value),await Object(Ye[\"a\"])({url:\"/api/ai/documents/upload/\",method:\"post\",data:a,headers:{\"Content-Type\":\"multipart/form-data\"}});const r=await Object(Ye[\"a\"])({url:\"/api/ai/documents/\",method:\"get\",params:{chat:g.value}});r&&r.data&&Array.isArray(r.data.results)&&(ce.value=r.data.results.map(e=>e.id),console.log(\"IDs:\",ce.value)),$e[\"a\"].success(\"\"),A(g.value,!0),e.target.value=\"\"}catch(a){console.error(\":\",a),$e[\"a\"].error(\"\")}finally{F.value=!1}},Y=async e=>{const t=e.target.files[0];if(t&&g.value)try{if(!t.type.startsWith(\"image/\"))return $e[\"a\"].error(\"\"),void(e.target.value=\"\");const a=10485760;if(t.size>a)return $e[\"a\"].error(\"10MB\"),void(e.target.value=\"\");z.value=!0,console.log(\"ID:\",g.value,\":\",t.name,\":\",t.size),await Object(ze[\"j\"])(g.value,\"\",t),A(g.value,!0),e.target.value=\"\"}catch(a){console.error(\":\",a);let t=\"\";a.response&&(console.error(\":\",a.response.status),console.error(\":\",a.response.data),a.response.data&&a.response.data.error?t=a.response.data.error:a.response.data&&\"string\"===typeof a.response.data?t=a.response.data:413===a.response.status&&(t=\"\")),$e[\"a\"].error(t),e.target.value=\"\"}finally{z.value=!1}},R=async()=>{O.value=!0,await H()},H=async()=>{try{j.value=!0;const{data:e}=await Object(Le[\"j\"])();v.value=e}catch(e){console.error(\":\",e),$e[\"a\"].error(\"\")}finally{j.value=!1}},q=e=>{f.value=e},G=async e=>{if(g.value)try{await Object(ze[\"k\"])(g.value,\": \"+e.title,e.id),O.value=!1,A(g.value,!0)}catch(t){console.error(\":\",t),$e[\"a\"].error(\"\")}},W=async e=>{try{const t=await Object(ze[\"d\"])(e.id),a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement(\"a\");r.href=a,r.setAttribute(\"download\",e.file_name||\"download\"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(t){console.error(\":\",t),$e[\"a\"].error(\"\")}},K=e=>{e.knowledge_detail&&Pe[\"a\"].alert(`: ${e.knowledge_detail.title}<br>: ${e.knowledge_detail.description||\"\"}`,\"\",{dangerouslyUseHTMLString:!0,confirmButtonText:\"\"})},J=e=>X(e.id),Q=e=>(e.first_name||e.username)[0],X=e=>{const t=[\"#007bff\",\"#28a745\",\"#dc3545\",\"#fd7e14\",\"#6f42c1\",\"#20c997\",\"#17a2b8\",\"#6c757d\"],a=\"number\"===typeof e?e%t.length:0;return t[a]},Z=e=>{if(!e)return\"\";const t=new Date(e),a=new Date,r=a-t;if(r<864e5){const e=t.getHours().toString().padStart(2,\"0\"),a=t.getMinutes().toString().padStart(2,\"0\");return`${e}:${a}`}if(r<6048e5){const e=[\"\",\"\",\"\",\"\",\"\",\"\",\"\"];return e[t.getDay()]}return`${t.getMonth()+1}${t.getDate()}`},ee=e=>{if(!e)return\"\";const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,\"0\")}-${t.getDate().toString().padStart(2,\"0\")}`},te=e=>e<1024?e+\" KB\":(e/1024).toFixed(2)+\" MB\",ae=e=>{const t={online:\"\",offline:\"\",busy:\"\",away:\"\"};return t[e]||e},re=async()=>{try{$e[\"a\"].info(\"...\");const e=await B();if(!e)return void $e[\"a\"].error(\"\");await S(),0===y.value.length?$e[\"a\"].warning(\"\"):$e[\"a\"].success(\" \"+y.value.length+\" \")}catch(e){console.error(\":\",e),$e[\"a\"].error(\": \"+(e.message||\"\"))}},ne=async()=>{try{if(console.log(\"...\"),!a.value||!a.value.company){console.error(\"\");const e=await B();if(!e||!e.company)return $e[\"a\"].error(\"\"),void(w.value=[])}const e=a.value.company;console.log(\"ID:\",e);const t=await Object(Ye[\"a\"])({url:\"/api/auth/contacts/\",method:\"get\",params:{company:e}});console.log(\"API:\",t);let r=[];t&&t.success&&Array.isArray(t.data)||t&&Array.isArray(t.data)?r=t.data:t&&Array.isArray(t)?r=t:console.warn(\":\",t),r.length>0?(console.log(` ${r.length} `),w.value=r.map(e=>({id:e.id,username:e.username,name:e.name,department:e.department,avatar:e.avatar_url||e.avatar}))):w.value=[]}catch(e){console.error(\":\",e),$e[\"a\"].error(\"\"),w.value=[]}},oe=async()=>{try{console.log(\"...\");const e=await Object(Ye[\"a\"])({url:\"/api/auth/departments/\",method:\"get\"});console.log(\":\",e);let t=[];e&&e.results?t=e.results:Array.isArray(e)?t=e:e&&e.data&&(Array.isArray(e.data)?t=e.data:e.data.results&&(t=e.data.results)),t&&t.length>0&&(console.log(`${t.length}`),V.value=t)}catch(e){console.error(\":\",e)}},ce=Object(r[\"ref\"])([]),le=Object(r[\"ref\"])(!1),se=Object(r[\"ref\"])([new Date((new Date).setDate((new Date).getDate()-7)),new Date]),ie=Object(r[\"ref\"])(\"\"),de=Object(r[\"ref\"])(!1),ue=Object(r[\"ref\"])({shortcuts:[{text:\"\",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit(\"pick\",[a,t])}},{text:\"\",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit(\"pick\",[a,t])}},{text:\"\",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit(\"pick\",[a,t])}}]}),me=()=>{ie.value=\"\",le.value=!0},pe=()=>{le.value=!1},be=async()=>{if(!c.value)return void $e[\"a\"].warning(\"\");if(!se.value||2!==se.value.length)return void $e[\"a\"].warning(\"\");de.value=!0,ie.value=\"\";const[e,t]=se.value;try{const a=await Object(ze[\"m\"])(c.value,e.toISOString(),t.toISOString()),r=a.data.summary;ie.value=r||\"AI\"}catch(a){console.error(\"Summarization error:\",a),ie.value=\"\",$e[\"a\"].error(\"\")}finally{de.value=!1}},ge=Object(r[\"ref\"])(null),Oe=e=>{ge.value=e},je=e=>{if(!e)return\"\";const t=e.lastIndexOf(\".\");return-1===t||0===t?e:e.substring(0,t)},ve=e=>{if(!e)return\"\";const t=e.lastIndexOf(\".\");return-1===t||0===t||t>=e.length-1?\"\":e.substring(t)},fe=Object(r[\"ref\"])(!1),he=Object(r[\"ref\"])({top:\"0px\",left:\"0px\"}),ye=Object(r[\"ref\"])(null),we=(e,t)=>{e.preventDefault(),he.value={top:e.clientY+\"px\",left:e.clientX+\"px\"},ye.value=t,fe.value=!0,document.addEventListener(\"click\",Ve,{once:!0})},Ve=()=>{fe.value=!1},_e=()=>{if(!ye.value)return;const e=ye.value.content||\"\";navigator.clipboard.writeText(e).then(()=>{$e[\"a\"].success(\"\"),Ve()}).catch(e=>{$e[\"a\"].error(\": \"+e)})},ke=Object(r[\"ref\"])(!1),Ce=Object(r[\"ref\"])(!1),Ne=Object(r[\"ref\"])(!1),Ee=Object(r[\"ref\"])(null),De=Object(r[\"reactive\"])({title:\"\",start:\"\",end:\"\",location:\"\",type:\"blue\",reminder:\"30min\",description:\"\"}),xe=Object(r[\"reactive\"])({title:[{required:!0,message:\"\",trigger:\"blur\"}],start:[{required:!0,message:\"\",trigger:\"change\"}],end:[{required:!0,message:\"\",trigger:\"change\"}],location:[{required:!0,message:\"\",trigger:\"blur\"}],type:[{required:!0,message:\"\",trigger:\"change\"}],reminder:[{required:!0,message:\"\",trigger:\"change\"}],description:[{required:!0,message:\"\",trigger:\"blur\"}]}),Be=(e,t,a)=>{if(t)if(De.start){const e=new Date(De.start),r=new Date(t);r<=e?a(new Error(\"\")):e.toDateString()!==r.toDateString()?a(new Error(\"\")):a()}else a();else a()};Object(r[\"watch\"])(()=>De.start,e=>{e&&Ee.value&&Ee.value.validateField(\"end\")}),xe.end=[{required:!0,message:\"\",trigger:\"change\"},{validator:Be,trigger:\"change\"}];const Se=async()=>{if(ye.value){Ce.value=!0,ke.value=!0;try{var e;const t=ye.value.content,a=await Object(ze[\"a\"])(t);console.log(\"AI:\",a);const r=(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||(null===a||void 0===a?void 0:a.data);r&&\"object\"===typeof r?(console.log(\"AI:\",r),De.title=r.title||\"\",De.start=r.start||ee(new Date,\"YYYY-MM-DD HH:mm:ss\"),De.end=r.end||ee(new Date(Date.now()+36e5),\"YYYY-MM-DD HH:mm:ss\"),De.location=r.location||\"\",De.type=r.type||\"blue\",De.reminder=r.reminder||\"30min\",De.description=r.description||t||\"\",De.is_all_day=r.is_all_day||!1,r.participants&&Array.isArray(r.participants)?De.participants=r.participants:De.participants=k.value?[k.value]:[]):(console.error(\"AI\",a),$e[\"a\"].warning(\"AI\"),De.title=\"\",De.start=ee(new Date,\"YYYY-MM-DD HH:mm:ss\"),De.end=ee(new Date(Date.now()+36e5),\"YYYY-MM-DD HH:mm:ss\"),De.location=\"\",De.type=\"blue\",De.reminder=\"30min\",De.description=t||\"\",De.is_all_day=!1)}catch(a){var t;console.error(\":\",a),$e[\"a\"].error(\"AI\"),De.title=\"\",De.start=ee(new Date,\"YYYY-MM-DD HH:mm:ss\"),De.end=ee(new Date(Date.now()+36e5),\"YYYY-MM-DD HH:mm:ss\"),De.location=\"\",De.type=\"blue\",De.reminder=\"30min\",De.description=(null===(t=ye.value)||void 0===t?void 0:t.content)||\"\",De.is_all_day=!1}finally{Ce.value=!1,Ve()}}else $e[\"a\"].warning(\"\")},Ae=async()=>{Ee.value&&await Ee.value.validate(async e=>{if(!e)return $e[\"a\"].error(\"\"),!1;Ne.value=!0;try{const e={...De};e.participants||(e.participants=[]),k.value&&!e.participants.includes(k.value)&&e.participants.push(k.value),await Object(ze[\"b\"])(e),$e[\"a\"].success(\"\"),ke.value=!1}catch(r){var t,a;$e[\"a\"].error(\": \"+((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||r.message))}finally{Ne.value=!1}})};return Object(r[\"onMounted\"])(()=>{document.addEventListener(\"click\",e=>{if(fe.value){const t=document.querySelector(\".chat-context-menu\");t&&!t.contains(e.target)&&(fe.value=!1)}})}),{searchQuery:n,activeTab:o,selectedContact:c,tabs:h,contacts:y,currentContact:_,filteredContacts:C,messages:u,messageInput:l,messageContainer:s,fileInput:i,imageInput:d,currentUser:t,userInfo:a,userId:k,knowledgeDialogVisible:O,knowledgeLoading:j,knowledgeList:v,sessionsLoading:m,messagesLoading:p,Search:Fe[\"Search\"],Document:Fe[\"Document\"],PictureFilled:Fe[\"PictureFilled\"],FolderOpened:Fe[\"FolderOpened\"],Microphone:Fe[\"Microphone\"],Position:Fe[\"Position\"],ChatDotSquare:Fe[\"ChatDotSquare\"],Reading:Fe[\"Reading\"],UserFilled:Fe[\"UserFilled\"],ChatLineSquare:Fe[\"ChatLineSquare\"],Refresh:Fe[\"Refresh\"],sendMessage:U,getStatusText:ae,selectContact:T,openFileUpload:$,openImageUpload:P,handleFileUpload:L,handleImageUpload:Y,openKnowledgeDialog:R,selectKnowledge:q,shareKnowledge:G,downloadFile:W,viewKnowledge:K,getSenderColor:J,getSenderInitial:Q,formatMessageTime:Z,formatDate:ee,formatFileSize:te,refreshChatSessions:I,forceRefresh:re,groupedUsersByDepartment:E,getActiveContacts:N,loadAllUsers:ne,loadDepartments:oe,selectedDocumentIds:ce,fileUploading:F,imageUploading:z,summaryDialogVisible:le,summaryDateRange:se,summaryContent:ie,summaryLoading:de,pickerOptions:ue,openSummaryDialog:me,handleCloseSummaryDialog:pe,handleSummarize:be,expandedImage:ge,toggleImageExpand:Oe,getFileName:je,getFileExtension:ve,contextMenuVisible:fe,contextMenuStyle:he,openContextMenu:we,copyMessageContent:_e,addToCalendarFromMessage:Se,calendarDialogVisible:ke,calendarEvent:De,isAnalyzing:Ce,isSubmitting:Ne,submitCalendarEvent:Ae,calendarFormRef:Ee,calendarRules:xe}}},qe=(a(\"2056\"),a(\"6b0d\")),Ge=a.n(qe);const We=Ge()(He,[[\"render\",Me],[\"__scopeId\",\"data-v-67a25b4b\"]]);t[\"default\"]=We},2056:function(e,t,a){\"use strict\";a(\"7ce3\")},\"271a\":function(e,t,a){\"use strict\";var r=a(\"cb2d\"),n=a(\"e330\"),o=a(\"577e\"),c=a(\"d6d6\"),l=URLSearchParams,s=l.prototype,i=n(s.getAll),d=n(s.has),u=new l(\"a=1\");!u.has(\"a\",2)&&u.has(\"a\",void 0)||r(s,\"has\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var r=i(this,e);c(t,1);var n=o(a),l=0;while(l<r.length)if(r[l++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},\"48cf\":function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return n})),a.d(t,\"g\",(function(){return o})),a.d(t,\"a\",(function(){return c})),a.d(t,\"b\",(function(){return l})),a.d(t,\"e\",(function(){return s})),a.d(t,\"d\",(function(){return i})),a.d(t,\"c\",(function(){return d}));a(\"d9e2\");var r=a(\"b775\");function n(){return Object(r[\"a\"])({url:\"/api/ai/schedule-reminder/\",method:\"get\"})}function o(e){return Object(r[\"a\"])({url:`/api/ai/recommendations/${e}/mark_as_read/`,method:\"post\"})}function c(e){return Object(r[\"a\"])({url:\"/api/ai/chat-with-documents/\",method:\"post\",data:e,responseType:\"text\"})}function l(e,t,a,r){const n=new AbortController,o=n.signal,c=localStorage.getItem(\"token\"),l={\"Content-Type\":\"application/json\"};return c&&(l[\"Authorization\"]=\"Bearer \"+c),fetch(\"http://localhost:8000/api/ai/chat-with-documents/\",{method:\"POST\",headers:l,body:JSON.stringify(e),signal:o}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({message:\"JSON\"}));throw new Error(t.message||\"HTTP error! Status: \"+e.status)}const n=e.body.getReader(),o=new TextDecoder(\"utf-8\");let c=\"\",l=null;const s=async()=>{while(1){const{done:s,value:i}=await n.read();if(s){c&&console.error(\"Stream finished but buffer is not empty:\",c),a&&a(l);break}c+=o.decode(i,{stream:!0});const d=c.split(\"\\n\");c=d.pop();for(const n of d)if(n.startsWith(\"data:\")){const o=n.substring(5).trim();if(\"[DONE]\"===o)return void(a&&a(l));try{const e=JSON.parse(o);t&&t(e,e.chat_id),(\"session_id\"===e.type||e.chat_id)&&(l=e.chat_id)}catch(e){console.error(\"JSON: \",o,e),r&&r(new Error(\"\"))}}}};s().catch(e=>{console.error(\"An error occurred while processing the stream:\",e),r&&r(e)})}).catch(e=>{\"AbortError\"!==e.name&&(console.error(\"Fetch request failed:\",e),r&&r(e))}),n}function s(){return Object(r[\"a\"])({url:\"/api/ai/chats/\",method:\"get\"})}function i(e){return Object(r[\"a\"])({url:`/api/ai/chats/${e}/`,method:\"get\"})}function d(e){return Object(r[\"a\"])({url:`/api/ai/chats/${e}/`,method:\"delete\"})}},5494:function(e,t,a){\"use strict\";var r=a(\"83ab\"),n=a(\"e330\"),o=a(\"edd0\"),c=URLSearchParams.prototype,l=n(c.forEach);r&&!(\"size\"in c)&&o(c,\"size\",{get:function(){var e=0;return l(this,(function(){e++})),e},configurable:!0,enumerable:!0})},\"7ce3\":function(e,t,a){},\"88a7\":function(e,t,a){\"use strict\";var r=a(\"cb2d\"),n=a(\"e330\"),o=a(\"577e\"),c=a(\"d6d6\"),l=URLSearchParams,s=l.prototype,i=n(s.append),d=n(s[\"delete\"]),u=n(s.forEach),m=n([].push),p=new l(\"a=1&a=2&b=3\");p[\"delete\"](\"a\",1),p[\"delete\"](\"b\",void 0),p+\"\"!==\"a=2\"&&r(s,\"delete\",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var r=[];u(this,(function(e,t){m(r,{key:t,value:e})})),c(t,1);var n,l=o(e),s=o(a),p=0,b=0,g=!1,O=r.length;while(p<O)n=r[p++],g||n.key===l?(g=!0,d(this,n.key)):b++;while(b<O)n=r[b++],n.key===l&&n.value===s||i(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},\"910d\":function(e,t,a){\"use strict\";var r=a(\"23e7\"),n=a(\"c65b\"),o=a(\"59ed\"),c=a(\"825a\"),l=a(\"46c4\"),s=a(\"c5cc\"),i=a(\"9bdd\"),d=a(\"c430\"),u=a(\"2a62\"),m=a(\"f99f\"),p=!d&&m(\"filter\",TypeError),b=s((function(){var e,t,a,r=this.iterator,o=this.predicate,l=this.next;while(1){if(e=c(n(l,r)),t=this.done=!!e.done,t)return;if(a=e.value,i(r,o,[a,this.counter++],!0))return a}}));r({target:\"Iterator\",proto:!0,real:!0,forced:d||p},{filter:function(e){c(this);try{o(e)}catch(t){u(this,\"throw\",t)}return p?n(p,this,e):new b(l(this),{predicate:e})}})},c466:function(e,t,a){\"use strict\";function r(e){if(!e)return\"\";if(!(e instanceof Date)&&(e=new Date(e),isNaN(e.getTime())))return\"\";const t=new Date,a=t.getTime()-e.getTime(),r=Math.floor(a/1e3),n=Math.floor(r/60),o=Math.floor(n/60),c=Math.floor(o/24),l=Math.floor(c/30),s=Math.floor(l/12);return r<60?\"\":n<60?n+\"\":o<24?o+\"\":c<30?c+\"\":l<12?l+\"\":s+\"\"}a.d(t,\"a\",(function(){return r}))},d6d6:function(e,t,a){\"use strict\";var r=TypeError;e.exports=function(e,t){if(e<t)throw new r(\"Not enough arguments\");return e}},d800:function(e,t,a){\"use strict\";a.d(t,\"h\",(function(){return n})),a.d(t,\"g\",(function(){return o})),a.d(t,\"c\",(function(){return c})),a.d(t,\"l\",(function(){return l})),a.d(t,\"i\",(function(){return s})),a.d(t,\"j\",(function(){return i})),a.d(t,\"k\",(function(){return d})),a.d(t,\"d\",(function(){return u})),a.d(t,\"e\",(function(){return m})),a.d(t,\"f\",(function(){return p})),a.d(t,\"m\",(function(){return b})),a.d(t,\"a\",(function(){return g})),a.d(t,\"b\",(function(){return O}));a(\"d9e2\");var r=a(\"b775\");function n(){return Object(r[\"a\"])({url:\"/api/chat/sessions/\",method:\"get\"})}function o(e){return Object(r[\"a\"])({url:`/api/chat/sessions/${e}/`,method:\"get\"})}function c(e){return Object(r[\"a\"])({url:\"/api/chat/sessions/\",method:\"post\",data:e})}function l(e){return Object(r[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"text\"}})}function s(e,t,a){const n=new FormData;return n.append(\"chat\",e),n.append(\"message_type\",\"file\"),n.append(\"content\",t),n.append(\"file\",a),Object(r[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:n})}function i(e,t,a){const n=new FormData;return n.append(\"chat\",e),n.append(\"message_type\",\"image\"),n.append(\"content\",t),n.append(\"file\",a),Object(r[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:n})}function d(e){return Object(r[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"knowledge\",content:\"\"}})}function u(e){return Object(r[\"a\"])({url:`/api/chat/messages/${e}/download/`,method:\"get\",responseType:\"blob\"})}function m(e){return Object(r[\"a\"])({url:\"/api/chat/find-or-create/\",method:\"post\",data:{user_id:e}})}async function p(e){if(!e||0===e.length)throw new Error(\"No user IDs provided\");return 1===e.length?m(e[0]):c({participants:e})}function b(e,t,a){return Object(r[\"a\"])({url:`/api/chat/sessions/${e}/summarize/`,method:\"post\",data:{start_date:t,end_date:a}})}function g(e){return Object(r[\"a\"])({url:\"/api/chat/analyze-for-calendar/\",method:\"post\",data:{content:e}})}function O(e){return Object(r[\"a\"])({url:\"/api/calendar/events/\",method:\"post\",data:e})}},db6a:function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return o})),a.d(t,\"a\",(function(){return c})),a.d(t,\"k\",(function(){return l})),a.d(t,\"c\",(function(){return s})),a.d(t,\"h\",(function(){return i})),a.d(t,\"m\",(function(){return d})),a.d(t,\"l\",(function(){return u})),a.d(t,\"d\",(function(){return m})),a.d(t,\"e\",(function(){return p})),a.d(t,\"g\",(function(){return b})),a.d(t,\"b\",(function(){return g})),a.d(t,\"i\",(function(){return O})),a.d(t,\"j\",(function(){return j}));a(\"d9e2\");var r=a(\"b775\");const n=\"/api/knowledge\";function o(){return console.log(\"getCategories API\"),Object(r[\"a\"])({url:n+\"/categories/\",method:\"get\"}).then(e=>{if(console.log(\"getCategories API:\",e),!e)return console.warn(\"getCategories\"),[];if(Array.isArray(e))return e;if(e.results&&Array.isArray(e.results))return e.results;if(e.data&&Array.isArray(e.data))return e.data;if(\"object\"===typeof e)for(const t of[\"items\",\"categories\",\"list\"])if(e[t]&&Array.isArray(e[t]))return e[t];return console.warn(\":\",e),[]}).catch(e=>(console.error(\"getCategories API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),[]))}function c(e){return Object(r[\"a\"])({url:n+\"/categories/\",method:\"post\",data:e})}function l(e,t){return Object(r[\"a\"])({url:`${n}/categories/${e}/`,method:\"put\",data:t})}function s(e){return Object(r[\"a\"])({url:`${n}/categories/${e}/`,method:\"delete\"})}function i(e){return console.log(\"getDocuments API:\",n+\"/documents/\",\":\",e),Object(r[\"a\"])({url:n+\"/documents/\",method:\"get\",params:e}).then(e=>(console.log(\"getDocuments API:\",e),e)).catch(e=>{throw console.error(\"getDocuments API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function d(e){if(console.log(\"...\",e),e instanceof FormData){const t=e.get(\"file\");if(!t)return console.warn(\"FormData!\"),Promise.reject(new Error(\"\"));if(console.log(\"FormData:\",{name:t.name,size:t.size,type:t.type,lastModified:t.lastModified}),!t.size||0===t.size)return Promise.reject(new Error(\"0\"))}return Object(r[\"a\"])({url:n+\"/documents/\",method:\"post\",data:e,timeout:12e4,headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log(`: ${t}%`)}}).then(e=>(console.log(\":\",e),e)).catch(e=>{throw console.error(\":\",e),e.response?(console.error(\":\",e.response.status),console.error(\":\",e.response.data),413===e.response.status?e.message=\"\":400===e.response.status?e.message=\": \"+JSON.stringify(e.response.data):401===e.response.status?e.message=\"\":500===e.response.status&&(e.message=\"\")):e.request&&(console.error(\":\",e.request),\"ECONNABORTED\"===e.code?e.message=\"\":e.message=\"\"),e})}function u(e,t){return Object(r[\"a\"])({url:`${n}/documents/${e}/`,method:\"put\",data:t})}function m(e){console.log(\">>> deleteDocument function entered for ID:\",e);const t={url:`${n}/documents/${e}/`,method:\"delete\"};return console.log(\">>> deleteDocument - Request config prepared:\",t),Object(r[\"a\"])(t).then(e=>(console.log(\"deleteDocument API:\",e),e)).catch(e=>{throw console.error(\"deleteDocument API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function p(e){return Object(r[\"a\"])({url:`${n}/documents/${e}/`,method:\"get\",responseType:\"blob\"})}function b(e){return Object(r[\"a\"])({url:`${n}/documents/${e}/chunks/`,method:\"get\"})}function g(){return console.log(\"buildKnowledgeBase API\"),Object(r[\"a\"])({url:n+\"/build/\",method:\"post\"}).then(e=>(console.log(\"buildKnowledgeBase API:\",e),e)).catch(e=>{throw console.error(\"buildKnowledgeBase API:\",e),e.response&&(console.error(\":\",e.response.status),console.error(\":\",e.response.data)),e})}function O(){return Object(r[\"a\"])({url:n+\"/build/status/\",method:\"get\"})}function j(){return Object(r[\"a\"])({url:n+\"/list/\",method:\"get\"})}},f665:function(e,t,a){\"use strict\";var r=a(\"23e7\"),n=a(\"c65b\"),o=a(\"2266\"),c=a(\"59ed\"),l=a(\"825a\"),s=a(\"46c4\"),i=a(\"2a62\"),d=a(\"f99f\"),u=d(\"find\",TypeError);r({target:\"Iterator\",proto:!0,real:!0,forced:u},{find:function(e){l(this);try{c(e)}catch(r){i(this,\"throw\",r)}if(u)return n(u,this,e);var t=s(this),a=0;return o(t,(function(t,r){if(e(t,a++))return r(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);","extractedComments":[]}