{"map":"{\"version\":3,\"sources\":[\"js/chunk-bb661f54.bc1f697b.js\"],\"names\":[\"window\",\"push\",\"1012\",\"module\",\"exports\",\"__webpack_require__\",\"35ad\",\"__webpack_exports__\",\"d\",\"getContractList\",\"getContractDetail\",\"createContract\",\"updateContract\",\"deleteContract\",\"getRecommendedTemplates\",\"createContractFromTemplate\",\"checkContract\",\"aiPolishContract\",\"getCompanyUsers\",\"_utils_request__WEBPACK_IMPORTED_MODULE_1__\",\"_user__WEBPACK_IMPORTED_MODULE_2__\",\"params\",\"Object\",\"url\",\"method\",\"id\",\"data\",\"templateId\",\"isNaN\",\"Number\",\"console\",\"error\",\"Promise\",\"reject\",\"Error\",\"content\",\"contentLength\",\"length\",\"log\",\"timeout\",\"catch\",\"signal\",\"then\",\"response\",\"4678\",\"910d\",\"$\",\"call\",\"aCallable\",\"anObject\",\"getIteratorDirect\",\"createIteratorProxy\",\"callWithSafeIterationClosing\",\"IS_PURE\",\"iteratorClose\",\"iteratorHelperWithoutClosingOnEarlyError\",\"filterWithoutClosingOnEarlyError\",\"TypeError\",\"IteratorProxy\",\"result\",\"done\",\"value\",\"iterator\",\"this\",\"predicate\",\"next\",\"counter\",\"target\",\"proto\",\"real\",\"forced\",\"filter\",\"d800\",\"getChatSessions\",\"getChatSession\",\"createChatSession\",\"sendTextMessage\",\"sendFileMessage\",\"sendImageMessage\",\"sendKnowledgeMessage\",\"downloadMessageFile\",\"addCalendarEvent\",\"findOrCreateChat\",\"findOrCreateChatWithUsers\",\"message_type\",\"chatId\",\"file\",\"formData\",\"FormData\",\"append\",\"image\",\"messageId\",\"responseType\",\"userId\",\"user_id\",\"async\",\"userIds\",\"participants\",\"e1e7\",\"r\",\"vue_runtime_esm_bundler\",\"_hoisted_1\",\"class\",\"_hoisted_2\",\"_hoisted_3\",\"_hoisted_4\",\"_hoisted_5\",\"_hoisted_6\",\"_hoisted_7\",\"_hoisted_8\",\"_hoisted_9\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"_hoisted_13\",\"_hoisted_14\",\"key\",\"_hoisted_15\",\"_hoisted_16\",\"_hoisted_17\",\"_hoisted_18\",\"_hoisted_19\",\"_hoisted_20\",\"_hoisted_21\",\"_hoisted_22\",\"_hoisted_23\",\"_hoisted_24\",\"_hoisted_25\",\"_hoisted_26\",\"_hoisted_27\",\"_hoisted_28\",\"_hoisted_29\",\"_hoisted_30\",\"_hoisted_31\",\"_hoisted_32\",\"_hoisted_33\",\"_hoisted_34\",\"_hoisted_35\",\"_hoisted_36\",\"_hoisted_37\",\"_hoisted_38\",\"_hoisted_39\",\"_hoisted_40\",\"_hoisted_41\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"_component_el_input\",\"_component_el_option\",\"_component_el_select\",\"_component_Plus\",\"_component_el_icon\",\"_component_el_button\",\"_component_el_dropdown_item\",\"_component_el_dropdown_menu\",\"_component_el_dropdown\",\"_component_el_empty\",\"_component_el_pagination\",\"_component_el_card\",\"_component_el_radio\",\"_component_el_radio_group\",\"_component_el_divider\",\"_component_el_form_item\",\"_component_el_date_picker\",\"_component_InfoFilled\",\"_component_el_dialog\",\"_component_el_form\",\"_directive_loading\",\"header\",\"modelValue\",\"searchQuery\",\"onUpdate:modelValue\",\"$event\",\"placeholder\",\"clearable\",\"prefix-icon\",\"Search\",\"style\",\"width\",\"onClear\",\"handleFilterChange\",\"sortBy\",\"onChange\",\"default\",\"label\",\"_\",\"sortOrder\",\"type\",\"size\",\"onClick\",\"openContractDialog\",\"filteredContracts\",\"contract\",\"active\",\"selectedContract\",\"viewContractDetail\",\"title\",\"number\",\"createdAt\",\"company\",\"displayAmount\",\"trigger\",\"dropdown\",\"icon\",\"Edit\",\"handleEdit\",\"Share\",\"handleShare\",\"Delete\",\"divided\",\"handleDelete\",\"MoreFilled\",\"text\",\"circle\",\"description\",\"current-page\",\"currentPage\",\"onUpdate:currentPage\",\"page-size\",\"layout\",\"total\",\"totalItems\",\"onCurrentChange\",\"handleCurrentChange\",\"isLoading\",\"showNewContractDialog\",\"footer\",\"saveAsDraft\",\"submitContract\",\"getSubmitButtonText\",\"creationMode\",\"required\",\"newContract\",\"filterable\",\"allow-create\",\"default-first-option\",\"handleContractTypeChange\",\"amount\",\"prefix\",\"signDate\",\"startDate\",\"expireDate\",\"remark\",\"rows\",\"templateForm\",\"contractType\",\"industry\",\"scene\",\"availableTemplates\",\"template\",\"idx\",\"selectedTemplate\",\"handleTemplateSelect\",\"name\",\"contract_type\",\"isLoadingTemplates\",\"image-size\",\"aiForm\",\"coreElements\",\"showEditDialog\",\"submitUpdate\",\"editForm\",\"model\",\"label-width\",\"sign_date\",\"start_date\",\"expire_date\",\"showShareDialog\",\"submitShare\",\"shareTargetUsers\",\"multiple\",\"availableUsers\",\"user\",\"username\",\"dist\",\"message\",\"components_loading\",\"message_box\",\"vue_router\",\"api_contract\",\"chat\",\"store\",\"request\",\"formatDate\",\"date\",\"toISOString\",\"split\",\"Indexvue_type_script_lang_js\",\"[object Object]\",\"router\",\"searchTimeout\",\"contracts\",\"loadRecommendedTemplates\",\"index\",\"currentDate\",\"Date\",\"toLocaleDateString\",\"loadContracts\",\"search\",\"page\",\"page_size\",\"ordering\",\"formattedContracts\",\"results\",\"map\",\"created_at\",\"toLocaleString\",\"toFixed\",\"count\",\"resetForms\",\"keys\",\"forEach\",\"_store$getters$user\",\"loading\",\"service\",\"lock\",\"background\",\"getters\",\"close\",\"contractData\",\"replace\",\"status\",\"use_ai_agent\",\"JSON\",\"stringify\",\"success\",\"errorMsg\",\"errorDetails\",\"entries\",\"Array\",\"isArray\",\"join\",\"e\",\"newPage\",\"_store$getters$user2\",\"companyId\",\"_store$getters$user3\",\"confirm\",\"confirmButtonText\",\"cancelButtonText\",\"updateData\",\"String\",\"warning\",\"_chatResponse$data\",\"chatResponse\",\"chat_id\",\"blob\",\"filename\",\"downloadUrl\",\"token\",\"localStorage\",\"getItem\",\"headers\",\"Authorization\",\"Blob\",\"docTitle\",\"contentDisposition\",\"includes\",\"match\",\"retryCount\",\"maxRetries\",\"controller\",\"AbortController\",\"timeoutId\",\"setTimeout\",\"abort\",\"clearTimeout\",\"resolve\",\"visible\",\"Plus\",\"InfoFilled\",\"exportHelper\",\"exportHelper_default\",\"n\",\"__exports__\"],\"mappings\":\"CAACA,OAAO,gBAAkBA,OAAO,iBAAmB,IAAIC,KAAK,CAAC,CAAC,kBAAkB,CAE3EC,KACA,SAAUC,EAAQC,EAASC,KAM3BC,OACA,SAAUH,EAAQI,EAAqBF,GAE7C,aAC+BA,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOE,KACpEJ,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOG,KACpEL,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOI,KACpEN,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOK,KACpEP,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOM,KAEpER,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOO,KAEpET,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOQ,KAEpEV,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOS,KACpEX,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOU,KAIpEZ,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOW,KACTb,EAAoB,QAAzF,IAEIc,EAA8Cd,EAAoB,QAClEe,EAAqCf,EAAoB,QAclF,SAASI,EAAgBY,GACvB,OAAOC,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BACLC,OAAQ,MACRH,OAAAA,IASJ,SAASX,EAAkBe,GACzB,OAAOH,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BAA2BE,KAChCD,OAAQ,QASZ,SAASb,EAAee,GACtB,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BACLC,OAAQ,OACRE,KAAAA,IAUJ,SAASd,EAAea,EAAIC,GAC1B,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BAA2BE,KAChCD,OAAQ,MACRE,KAAAA,IASJ,SAASb,EAAeY,GACtB,OAAOH,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BAA2BE,KAChCD,OAAQ,WAsBZ,SAASV,EAAwBO,GAC/B,OAAOC,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,gDACLC,OAAQ,MACRH,OAAAA,IAsBJ,SAASN,EAA2BY,EAAYD,GAC9C,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BAA2BI,kBAChCH,OAAQ,OACRE,KAAAA,IA2BJ,SAASV,EAAcS,EAAIC,GAEzB,IAAKD,GAAMG,MAAMC,OAAOJ,IAEtB,OADAK,QAAQC,MAAM,WAAYN,GACnBO,QAAQC,OAAO,IAAIC,MAAM,YAIlC,IAAKR,IAASA,EAAKS,QAEjB,OADAL,QAAQC,MAAM,WAAYL,GACnBM,QAAQC,OAAO,IAAIC,MAAM,aAIlC,MAAME,EAAgBV,GAAQA,EAAKS,QAAUT,EAAKS,QAAQE,OAAS,EAEnE,OADAP,QAAQQ,IAAI,6BAA6Bb,YAAaW,KAC/Cd,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BAA2BE,oBAChCD,OAAQ,OACRE,KAAAA,EACAa,QAAS,OACRC,MAAMT,IAEP,MADAD,QAAQC,MAAM,aAAcA,GACtBA,IAWV,SAASd,EAAiBQ,EAAIC,EAAMe,GAElC,IAAKf,IAASA,EAAKS,QAEjB,OADAL,QAAQC,MAAM,WAAYL,GACnBM,QAAQC,OAAO,IAAIC,MAAM,aAElC,MAAME,EAAgBV,GAAQA,EAAKS,QAAUT,EAAKS,QAAQE,OAAS,EAEnE,OADAP,QAAQQ,IAAI,gCAAgCb,YAAaW,KAClDd,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,2BAA2BE,eAChCD,OAAQ,OACRE,KAAAA,EACAe,OAAAA,IACCC,KAAKC,IACNb,QAAQQ,IAAI,YAAaK,GAClBA,IACNH,MAAMT,IAEP,MADAD,QAAQC,MAAM,aAAcA,GACtBA,IA0CV,MAAMb,gBACJA,GACEE,EAAiD,MAI/CwB,KACA,SAAUzC,EAAQI,EAAqBF,GAE7C,aACgcA,EAAoB,SAO9cwC,OACA,SAAU1C,EAAQC,EAASC,GAEjC,aAEA,IAAIyC,EAAIzC,EAAoB,QACxB0C,EAAO1C,EAAoB,QAC3B2C,EAAY3C,EAAoB,QAChC4C,EAAW5C,EAAoB,QAC/B6C,EAAoB7C,EAAoB,QACxC8C,EAAsB9C,EAAoB,QAC1C+C,EAA+B/C,EAAoB,QACnDgD,EAAUhD,EAAoB,QAC9BiD,EAAgBjD,EAAoB,QACpCkD,EAA2ClD,EAAoB,QAE/DmD,GAAoCH,GAAWE,EAAyC,SAAUE,WAElGC,EAAgBP,GAAoB,WACtC,IAGIQ,EAAQC,EAAMC,EAHdC,EAAWC,KAAKD,SAChBE,EAAYD,KAAKC,UACjBC,EAAOF,KAAKE,KAEhB,MAAO,EAAM,CAGX,GAFAN,EAASV,EAASF,EAAKkB,EAAMH,IAC7BF,EAAOG,KAAKH,OAASD,EAAOC,KACxBA,EAAM,OAEV,GADAC,EAAQF,EAAOE,MACXT,EAA6BU,EAAUE,EAAW,CAACH,EAAOE,KAAKG,YAAY,GAAO,OAAOL,MAMjGf,EAAE,CAAEqB,OAAQ,WAAYC,OAAO,EAAMC,MAAM,EAAMC,OAAQjB,GAAWG,GAAoC,CACtGe,OAAQ,SAAgBP,GACtBf,EAASc,MACT,IACEf,EAAUgB,GACV,MAAOjC,GACPuB,EAAcS,KAAM,QAAShC,GAG/B,OAAIyB,EAAyCT,EAAKS,EAAkCO,KAAMC,GAEnF,IAAIN,EAAcR,EAAkBa,MAAO,CAChDC,UAAWA,QAQXQ,KACA,SAAUrE,EAAQI,EAAqBF,GAE7C,aAC+BA,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOkE,KACpEpE,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOmE,KACpErE,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOoE,KACpEtE,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOqE,KACpEvE,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOsE,KACpExE,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOuE,KACpEzE,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOwE,KACpE1E,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAOyE,KAIpE3E,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAO0E,KAGpE5E,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAO2E,KACpE7E,EAAoBG,EAAED,EAAqB,KAAK,WAAa,OAAO4E,KAGT9E,EAAoB,QAAzF,IAEIc,EAA8Cd,EAAoB,QAO3F,SAASoE,IACP,OAAOnD,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBACLC,OAAQ,QAQZ,SAASkD,EAAejD,GACtB,OAAOH,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBAAsBE,KAC3BD,OAAQ,QAQZ,SAASmD,EAAkBjD,GACzB,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBACLC,OAAQ,OACRE,KAAAA,IAQJ,SAASkD,EAAgBlD,GACvB,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBACLC,OAAQ,OACRE,KAAM,IACDA,EACH0D,aAAc,UAWpB,SAASP,EAAgBQ,EAAQlD,EAASmD,GACxC,MAAMC,EAAW,IAAIC,SAKrB,OAJAD,EAASE,OAAO,OAAQJ,GACxBE,EAASE,OAAO,eAAgB,QAChCF,EAASE,OAAO,UAAWtD,GAC3BoD,EAASE,OAAO,OAAQH,GACjBhE,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBACLC,OAAQ,OACRE,KAAM6D,IAUV,SAAST,EAAiBO,EAAQlD,EAASuD,GACzC,MAAMH,EAAW,IAAIC,SAKrB,OAJAD,EAASE,OAAO,OAAQJ,GACxBE,EAASE,OAAO,eAAgB,SAChCF,EAASE,OAAO,UAAWtD,GAC3BoD,EAASE,OAAO,OAAQC,GACjBpE,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBACLC,OAAQ,OACRE,KAAM6D,IAQV,SAASR,EAAqBrD,GAC5B,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBACLC,OAAQ,OACRE,KAAM,IACDA,EACH0D,aAAc,YACdjD,QAAS,gBASf,SAAS6C,EAAoBW,GAC3B,OAAOrE,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBAAsBoE,cAC3BnE,OAAQ,MACRoE,aAAc,SAgElB,SAASX,EAAiBU,EAAWjE,GACnC,OAAOJ,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,sBAAsBoE,wBAC3BnE,OAAQ,OACRE,KAAAA,IAsBJ,SAASwD,EAAiBW,GACxB,OAAOvE,OAAOH,EAA0D,KAAjEG,CAAuE,CAC5EC,IAAK,4BACLC,OAAQ,OACRE,KAAM,CACJoE,QAASD,KAUfE,eAAeZ,EAA0Ba,GACvC,IAAKA,GAA8B,IAAnBA,EAAQ3D,OACtB,MAAM,IAAIH,MAAM,wBAElB,OAAuB,IAAnB8D,EAAQ3D,OAEH6C,EAAiBc,EAAQ,IAGzBrB,EAAkB,CACvBsB,aAAcD,MAkCdE,KACA,SAAU/F,EAAQI,EAAqBF,GAE7C,aAEAA,EAAoB8F,EAAE5F,GAGtB,IAAI6F,EAA0B/F,EAAoB,QAIlD,MAAMgG,EAAa,CACjBC,MAAO,sBAEHC,EAAa,CACjBD,MAAO,OAEHE,EAAa,CACjBF,MAAO,aAEHG,EAAa,CACjBH,MAAO,oBAEHI,EAAa,CACjBJ,MAAO,0CAEHK,EAAa,CACjBL,MAAO,iBAEHM,EAAa,CAAC,WACdC,EAAa,CACjBP,MAAO,kBAEHQ,EAAa,CACjBR,MAAO,iBAEHS,EAAc,CAClBT,MAAO,sBAEHU,EAAc,CAClBV,MAAO,oBAEHW,EAAc,CAClBX,MAAO,wBAEHY,EAAc,CAClBZ,MAAO,QAEHa,EAAc,CAClBC,IAAK,GAEDC,EAAc,CAClBf,MAAO,OAEHgB,EAAc,CAClBhB,MAAO,YAEHiB,EAAc,CAClBjB,MAAO,YAEHkB,EAAc,CAClBJ,IAAK,GAEDK,EAAc,CAClBnB,MAAO,OAEHoB,EAAc,CAClBpB,MAAO,iBAEHqB,EAAc,CAClBrB,MAAO,iBAEHsB,EAAc,CAClBtB,MAAO,iBAEHuB,EAAc,CAClBvB,MAAO,QAEHwB,EAAc,CAClBxB,MAAO,iBAEHyB,EAAc,CAAC,WACfC,EAAc,CAClB1B,MAAO,iBAEH2B,EAAc,CAClB3B,MAAO,iBAEH4B,EAAc,CAClB5B,MAAO,iBAEH6B,EAAc,CAClBf,IAAK,EACLd,MAAO,qBAEH8B,EAAc,CAClBhB,IAAK,EACLd,MAAO,iBAEH+B,EAAc,CAClBjB,IAAK,EACLd,MAAO,iBAEHgC,EAAc,CAClBhC,MAAO,OAEHiC,EAAc,CAClBjC,MAAO,iBAEHkC,EAAc,CAClBlC,MAAO,iBAEHmC,EAAc,CAClBnC,MAAO,OAEHoC,EAAc,CAClBpC,MAAO,iBAEHqC,EAAc,CAClBvB,IAAK,GAEDwB,EAAc,CAClBtC,MAAO,iBAEHuC,EAAc,CAClBvC,MAAO,OAEHwC,EAAc,CAClBxC,MAAO,YAEHyC,EAAc,CAClBzC,MAAO,YAET,SAAS0C,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GACnD,MAAMC,EAAsBjI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,YAC1EkI,EAAuBlI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,aAC3EmI,EAAuBnI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,aAC3EoI,EAAkBpI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,QACtEqI,EAAqBrI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,WACzEsI,EAAuBtI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,aAC3EuI,GAA8BvI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,oBAClFwI,GAA8BxI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,oBAClFyI,GAAyBzI,OAAO8E,EAAwB,oBAA/B9E,CAAoD,eAC7E0I,GAAsB1I,OAAO8E,EAAwB,oBAA/B9E,CAAoD,YAC1E2I,GAA2B3I,OAAO8E,EAAwB,oBAA/B9E,CAAoD,iBAC/E4I,GAAqB5I,OAAO8E,EAAwB,oBAA/B9E,CAAoD,WACzE6I,GAAsB7I,OAAO8E,EAAwB,oBAA/B9E,CAAoD,YAC1E8I,GAA4B9I,OAAO8E,EAAwB,oBAA/B9E,CAAoD,kBAChF+I,GAAwB/I,OAAO8E,EAAwB,oBAA/B9E,CAAoD,cAC5EgJ,GAA0BhJ,OAAO8E,EAAwB,oBAA/B9E,CAAoD,gBAC9EiJ,GAA4BjJ,OAAO8E,EAAwB,oBAA/B9E,CAAoD,kBAChFkJ,GAAwBlJ,OAAO8E,EAAwB,oBAA/B9E,CAAoD,cAC5EmJ,GAAuBnJ,OAAO8E,EAAwB,oBAA/B9E,CAAoD,aAC3EoJ,GAAqBpJ,OAAO8E,EAAwB,oBAA/B9E,CAAoD,WACzEqJ,GAAqBrJ,OAAO8E,EAAwB,oBAA/B9E,CAAoD,WAC/E,OAAOA,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO+E,EAAY,CAAC/E,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOiF,EAAY,CAACjF,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOkF,EAAY,CAAClF,OAAO8E,EAAwB,kBAA/B9E,EAAmDA,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,eAA/B9E,CAA+C4I,GAAoB,CACzb5D,MAAO,sBACN,CACDsE,OAAQtJ,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOmF,EAAY,CAACyC,EAAO,MAAQA,EAAO,IAAM5H,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ,KAAM,QAAS,IAAKA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOoF,EAAY,CAACpF,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC9XsB,WAAYzB,EAAO0B,YACnBC,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAO0B,YAAcE,GAChFC,YAAa,aACbC,UAAW,GACXC,cAAe/B,EAAOgC,OACtB9E,MAAO,OACP+E,MAAO,CACLC,MAAS,SAEXC,QAASnC,EAAOoC,oBACf,KAAM,EAAG,CAAC,aAAc,cAAe,YAAalK,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC1HoB,WAAYzB,EAAOqC,OACnBV,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOqC,OAAST,GAC3EC,YAAa,OACb3E,MAAO,OACP+E,MAAO,CACLC,MAAS,SAEXI,SAAUtC,EAAOoC,oBAChB,CACDG,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,OACP/H,MAAO,YACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,UACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,eACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,aAETgI,EAAG,GACF,EAAG,CAAC,aAAc,aAAcvK,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CACtGoB,WAAYzB,EAAO0C,UACnBf,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAO0C,UAAYd,GAC9EK,MAAO,CACLC,MAAS,SAEXI,SAAUtC,EAAOoC,oBAChB,CACDG,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,KACP/H,MAAO,QACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,KACP/H,MAAO,WAETgI,EAAG,GACF,EAAG,CAAC,aAAc,eAAgBvK,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CACxGmC,KAAM,UACNC,KAAM,QACNC,QAAS7C,EAAO8C,oBACf,CACDP,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CqI,EAAoB,CAC5HrD,MAAO,QACN,CACDqF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CoI,KAC1GmC,EAAG,IACD3C,EAAO,MAAQA,EAAO,IAAM5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,aACnFuK,EAAG,GACF,EAAG,CAAC,gBACPF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOqF,EAAY,EAAErF,OAAO8E,EAAwB,aAA/B9E,EAA6C,GAAOA,OAAO8E,EAAwB,sBAA/B9E,CAAsD8E,EAAwB,YAAa,KAAM9E,OAAO8E,EAAwB,cAA/B9E,CAA8C8H,EAAO+C,kBAAmBC,IAC1V9K,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO,CAClH8F,IAAKgF,EAAS3K,GACd6E,MAAOhF,OAAO8E,EAAwB,kBAA/B9E,CAAkD,CAAC,gBAAiB,CACzE+K,OAAUjD,EAAOkD,kBAAoBlD,EAAOkD,iBAAiB7K,KAAO2K,EAAS3K,OAE9E,CAACH,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO,CAC/DgF,MAAO,qBACP2F,QAASjB,GAAU5B,EAAOmD,mBAAmBH,IAC5C,CAAC9K,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOuF,EAAYvF,OAAO8E,EAAwB,mBAA/B9E,CAAmD8K,EAASI,OAAQ,GAAIlL,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOwF,EAAY,CAACxF,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ,KAAM,SAAWA,OAAO8E,EAAwB,mBAA/B9E,CAAmD8K,EAASK,QAAS,GAAInL,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ,KAAM,SAAWA,OAAO8E,EAAwB,mBAA/B9E,CAAmD8K,EAASM,WAAY,KAAMpL,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOyF,EAAa,CAACzF,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ,KAAMA,OAAO8E,EAAwB,mBAA/B9E,CAAmD8K,EAASO,SAAU,GAAIrL,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ,KAAM,OAASA,OAAO8E,EAAwB,mBAA/B9E,CAAmD8K,EAASQ,eAAgB,MAAO,EAAGhG,GAAatF,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO0F,EAAa,CAAC1F,OAAO8E,EAAwB,eAA/B9E,CAA+CyI,GAAwB,CAC7iC8C,QAAS,QACTZ,QAAS/C,EAAO,KAAOA,EAAO,GAAK5H,OAAO8E,EAAwB,iBAA/B9E,CAAiD,OAAU,CAAC,WAC9F,CACDwL,SAAUxL,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CwI,GAA6B,KAAM,CAC5I6B,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CuI,GAA6B,CACrIkD,KAAM3D,EAAO4D,KACbf,QAASjB,GAAU5B,EAAO6D,WAAWb,IACpC,CACDT,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,GACF,KAAM,CAAC,OAAQ,YAAavK,OAAO8E,EAAwB,eAA/B9E,CAA+CuI,GAA6B,CACzGkD,KAAM3D,EAAO8D,MACbjB,QAASjB,GAAU5B,EAAO+D,YAAYf,IACrC,CACDT,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,GACF,KAAM,CAAC,OAAQ,YAAavK,OAAO8E,EAAwB,eAA/B9E,CAA+CuI,GAA6B,CACzGkD,KAAM3D,EAAOgE,OACbC,QAAS,GACT/G,MAAO,cACP2F,QAASjB,GAAU5B,EAAOkE,aAAalB,IACtC,CACDT,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,GACF,KAAM,CAAC,OAAQ,cAClBA,EAAG,GACF,QACHF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CAC9HmD,KAAM3D,EAAOmE,WACbjH,MAAO,cACPkH,KAAM,GACNC,OAAQ,IACP,KAAM,EAAG,CAAC,WACb5B,EAAG,GACF,SAAU,KACX,MAA2C,IAApCzC,EAAO+C,kBAAkB9J,QAAgBf,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,eAA/B9E,CAA+C0I,GAAqB,CACtK5C,IAAK,EACLsG,YAAa,eACTpM,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,KAASA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO2F,EAAa,CAAC3F,OAAO8E,EAAwB,eAA/B9E,CAA+C2I,GAA0B,CAC3N0D,eAAgBvE,EAAOwE,YACvBC,uBAAwB3E,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOwE,YAAc5C,GACjF8C,YAAa,GACbC,OAAQ,mCACRC,MAAO5E,EAAO6E,WACdC,gBAAiB9E,EAAO+E,qBACvB,KAAM,EAAG,CAAC,eAAgB,QAAS,wBACtCtC,EAAG,KACA,CAAC,CAAClB,GAAoBvB,EAAOgF,iBAAkB9M,OAAO8E,EAAwB,eAA/B9E,CAA+CmJ,GAAsB,CACvHI,WAAYzB,EAAOiF,sBACnBtD,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOiF,sBAAwBrD,GAC5FwB,MAAO,OACPlB,MAAO,OACN,CACDgD,OAAQhN,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQsH,EAAa,CAACtH,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CACzMqC,QAAS/C,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOiF,uBAAwB,IAC7E,CACD1C,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CACvEmC,KAAM,OACNE,QAAS7C,EAAOmF,aACf,CACD5C,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,WAC1IuK,EAAG,GACF,EAAG,CAAC,YAAavK,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CACvFmC,KAAM,UACNE,QAAS7C,EAAOoF,gBACf,CACD7C,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,mBAA/B9E,CAAmDA,OAAO8E,EAAwB,mBAA/B9E,CAAmD8H,EAAOqF,uBAAwB,KAChM5C,EAAG,GACF,EAAG,CAAC,gBACPF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO4F,EAAa,CAACgC,EAAO,MAAQA,EAAO,IAAM5H,OAAO8E,EAAwB,sBAA/B9E,CAAsD,QAAS,CAC/NgF,MAAO,sBACN,SAAU,IAAKhF,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO,KAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+C8I,GAA2B,CAC9JS,WAAYzB,EAAOsF,aACnB3D,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOsF,aAAe1D,IAChF,CACDW,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+C6I,GAAqB,CAC7HyB,MAAO,UACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,WAC1IuK,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+C6I,GAAqB,CACtEyB,MAAO,YACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,WAC1IuK,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+C6I,GAAqB,CACtEyB,MAAO,MACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,YAC1IuK,EAAG,MAELA,EAAG,GACF,EAAG,CAAC,mBAAoBvK,OAAO8E,EAAwB,eAA/B9E,CAA+C+I,IAAgD,WAAxBjB,EAAOsF,cAA6BpN,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO6F,EAAa,CAAC7F,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO+F,EAAa,CAAC/F,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOgG,EAAa,CAAChG,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC7dsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOwF,YAAYpC,MAC/BzB,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOwF,YAAYpC,MAAQxB,IACrF,KAAM,EAAG,CAAC,iBACba,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC9HoB,WAAYzB,EAAOwF,YAAY7C,KAC/BhB,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOwF,YAAY7C,KAAOf,GACrFC,YAAa,SACbI,MAAO,CACLC,MAAS,QAEXuD,WAAY,GACZC,eAAgB,GAChBC,uBAAwB,GACxBrD,SAAUtC,EAAO4F,0BAChB,CACDrD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,KACP/H,MAAO,SAETgI,EAAG,GACF,EAAG,CAAC,aAAc,eACrBA,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOwF,YAAYjC,QAC/B5B,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOwF,YAAYjC,QAAU3B,IACvF,KAAM,EAAG,CAAC,iBACba,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOwF,YAAYK,OAC/BlE,sBAAuB7B,EAAO,KAAOA,EAAO,GAAK8B,GAAU5B,EAAOwF,YAAYK,OAASjE,GACvFkE,OAAQ,KACP,KAAM,EAAG,CAAC,iBACbrD,EAAG,MACCvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOiG,EAAa,CAACjG,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACvJsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiJ,GAA2B,CACnIM,WAAYzB,EAAOwF,YAAYO,SAC/BpE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOwF,YAAYO,SAAWnE,GAC3Fe,KAAM,OACNd,YAAa,OACbI,MAAO,CACLC,MAAS,SAEV,KAAM,EAAG,CAAC,iBACbO,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiJ,GAA2B,CACnIM,WAAYzB,EAAOwF,YAAYQ,UAC/BrE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOwF,YAAYQ,UAAYpE,GAC5Fe,KAAM,OACNd,YAAa,OACbI,MAAO,CACLC,MAAS,SAEV,KAAM,EAAG,CAAC,iBACbO,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiJ,GAA2B,CACnIM,WAAYzB,EAAOwF,YAAYS,WAC/BtE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOwF,YAAYS,WAAarE,GAC7Fe,KAAM,OACNd,YAAa,OACbI,MAAO,CACLC,MAAS,SAEV,KAAM,EAAG,CAAC,iBACbO,EAAG,QACGvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC9EsB,MAAO,MACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOwF,YAAYU,OAC/BvE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOwF,YAAYU,OAAStE,GACzFe,KAAM,WACNwD,KAAM,GACL,KAAM,EAAG,CAAC,iBACb1D,EAAG,OACGvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,GAA+B,aAAxB8H,EAAOsF,cAA+BpN,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOkG,EAAa,CAAClG,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOmG,EAAa,CAACnG,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOoG,EAAa,CAACpG,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACtcsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC9HoB,WAAYzB,EAAOoG,aAAaC,aAChC1E,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAaC,aAAezE,GAChGC,YAAa,SACbI,MAAO,CACLC,MAAS,SAEV,CACDK,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,WAETgI,EAAG,GACF,EAAG,CAAC,iBACPA,EAAG,MACCvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOqG,EAAa,CAACrG,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACvJsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC9HoB,WAAYzB,EAAOoG,aAAaE,SAChC3E,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAaE,SAAW1E,GAC5FC,YAAa,SACbI,MAAO,CACLC,MAAS,SAEV,CACDK,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,MACP/H,MAAO,QACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,QACP/H,MAAO,UACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,WAETgI,EAAG,GACF,EAAG,CAAC,iBACPA,EAAG,MACCvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOsG,EAAa,CAACtG,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACvJsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC9HoB,WAAYzB,EAAOoG,aAAaG,MAChC5E,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAaG,MAAQ3E,GACzFC,YAAa,SACbI,MAAO,CACLC,MAAS,SAEV,CACDK,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,SACP/H,MAAO,aAETgI,EAAG,GACF,EAAG,CAAC,iBACPA,EAAG,QACGvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOuG,EAAa,CAACqB,EAAO,MAAQA,EAAO,IAAM5H,OAAO8E,EAAwB,sBAA/B9E,CAAsD,QAAS,CAC5KgF,MAAO,cACN,SAAU,IAAKhF,OAAO8E,EAAwB,kBAA/B9E,EAAmDA,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOwG,EAAa,EAAExG,OAAO8E,EAAwB,aAA/B9E,EAA6C,GAAOA,OAAO8E,EAAwB,sBAA/B9E,CAAsD8E,EAAwB,YAAa,KAAM9E,OAAO8E,EAAwB,cAA/B9E,CAA8C8H,EAAOwG,mBAAoB,CAACC,EAAUC,KACjaxO,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO,CAClH8F,IAAK0I,EACLxJ,MAAOhF,OAAO8E,EAAwB,kBAA/B9E,CAAkD,CAAC,gBAAiB,CACzE+K,OAAUjD,EAAO2G,mBAAqBD,KAExC7D,QAASjB,GAAU5B,EAAO4G,qBAAqBF,IAC9C,CAACxO,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO0G,EAAa1G,OAAO8E,EAAwB,mBAA/B9E,CAAmDuO,EAASI,MAAO,GAAI3O,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO2G,EAAa,CAAC3G,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ4G,EAAa5G,OAAO8E,EAAwB,mBAA/B9E,CAAmDuO,EAASK,eAAgB,GAAIL,EAASH,UAAYpO,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ6G,EAAa7G,OAAO8E,EAAwB,mBAA/B9E,CAAmDuO,EAASH,UAAW,IAAMpO,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,KAASuO,EAASnC,aAAepM,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO8G,EAAa9G,OAAO8E,EAAwB,mBAA/B9E,CAAmDuO,EAASnC,aAAc,IAAMpM,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,IAAQ,GAAIyG,KACj8B,OAAQqB,EAAO+G,oBAA2D,IAArC/G,EAAOwG,mBAAmBvN,SAAiB+G,EAAOoG,aAAaC,cAAgBrG,EAAOoG,aAAaE,UAAYtG,EAAOoG,aAAaG,QAAUrO,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,eAA/B9E,CAA+C0I,GAAqB,CACxS5C,IAAK,EACLsG,YAAa,YACb0C,aAAc,OACV9O,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,GAAQ8H,EAAOoG,aAAaC,cAAiBrG,EAAOoG,aAAaE,UAAatG,EAAOoG,aAAaG,MAG5BrO,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,IAHrBA,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAO+G,EAAa,CAAC/G,OAAO8E,EAAwB,eAA/B9E,CAA+CqI,EAAoB,KAAM,CAC7WgC,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkJ,MAC1GqB,EAAG,IACD3C,EAAO,MAAQA,EAAO,IAAM5H,OAAO8E,EAAwB,sBAA/B9E,CAAsD,OAAQ,KAAM,wBAAyB,UAA6E,CAAC,CAACqJ,GAAoBvB,EAAO+G,wBAAyB7O,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOgH,EAAa,CAAChH,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOiH,EAAa,CAACjH,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC5dsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOoG,aAAahD,MAChCzB,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAahD,MAAQxB,GACzFC,YAAa,WACZ,KAAM,EAAG,CAAC,iBACbY,EAAG,MACCvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOkH,EAAa,CAAClH,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACvJsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOoG,aAAa7C,QAChC5B,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAa7C,QAAU3B,GAC3FC,YAAa,aACZ,KAAM,EAAG,CAAC,iBACbY,EAAG,QACGvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOmH,EAAa,CAACnH,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOoH,EAAa,CAACpH,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACpOsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOoG,aAAaP,OAChClE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAaP,OAASjE,GAC1FC,YAAa,QACbiE,OAAQ,KACP,KAAM,EAAG,CAAC,iBACbrD,EAAG,QACGvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC9EsB,MAAO,MACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOoG,aAAaF,OAChCvE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOoG,aAAaF,OAAStE,GAC1Fe,KAAM,WACNwD,KAAM,GACL,KAAM,EAAG,CAAC,iBACb1D,EAAG,OACGvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,GAA+B,OAAxB8H,EAAOsF,cAAyBpN,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOqH,EAAa,CAACrH,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1SsB,MAAO,YACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOiH,OAAOC,aAC1BvF,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOiH,OAAOC,aAAetF,GAC1Fe,KAAM,WACNwD,KAAM,EACNtE,YAAa,iEACZ,KAAM,EAAG,CAAC,iBACbY,EAAG,OACGvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,KAClEuK,EAAG,GACF,EAAG,CAAC,eAAgBvK,OAAO8E,EAAwB,eAA/B9E,CAA+CmJ,GAAsB,CAC1FI,WAAYzB,EAAOmH,eACnBxF,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOmH,eAAiBvF,GACrFwB,MAAO,OACPlB,MAAO,OACN,CACDgD,OAAQhN,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CAC7HqC,QAAS/C,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOmH,gBAAiB,IACtE,CACD5E,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CACvEmC,KAAM,UACNE,QAAS7C,EAAOoH,cACf,CACD7E,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,GACF,EAAG,CAAC,cACPF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAAC8H,EAAOqH,UAAYnP,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,eAA/B9E,CAA+CoJ,GAAoB,CAC/LtD,IAAK,EACLsJ,MAAOtH,EAAOqH,SACdE,cAAe,SACd,CACDhF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOuH,EAAa,CAACvH,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOwH,EAAa,CAACxH,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACvRsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOqH,SAASjE,MAC5BzB,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAASjE,MAAQxB,IACpF,KAAM,EAAG,CAAC,iBACba,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC9HoB,WAAYzB,EAAOqH,SAAS1E,KAC5BhB,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAAS1E,KAAOf,GACpFC,YAAa,SACbI,MAAO,CACLC,MAAS,SAEV,CACDK,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC9HoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,OACP/H,MAAO,SACLvC,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CACvEoC,MAAO,KACP/H,MAAO,SAETgI,EAAG,GACF,EAAG,CAAC,iBACPA,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOqH,SAAS9D,QAC5B5B,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAAS9D,QAAU3B,IACtF,KAAM,EAAG,CAAC,iBACba,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,OACP+C,SAAU,IACT,CACDhD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOqH,SAASxB,OAC5BlE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAASxB,OAASjE,IACrF,KAAM,EAAG,CAAC,iBACba,EAAG,MACCvK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,MAAOyH,EAAa,CAACzH,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACvJsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiJ,GAA2B,CACnIM,WAAYzB,EAAOqH,SAASG,UAC5B7F,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAASG,UAAY5F,GACzFe,KAAM,OACNd,YAAa,OACbI,MAAO,CACLC,MAAS,SAEV,KAAM,EAAG,CAAC,iBACbO,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiJ,GAA2B,CACnIM,WAAYzB,EAAOqH,SAASI,WAC5B9F,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAASI,WAAa7F,GAC1Fe,KAAM,OACNd,YAAa,OACbI,MAAO,CACLC,MAAS,SAEV,KAAM,EAAG,CAAC,iBACbO,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC1EsB,MAAO,QACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiJ,GAA2B,CACnIM,WAAYzB,EAAOqH,SAASK,YAC5B/F,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAASK,YAAc9F,GAC3Fe,KAAM,OACNd,YAAa,OACbI,MAAO,CACLC,MAAS,SAEV,KAAM,EAAG,CAAC,iBACbO,EAAG,QACGvK,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CAC9EsB,MAAO,MACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CiI,EAAqB,CAC7HsB,WAAYzB,EAAOqH,SAASnB,OAC5BvE,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAOqH,SAASnB,OAAStE,GACtFe,KAAM,WACNwD,KAAM,GACL,KAAM,EAAG,CAAC,iBACb1D,EAAG,MAELA,EAAG,GACF,EAAG,CAAC,WAAavK,OAAO8E,EAAwB,sBAA/B9E,CAAsD,IAAI,KAC9EuK,EAAG,GACF,EAAG,CAAC,eAAgBvK,OAAO8E,EAAwB,eAA/B9E,CAA+CmJ,GAAsB,CAC1FI,WAAYzB,EAAO2H,gBACnBhG,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAO2H,gBAAkB/F,GACtFwB,MAAO,OACPlB,MAAO,SACN,CACDgD,OAAQhN,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CAC7HqC,QAAS/C,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAO2H,iBAAkB,IACvE,CACDpF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,IACDvK,OAAO8E,EAAwB,eAA/B9E,CAA+CsI,EAAsB,CACvEmC,KAAM,UACNE,QAAS7C,EAAO4H,aACf,CACDrF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM4H,EAAO,MAAQA,EAAO,IAAM,CAAC5H,OAAO8E,EAAwB,mBAA/B9E,CAAmD,SAC1IuK,EAAG,GACF,EAAG,CAAC,cACPF,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CoJ,GAAoB,KAAM,CAClIiB,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CgJ,GAAyB,CACjIsB,MAAO,OACN,CACDD,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,CAACA,OAAO8E,EAAwB,eAA/B9E,CAA+CmI,EAAsB,CAC9HoB,WAAYzB,EAAO6H,iBACnBlG,sBAAuB7B,EAAO,MAAQA,EAAO,IAAM8B,GAAU5B,EAAO6H,iBAAmBjG,GACvFkG,SAAU,GACVrC,WAAY,GACZ5D,YAAa,QACbI,MAAO,CACLC,MAAS,SAEV,CACDK,QAASrK,OAAO8E,EAAwB,WAA/B9E,CAA2C,IAAM,EAAEA,OAAO8E,EAAwB,aAA/B9E,EAA6C,GAAOA,OAAO8E,EAAwB,sBAA/B9E,CAAsD8E,EAAwB,YAAa,KAAM9E,OAAO8E,EAAwB,cAA/B9E,CAA8C8H,EAAO+H,eAAgBC,IAC7Q9P,OAAO8E,EAAwB,aAA/B9E,GAAgDA,OAAO8E,EAAwB,eAA/B9E,CAA+CkI,EAAsB,CAC1HpC,IAAKgK,EAAK3P,GACVmK,MAAOwF,EAAKC,SACZxN,MAAOuN,EAAK3P,IACX,KAAM,EAAG,CAAC,QAAS,YACpB,QACJoK,EAAG,GACF,EAAG,CAAC,iBACPA,EAAG,MAELA,EAAG,MAELA,EAAG,GACF,EAAG,CAAC,iBAKYxL,EAAoB,QAGrBA,EAAoB,QAGVA,EAAoB,QAGzBA,EAAoB,QAGlBA,EAAoB,QAGzBA,EAAoB,QAf1C,IAkBIiR,EAAOjR,EAAoB,QAG3BkR,EAAUlR,EAAoB,QAG9BmR,EAAqBnR,EAAoB,QAGzCoR,EAAcpR,EAAoB,QAGlCqR,EAAarR,EAAoB,QAGjCsR,EAAetR,EAAoB,QAGnCuR,EAAOvR,EAAoB,QAG3BwR,EAAQxR,EAAoB,QAG5ByR,GAAUzR,EAAoB,QAmBlC,SAAS0R,GAAWC,GAClB,OAAKA,EACe,kBAATA,EAA0BA,EAC9BA,EAAKC,cAAcC,MAAM,KAAK,GAFnB,KAIS,IAAIC,GAA+B,CAC9DlC,KAAM,WACNmC,QACE,MAAMC,EAAS/Q,OAAOoQ,EAAW,KAAlBpQ,GACTwJ,EAAcxJ,OAAO8E,EAAwB,OAA/B9E,CAAuC,IACrDmK,EAASnK,OAAO8E,EAAwB,OAA/B9E,CAAuC,WAChDwK,EAAYxK,OAAO8E,EAAwB,OAA/B9E,CAAuC,QACnDgL,EAAmBhL,OAAO8E,EAAwB,OAA/B9E,CAAuC,MAC1D+M,EAAwB/M,OAAO8E,EAAwB,OAA/B9E,EAAuC,GAC/DoN,EAAepN,OAAO8E,EAAwB,OAA/B9E,CAAuC,UACtDyO,EAAmBzO,OAAO8E,EAAwB,OAA/B9E,CAAuC,MAC1D8M,EAAY9M,OAAO8E,EAAwB,OAA/B9E,EAAuC,GACnDiP,EAAiBjP,OAAO8E,EAAwB,OAA/B9E,EAAuC,GACxDyP,EAAkBzP,OAAO8E,EAAwB,OAA/B9E,EAAuC,GACzDmP,EAAWnP,OAAO8E,EAAwB,OAA/B9E,CAAuC,MAClD2P,EAAmB3P,OAAO8E,EAAwB,OAA/B9E,CAAuC,IAC1D6P,EAAiB7P,OAAO8E,EAAwB,OAA/B9E,CAAuC,IAC9D,IAAIgR,EAAgB,KAGpB,MAAM1E,EAActM,OAAO8E,EAAwB,OAA/B9E,CAAuC,GACrD2M,EAAa3M,OAAO8E,EAAwB,OAA/B9E,CAAuC,GAGpDsN,EAActN,OAAO8E,EAAwB,YAA/B9E,CAA4C,CAC9DkL,MAAO,GACPT,KAAM,GACNY,QAAS,GACTsC,OAAQ,GACRE,SAAU,GACVC,UAAW,GACXC,WAAY,GACZC,OAAQ,KAIJE,EAAelO,OAAO8E,EAAwB,YAA/B9E,CAA4C,CAC/DmO,aAAc,GACdC,SAAU,GACVC,MAAO,GACPnD,MAAO,GACPG,QAAS,GACTsC,OAAQ,GACRK,OAAQ,KAIJe,EAAS/O,OAAO8E,EAAwB,YAA/B9E,CAA4C,CACzDgP,aAAc,KAIVV,EAAqBtO,OAAO8E,EAAwB,OAA/B9E,CAAuC,IAC5D6O,EAAqB7O,OAAO8E,EAAwB,OAA/B9E,EAAuC,GAG5DiR,EAAYjR,OAAO8E,EAAwB,OAA/B9E,CAAuC,IAGzDA,OAAO8E,EAAwB,SAA/B9E,CAAyC,IAAM,CAACkO,EAAaC,aAAcD,EAAaE,SAAUF,EAAaG,OAAQ5J,gBAC/GyM,MAIR,MAAMA,EAA2BzM,UAC/B,GAAKyJ,EAAaC,cAAiBD,EAAaE,UAAaF,EAAaG,MAI1E,IACEQ,EAAmBtM,OAAQ,EAC3BkM,EAAiBlM,MAAQ,KACzB,MAAMxC,EAAS,CACb6O,cAAeV,EAAaC,aAC5BC,SAAUF,EAAaE,SACvBC,MAAOH,EAAaG,OAEhBhN,QAAiBrB,OAAOqQ,EAAa,KAApBrQ,CAAwDD,GAC/ES,QAAQQ,IAAI,YAAaK,GACzBiN,EAAmB/L,MAAQlB,EAGa,IAApCiN,EAAmB/L,MAAMxB,SAC3B0N,EAAiBlM,MAAQ,GAE3B,MAAO9B,GACPD,QAAQC,MAAM,YAAaA,GAC3BwP,EAAQ,KAAqBxP,MAAM,kBACnC,QACAoO,EAAmBtM,OAAQ,OAvB3B+L,EAAmB/L,MAAQ,IA4BzBmM,EAAuByC,IAC3B1C,EAAiBlM,MAAQ4O,EACzB,MAAM5C,EAAWD,EAAmB/L,MAAM4O,GAG1C,GAAI5C,EAAU,CAEZ,MAAM6C,GAAc,IAAIC,MAAOC,mBAAmB,SAClDpD,EAAahD,MAAQ,GAAGqD,EAASK,iBAAiBwC,OAKhDG,EAAgB9M,UACpB,IACEqI,EAAUvK,OAAQ,EAClB,MAAMxC,EAAS,CACbyR,OAAQhI,EAAYjH,MACpBkP,KAAMnF,EAAY/J,MAClBmP,UAAW,IAEQ,YAAjBvH,EAAO5H,QACTxC,EAAO4R,UAAgC,SAApBnH,EAAUjI,MAAmB,IAAM,IAAM4H,EAAO5H,OAErE,MAAMlB,QAAiBrB,OAAOqQ,EAAa,KAApBrQ,CAAgDD,GAGjE6R,EAAqBvQ,EAASwQ,QAAQC,IAAIhH,IAAY,IACvDA,EACHM,UAAWN,EAASiH,WAAa,IAAIV,KAAKvG,EAASiH,YAAYC,eAAe,SAAW,GACzF1G,cAAe,IAAI/K,OAAOuK,EAAS6C,QAAU,GAAGsE,QAAQ,MAE1DhB,EAAU1O,MAAQqP,EAClBjF,EAAWpK,MAAQlB,EAAS6Q,MAC5B,MAAOzR,GACPD,QAAQC,MAAM,YAAaA,GAC3BwP,EAAQ,KAAqBxP,MAAM,kBACnC,QACAqM,EAAUvK,OAAQ,IAKhBsI,EAAoB7K,OAAO8E,EAAwB,YAA/B9E,CAA4C,IAE7DiR,EAAU1O,OAIbqI,EAAqB,KACzBuH,IACApF,EAAsBxK,OAAQ,GAI1B4P,EAAa,KACjBnS,OAAOoS,KAAK9E,GAAa+E,QAAQvM,IAC/BwH,EAAYxH,GAAO,KAErB9F,OAAOoS,KAAKlE,GAAcmE,QAAQvM,IAChCoI,EAAapI,GAAO,KAEtBiJ,EAAOC,aAAe,GACtB5B,EAAa7K,MAAQ,SACrBkM,EAAiBlM,MAAQ,MAIrB4K,EAAsB,KAC1B,OAAQC,EAAa7K,OACnB,IAAK,WACH,MAAO,SACT,IAAK,KACH,MAAO,UACT,QACE,MAAO,SAKP0K,EAAcxI,UAClB,IACE,IAAI6N,EACJ,MAAMC,EAAUrC,EAAmB,KAAqBsC,QAAQ,CAC9DC,MAAM,EACNvG,KAAM,UACNwG,WAAY,uBAIRnO,EAA2E,QAAjE+N,EAAsB/B,EAAM,KAAmBoC,QAAQ7C,YAA0C,IAAxBwC,OAAiC,EAASA,EAAoBnS,GACvJ,IAAKoE,EAGH,OAFA0L,EAAQ,KAAqBxP,MAAM,uBACnC8R,EAAQK,QAKV,IAAIC,EAAe,GACnB,GAA2B,WAAvBzF,EAAa7K,MAAoB,CAEnC,IAAK+K,EAAYpC,QAAUoC,EAAY7C,OAAS6C,EAAYjC,QAG1D,OAFA4E,EAAQ,KAAqBxP,MAAM,+BACnC8R,EAAQK,QAGVC,EAAe,CACb3H,MAAOoC,EAAYpC,MACnBT,KAAM6C,EAAY7C,KAClBY,QAASiC,EAAYjC,QACrBsC,OAAQL,EAAYK,OAASpN,OAAO+M,EAAYK,OAAOmF,QAAQ,UAAW,KAAO,EACjFxD,UAAWmB,GAAWnD,EAAYO,UAClC0B,WAAYkB,GAAWnD,EAAYQ,WACnC0B,YAAaiB,GAAWnD,EAAYS,YACpCC,OAAQV,EAAYU,QAAU,GAC9B+E,OAAQ,cAEL,GAA2B,aAAvB3F,EAAa7K,MAAsB,CAE5C,IAAK2L,EAAahD,QAAUgD,EAAaC,eAAiBD,EAAa7C,QAGrE,OAFA4E,EAAQ,KAAqBxP,MAAM,+BACnC8R,EAAQK,QAGVC,EAAe,CACb3H,MAAOgD,EAAahD,MACpBT,KAAMyD,EAAaC,aACnB9C,QAAS6C,EAAa7C,QACtBsC,OAAQ,EAERK,OAAQE,EAAaF,QAAU,GAC/B+E,OAAQ,cAEL,GAA2B,OAAvB3F,EAAa7K,MAAgB,CAEtC,IAAKwM,EAAOC,aAGV,OAFAiB,EAAQ,KAAqBxP,MAAM,kBACnC8R,EAAQK,QAGVC,EAAe,CACbzG,YAAa2C,EAAOC,aACpBgE,cAAc,EACdD,OAAQ,SAKZvS,QAAQQ,IAAI,UAAWiS,KAAKC,UAAUL,UAChC7S,OAAOqQ,EAAa,KAApBrQ,CAA+C6S,GACrD5C,EAAQ,KAAqBkD,QAAQ,YACrCpG,EAAsBxK,OAAQ,QAGxBgP,IACNgB,EAAQK,QACR,MAAOnS,GACPD,QAAQC,MAAM,UAAWA,GACzB,IAAI2S,EAAW,iBAGf,GAAI3S,EAAMY,UAAYZ,EAAMY,SAASjB,KACnC,GAAmC,kBAAxBK,EAAMY,SAASjB,KACxBgT,EAAW3S,EAAMY,SAASjB,UACrB,GAAmC,kBAAxBK,EAAMY,SAASjB,KAC/B,IACE,MAAMiT,EAAerT,OAAOsT,QAAQ7S,EAAMY,SAASjB,MAAM0R,IAAI,EAAEhM,EAAKvD,KAAW,GAAGuD,MAAQyN,MAAMC,QAAQjR,GAASA,EAAMkR,KAAK,MAAQlR,KAASkR,KAAK,MAClJL,EAAW,SAASC,EACpB,MAAOK,GACPlT,QAAQC,MAAM,YAAaiT,GAIjCzD,EAAQ,KAAqBxP,MAAM2S,KAKjCnI,EAAqBH,IACrBA,GAAYA,EAAS3K,KACvB6K,EAAiBzI,MAAQuI,EACzBiG,EAAOpS,KAAK,CACVgQ,KAAM,iBACN5O,OAAQ,CACNI,GAAI2K,EAAS3K,QAOf+J,EAAqB,KACzBoC,EAAY/J,MAAQ,EACpBgP,KAII7D,EAA2BnL,IAEjB,OAAVA,IACF+K,EAAY7C,KAAO,KAKjBoC,EAAsB8G,IAC1BrH,EAAY/J,MAAQoR,EACpBpC,KAEI5F,EAAab,IACjBqE,EAAS5M,MAAQ,IACZuI,GAELmE,EAAe1M,OAAQ,GAEnBsJ,EAAcpH,MAAAA,IAClBuG,EAAiBzI,MAAQuI,EACzB2E,EAAgBlN,OAAQ,EACxBoN,EAAiBpN,MAAQ,GACzB,IACE,IAAIqR,EACJ,MAAMC,EAA+E,QAAlED,EAAuBrD,EAAM,KAAmBoC,QAAQ7C,YAA2C,IAAzB8D,OAAkC,EAASA,EAAqBvI,QAC7J,IAAKwI,EAEH,YADA5D,EAAQ,KAAqBxP,MAAM,kBAGrC,MAAM4B,QAAerC,OAAOqQ,EAAa,KAApBrQ,CAAgD6T,GACrEhE,EAAetN,MAAQF,EAAOjC,KAAK6C,OAAO6M,IACxC,IAAIgE,EACJ,OAAOhE,EAAK3P,MAA2E,QAAlE2T,EAAuBvD,EAAM,KAAmBoC,QAAQ7C,YAA2C,IAAzBgE,OAAkC,EAASA,EAAqB3T,MAEjK,MAAOM,GACPwP,EAAQ,KAAqBxP,MAAM,YACnCD,QAAQC,MAAM,sBAAuBA,KAGnCuL,EAAelB,IACnBqF,EAAY,KAAwB4D,QAAQ,YAAYjJ,EAASI,mBAAoB,KAAM,CACzF8I,kBAAmB,OACnBC,iBAAkB,KAClBxJ,KAAM,YACLrJ,KAAKqD,UACN,UACQzE,OAAOqQ,EAAa,KAApBrQ,CAA+C8K,EAAS3K,IAC9D8P,EAAQ,KAAqBkD,QAAQ,eAC/B5B,IACN,MAAO9Q,GACPwP,EAAQ,KAAqBxP,MAAM,UACnCD,QAAQC,MAAM,mBAAmBqK,EAAS3K,YAAaM,MAExDS,MAAM,SAILgO,EAAezK,UACnB,GAAK0K,EAAS5M,MACd,IACE,MAAMpC,GACJA,EAAE+K,MACFA,EAAKT,KACLA,EAAIY,QACJA,EAAOsC,OACPA,EAAM2B,UACNA,EAASC,WACTA,EAAUC,YACVA,EAAWxB,OACXA,GACEmB,EAAS5M,MACP2R,EAAa,CACjBhJ,MAAAA,EACAT,KAAAA,EACAY,QAAAA,EACAsC,OAAQpN,OAAO4T,OAAOxG,GAAQmF,QAAQ,UAAW,MAAQ,EACzDxD,UAAWmB,GAAWnB,GACtBC,WAAYkB,GAAWlB,GACvBC,YAAaiB,GAAWjB,GACxBxB,OAAQA,GAAU,UAEdhO,OAAOqQ,EAAa,KAApBrQ,CAA+CG,EAAI+T,GACzDjE,EAAQ,KAAqBkD,QAAQ,UACrClE,EAAe1M,OAAQ,QACjBgP,IACN,MAAO9Q,GACPwP,EAAQ,KAAqBxP,MAAM,QACnCD,QAAQC,MAAM,yBAA0BA,KAGtCiP,EAAcjL,UAClB,GAAsC,IAAlCkL,EAAiBpN,MAAMxB,OAEzB,YADAkP,EAAQ,KAAqBmE,QAAQ,aAGvC,MAAM7B,EAAUrC,EAAmB,KAAqBsC,QAAQ,CAC9DC,MAAM,EACNvG,KAAM,UACNwG,WAAY,uBAEd,IACE,IAAI2B,EAEJ9B,EAAQrG,KAAO,YACf,MAAMoI,QAAqBtU,OAAOsQ,EAAK,KAAZtQ,CAAkD2P,EAAiBpN,OACxFwB,EAAsD,QAA5CsQ,EAAqBC,EAAalU,YAAyC,IAAvBiU,OAAgC,EAASA,EAAmBE,QAChI,IAAKxQ,EAEH,MADAvD,QAAQC,MAAM,oBAAqB6T,GAC7B,IAAI1T,MAAM,YAIlB2R,EAAQrG,KAAO,cACf,MAAMpB,EAAWE,EAAiBzI,MAClC,IAAIiS,EAAO,KACPC,EAAW,GACf,IACEjU,QAAQQ,IAAI,eAAgB8J,EAAS3K,IAGrC,MAAMuU,EAAc,2BAA2B5J,EAAS3K,oBACxDK,QAAQQ,IAAI,mBAAoB0T,GAGhC,MAAMC,EAAQC,aAAaC,QAAQ,SAG7BxT,QAAiBrB,OAAOwQ,GAAQ,KAAfxQ,CAAmC,CACxDC,IAAKyU,EACLxU,OAAQ,MACRoE,aAAc,OACdwQ,QAAS,CACPC,cAAiBJ,EAAQ,UAAUA,EAAU,MAMjD,GAHAnU,QAAQQ,IAAI,WAAYK,IAGpBA,IAAYA,EAASjB,KAoBvB,MAAM,IAAIQ,MAAM,gBApBa,CAC7B4T,EAAO,IAAIQ,KAAK,CAAC3T,EAASjB,MAAO,CAC/BqK,KAAMpJ,EAASyT,QAAQ,iBAAmB,4EAI5C,MAAMG,EAAWnK,EAASI,OAAS,QAC7BgK,EAAqB7T,EAASyT,QAAQ,uBAC5C,GAAII,GAAsBA,EAAmBC,SAAS,aAAc,CAClE,MAAMC,EAAQF,EAAmBE,MAAM,wBAErCX,EADEW,GAASA,EAAM,GACNA,EAAM,GAEHH,EAAH,aAGbR,EAAcQ,EAAH,QAEbzU,QAAQQ,IAAI,iBAAkBwT,EAAK9J,KAAM,KAAM,OAAQ+J,IAIzD,MAAOhU,GAIP,OAHAD,QAAQC,MAAM,YAAaA,GAC3BwP,EAAQ,KAAqBxP,MAAM,0BACnC8R,EAAQK,QAGV,IAAK4B,GAAsB,IAAdA,EAAK9J,KAIhB,OAHAlK,QAAQC,MAAM,0BACdwP,EAAQ,KAAqBxP,MAAM,iBACnC8R,EAAQK,QAKVL,EAAQrG,KAAO,YACf,MAAMjI,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQqQ,EAAMC,GAC9BxQ,EAASE,OAAO,OAAQJ,GACxBE,EAASE,OAAO,UAAW,UAAUsQ,GACrCxQ,EAASE,OAAO,eAAgB,cAC1BnE,OAAOsQ,EAAK,KAAZtQ,CAAwCiE,GAC9CgM,EAAQ,KAAqBkD,QAAQ,WACrC1D,EAAgBlN,OAAQ,EACxB,MAAO9B,GACPD,QAAQC,MAAM,UAAWA,GACzBwP,EAAQ,KAAqBxP,MAAM,YACnC,QACA8R,EAAQK,UAKN1F,EAAiBzI,UAErB,GAA2B,aAAvB2I,EAAa7K,OAAmD,OAA3BkM,EAAiBlM,MAExD,YADA0N,EAAQ,KAAqBxP,MAAM,WAKrC,MAAM8R,EAAUrC,EAAmB,KAAqBsC,QAAQ,CAC9DC,MAAM,EACNvG,KAAM,SACNwG,WAAY,uBAEd,IACE,IAAIG,EAAe,GAGnB,GAA2B,WAAvBzF,EAAa7K,MAAoB,CAEnC,IAAK+K,EAAYpC,QAAUoC,EAAY7C,OAAS6C,EAAYjC,QAG1D,OAFA4E,EAAQ,KAAqBxP,MAAM,+BACnC8R,EAAQK,QAGVC,EAAe,CACb3H,MAAOoC,EAAYpC,MACnBT,KAAM6C,EAAY7C,KAClBY,QAASiC,EAAYjC,QACrBsC,OAAQL,EAAYK,OAASpN,OAAO+M,EAAYK,OAAOmF,QAAQ,UAAW,KAAO,EACjFxD,UAAWmB,GAAWnD,EAAYO,UAClC0B,WAAYkB,GAAWnD,EAAYQ,WACnC0B,YAAaiB,GAAWnD,EAAYS,YACpCC,OAAQV,EAAYU,QAAU,GAC9B+E,OAAQ,gBAEL,GAA2B,aAAvB3F,EAAa7K,MAAsB,CAE5C,GAA+B,OAA3BkM,EAAiBlM,MAGnB,OAFA0N,EAAQ,KAAqBxP,MAAM,gBACnC8R,EAAQK,QAKV,IAAK1E,EAAahD,MAGhB,OAFA+E,EAAQ,KAAqBxP,MAAM,gBACnC8R,EAAQK,QAGV,IAAK1E,EAAa7C,QAGhB,OAFA4E,EAAQ,KAAqBxP,MAAM,gBACnC8R,EAAQK,QAKV,MAAMrE,EAAWD,EAAmB/L,MAAMkM,EAAiBlM,OAC3D,IAiBE,aAfMvC,OAAOqQ,EAAa,KAApBrQ,CAA2DuO,EAASpO,GAAI,CAC5E+K,MAAOgD,EAAahD,MACpBG,QAAS6C,EAAa7C,QACtBZ,KAAM8D,EAASK,cACfjB,OAAQO,EAAaP,QAAU,EAC/BK,OAAQE,EAAaF,SAIvBiC,EAAQ,KAAqBkD,QAAQ,oBACrCpG,EAAsBxK,OAAQ,QAGxBgP,SACNgB,EAAQK,QAER,MAAOnS,GAEP,MADAD,QAAQC,MAAM,cAAeA,GACvBA,QAEH,GAA2B,OAAvB2M,EAAa7K,MAAgB,CAEtC,IAAKwM,EAAOC,aAGV,OAFAiB,EAAQ,KAAqBxP,MAAM,kBACnC8R,EAAQK,QAGVC,EAAe,CACbzG,YAAa2C,EAAOC,aACpBgE,cAAc,EACdD,OAAQ,WAKZvS,QAAQQ,IAAI,UAAWiS,KAAKC,UAAUL,IACtC,IAAIwC,EAAa,EACjB,MAAMC,EAAa,EACnB,MAAOD,EAAaC,EAClB,IAEE,MAAMrU,EAAiC,OAAvBmM,EAAa7K,MAAiB,KAAS,IAEvDgQ,EAAQrG,KAA8B,OAAvBkB,EAAa7K,MAAiB,0BAA4B,UAGzE,MAAMgT,EAAa,IAAIC,gBACjBC,EAAYC,WAAW,KAC3BH,EAAWI,SACV1U,SAGGjB,OAAOqQ,EAAa,KAApBrQ,CAA+C,IAChD6S,EACH1R,OAAQoU,EAAWpU,SAIrByU,aAAaH,GAGb,MACA,MAAOhV,GAGP,GAFAD,QAAQC,MAAM,UAAU4U,EAAa,QAAS5U,GAC9C4U,IACIA,GAAcC,EAEhB,MADA/C,EAAQK,QACF,IAAIhS,MAAM,qBAAqBH,EAAMwP,SAI7CsC,EAAQrG,KAAO,cAAcmJ,KAAcC,cACrC,IAAI5U,QAAQmV,GAAWH,WAAWG,EAAS,MAG1B,OAAvBzI,EAAa7K,MACf0N,EAAQ,KAAqBkD,QAAQ,2BAErClD,EAAQ,KAAqBkD,QAAQ,0BAIjC5B,IACNxE,EAAsBxK,OAAQ,EAC9B,MAAO9B,GACPD,QAAQC,MAAM,UAAWA,GACzB,IAAI2S,EAAW,iBAGf,GAAI3S,EAAMY,UAAYZ,EAAMY,SAASjB,KAAM,CACzC,MAAMA,EAAOK,EAAMY,SAASjB,KAC5B,GAAoB,kBAATA,EACTgT,EAAWhT,OACN,GAAoB,kBAATA,EAChB,IACE,MAAMiT,EAAerT,OAAOsT,QAAQlT,GAAM0R,IAAI,EAAEhM,EAAKvD,KAAW,GAAGuD,MAAQyN,MAAMC,QAAQjR,GAASA,EAAMkR,KAAK,MAAQlR,KAASkR,KAAK,MACnIL,EAAW,SAASC,EACpB,MAAOK,GACPlT,QAAQC,MAAM,YAAaiT,SAGtBjT,EAAMwP,UACfmD,EAAW3S,EAAMwP,SAEnBA,EAAQ,KAAqBxP,MAAM2S,GACnC,QAEIb,GAAWA,EAAQuD,SACrBvD,EAAQK,UAmBd,OAbA5S,OAAO8E,EAAwB,aAA/B9E,CAA6C,KAC3CuR,MAIFvR,OAAO8E,EAAwB,SAA/B9E,CAAyCwJ,EAAa,KAChDwH,GACF4E,aAAa5E,GAEfA,EAAgB0E,WAAW,KACzBxL,KACC,OAEE,CACLV,YAAAA,EACAW,OAAAA,EACAK,UAAAA,EACAQ,iBAAAA,EACAiG,UAAAA,EACApG,kBAAAA,EACAkC,sBAAAA,EACAK,aAAAA,EACAE,YAAAA,EACAY,aAAAA,EACAa,OAAAA,EACAN,iBAAAA,EACAH,mBAAAA,EACAxB,UAAAA,EACA+B,mBAAAA,EAEAvC,YAAAA,EACAK,WAAAA,EAEAoJ,KAAM/F,EAAK,QACXlG,OAAQkG,EAAK,UACbgG,WAAYhG,EAAK,cACjB/D,WAAY+D,EAAK,cACjBtE,KAAMsE,EAAK,QACXpE,MAAOoE,EAAK,SACZlE,OAAQkE,EAAK,UAEbpF,mBAAAA,EACAuC,oBAAAA,EACAF,YAAAA,EACAC,eAAAA,EACAjC,mBAAAA,EACAf,mBAAAA,EACAwD,yBAAAA,EACAgB,qBAAAA,EACA7B,oBAAAA,EACAlB,WAAAA,EACAE,YAAAA,EACAG,aAAAA,EACAkD,aAAAA,EACAQ,YAAAA,EACAP,SAAAA,EACAF,eAAAA,EACAQ,gBAAAA,EACAE,iBAAAA,EACAE,eAAAA,KAUFoG,IAH+DlX,EAAoB,QAGpEA,EAAoB,SACnCmX,GAAoCnX,EAAoBoX,EAAEF,IAU9D,MAAMG,GAA2BF,IAAAA,CAAuBrF,GAA8B,CAAC,CAAC,SAASnJ,GAAQ,CAAC,YAAY,qBAE7EzI,EAAoB,WAAa\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-bb661f54\"],{1012:function(e,t,a){},\"35ad\":function(e,t,a){\"use strict\";a.d(t,\"h\",(function(){return l})),a.d(t,\"g\",(function(){return r})),a.d(t,\"c\",(function(){return n})),a.d(t,\"j\",(function(){return d})),a.d(t,\"e\",(function(){return i})),a.d(t,\"i\",(function(){return s})),a.d(t,\"d\",(function(){return u})),a.d(t,\"b\",(function(){return b})),a.d(t,\"a\",(function(){return m})),a.d(t,\"f\",(function(){return p}));a(\"d9e2\");var c=a(\"b775\"),o=a(\"c24f\");function l(e){return Object(c[\"a\"])({url:\"/api/contract/contracts/\",method:\"get\",params:e})}function r(e){return Object(c[\"a\"])({url:`/api/contract/contracts/${e}/`,method:\"get\"})}function n(e){return Object(c[\"a\"])({url:\"/api/contract/contracts/\",method:\"post\",data:e})}function d(e,t){return Object(c[\"a\"])({url:`/api/contract/contracts/${e}/`,method:\"put\",data:t})}function i(e){return Object(c[\"a\"])({url:`/api/contract/contracts/${e}/`,method:\"delete\"})}function s(e){return Object(c[\"a\"])({url:\"/api/contract/contracts/template_suggestions/\",method:\"get\",params:e})}function u(e,t){return Object(c[\"a\"])({url:`/api/contract/templates/${e}/use_template/`,method:\"post\",data:t})}function b(e,t){if(!e||isNaN(Number(e)))return console.error(\"无效的合同ID:\",e),Promise.reject(new Error(\"无效的合同ID\"));if(!t||!t.content)return console.error(\"无效的合同内容:\",t),Promise.reject(new Error(\"合同内容不能为空\"));const a=t&&t.content?t.content.length:0;return console.log(`调用checkContract API - ID: ${e}, 内容长度: ${a}`),Object(c[\"a\"])({url:`/api/contract/contracts/${e}/check_contract/`,method:\"post\",data:t,timeout:18e4}).catch(e=>{throw console.error(\"合同检查API错误:\",e),e})}function m(e,t,a){if(!t||!t.content)return console.error(\"无效的合同内容:\",t),Promise.reject(new Error(\"合同内容不能为空\"));const o=t&&t.content?t.content.length:0;return console.log(`调用aiPolishContract API - ID: ${e}, 内容长度: ${o}`),Object(c[\"a\"])({url:`/api/contract/contracts/${e}/ai_polish/`,method:\"post\",data:t,signal:a}).then(e=>(console.log(\"AI润色返回数据:\",e),e)).catch(e=>{throw console.error(\"AI润色API错误:\",e),e})}const{getCompanyUsers:p}=o[\"a\"]},4678:function(e,t,a){\"use strict\";a(\"1012\")},\"910d\":function(e,t,a){\"use strict\";var c=a(\"23e7\"),o=a(\"c65b\"),l=a(\"59ed\"),r=a(\"825a\"),n=a(\"46c4\"),d=a(\"c5cc\"),i=a(\"9bdd\"),s=a(\"c430\"),u=a(\"2a62\"),b=a(\"f99f\"),m=!s&&b(\"filter\",TypeError),p=d((function(){var e,t,a,c=this.iterator,l=this.predicate,n=this.next;while(1){if(e=r(o(n,c)),t=this.done=!!e.done,t)return;if(a=e.value,i(c,l,[a,this.counter++],!0))return a}}));c({target:\"Iterator\",proto:!0,real:!0,forced:s||m},{filter:function(e){r(this);try{l(e)}catch(t){u(this,\"throw\",t)}return m?o(m,this,e):new p(n(this),{predicate:e})}})},d800:function(e,t,a){\"use strict\";a.d(t,\"g\",(function(){return o})),a.d(t,\"f\",(function(){return l})),a.d(t,\"b\",(function(){return r})),a.d(t,\"k\",(function(){return n})),a.d(t,\"h\",(function(){return d})),a.d(t,\"i\",(function(){return i})),a.d(t,\"j\",(function(){return s})),a.d(t,\"c\",(function(){return u})),a.d(t,\"a\",(function(){return b})),a.d(t,\"d\",(function(){return m})),a.d(t,\"e\",(function(){return p}));a(\"d9e2\");var c=a(\"b775\");function o(){return Object(c[\"a\"])({url:\"/api/chat/sessions/\",method:\"get\"})}function l(e){return Object(c[\"a\"])({url:`/api/chat/sessions/${e}/`,method:\"get\"})}function r(e){return Object(c[\"a\"])({url:\"/api/chat/sessions/\",method:\"post\",data:e})}function n(e){return Object(c[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"text\"}})}function d(e,t,a){const o=new FormData;return o.append(\"chat\",e),o.append(\"message_type\",\"file\"),o.append(\"content\",t),o.append(\"file\",a),Object(c[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:o})}function i(e,t,a){const o=new FormData;return o.append(\"chat\",e),o.append(\"message_type\",\"image\"),o.append(\"content\",t),o.append(\"file\",a),Object(c[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:o})}function s(e){return Object(c[\"a\"])({url:\"/api/chat/messages/\",method:\"post\",data:{...e,message_type:\"knowledge\",content:\"分享了一个知识库文件\"}})}function u(e){return Object(c[\"a\"])({url:`/api/chat/messages/${e}/download/`,method:\"get\",responseType:\"blob\"})}function b(e,t){return Object(c[\"a\"])({url:`/api/chat/messages/${e}/add_calendar_event/`,method:\"post\",data:t})}function m(e){return Object(c[\"a\"])({url:\"/api/chat/find-or-create/\",method:\"post\",data:{user_id:e}})}async function p(e){if(!e||0===e.length)throw new Error(\"No user IDs provided\");return 1===e.length?m(e[0]):r({participants:e})}},e1e7:function(e,t,a){\"use strict\";a.r(t);var c=a(\"7a23\");const o={class:\"contract-container\"},l={class:\"row\"},r={class:\"col-lg-12\"},n={class:\"card-header-flex\"},d={class:\"d-flex align-items-center ms-auto me-3\"},i={class:\"contract-list\"},s=[\"onClick\"],u={class:\"contract-title\"},b={class:\"contract-info\"},m={class:\"contract-info mt-1\"},p={class:\"contract-actions\"},j={class:\"pagination-container\"},O={class:\"mb-3\"},h={key:0},V={class:\"row\"},f={class:\"col-md-6\"},v={class:\"col-md-6\"},w={key:1},N={class:\"row\"},y={class:\"col-md-4 mb-3\"},C={class:\"col-md-4 mb-3\"},g={class:\"col-md-4 mb-3\"},x={class:\"mb-3\"},k={class:\"template-list\"},_=[\"onClick\"],E={class:\"template-name\"},D={class:\"template-info\"},F={class:\"template-type\"},T={key:0,class:\"template-industry\"},B={key:0,class:\"template-desc\"},U={key:1,class:\"template-hint\"},S={class:\"row\"},I={class:\"col-md-6 mb-3\"},A={class:\"col-md-6 mb-3\"},$={class:\"row\"},P={class:\"col-md-6 mb-3\"},q={key:2},z={class:\"dialog-footer\"},M={class:\"row\"},L={class:\"col-md-6\"},J={class:\"col-md-6\"};function X(e,t,a,X,Q,W){const G=Object(c[\"resolveComponent\"])(\"el-input\"),H=Object(c[\"resolveComponent\"])(\"el-option\"),K=Object(c[\"resolveComponent\"])(\"el-select\"),R=Object(c[\"resolveComponent\"])(\"Plus\"),Y=Object(c[\"resolveComponent\"])(\"el-icon\"),Z=Object(c[\"resolveComponent\"])(\"el-button\"),ee=Object(c[\"resolveComponent\"])(\"el-dropdown-item\"),te=Object(c[\"resolveComponent\"])(\"el-dropdown-menu\"),ae=Object(c[\"resolveComponent\"])(\"el-dropdown\"),ce=Object(c[\"resolveComponent\"])(\"el-empty\"),oe=Object(c[\"resolveComponent\"])(\"el-pagination\"),le=Object(c[\"resolveComponent\"])(\"el-card\"),re=Object(c[\"resolveComponent\"])(\"el-radio\"),ne=Object(c[\"resolveComponent\"])(\"el-radio-group\"),de=Object(c[\"resolveComponent\"])(\"el-divider\"),ie=Object(c[\"resolveComponent\"])(\"el-form-item\"),se=Object(c[\"resolveComponent\"])(\"el-date-picker\"),ue=Object(c[\"resolveComponent\"])(\"InfoFilled\"),be=Object(c[\"resolveComponent\"])(\"el-dialog\"),me=Object(c[\"resolveComponent\"])(\"el-form\"),pe=Object(c[\"resolveDirective\"])(\"loading\");return Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",o,[Object(c[\"createElementVNode\"])(\"div\",l,[Object(c[\"createElementVNode\"])(\"div\",r,[Object(c[\"withDirectives\"])((Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(le,{class:\"contract-list-card\"},{header:Object(c[\"withCtx\"])(()=>[Object(c[\"createElementVNode\"])(\"div\",n,[t[38]||(t[38]=Object(c[\"createElementVNode\"])(\"span\",null,\"合同列表\",-1)),Object(c[\"createElementVNode\"])(\"div\",d,[Object(c[\"createVNode\"])(G,{modelValue:X.searchQuery,\"onUpdate:modelValue\":t[0]||(t[0]=e=>X.searchQuery=e),placeholder:\"搜索标题或编号...\",clearable:\"\",\"prefix-icon\":X.Search,class:\"me-2\",style:{width:\"200px\"},onClear:X.handleFilterChange},null,8,[\"modelValue\",\"prefix-icon\",\"onClear\"]),Object(c[\"createVNode\"])(K,{modelValue:X.sortBy,\"onUpdate:modelValue\":t[1]||(t[1]=e=>X.sortBy=e),placeholder:\"默认排序\",class:\"me-2\",style:{width:\"150px\"},onChange:X.handleFilterChange},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"默认排序\",value:\"default\"}),Object(c[\"createVNode\"])(H,{label:\"合同标题\",value:\"title\"}),Object(c[\"createVNode\"])(H,{label:\"创建时间\",value:\"created_at\"}),Object(c[\"createVNode\"])(H,{label:\"合同金额\",value:\"amount\"})]),_:1},8,[\"modelValue\",\"onChange\"]),Object(c[\"createVNode\"])(K,{modelValue:X.sortOrder,\"onUpdate:modelValue\":t[2]||(t[2]=e=>X.sortOrder=e),style:{width:\"100px\"},onChange:X.handleFilterChange},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"升序\",value:\"asc\"}),Object(c[\"createVNode\"])(H,{label:\"降序\",value:\"desc\"})]),_:1},8,[\"modelValue\",\"onChange\"])]),Object(c[\"createVNode\"])(Z,{type:\"primary\",size:\"small\",onClick:X.openContractDialog},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Y,{class:\"mr-1\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(R)]),_:1}),t[37]||(t[37]=Object(c[\"createTextVNode\"])(\" 新建合同 \"))]),_:1},8,[\"onClick\"])])]),default:Object(c[\"withCtx\"])(()=>[Object(c[\"createElementVNode\"])(\"div\",i,[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(X.filteredContracts,e=>(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:e.id,class:Object(c[\"normalizeClass\"])([\"contract-item\",{active:X.selectedContract&&X.selectedContract.id===e.id}])},[Object(c[\"createElementVNode\"])(\"div\",{class:\"contract-main-info\",onClick:t=>X.viewContractDetail(e)},[Object(c[\"createElementVNode\"])(\"div\",u,Object(c[\"toDisplayString\"])(e.title),1),Object(c[\"createElementVNode\"])(\"div\",b,[Object(c[\"createElementVNode\"])(\"span\",null,\"合同编号: \"+Object(c[\"toDisplayString\"])(e.number),1),Object(c[\"createElementVNode\"])(\"span\",null,\"创建时间: \"+Object(c[\"toDisplayString\"])(e.createdAt),1)]),Object(c[\"createElementVNode\"])(\"div\",m,[Object(c[\"createElementVNode\"])(\"span\",null,Object(c[\"toDisplayString\"])(e.company),1),Object(c[\"createElementVNode\"])(\"span\",null,\"金额: \"+Object(c[\"toDisplayString\"])(e.displayAmount),1)])],8,s),Object(c[\"createElementVNode\"])(\"div\",p,[Object(c[\"createVNode\"])(ae,{trigger:\"click\",onClick:t[3]||(t[3]=Object(c[\"withModifiers\"])(()=>{},[\"stop\"]))},{dropdown:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(te,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ee,{icon:X.Edit,onClick:t=>X.handleEdit(e)},{default:Object(c[\"withCtx\"])(()=>t[39]||(t[39]=[Object(c[\"createTextVNode\"])(\"编辑\")])),_:2},1032,[\"icon\",\"onClick\"]),Object(c[\"createVNode\"])(ee,{icon:X.Share,onClick:t=>X.handleShare(e)},{default:Object(c[\"withCtx\"])(()=>t[40]||(t[40]=[Object(c[\"createTextVNode\"])(\"分享\")])),_:2},1032,[\"icon\",\"onClick\"]),Object(c[\"createVNode\"])(ee,{icon:X.Delete,divided:\"\",class:\"text-danger\",onClick:t=>X.handleDelete(e)},{default:Object(c[\"withCtx\"])(()=>t[41]||(t[41]=[Object(c[\"createTextVNode\"])(\"删除\")])),_:2},1032,[\"icon\",\"onClick\"])]),_:2},1024)]),default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Z,{icon:X.MoreFilled,class:\"more-button\",text:\"\",circle:\"\"},null,8,[\"icon\"])]),_:2},1024)])],2))),128)),0===X.filteredContracts.length?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(ce,{key:0,description:\"没有找到匹配的合同\"})):Object(c[\"createCommentVNode\"])(\"\",!0)]),Object(c[\"createElementVNode\"])(\"div\",j,[Object(c[\"createVNode\"])(oe,{\"current-page\":X.currentPage,\"onUpdate:currentPage\":t[4]||(t[4]=e=>X.currentPage=e),\"page-size\":10,layout:\"total, prev, pager, next, jumper\",total:X.totalItems,onCurrentChange:X.handleCurrentChange},null,8,[\"current-page\",\"total\",\"onCurrentChange\"])])]),_:1})),[[pe,X.isLoading]])])]),Object(c[\"createVNode\"])(be,{modelValue:X.showNewContractDialog,\"onUpdate:modelValue\":t[23]||(t[23]=e=>X.showNewContractDialog=e),title:\"新建合同\",width:\"70%\"},{footer:Object(c[\"withCtx\"])(()=>[Object(c[\"createElementVNode\"])(\"span\",z,[Object(c[\"createVNode\"])(Z,{onClick:t[22]||(t[22]=e=>X.showNewContractDialog=!1)},{default:Object(c[\"withCtx\"])(()=>t[48]||(t[48]=[Object(c[\"createTextVNode\"])(\"取消\")])),_:1}),Object(c[\"createVNode\"])(Z,{type:\"info\",onClick:X.saveAsDraft},{default:Object(c[\"withCtx\"])(()=>t[49]||(t[49]=[Object(c[\"createTextVNode\"])(\"保存草稿\")])),_:1},8,[\"onClick\"]),Object(c[\"createVNode\"])(Z,{type:\"primary\",onClick:X.submitContract},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createTextVNode\"])(Object(c[\"toDisplayString\"])(X.getSubmitButtonText()),1)]),_:1},8,[\"onClick\"])])]),default:Object(c[\"withCtx\"])(()=>[Object(c[\"createElementVNode\"])(\"div\",O,[t[45]||(t[45]=Object(c[\"createElementVNode\"])(\"label\",{class:\"form-label fw-bold\"},\"创建方式:\",-1)),Object(c[\"createElementVNode\"])(\"div\",null,[Object(c[\"createVNode\"])(ne,{modelValue:X.creationMode,\"onUpdate:modelValue\":t[5]||(t[5]=e=>X.creationMode=e)},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(re,{label:\"manual\"},{default:Object(c[\"withCtx\"])(()=>t[42]||(t[42]=[Object(c[\"createTextVNode\"])(\"手动创建\")])),_:1}),Object(c[\"createVNode\"])(re,{label:\"template\"},{default:Object(c[\"withCtx\"])(()=>t[43]||(t[43]=[Object(c[\"createTextVNode\"])(\"使用模板\")])),_:1}),Object(c[\"createVNode\"])(re,{label:\"ai\"},{default:Object(c[\"withCtx\"])(()=>t[44]||(t[44]=[Object(c[\"createTextVNode\"])(\"AI 生成\")])),_:1})]),_:1},8,[\"modelValue\"])])]),Object(c[\"createVNode\"])(de),\"manual\"===X.creationMode?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",h,[Object(c[\"createElementVNode\"])(\"div\",V,[Object(c[\"createElementVNode\"])(\"div\",f,[Object(c[\"createVNode\"])(ie,{label:\"合同名称\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.newContract.title,\"onUpdate:modelValue\":t[6]||(t[6]=e=>X.newContract.title=e)},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"合同类型\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(K,{modelValue:X.newContract.type,\"onUpdate:modelValue\":t[7]||(t[7]=e=>X.newContract.type=e),placeholder:\"请选择...\",style:{width:\"100%\"},filterable:\"\",\"allow-create\":\"\",\"default-first-option\":\"\",onChange:X.handleContractTypeChange},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"采购合同\",value:\"采购合同\"}),Object(c[\"createVNode\"])(H,{label:\"销售合同\",value:\"销售合同\"}),Object(c[\"createVNode\"])(H,{label:\"服务合同\",value:\"服务合同\"}),Object(c[\"createVNode\"])(H,{label:\"合作协议\",value:\"合作协议\"}),Object(c[\"createVNode\"])(H,{label:\"租赁合同\",value:\"租赁合同\"}),Object(c[\"createVNode\"])(H,{label:\"其他\",value:\"其他\"})]),_:1},8,[\"modelValue\",\"onChange\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"签约对方\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.newContract.company,\"onUpdate:modelValue\":t[8]||(t[8]=e=>X.newContract.company=e)},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"合同金额\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.newContract.amount,\"onUpdate:modelValue\":t[9]||(t[9]=e=>X.newContract.amount=e),prefix:\"¥\"},null,8,[\"modelValue\"])]),_:1})]),Object(c[\"createElementVNode\"])(\"div\",v,[Object(c[\"createVNode\"])(ie,{label:\"签约日期\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se,{modelValue:X.newContract.signDate,\"onUpdate:modelValue\":t[10]||(t[10]=e=>X.newContract.signDate=e),type:\"date\",placeholder:\"选择日期\",style:{width:\"100%\"}},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"生效日期\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se,{modelValue:X.newContract.startDate,\"onUpdate:modelValue\":t[11]||(t[11]=e=>X.newContract.startDate=e),type:\"date\",placeholder:\"选择日期\",style:{width:\"100%\"}},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"到期日期\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se,{modelValue:X.newContract.expireDate,\"onUpdate:modelValue\":t[12]||(t[12]=e=>X.newContract.expireDate=e),type:\"date\",placeholder:\"选择日期\",style:{width:\"100%\"}},null,8,[\"modelValue\"])]),_:1})])]),Object(c[\"createVNode\"])(ie,{label:\"备注\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.newContract.remark,\"onUpdate:modelValue\":t[13]||(t[13]=e=>X.newContract.remark=e),type:\"textarea\",rows:3},null,8,[\"modelValue\"])]),_:1})])):Object(c[\"createCommentVNode\"])(\"\",!0),\"template\"===X.creationMode?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",w,[Object(c[\"createElementVNode\"])(\"div\",N,[Object(c[\"createElementVNode\"])(\"div\",y,[Object(c[\"createVNode\"])(ie,{label:\"合同类型\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(K,{modelValue:X.templateForm.contractType,\"onUpdate:modelValue\":t[14]||(t[14]=e=>X.templateForm.contractType=e),placeholder:\"请选择...\",style:{width:\"100%\"}},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"采购合同\",value:\"采购合同\"}),Object(c[\"createVNode\"])(H,{label:\"销售合同\",value:\"销售合同\"}),Object(c[\"createVNode\"])(H,{label:\"租赁合同\",value:\"租赁合同\"}),Object(c[\"createVNode\"])(H,{label:\"服务协议\",value:\"服务协议\"}),Object(c[\"createVNode\"])(H,{label:\"劳动合同\",value:\"劳动合同\"}),Object(c[\"createVNode\"])(H,{label:\"保密协议\",value:\"保密协议\"})]),_:1},8,[\"modelValue\"])]),_:1})]),Object(c[\"createElementVNode\"])(\"div\",C,[Object(c[\"createVNode\"])(ie,{label:\"行业领域\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(K,{modelValue:X.templateForm.industry,\"onUpdate:modelValue\":t[15]||(t[15]=e=>X.templateForm.industry=e),placeholder:\"请选择...\",style:{width:\"100%\"}},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"信息技术\",value:\"信息技术\"}),Object(c[\"createVNode\"])(H,{label:\"制造业\",value:\"制造业\"}),Object(c[\"createVNode\"])(H,{label:\"零售与电商\",value:\"零售与电商\"}),Object(c[\"createVNode\"])(H,{label:\"金融服务\",value:\"金融服务\"}),Object(c[\"createVNode\"])(H,{label:\"医疗健康\",value:\"医疗健康\"})]),_:1},8,[\"modelValue\"])]),_:1})]),Object(c[\"createElementVNode\"])(\"div\",g,[Object(c[\"createVNode\"])(ie,{label:\"交易场景\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(K,{modelValue:X.templateForm.scene,\"onUpdate:modelValue\":t[16]||(t[16]=e=>X.templateForm.scene=e),placeholder:\"请选择...\",style:{width:\"100%\"}},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"国内贸易\",value:\"国内贸易\"}),Object(c[\"createVNode\"])(H,{label:\"跨境交易\",value:\"跨境交易\"}),Object(c[\"createVNode\"])(H,{label:\"股权融资\",value:\"股权融资\"}),Object(c[\"createVNode\"])(H,{label:\"知识产权转让\",value:\"知识产权转让\"})]),_:1},8,[\"modelValue\"])]),_:1})])]),Object(c[\"createElementVNode\"])(\"div\",x,[t[47]||(t[47]=Object(c[\"createElementVNode\"])(\"label\",{class:\"form-label\"},\"推荐模板:\",-1)),Object(c[\"withDirectives\"])((Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",k,[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(X.availableTemplates,(e,t)=>(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",{key:t,class:Object(c[\"normalizeClass\"])([\"template-item\",{active:X.selectedTemplate===t}]),onClick:e=>X.handleTemplateSelect(t)},[Object(c[\"createElementVNode\"])(\"div\",E,Object(c[\"toDisplayString\"])(e.name),1),Object(c[\"createElementVNode\"])(\"div\",D,[Object(c[\"createElementVNode\"])(\"span\",F,Object(c[\"toDisplayString\"])(e.contract_type),1),e.industry?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"span\",T,Object(c[\"toDisplayString\"])(e.industry),1)):Object(c[\"createCommentVNode\"])(\"\",!0)]),e.description?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",B,Object(c[\"toDisplayString\"])(e.description),1)):Object(c[\"createCommentVNode\"])(\"\",!0)],10,_))),128)),!X.isLoadingTemplates&&0===X.availableTemplates.length&&(X.templateForm.contractType||X.templateForm.industry||X.templateForm.scene)?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(ce,{key:0,description:\"没有找到匹配的模板\",\"image-size\":100})):Object(c[\"createCommentVNode\"])(\"\",!0),X.templateForm.contractType||X.templateForm.industry||X.templateForm.scene?Object(c[\"createCommentVNode\"])(\"\",!0):(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",U,[Object(c[\"createVNode\"])(Y,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ue)]),_:1}),t[46]||(t[46]=Object(c[\"createElementVNode\"])(\"span\",null,\"请选择合同类型、行业或场景以获取推荐模板\",-1))]))])),[[pe,X.isLoadingTemplates]])]),Object(c[\"createElementVNode\"])(\"div\",S,[Object(c[\"createElementVNode\"])(\"div\",I,[Object(c[\"createVNode\"])(ie,{label:\"合同名称\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.templateForm.title,\"onUpdate:modelValue\":t[17]||(t[17]=e=>X.templateForm.title=e),placeholder:\"请输入合同名称\"},null,8,[\"modelValue\"])]),_:1})]),Object(c[\"createElementVNode\"])(\"div\",A,[Object(c[\"createVNode\"])(ie,{label:\"签约对方\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.templateForm.company,\"onUpdate:modelValue\":t[18]||(t[18]=e=>X.templateForm.company=e),placeholder:\"请输入签约对方名称\"},null,8,[\"modelValue\"])]),_:1})])]),Object(c[\"createElementVNode\"])(\"div\",$,[Object(c[\"createElementVNode\"])(\"div\",P,[Object(c[\"createVNode\"])(ie,{label:\"合同金额\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.templateForm.amount,\"onUpdate:modelValue\":t[19]||(t[19]=e=>X.templateForm.amount=e),placeholder:\"请输入金额\",prefix:\"¥\"},null,8,[\"modelValue\"])]),_:1})])]),Object(c[\"createVNode\"])(ie,{label:\"备注\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.templateForm.remark,\"onUpdate:modelValue\":t[20]||(t[20]=e=>X.templateForm.remark=e),type:\"textarea\",rows:2},null,8,[\"modelValue\"])]),_:1})])):Object(c[\"createCommentVNode\"])(\"\",!0),\"ai\"===X.creationMode?(Object(c[\"openBlock\"])(),Object(c[\"createElementBlock\"])(\"div\",q,[Object(c[\"createVNode\"])(ie,{label:\"一句话描述合同需求\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.aiForm.coreElements,\"onUpdate:modelValue\":t[21]||(t[21]=e=>X.aiForm.coreElements=e),type:\"textarea\",rows:4,placeholder:\"例如：帮我生成一份甲方为XX科技公司，乙方为XX物流公司的物流运输合同，主要包含运输货物、时间、费用和付款方式等关键信息。\"},null,8,[\"modelValue\"])]),_:1})])):Object(c[\"createCommentVNode\"])(\"\",!0)]),_:1},8,[\"modelValue\"]),Object(c[\"createVNode\"])(be,{modelValue:X.showEditDialog,\"onUpdate:modelValue\":t[33]||(t[33]=e=>X.showEditDialog=e),title:\"编辑合同\",width:\"70%\"},{footer:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Z,{onClick:t[32]||(t[32]=e=>X.showEditDialog=!1)},{default:Object(c[\"withCtx\"])(()=>t[50]||(t[50]=[Object(c[\"createTextVNode\"])(\"取消\")])),_:1}),Object(c[\"createVNode\"])(Z,{type:\"primary\",onClick:X.submitUpdate},{default:Object(c[\"withCtx\"])(()=>t[51]||(t[51]=[Object(c[\"createTextVNode\"])(\"保存\")])),_:1},8,[\"onClick\"])]),default:Object(c[\"withCtx\"])(()=>[X.editForm?(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(me,{key:0,model:X.editForm,\"label-width\":\"100px\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createElementVNode\"])(\"div\",M,[Object(c[\"createElementVNode\"])(\"div\",L,[Object(c[\"createVNode\"])(ie,{label:\"合同名称\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.editForm.title,\"onUpdate:modelValue\":t[24]||(t[24]=e=>X.editForm.title=e)},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"合同类型\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(K,{modelValue:X.editForm.type,\"onUpdate:modelValue\":t[25]||(t[25]=e=>X.editForm.type=e),placeholder:\"请选择...\",style:{width:\"100%\"}},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(H,{label:\"采购合同\",value:\"采购合同\"}),Object(c[\"createVNode\"])(H,{label:\"销售合同\",value:\"销售合同\"}),Object(c[\"createVNode\"])(H,{label:\"服务合同\",value:\"服务合同\"}),Object(c[\"createVNode\"])(H,{label:\"合作协议\",value:\"合作协议\"}),Object(c[\"createVNode\"])(H,{label:\"租赁合同\",value:\"租赁合同\"}),Object(c[\"createVNode\"])(H,{label:\"其他\",value:\"其他\"})]),_:1},8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"签约对方\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.editForm.company,\"onUpdate:modelValue\":t[26]||(t[26]=e=>X.editForm.company=e)},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"合同金额\",required:\"\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.editForm.amount,\"onUpdate:modelValue\":t[27]||(t[27]=e=>X.editForm.amount=e)},null,8,[\"modelValue\"])]),_:1})]),Object(c[\"createElementVNode\"])(\"div\",J,[Object(c[\"createVNode\"])(ie,{label:\"签约日期\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se,{modelValue:X.editForm.sign_date,\"onUpdate:modelValue\":t[28]||(t[28]=e=>X.editForm.sign_date=e),type:\"date\",placeholder:\"选择日期\",style:{width:\"100%\"}},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"生效日期\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se,{modelValue:X.editForm.start_date,\"onUpdate:modelValue\":t[29]||(t[29]=e=>X.editForm.start_date=e),type:\"date\",placeholder:\"选择日期\",style:{width:\"100%\"}},null,8,[\"modelValue\"])]),_:1}),Object(c[\"createVNode\"])(ie,{label:\"到期日期\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(se,{modelValue:X.editForm.expire_date,\"onUpdate:modelValue\":t[30]||(t[30]=e=>X.editForm.expire_date=e),type:\"date\",placeholder:\"选择日期\",style:{width:\"100%\"}},null,8,[\"modelValue\"])]),_:1})])]),Object(c[\"createVNode\"])(ie,{label:\"备注\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(G,{modelValue:X.editForm.remark,\"onUpdate:modelValue\":t[31]||(t[31]=e=>X.editForm.remark=e),type:\"textarea\",rows:3},null,8,[\"modelValue\"])]),_:1})]),_:1},8,[\"model\"])):Object(c[\"createCommentVNode\"])(\"\",!0)]),_:1},8,[\"modelValue\"]),Object(c[\"createVNode\"])(be,{modelValue:X.showShareDialog,\"onUpdate:modelValue\":t[36]||(t[36]=e=>X.showShareDialog=e),title:\"分享合同\",width:\"400px\"},{footer:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(Z,{onClick:t[35]||(t[35]=e=>X.showShareDialog=!1)},{default:Object(c[\"withCtx\"])(()=>t[52]||(t[52]=[Object(c[\"createTextVNode\"])(\"取消\")])),_:1}),Object(c[\"createVNode\"])(Z,{type:\"primary\",onClick:X.submitShare},{default:Object(c[\"withCtx\"])(()=>t[53]||(t[53]=[Object(c[\"createTextVNode\"])(\"分享\")])),_:1},8,[\"onClick\"])]),default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(me,null,{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(ie,{label:\"分享给\"},{default:Object(c[\"withCtx\"])(()=>[Object(c[\"createVNode\"])(K,{modelValue:X.shareTargetUsers,\"onUpdate:modelValue\":t[34]||(t[34]=e=>X.shareTargetUsers=e),multiple:\"\",filterable:\"\",placeholder:\"请选择用户\",style:{width:\"100%\"}},{default:Object(c[\"withCtx\"])(()=>[(Object(c[\"openBlock\"])(!0),Object(c[\"createElementBlock\"])(c[\"Fragment\"],null,Object(c[\"renderList\"])(X.availableUsers,e=>(Object(c[\"openBlock\"])(),Object(c[\"createBlock\"])(H,{key:e.id,label:e.username,value:e.id},null,8,[\"label\",\"value\"]))),128))]),_:1},8,[\"modelValue\"])]),_:1})]),_:1})]),_:1},8,[\"modelValue\"])])}a(\"d9e2\"),a(\"14d9\"),a(\"e9f5\"),a(\"910d\"),a(\"7d54\"),a(\"ab43\");var Q=a(\"f6f2\"),W=a(\"3ef4\"),G=a(\"90b1\"),H=a(\"c9a1\"),K=a(\"6605\"),R=a(\"35ad\"),Y=a(\"d800\"),Z=a(\"4360\"),ee=a(\"b775\");function te(e){return e?\"string\"===typeof e?e:e.toISOString().split(\"T\")[0]:null}var ae={name:\"Contract\",setup(){const e=Object(K[\"d\"])(),t=Object(c[\"ref\"])(\"\"),a=Object(c[\"ref\"])(\"default\"),o=Object(c[\"ref\"])(\"desc\"),l=Object(c[\"ref\"])(null),r=Object(c[\"ref\"])(!1),n=Object(c[\"ref\"])(\"manual\"),d=Object(c[\"ref\"])(null),i=Object(c[\"ref\"])(!1),s=Object(c[\"ref\"])(!1),u=Object(c[\"ref\"])(!1),b=Object(c[\"ref\"])(null),m=Object(c[\"ref\"])([]),p=Object(c[\"ref\"])([]);let j=null;const O=Object(c[\"ref\"])(1),h=Object(c[\"ref\"])(0),V=Object(c[\"reactive\"])({title:\"\",type:\"\",company:\"\",amount:\"\",signDate:\"\",startDate:\"\",expireDate:\"\",remark:\"\"}),f=Object(c[\"reactive\"])({contractType:\"\",industry:\"\",scene:\"\",title:\"\",company:\"\",amount:\"\",remark:\"\"}),v=Object(c[\"reactive\"])({coreElements:\"\"}),w=Object(c[\"ref\"])([]),N=Object(c[\"ref\"])(!1),y=Object(c[\"ref\"])([]);Object(c[\"watch\"])(()=>[f.contractType,f.industry,f.scene],async()=>{await C()});const C=async()=>{if(f.contractType||f.industry||f.scene)try{N.value=!0,d.value=null;const e={contract_type:f.contractType,industry:f.industry,scene:f.scene},t=await Object(R[\"i\"])(e);console.log(\"获取到的模板数据:\",t),w.value=t,1===w.value.length&&(d.value=0)}catch(e){console.error(\"加载推荐模板失败:\",e),W[\"a\"].error(\"获取推荐模板失败，请稍后重试\")}finally{N.value=!1}else w.value=[]},g=e=>{d.value=e;const t=w.value[e];if(t){const e=(new Date).toLocaleDateString(\"zh-CN\");f.title=`${t.contract_type}(${e})`}},x=async()=>{try{i.value=!0;const e={search:t.value,page:O.value,page_size:10};\"default\"!==a.value&&(e.ordering=(\"desc\"===o.value?\"-\":\"\")+a.value);const c=await Object(R[\"h\"])(e),l=c.results.map(e=>({...e,createdAt:e.created_at?new Date(e.created_at).toLocaleString(\"zh-CN\"):\"\",displayAmount:\"￥\"+Number(e.amount||0).toFixed(2)}));y.value=l,h.value=c.count}catch(e){console.error(\"加载合同列表失败:\",e),W[\"a\"].error(\"加载合同列表失败，请稍后重试\")}finally{i.value=!1}},k=Object(c[\"computed\"])(()=>y.value),_=()=>{E(),r.value=!0},E=()=>{Object.keys(V).forEach(e=>{V[e]=\"\"}),Object.keys(f).forEach(e=>{f[e]=\"\"}),v.coreElements=\"\",n.value=\"manual\",d.value=null},D=()=>{switch(n.value){case\"template\":return\"使用模板创建\";case\"ai\":return\"AI 生成合同\";default:return\"提交审批\"}},F=async()=>{try{var e;const t=G[\"a\"].service({lock:!0,text:\"正在保存...\",background:\"rgba(0, 0, 0, 0.7)\"}),a=null===(e=Z[\"a\"].getters.user)||void 0===e?void 0:e.id;if(!a)return W[\"a\"].error(\"用户未登录或无法获取用户ID\"),void t.close();let c={};if(\"manual\"===n.value){if(!V.title||!V.type||!V.company)return W[\"a\"].error(\"请填写必填字段：合同名称、合同类型和签约对方\"),void t.close();c={title:V.title,type:V.type,company:V.company,amount:V.amount?Number(V.amount.replace(/[^\\d.]/g,\"\")):0,sign_date:te(V.signDate),start_date:te(V.startDate),expire_date:te(V.expireDate),remark:V.remark||\"\",status:\"draft\"}}else if(\"template\"===n.value){if(!f.title||!f.contractType||!f.company)return W[\"a\"].error(\"请填写必填字段：合同名称、合同类型和签约对方\"),void t.close();c={title:f.title,type:f.contractType,company:f.company,amount:0,remark:f.remark||\"\",status:\"draft\"}}else if(\"ai\"===n.value){if(!v.coreElements)return W[\"a\"].error(\"请填写合同需求描述\"),void t.close();c={description:v.coreElements,use_ai_agent:!0,status:\"draft\"}}console.log(\"提交合同数据:\",JSON.stringify(c)),await Object(R[\"c\"])(c),W[\"a\"].success(\"合同已保存为草稿\"),r.value=!1,await x(),t.close()}catch(t){console.error(\"保存草稿失败:\",t);let e=\"保存草稿失败，请检查输入内容\";if(t.response&&t.response.data)if(\"string\"===typeof t.response.data)e=t.response.data;else if(\"object\"===typeof t.response.data)try{const a=Object.entries(t.response.data).map(([e,t])=>`${e}: ${Array.isArray(t)?t.join(\", \"):t}`).join(\"; \");e=\"保存失败: \"+a}catch(a){console.error(\"解析错误详情失败:\",a)}W[\"a\"].error(e)}},T=t=>{t&&t.id&&(l.value=t,e.push({name:\"ContractDetail\",params:{id:t.id}}))},B=()=>{O.value=1,x()},U=e=>{\"其他\"===e&&(V.type=\"\")},S=e=>{O.value=e,x()},I=e=>{b.value={...e},s.value=!0},A=async e=>{l.value=e,u.value=!0,m.value=[];try{var t;const e=null===(t=Z[\"a\"].getters.user)||void 0===t?void 0:t.company;if(!e)return void W[\"a\"].error(\"无法获取公司信息，请重新登录\");const a=await Object(R[\"f\"])(e);p.value=a.data.filter(e=>{var t;return e.id!==(null===(t=Z[\"a\"].getters.user)||void 0===t?void 0:t.id)})}catch(a){W[\"a\"].error(\"获取用户列表失败\"),console.error(\"get user list error\",a)}},$=e=>{H[\"a\"].confirm(`确定要删除合同 \"${e.title}\" 吗？此操作不可逆。`,\"警告\",{confirmButtonText:\"确定删除\",cancelButtonText:\"取消\",type:\"warning\"}).then(async()=>{try{await Object(R[\"e\"])(e.id),W[\"a\"].success(\"合同已删除\"),await x()}catch(t){W[\"a\"].error(\"删除合同失败\"),console.error(`delete contract ${e.id} failed`,t)}}).catch(()=>{})},P=async()=>{if(b.value)try{const{id:e,title:t,type:a,company:c,amount:o,sign_date:l,start_date:r,expire_date:n,remark:d}=b.value,i={title:t,type:a,company:c,amount:Number(String(o).replace(/[^\\d.]/g,\"\"))||0,sign_date:te(l),start_date:te(r),expire_date:te(n),remark:d||\"\"};await Object(R[\"j\"])(e,i),W[\"a\"].success(\"合同更新成功\"),s.value=!1,await x()}catch(e){W[\"a\"].error(\"更新失败\"),console.error(\"update contract failed\",e)}},q=async()=>{if(0===m.value.length)return void W[\"a\"].warning(\"请选择要分享的用户\");const e=G[\"a\"].service({lock:!0,text:\"正在分享...\",background:\"rgba(0, 0, 0, 0.7)\"});try{var t;e.text=\"正在准备聊天...\";const c=await Object(Y[\"e\"])(m.value),o=null===(t=c.data)||void 0===t?void 0:t.chat_id;if(!o)throw console.error(\"获取聊天会话ID失败，API响应:\",c),new Error(\"无法获取聊天会话\");e.text=\"正在生成合同文件...\";const r=l.value;let n=null,d=\"\";try{console.log(\"开始获取合同详情，ID:\",r.id);const e=`/api/contract/contracts/${r.id}/download-docx/`;console.log(\"使用下载API获取Word文档:\",e);const t=localStorage.getItem(\"token\"),a=await Object(ee[\"a\"])({url:e,method:\"GET\",responseType:\"blob\",headers:{Authorization:t?\"Bearer \"+t:\"\"}});if(console.log(\"下载API响应:\",a),!a||!a.data)throw new Error(\"下载API未返回有效数据\");{n=new Blob([a.data],{type:a.headers[\"content-type\"]||\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"});const e=r.title||\"未命名合同\",t=a.headers[\"content-disposition\"];if(t&&t.includes(\"filename=\")){const a=t.match(/filename=\"?([^\"]+)\"?/);d=a&&a[1]?a[1]:e+\".docx\"}else d=e+\".docx\";console.log(\"成功获取Word文档，大小:\",n.size,\"字节\",\"文件名:\",d)}}catch(a){return console.error(\"获取合同文件失败:\",a),W[\"a\"].error(\"生成合同文件失败，无法获取合同内容\"),void e.close()}if(!n||0===n.size)return console.error(\"生成Word文档失败：blob为空或大小为0\"),W[\"a\"].error(\"生成合同文件失败\"),void e.close();e.text=\"正在发送文件...\";const i=new FormData;i.append(\"file\",n,d),i.append(\"chat\",o),i.append(\"content\",\"分享了合同: \"+d),i.append(\"message_type\",\"file\"),await Object(Y[\"h\"])(i),W[\"a\"].success(\"合同已成功分享\"),u.value=!1}catch(a){console.error(\"分享合同失败:\",a),W[\"a\"].error(\"分享失败，请重试\")}finally{e.close()}},z=async()=>{if(\"template\"===n.value&&null===d.value)return void W[\"a\"].error(\"请选择一个模板\");const e=G[\"a\"].service({lock:!0,text:\"提交中...\",background:\"rgba(0, 0, 0, 0.7)\"});try{let a={};if(\"manual\"===n.value){if(!V.title||!V.type||!V.company)return W[\"a\"].error(\"请填写必填字段：合同名称、合同类型和签约对方\"),void e.close();a={title:V.title,type:V.type,company:V.company,amount:V.amount?Number(V.amount.replace(/[^\\d.]/g,\"\")):0,sign_date:te(V.signDate),start_date:te(V.startDate),expire_date:te(V.expireDate),remark:V.remark||\"\",status:\"pending\"}}else if(\"template\"===n.value){if(null===d.value)return W[\"a\"].error(\"请选择一个模板\"),void e.close();if(!f.title)return W[\"a\"].error(\"请填写合同标题\"),void e.close();if(!f.company)return W[\"a\"].error(\"请填写签约对方\"),void e.close();const a=w.value[d.value];try{return await Object(R[\"d\"])(a.id,{title:f.title,company:f.company,type:a.contract_type,amount:f.amount||0,remark:f.remark}),W[\"a\"].success(\"合同已成功创建，请在列表中查看。\"),r.value=!1,await x(),void e.close()}catch(t){throw console.error(\"使用模板创建合同失败:\",t),t}}else if(\"ai\"===n.value){if(!v.coreElements)return W[\"a\"].error(\"请填写合同需求描述\"),void e.close();a={description:v.coreElements,use_ai_agent:!0,status:\"pending\"}}console.log(\"提交合同数据:\",JSON.stringify(a));let c=0;const o=3;while(c<o)try{const t=\"ai\"===n.value?18e4:6e4;e.text=\"ai\"===n.value?\"正在使用AI生成合同，这可能需要一些时间...\":\"正在提交...\";const c=new AbortController,o=setTimeout(()=>{c.abort()},t);await Object(R[\"c\"])({...a,signal:c.signal}),clearTimeout(o);break}catch(t){if(console.error(`合同创建尝试 ${c+1} 失败:`,t),c++,c>=o)throw e.close(),new Error(\"合同创建失败，已达到最大重试次数: \"+t.message);e.text=`尝试失败，正在重试 (${c}/${o})...`,await new Promise(e=>setTimeout(e,2e3))}\"ai\"===n.value?W[\"a\"].success(\"AI生成合同任务已提交，请稍后在列表刷新查看。\"):W[\"a\"].success(\"合同已成功创建，请在列表中查看。\"),await x(),r.value=!1}catch(t){console.error(\"提交合同失败:\",t);let e=\"提交合同失败，请检查输入内容\";if(t.response&&t.response.data){const c=t.response.data;if(\"string\"===typeof c)e=c;else if(\"object\"===typeof c)try{const t=Object.entries(c).map(([e,t])=>`${e}: ${Array.isArray(t)?t.join(\", \"):t}`).join(\"; \");e=\"提交失败: \"+t}catch(a){console.error(\"解析错误详情失败:\",a)}}else t.message&&(e=t.message);W[\"a\"].error(e)}finally{e&&e.visible&&e.close()}};return Object(c[\"onMounted\"])(()=>{x()}),Object(c[\"watch\"])(t,()=>{j&&clearTimeout(j),j=setTimeout(()=>{B()},500)}),{searchQuery:t,sortBy:a,sortOrder:o,selectedContract:l,contracts:y,filteredContracts:k,showNewContractDialog:r,creationMode:n,newContract:V,templateForm:f,aiForm:v,selectedTemplate:d,availableTemplates:w,isLoading:i,isLoadingTemplates:N,currentPage:O,totalItems:h,Plus:Q[\"Plus\"],Search:Q[\"Search\"],InfoFilled:Q[\"InfoFilled\"],MoreFilled:Q[\"MoreFilled\"],Edit:Q[\"Edit\"],Share:Q[\"Share\"],Delete:Q[\"Delete\"],openContractDialog:_,getSubmitButtonText:D,saveAsDraft:F,submitContract:z,viewContractDetail:T,handleFilterChange:B,handleContractTypeChange:U,handleTemplateSelect:g,handleCurrentChange:S,handleEdit:I,handleShare:A,handleDelete:$,submitUpdate:P,submitShare:q,editForm:b,showEditDialog:s,showShareDialog:u,shareTargetUsers:m,availableUsers:p}}},ce=(a(\"4678\"),a(\"6b0d\")),oe=a.n(ce);const le=oe()(ae,[[\"render\",X],[\"__scopeId\",\"data-v-7b1808e5\"]]);t[\"default\"]=le}}]);","extractedComments":[]}