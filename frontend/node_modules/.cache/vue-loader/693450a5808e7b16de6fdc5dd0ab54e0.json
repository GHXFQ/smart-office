{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\DocumentsView.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\DocumentsView.vue","mtime":1748147348741},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgTGluaywgQ2lyY2xlQ2xvc2VGaWxsZWQsIExpZ2h0bmluZywgQ2hlY2sgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZScKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZScKaW1wb3J0IHByb2plY3RBcGkgZnJvbSAnQC9hcGkvcHJvamVjdCcKCgpleHBvcnQgZGVmYXVsdCB7CiAgX19uYW1lOiAnRG9jdW1lbnRzVmlldycsCiAgc2V0dXAoX19wcm9wcywgeyBleHBvc2U6IF9fZXhwb3NlIH0pIHsKICBfX2V4cG9zZSgpOwoKY29uc3QgZG9jcyA9IHJlZihbXSkKCmNvbnN0IGZldGNoRG9jdW1lbnRzID0gYXN5bmMgKCkgPT4gewogIGNvbnN0IHJlcyA9IGF3YWl0IHByb2plY3RBcGkuZ2V0RG9jdW1lbnRzKCkKICBkb2NzLnZhbHVlID0gcmVzLmRhdGEKfQoKb25Nb3VudGVkKCgpID0+IHsKICBmZXRjaERvY3VtZW50cygpCn0pCgphc3luYyBmdW5jdGlvbiBoYW5kbGVVcGxvYWRTdWNjZXNzKCkgewogIEVsTWVzc2FnZS5zdWNjZXNzKCfmlofmoaPkuIrkvKDmiJDlip/vvIEnKQogIGZldGNoRG9jdW1lbnRzKCkKfQoKYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXBsb2FkRXJyb3IoKSB7CiAgRWxNZXNzYWdlLmVycm9yKCfmlofmoaPkuIrkvKDlpLHotKXvvIzor7fph43or5UnKQp9Cgpjb25zdCB1cGxvYWRIZWFkZXJzID0ge307Cgpjb25zdCBfX3JldHVybmVkX18gPSB7IGRvY3MsIGZldGNoRG9jdW1lbnRzLCBoYW5kbGVVcGxvYWRTdWNjZXNzLCBoYW5kbGVVcGxvYWRFcnJvciwgdXBsb2FkSGVhZGVycywgZ2V0IExpbmsoKSB7IHJldHVybiBMaW5rIH0sIGdldCBDaXJjbGVDbG9zZUZpbGxlZCgpIHsgcmV0dXJuIENpcmNsZUNsb3NlRmlsbGVkIH0sIGdldCBMaWdodG5pbmcoKSB7IHJldHVybiBMaWdodG5pbmcgfSwgZ2V0IENoZWNrKCkgeyByZXR1cm4gQ2hlY2sgfSwgZ2V0IEVsTWVzc2FnZSgpIHsgcmV0dXJuIEVsTWVzc2FnZSB9LCByZWYsIG9uTW91bnRlZCwgZ2V0IHByb2plY3RBcGkoKSB7IHJldHVybiBwcm9qZWN0QXBpIH0gfQpPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgeyBlbnVtZXJhYmxlOiBmYWxzZSwgdmFsdWU6IHRydWUgfSkKcmV0dXJuIF9fcmV0dXJuZWRfXwp9Cgp9"},{"version":3,"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/components/DocumentsView.vue"],"sourcesContent":["<template>\n  <div class=\"module-card\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">文档管理</h5>\n      <div class=\"btn-group\">\n        <el-upload\n          class=\"upload-demo\"\n          action=\"/api/project/upload/document\"\n          :show-file-list=\"false\"\n          :on-success=\"handleUploadSuccess\"\n          :on-error=\"handleUploadError\"\n          :headers=\"uploadHeaders\"\n        >\n          <el-button type=\"primary\" size=\"default\" round icon=\"el-icon-upload\">上传文档</el-button>\n        </el-upload>\n        <el-button type=\"primary\" size=\"default\" round icon=\"el-icon-magic-stick\">AI分析</el-button>\n      </div>\n    </div>\n    <!-- AI文档分析 -->\n    <div class=\"ai-document-analysis mb-4\">\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h6 class=\"mb-0\">AI文档分析</h6>\n        <div class=\"btn-group\">\n          <!-- 删除刷新分析和生成摘要按钮 -->\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">文档健康度</h6>\n            <el-progress :percentage=\"85\" status=\"success\" style=\"margin-bottom:8px;\" />\n            <p class=\"text-muted small\">文档结构完整，但部分文档需要更新</p>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">文档关联性</h6>\n            <div class=\"document-relations\">\n              <div class=\"relation-item\">\n                <el-icon><Link /></el-icon>\n                发现5个相关文档\n              </div>\n              <div class=\"relation-item\">\n                <el-icon><CircleCloseFilled /></el-icon>\n                2个文档存在版本冲突\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">智能建议</h6>\n            <div class=\"ai-suggestions\">\n              <div class=\"suggestion-item\">\n                <el-icon><Lightning /></el-icon>\n                建议更新项目计划书\n              </div>\n              <div class=\"suggestion-item\">\n                <el-icon><Check /></el-icon>\n                文档结构符合规范\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 文档列表 -->\n    <div class=\"document-list\">\n      <div class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\" v-for=\"doc in docs\" :key=\"doc.name\">\n          <div class=\"d-flex w-100 justify-content-between\">\n            <div>\n              <h6 class=\"mb-1\">{{ doc.name }}</h6>\n              <div class=\"ai-document-tags\">\n                <el-tag v-for=\"tag in doc.tags\" :key=\"tag.text\" :type=\"tag.type\" size=\"small\">{{ tag.text }}</el-tag>\n              </div>\n            </div>\n            <div class=\"text-end\">\n              <small>{{ doc.time }}</small>\n            </div>\n          </div>\n          <p class=\"mb-1\">{{ doc.desc }}</p>\n          <div class=\"ai-document-analysis\">\n            <small class=\"text-muted\">AI分析：{{ doc.analysis }}</small>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { Link, CircleCloseFilled, Lightning, Check } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\nimport { ref, onMounted } from 'vue'\nimport projectApi from '@/api/project'\n\nconst docs = ref([])\n\nconst fetchDocuments = async () => {\n  const res = await projectApi.getDocuments()\n  docs.value = res.data\n}\n\nonMounted(() => {\n  fetchDocuments()\n})\n\nasync function handleUploadSuccess() {\n  ElMessage.success('文档上传成功！')\n  fetchDocuments()\n}\n\nasync function handleUploadError() {\n  ElMessage.error('文档上传失败，请重试')\n}\n\nconst uploadHeaders = {};\n</script>\n<style scoped>\n.module-card { background: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; padding: 20px; }\n.module-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n.module-title { font-size: 1.1rem; font-weight: 600; color: #2d3a4b; margin: 0; }\n.btn-group { display: flex; gap: 10px; }\n.row { display: flex; flex-wrap: wrap; margin: 0 -10px; }\n.col-md-4 { padding: 0 10px; width: 33.3333%; }\n.mb-4 { margin-bottom: 24px; }\n.list-group { margin: 0; }\n.list-group-item { background: #f8f9fa; border: none; border-radius: 5px; margin-bottom: 10px; padding: 16px; }\n.ai-analysis-card { background: #fff; border: 1px solid #e9ecef; border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n.relation-item, .suggestion-item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }\n.text-primary { color: #0d6efd!important; }\n</style> "],"names":[],"mappings":"AA2FA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;;;;AAErC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB,CAAC;;AAED,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;;;"}]}