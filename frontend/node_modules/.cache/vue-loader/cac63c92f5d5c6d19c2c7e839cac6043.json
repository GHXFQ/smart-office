{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\components\\NlpScheduler.vue?vue&type=template&id=1370e83d&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\components\\NlpScheduler.vue","mtime":1750153640858},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9Im5scC1zY2hlZHVsZXIiPg0KICAgIDxkaXYgY2xhc3M9ImlucHV0LWFyZWEiPg0KICAgICAgPGVsLWlucHV0DQogICAgICAgIHYtbW9kZWw9InF1ZXJ5Ig0KICAgICAgICBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5oKo55qE5pel56iL5a6J5o6S77yM5L6L5aaC77ya5piO5aSp5LiL5Y2I5Lik54K55ZKM5byg5LiJ5byA5LyaIg0KICAgICAgICBjbGVhcmFibGUNCiAgICAgICAgQGtleXVwLmVudGVyPSJoYW5kbGVRdWVyeSINCiAgICAgID4NCiAgICAgICAgPHRlbXBsYXRlICNhcHBlbmQ+DQogICAgICAgICAgPGVsLWJ1dHRvbiBAY2xpY2s9ImhhbmRsZVF1ZXJ5KCkiPuaZuuiDveWuieaOkjwvZWwtYnV0dG9uPg0KICAgICAgICA8L3RlbXBsYXRlPg0KICAgICAgPC9lbC1pbnB1dD4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJldmVudHMtZGlzcGxheSI+DQogICAgICA8ZWwtY2FyZCB2LWZvcj0iZXZlbnQgaW4gZXZlbnRzIiA6a2V5PSJldmVudC5pZCIgY2xhc3M9ImV2ZW50LWNhcmQiPg0KICAgICAgICA8dGVtcGxhdGUgI2hlYWRlcj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJjbGVhcmZpeCI+DQogICAgICAgICAgICA8c3Bhbj57eyBldmVudC50aXRsZSB9fTwvc3Bhbj4NCiAgICAgICAgICAgIDxlbC1kcm9wZG93biBzdHlsZT0iZmxvYXQ6IHJpZ2h0OyIgQGNvbW1hbmQ9ImhhbmRsZUNvbW1hbmQiPg0KICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZWwtZHJvcGRvd24tbGluayI+DQogICAgICAgICAgICAgICAg5pON5L2cPGkgY2xhc3M9ImVsLWljb24tYXJyb3ctZG93biBlbC1pY29uLS1yaWdodCI+PC9pPg0KICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjZHJvcGRvd24+DQogICAgICAgICAgICAgICAgPGVsLWRyb3Bkb3duLW1lbnU+DQogICAgICAgICAgICAgICAgICA8ZWwtZHJvcGRvd24taXRlbSA6Y29tbWFuZD0ieyBhY3Rpb246ICdlZGl0JywgZXZlbnQ6IGV2ZW50IH0iPue8lui+kTwvZWwtZHJvcGRvd24taXRlbT4NCiAgICAgICAgICAgICAgICAgIDxlbC1kcm9wZG93bi1pdGVtIDpjb21tYW5kPSJ7IGFjdGlvbjogJ2RlbGV0ZScsIGV2ZW50OiBldmVudCB9Ij7liKDpmaQ8L2VsLWRyb3Bkb3duLWl0ZW0+DQogICAgICAgICAgICAgICAgPC9lbC1kcm9wZG93bi1tZW51Pg0KICAgICAgICAgICAgICA8L3RlbXBsYXRlPg0KICAgICAgICAgICAgPC9lbC1kcm9wZG93bj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC90ZW1wbGF0ZT4NCiAgICAgICAgPGRpdiBjbGFzcz0iZXZlbnQtZGV0YWlscyI+DQogICAgICAgICAgPHA+PHN0cm9uZz7ml7bpl7Q6PC9zdHJvbmc+IHt7IGZvcm1hdERhdGVUaW1lKGV2ZW50LnN0YXJ0KSB9fSAtIHt7IGZvcm1hdERhdGVUaW1lKGV2ZW50LmVuZCkgfX08L3A+DQogICAgICAgICAgPHAgdi1pZj0iZXZlbnQubG9jYXRpb24iPjxzdHJvbmc+5Zyw54K5Ojwvc3Ryb25nPiB7eyBldmVudC5sb2NhdGlvbiB9fTwvcD4NCiAgICAgICAgICA8cCB2LWlmPSJldmVudC5kZXNjcmlwdGlvbiI+PHN0cm9uZz7mj4/ov7A6PC9zdHJvbmc+IHt7IGV2ZW50LmRlc2NyaXB0aW9uIH19PC9wPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZWwtY2FyZD4NCiAgICA8L2Rpdj4NCiAgPC9kaXY+DQo="},{"version":3,"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\components\\NlpScheduler.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3B;QACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACzD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBAClF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9F,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACrE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/dashboard/components/NlpScheduler.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"nlp-scheduler\">\r\n    <div class=\"input-area\">\r\n      <el-input\r\n        v-model=\"query\"\r\n        placeholder=\"请输入您的日程安排，例如：明天下午两点和张三开会\"\r\n        clearable\r\n        @keyup.enter=\"handleQuery\"\r\n      >\r\n        <template #append>\r\n          <el-button @click=\"handleQuery()\">智能安排</el-button>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n    <div class=\"events-display\">\r\n      <el-card v-for=\"event in events\" :key=\"event.id\" class=\"event-card\">\r\n        <template #header>\r\n          <div class=\"clearfix\">\r\n            <span>{{ event.title }}</span>\r\n            <el-dropdown style=\"float: right;\" @command=\"handleCommand\">\r\n              <span class=\"el-dropdown-link\">\r\n                操作<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n              </span>\r\n              <template #dropdown>\r\n                <el-dropdown-menu>\r\n                  <el-dropdown-item :command=\"{ action: 'edit', event: event }\">编辑</el-dropdown-item>\r\n                  <el-dropdown-item :command=\"{ action: 'delete', event: event }\">删除</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </template>\r\n            </el-dropdown>\r\n          </div>\r\n        </template>\r\n        <div class=\"event-details\">\r\n          <p><strong>时间:</strong> {{ formatDateTime(event.start) }} - {{ formatDateTime(event.end) }}</p>\r\n          <p v-if=\"event.location\"><strong>地点:</strong> {{ event.location }}</p>\r\n          <p v-if=\"event.description\"><strong>描述:</strong> {{ event.description }}</p>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '@/utils/request';\r\n\r\nexport default {\r\n  name: 'NlpScheduler',\r\n  data() {\r\n    return {\r\n      query: '',\r\n      events: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async handleQuery(command) {\r\n      const queryToSend = typeof command === 'string' ? command : this.query;\r\n      if (!queryToSend.trim()) {\r\n        this.$message.warning('请输入内容');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await request.post('/api/calendar/events/nlp/', { query: queryToSend });\r\n        if (response.data.success) {\r\n          this.events = response.data.data;\r\n          this.$message.success('操作成功');\r\n          this.query = ''; // Clear input after successful command\r\n        } else {\r\n          this.$message.error(response.data.error || '操作失败');\r\n        }\r\n      } catch (error) {\r\n        this.$message.error('请求失败');\r\n        console.error(error);\r\n      }\r\n    },\r\n    handleCommand(command) {\r\n      const { action, event } = command;\r\n      if (action === 'delete') {\r\n        const commandString = `删除ID为 ${event.id} 的日程`;\r\n        this.handleQuery(commandString);\r\n      } else if (action === 'edit') {\r\n        this.$prompt('请输入新的日程信息', '编辑日程', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          inputValue: event.title,\r\n        }).then(({ value }) => {\r\n          const commandString = `将ID为 ${event.id} 的日程修改为 ${value}`;\r\n          this.handleQuery(commandString);\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '取消输入'\r\n          });       \r\n        });\r\n      }\r\n    },\r\n    formatDateTime(dateTime) {\r\n      if (!dateTime) return '';\r\n      const date = new Date(dateTime);\r\n      return date.toLocaleString('zh-CN', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nlp-scheduler {\r\n  padding: 20px;\r\n}\r\n.input-area {\r\n  margin-bottom: 20px;\r\n}\r\n.event-card {\r\n  margin-bottom: 15px;\r\n}\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n.clearfix:after {\r\n  clear: both\r\n}\r\n</style> "]}]}