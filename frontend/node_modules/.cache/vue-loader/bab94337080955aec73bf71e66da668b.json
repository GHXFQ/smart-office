{"remainingRequest":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\components\\layout\\Navbar.vue?vue&type=style&index=0&id=483b6756&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\components\\layout\\Navbar.vue","mtime":1746796479161},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1746431217446},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1746431218792},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1746431217377},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5uYXZiYXIgewogIGhlaWdodDogNjBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHBhZGRpbmc6IDAgMjBweDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5oYW1idXJnZXItY29udGFpbmVyIHsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZm9udC1zaXplOiAyMHB4OwogIGxpbmUtaGVpZ2h0OiA2MHB4OwogIHBhZGRpbmc6IDAgMTVweDsKfQoKLmJyZWFkY3J1bWItY29udGFpbmVyIHsKICBtYXJnaW4tbGVmdDogMTVweDsKICBmbGV4OiAxOwp9CgoucmlnaHQtbWVudSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Cgouc2VhcmNoLWNvbnRhaW5lciB7CiAgbWFyZ2luLXJpZ2h0OiAyMHB4Owp9Cgouc2VhcmNoLWlucHV0IHsKICB3aWR0aDogMjEwcHg7CiAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgdHJhbnNpdGlvbjogd2lkdGggMC4zczsKfQoKLnNlYXJjaC1pbnB1dDpmb2N1cyB7CiAgd2lkdGg6IDI0MHB4Owp9Cgoubm90aWZpY2F0aW9uLWNvbnRhaW5lciwgCi5hdmF0YXItY29udGFpbmVyIHsKICBtYXJnaW4tbGVmdDogMTVweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ub3RpZmljYXRpb24taWNvbi1jb250YWluZXIgewogIGZvbnQtc2l6ZTogMThweDsKICBwYWRkaW5nOiA1cHg7Cn0KCi5hdmF0YXItd3JhcHBlciB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgoudXNlci1hdmF0YXIgewogIHdpZHRoOiAzMnB4OwogIGhlaWdodDogMzJweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgbWFyZ2luLXJpZ2h0OiA4cHg7Cn0KCi51c2VybmFtZSB7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjMzMzOwogIG1hcmdpbi1yaWdodDogNXB4Owp9CgphIHsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6IGluaGVyaXQ7Cn0K"},{"version":3,"sources":["C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\components\\layout\\Navbar.vue"],"names":[],"mappings":"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","file":"C:/Users/18083/Desktop/oo/smart-office/frontend/src/components/layout/Navbar.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"navbar\" v-stop-propagation @mousedown.stop @mouseup.stop>\n    <!-- 左侧菜单按钮 -->\n    <div class=\"hamburger-container\" @click.stop=\"toggleSidebar\">\n      <el-icon size=\"20\" @click.stop>\n        <Menu />\n      </el-icon>\n    </div>\n\n    <!-- 面包屑导航 -->\n    <div class=\"breadcrumb-container\" @click.stop>\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\" @click.stop>首页</el-breadcrumb-item>\n        <el-breadcrumb-item @click.stop>{{ currentRoute }}</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n\n    <!-- 右侧菜单 -->\n    <div class=\"right-menu\" @mousedown.stop @mouseup.stop>\n      <!-- 全局搜索 -->\n      <div class=\"search-container\" @click.stop>\n        <el-input\n          v-model=\"searchInput\"\n          placeholder=\"全局搜索...\"\n          clearable\n          :prefix-icon=\"Search\"\n          class=\"search-input\"\n          @click.stop\n        />\n      </div>\n\n      <!-- 通知菜单 -->\n      <el-dropdown class=\"notification-container\" trigger=\"click\" :teleported=\"true\" @click.stop @visible-change=\"handleDropdownChange\">\n        <div class=\"notification-icon-container\" @click.stop>\n          <el-badge :value=\"totalUnread\" class=\"item\" :hidden=\"totalUnread === 0\" @click.stop>\n            <el-icon size=\"18\" @click.stop><Bell /></el-icon>\n          </el-badge>\n        </div>\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item @click.stop>\n              <el-icon @click.stop><ChatDotRound /></el-icon> {{ unread.messages }} 条未读消息\n            </el-dropdown-item>\n            <el-dropdown-item @click.stop>\n              <el-icon @click.stop><Bell /></el-icon> {{ unread.notifications }} 条未读通知\n            </el-dropdown-item>\n            <el-dropdown-item @click.stop>\n              <el-icon @click.stop><CheckboxButton /></el-icon> {{ unread.tasks }} 个未完成任务\n            </el-dropdown-item>\n            <el-dropdown-item @click.stop>\n              <el-icon @click.stop><List /></el-icon> {{ unread.approvals }} 个待审批\n            </el-dropdown-item>\n            <el-dropdown-item divided @click.stop>\n              <span style=\"display: block; text-align: center;\" @click.stop>查看全部通知</span>\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n\n      <!-- 用户头像菜单 -->\n      <el-dropdown class=\"avatar-container\" trigger=\"click\" :teleported=\"true\" @click.stop @visible-change=\"handleDropdownChange\">\n        <div class=\"avatar-wrapper\" @click.stop>\n          <img :src=\"userAvatar\" class=\"user-avatar\" @click.stop>\n          <span v-if=\"username\" class=\"username\" @click.stop>{{ username }}</span>\n          <el-icon @click.stop><ArrowDown /></el-icon>\n        </div>\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item @click.stop>\n              <router-link to=\"/profile\" @click.stop>\n                <el-icon @click.stop><User /></el-icon> 个人中心\n              </router-link>\n            </el-dropdown-item>\n            <el-dropdown-item @click.stop>\n              <router-link to=\"/settings\" @click.stop>\n                <el-icon @click.stop><Setting /></el-icon> 系统设置\n              </router-link>\n            </el-dropdown-item>\n            <el-dropdown-item divided @click.stop>\n              <span @click.stop=\"logout\" style=\"display: block;\">\n                <el-icon @click.stop><SwitchButton /></el-icon> 退出登录\n              </span>\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { \n  Menu, \n  Search, \n  Bell, \n  ChatDotRound, \n  List, \n  User, \n  Setting, \n  SwitchButton, \n  ArrowDown,\n  CheckboxButton\n} from '@element-plus/icons-vue'\n\nexport default {\n  name: 'Navbar',\n  setup() {\n    const store = useStore()\n    const route = useRoute()\n    const router = useRouter()\n\n    const searchInput = ref('')\n    \n    // 从Vuex获取侧边栏状态\n    const isActive = computed(() => store.getters.sidebar.opened)\n    \n    // 从Vuex获取用户信息和未读消息\n    const userAvatar = computed(() => store.getters.user && store.getters.user.avatar || '')\n    const username = computed(() => store.getters.user && store.getters.user.name || '')\n    const unread = computed(() => store.getters.unread || { messages: 0, notifications: 0, tasks: 0, approvals: 0 })\n    \n    // 计算未读消息总数\n    const totalUnread = computed(() => \n      unread.value.messages + \n      unread.value.notifications + \n      unread.value.tasks + \n      unread.value.approvals\n    )\n\n    // 获取当前路由标题\n    const currentRoute = computed(() => {\n      return route.meta.title || '工作台'\n    })\n\n    // 切换侧边栏\n    const toggleSidebar = () => {\n      store.dispatch('toggleSidebar')\n    }\n\n    // 退出登录\n    const logout = async () => {\n      try {\n        await store.dispatch('user/logout')\n        ElMessage.success('退出登录成功')\n        router.push('/login')\n      } catch (error) {\n        ElMessage.error('退出登录失败，请重试')\n        console.error('登出失败:', error)\n      }\n    }\n    \n    // 处理下拉菜单变化，防止事件冒泡\n    const handleDropdownChange = (visible) => {\n      if (visible) {\n        setTimeout(() => {\n          const dropdownEls = document.querySelectorAll('.el-dropdown-menu');\n          dropdownEls.forEach(el => {\n            el.addEventListener('click', (e) => e.stopPropagation());\n          });\n        }, 0);\n      }\n    }\n\n    return {\n      // 图标组件\n      Menu,\n      Search,\n      Bell,\n      ChatDotRound,\n      CheckboxButton,\n      List,\n      User,\n      Setting,\n      SwitchButton,\n      ArrowDown,\n      // 其他数据\n      searchInput,\n      isActive,\n      userAvatar,\n      username,\n      unread,\n      totalUnread,\n      currentRoute,\n      toggleSidebar,\n      logout,\n      handleDropdownChange\n    }\n  }\n}\n</script>\n\n<style scoped>\n.navbar {\n  height: 60px;\n  background-color: #fff;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  justify-content: space-between;\n}\n\n.hamburger-container {\n  cursor: pointer;\n  font-size: 20px;\n  line-height: 60px;\n  padding: 0 15px;\n}\n\n.breadcrumb-container {\n  margin-left: 15px;\n  flex: 1;\n}\n\n.right-menu {\n  display: flex;\n  align-items: center;\n}\n\n.search-container {\n  margin-right: 20px;\n}\n\n.search-input {\n  width: 210px;\n  margin-left: 10px;\n  transition: width 0.3s;\n}\n\n.search-input:focus {\n  width: 240px;\n}\n\n.notification-container, \n.avatar-container {\n  margin-left: 15px;\n  cursor: pointer;\n}\n\n.notification-icon-container {\n  font-size: 18px;\n  padding: 5px;\n}\n\n.avatar-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.user-avatar {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  margin-right: 8px;\n}\n\n.username {\n  font-size: 14px;\n  color: #333;\n  margin-right: 5px;\n}\n\na {\n  text-decoration: none;\n  color: inherit;\n}\n</style> "]}]}