{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\AvatarDropdown.vue?vue&type=template&id=0cdae040&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\AvatarDropdown.vue","mtime":1747306310907},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxlbC1kcm9wZG93biB0cmlnZ2VyPSJjbGljayIgY2xhc3M9ImF2YXRhci1kcm9wZG93biI+DQogICAgPGRpdiBjbGFzcz0iYXZhdGFyLWNvbnRhaW5lciI+DQogICAgICA8ZWwtYXZhdGFyIA0KICAgICAgICA6c2l6ZT0iMzIiIA0KICAgICAgICA6c3JjPSJ1c2VySW5mby5hdmF0YXIgPyB1c2VySW5mby5hdmF0YXIgOiBudWxsIiANCiAgICAgICAgdi1pZj0idXNlckluZm8uYXZhdGFyIj4NCiAgICAgIDwvZWwtYXZhdGFyPg0KICAgICAgPGVsLWF2YXRhciANCiAgICAgICAgOnNpemU9IjMyIiANCiAgICAgICAgdi1lbHNlIA0KICAgICAgICBjbGFzcz0iZGVmYXVsdC1hdmF0YXIiPg0KICAgICAgICB7eyB1c2VySW5pdGlhbCB9fQ0KICAgICAgPC9lbC1hdmF0YXI+DQogICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIGhpZGRlbi14cyI+e3sgdXNlckluZm8ubmFtZSB8fCB1c2VySW5mby51c2VybmFtZSB9fTwvc3Bhbj4NCiAgICAgIDxpIGNsYXNzPSJlbC1pY29uLWNhcmV0LWJvdHRvbSI+PC9pPg0KICAgIDwvZGl2Pg0KDQogICAgPHRlbXBsYXRlICNkcm9wZG93bj4NCiAgICAgIDxlbC1kcm9wZG93bi1tZW51Pg0KICAgICAgICA8cm91dGVyLWxpbmsgdG89Ii9wcm9maWxlIj4NCiAgICAgICAgICA8ZWwtZHJvcGRvd24taXRlbT4NCiAgICAgICAgICAgIDxpIGNsYXNzPSJlbC1pY29uLXVzZXIiPjwvaT4NCiAgICAgICAgICAgIOS4quS6uuS4reW/gw0KICAgICAgICAgIDwvZWwtZHJvcGRvd24taXRlbT4NCiAgICAgICAgPC9yb3V0ZXItbGluaz4NCiAgICAgICAgPGVsLWRyb3Bkb3duLWl0ZW0gZGl2aWRlZCBAY2xpY2s9ImhhbmRsZUxvZ291dCI+DQogICAgICAgICAgPGkgY2xhc3M9ImVsLWljb24tc3dpdGNoLWJ1dHRvbiI+PC9pPg0KICAgICAgICAgIOmAgOWHuueZu+W9lQ0KICAgICAgICA8L2VsLWRyb3Bkb3duLWl0ZW0+DQogICAgICA8L2VsLWRyb3Bkb3duLW1lbnU+DQogICAgPC90ZW1wbGF0ZT4NCiAgPC9lbC1kcm9wZG93bj4NCg=="},{"version":3,"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\AvatarDropdown.vue"],"names":[],"mappings":"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","file":"C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/components/profile/AvatarDropdown.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-dropdown trigger=\"click\" class=\"avatar-dropdown\">\r\n    <div class=\"avatar-container\">\r\n      <el-avatar \r\n        :size=\"32\" \r\n        :src=\"userInfo.avatar ? userInfo.avatar : null\" \r\n        v-if=\"userInfo.avatar\">\r\n      </el-avatar>\r\n      <el-avatar \r\n        :size=\"32\" \r\n        v-else \r\n        class=\"default-avatar\">\r\n        {{ userInitial }}\r\n      </el-avatar>\r\n      <span class=\"user-name hidden-xs\">{{ userInfo.name || userInfo.username }}</span>\r\n      <i class=\"el-icon-caret-bottom\"></i>\r\n    </div>\r\n\r\n    <template #dropdown>\r\n      <el-dropdown-menu>\r\n        <router-link to=\"/profile\">\r\n          <el-dropdown-item>\r\n            <i class=\"el-icon-user\"></i>\r\n            个人中心\r\n          </el-dropdown-item>\r\n        </router-link>\r\n        <el-dropdown-item divided @click=\"handleLogout\">\r\n          <i class=\"el-icon-switch-button\"></i>\r\n          退出登录\r\n        </el-dropdown-item>\r\n      </el-dropdown-menu>\r\n    </template>\r\n  </el-dropdown>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default defineComponent({\r\n  name: 'AvatarDropdown',\r\n  \r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    \r\n    // 获取用户信息\r\n    const userInfo = computed(() => store.state.user.userInfo)\r\n    \r\n    // 计算用户名首字母（用于无头像时显示）\r\n    const userInitial = computed(() => {\r\n      if (userInfo.value.name) {\r\n        return userInfo.value.name.charAt(0)\r\n      } else if (userInfo.value.username) {\r\n        return userInfo.value.username.charAt(0)\r\n      }\r\n      return '用'\r\n    })\r\n    \r\n    // 如果没有用户信息，则获取用户信息\r\n    onMounted(() => {\r\n      if (!userInfo.value.id) {\r\n        store.dispatch('user/getUserInfo')\r\n      }\r\n    })\r\n    \r\n    // 处理退出登录\r\n    const handleLogout = () => {\r\n      store.dispatch('user/logout').then(() => {\r\n        router.push('/login')\r\n      })\r\n    }\r\n    \r\n    return {\r\n      userInfo,\r\n      userInitial,\r\n      handleLogout\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avatar-dropdown {\r\n  height: 100%;\r\n  cursor: pointer;\r\n  \r\n  .avatar-container {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 8px;\r\n    \r\n    .default-avatar {\r\n      background-color: #409EFF;\r\n      color: #fff;\r\n      font-weight: bold;\r\n    }\r\n    \r\n    .user-name {\r\n      margin-left: 8px;\r\n      font-size: 14px;\r\n      color: #606266;\r\n    }\r\n    \r\n    .el-icon-caret-bottom {\r\n      margin-left: 4px;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n}\r\n\r\n// 适配移动设备\r\n@media (max-width: 768px) {\r\n  .hidden-xs {\r\n    display: none;\r\n  }\r\n}\r\n</style> "]}]}