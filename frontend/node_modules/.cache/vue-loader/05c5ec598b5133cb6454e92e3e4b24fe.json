{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\AvatarDropdown.vue?vue&type=style&index=0&id=0cdae040&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\AvatarDropdown.vue","mtime":1747306310907},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1746431217000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1746431217000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1747194135644},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouYXZhdGFyLWRyb3Bkb3duIHsNCiAgaGVpZ2h0OiAxMDAlOw0KICBjdXJzb3I6IHBvaW50ZXI7DQogIA0KICAuYXZhdGFyLWNvbnRhaW5lciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHBhZGRpbmc6IDAgOHB4Ow0KICAgIA0KICAgIC5kZWZhdWx0LWF2YXRhciB7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5RUZGOw0KICAgICAgY29sb3I6ICNmZmY7DQogICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICB9DQogICAgDQogICAgLnVzZXItbmFtZSB7DQogICAgICBtYXJnaW4tbGVmdDogOHB4Ow0KICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgY29sb3I6ICM2MDYyNjY7DQogICAgfQ0KICAgIA0KICAgIC5lbC1pY29uLWNhcmV0LWJvdHRvbSB7DQogICAgICBtYXJnaW4tbGVmdDogNHB4Ow0KICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgIH0NCiAgfQ0KfQ0KDQovLyDpgILphY3np7vliqjorr7lpIcNCkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgew0KICAuaGlkZGVuLXhzIHsNCiAgICBkaXNwbGF5OiBub25lOw0KICB9DQp9DQo="},{"version":3,"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\AvatarDropdown.vue"],"names":[],"mappings":";AAoFA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;IAEd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB;EACF;AACF;;AAEA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf;AACF","file":"C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/components/profile/AvatarDropdown.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-dropdown trigger=\"click\" class=\"avatar-dropdown\">\r\n    <div class=\"avatar-container\">\r\n      <el-avatar \r\n        :size=\"32\" \r\n        :src=\"userInfo.avatar ? userInfo.avatar : null\" \r\n        v-if=\"userInfo.avatar\">\r\n      </el-avatar>\r\n      <el-avatar \r\n        :size=\"32\" \r\n        v-else \r\n        class=\"default-avatar\">\r\n        {{ userInitial }}\r\n      </el-avatar>\r\n      <span class=\"user-name hidden-xs\">{{ userInfo.name || userInfo.username }}</span>\r\n      <i class=\"el-icon-caret-bottom\"></i>\r\n    </div>\r\n\r\n    <template #dropdown>\r\n      <el-dropdown-menu>\r\n        <router-link to=\"/profile\">\r\n          <el-dropdown-item>\r\n            <i class=\"el-icon-user\"></i>\r\n            个人中心\r\n          </el-dropdown-item>\r\n        </router-link>\r\n        <el-dropdown-item divided @click=\"handleLogout\">\r\n          <i class=\"el-icon-switch-button\"></i>\r\n          退出登录\r\n        </el-dropdown-item>\r\n      </el-dropdown-menu>\r\n    </template>\r\n  </el-dropdown>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default defineComponent({\r\n  name: 'AvatarDropdown',\r\n  \r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    \r\n    // 获取用户信息\r\n    const userInfo = computed(() => store.state.user.userInfo)\r\n    \r\n    // 计算用户名首字母（用于无头像时显示）\r\n    const userInitial = computed(() => {\r\n      if (userInfo.value.name) {\r\n        return userInfo.value.name.charAt(0)\r\n      } else if (userInfo.value.username) {\r\n        return userInfo.value.username.charAt(0)\r\n      }\r\n      return '用'\r\n    })\r\n    \r\n    // 如果没有用户信息，则获取用户信息\r\n    onMounted(() => {\r\n      if (!userInfo.value.id) {\r\n        store.dispatch('user/getUserInfo')\r\n      }\r\n    })\r\n    \r\n    // 处理退出登录\r\n    const handleLogout = () => {\r\n      store.dispatch('user/logout').then(() => {\r\n        router.push('/login')\r\n      })\r\n    }\r\n    \r\n    return {\r\n      userInfo,\r\n      userInitial,\r\n      handleLogout\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avatar-dropdown {\r\n  height: 100%;\r\n  cursor: pointer;\r\n  \r\n  .avatar-container {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 8px;\r\n    \r\n    .default-avatar {\r\n      background-color: #409EFF;\r\n      color: #fff;\r\n      font-weight: bold;\r\n    }\r\n    \r\n    .user-name {\r\n      margin-left: 8px;\r\n      font-size: 14px;\r\n      color: #606266;\r\n    }\r\n    \r\n    .el-icon-caret-bottom {\r\n      margin-left: 4px;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n}\r\n\r\n// 适配移动设备\r\n@media (max-width: 768px) {\r\n  .hidden-xs {\r\n    display: none;\r\n  }\r\n}\r\n</style> "]}]}