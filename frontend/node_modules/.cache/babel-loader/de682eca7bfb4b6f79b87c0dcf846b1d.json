{"remainingRequest":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\store\\modules\\user.js","mtime":1746535600687},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218362}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbG9naW4sIGxvZ291dCB9IGZyb20gJ0AvYXBpL2F1dGgnOwpjb25zdCBzdGF0ZSA9IHsKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykgfHwgJycsCiAgdXNlcm5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpIHx8ICcnLAogIHVzZXJJbmZvOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpIHx8ICd7fScpLAogIGlzQXV0aGVudGljYXRlZDogISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQp9Owpjb25zdCBtdXRhdGlvbnMgPSB7CiAgU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICB9LAogIFNFVF9VU0VSX0lEKHN0YXRlLCB1c2VySWQpIHsKICAgIHN0YXRlLnVzZXJJZCA9IHVzZXJJZDsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB1c2VySWQpOwogIH0sCiAgU0VUX1VTRVJOQU1FKHN0YXRlLCB1c2VybmFtZSkgewogICAgc3RhdGUudXNlcm5hbWUgPSB1c2VybmFtZTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsIHVzZXJuYW1lKTsKICB9LAogIFNFVF9VU0VSX0lORk8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbmZvJywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8pKTsKICB9LAogIFNFVF9BVVRIX1NUQVRVUyhzdGF0ZSwgaXNBdXRoZW50aWNhdGVkKSB7CiAgICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSBpc0F1dGhlbnRpY2F0ZWQ7CiAgfSwKICBDTEVBUl9VU0VSX0RBVEEoc3RhdGUpIHsKICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICBzdGF0ZS51c2VySWQgPSAnJzsKICAgIHN0YXRlLnVzZXJuYW1lID0gJyc7CiAgICBzdGF0ZS51c2VySW5mbyA9IHt9OwogICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VybmFtZScpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJJbmZvJyk7CiAgfQp9Owpjb25zdCBhY3Rpb25zID0gewogIC8vIOeZu+W9lQogIGFzeW5jIGxvZ2luKHsKICAgIGNvbW1pdAogIH0sIHVzZXJJbmZvKSB7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvZ2luKHVzZXJJbmZvKTsKICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICB0b2tlbiwKICAgICAgICAgIHVzZXJJZCwKICAgICAgICAgIHVzZXJuYW1lCiAgICAgICAgfSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCB0b2tlbik7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JRCcsIHVzZXJJZCk7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUk5BTUUnLCB1c2VybmFtZSk7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29tbWl0KCdTRVRfQVVUSF9TVEFUVVMnLCB0cnVlKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCfnmbvlvZXlpLHotKU6JywgZXJyb3IpOwogICAgICB0aHJvdyBlcnJvcjsKICAgIH0KICB9LAogIC8vIOeZu+WHugogIGFzeW5jIGxvZ291dCh7CiAgICBjb21taXQKICB9KSB7CiAgICB0cnkgewogICAgICBhd2FpdCBsb2dvdXQoKTsKICAgICAgY29tbWl0KCdDTEVBUl9VU0VSX0RBVEEnKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCfnmbvlh7rlpLHotKU6JywgZXJyb3IpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICAvLyDorr7nva7nlKjmiLfkv6Hmga8KICBzZXRVc2VySW5mbyh7CiAgICBjb21taXQKICB9LCB1c2VySW5mbykgewogICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgdXNlckluZm8pOwogICAgaWYgKHVzZXJJbmZvLnRva2VuKSB7CiAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgdXNlckluZm8udG9rZW4pOwogICAgfQogICAgaWYgKHVzZXJJbmZvLnVzZXJJZCkgewogICAgICBjb21taXQoJ1NFVF9VU0VSX0lEJywgdXNlckluZm8udXNlcklkKTsKICAgIH0KICAgIGlmICh1c2VySW5mby51c2VybmFtZSkgewogICAgICBjb21taXQoJ1NFVF9VU0VSTkFNRScsIHVzZXJJbmZvLnVzZXJuYW1lKTsKICAgIH0KICAgIGNvbW1pdCgnU0VUX0FVVEhfU1RBVFVTJywgdHJ1ZSk7CiAgfSwKICAvLyDmuIXpmaTnlKjmiLfkv6Hmga8KICBjbGVhclVzZXJJbmZvKHsKICAgIGNvbW1pdAogIH0pIHsKICAgIGNvbW1pdCgnQ0xFQVJfVVNFUl9EQVRBJyk7CiAgfQp9Owpjb25zdCBnZXR0ZXJzID0gewogIGlzQXV0aGVudGljYXRlZDogc3RhdGUgPT4gc3RhdGUuaXNBdXRoZW50aWNhdGVkLAogIHRva2VuOiBzdGF0ZSA9PiBzdGF0ZS50b2tlbiwKICB1c2VySWQ6IHN0YXRlID0+IHN0YXRlLnVzZXJJZCwKICB1c2VybmFtZTogc3RhdGUgPT4gc3RhdGUudXNlcm5hbWUsCiAgdXNlckluZm86IHN0YXRlID0+IHN0YXRlLnVzZXJJbmZvCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlLAogIG11dGF0aW9ucywKICBhY3Rpb25zLAogIGdldHRlcnMKfTs="},{"version":3,"names":["login","logout","state","token","localStorage","getItem","userId","username","userInfo","JSON","parse","isAuthenticated","mutations","SET_TOKEN","setItem","SET_USER_ID","SET_USERNAME","SET_USER_INFO","stringify","SET_AUTH_STATUS","CLEAR_USER_DATA","removeItem","actions","commit","response","success","data","error","console","setUserInfo","clearUserInfo","getters","namespaced"],"sources":["C:/Users/18083/Desktop/新建文件夹 (3)/smart-office/frontend/src/store/modules/user.js"],"sourcesContent":["import { login, logout } from '@/api/auth';\r\n\r\nconst state = {\r\n  token: localStorage.getItem('token') || '',\r\n  userId: localStorage.getItem('userId') || '',\r\n  username: localStorage.getItem('username') || '',\r\n  userInfo: JSON.parse(localStorage.getItem('userInfo') || '{}'),\r\n  isAuthenticated: !!localStorage.getItem('token')\r\n};\r\n\r\nconst mutations = {\r\n  SET_TOKEN(state, token) {\r\n    state.token = token;\r\n    localStorage.setItem('token', token);\r\n  },\r\n  SET_USER_ID(state, userId) {\r\n    state.userId = userId;\r\n    localStorage.setItem('userId', userId);\r\n  },\r\n  SET_USERNAME(state, username) {\r\n    state.username = username;\r\n    localStorage.setItem('username', username);\r\n  },\r\n  SET_USER_INFO(state, userInfo) {\r\n    state.userInfo = userInfo;\r\n    localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n  },\r\n  SET_AUTH_STATUS(state, isAuthenticated) {\r\n    state.isAuthenticated = isAuthenticated;\r\n  },\r\n  CLEAR_USER_DATA(state) {\r\n    state.token = '';\r\n    state.userId = '';\r\n    state.username = '';\r\n    state.userInfo = {};\r\n    state.isAuthenticated = false;\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('username');\r\n    localStorage.removeItem('userInfo');\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  // 登录\r\n  async login({ commit }, userInfo) {\r\n    try {\r\n      const response = await login(userInfo);\r\n      if (response.success) {\r\n        const { token, userId, username } = response.data;\r\n        commit('SET_TOKEN', token);\r\n        commit('SET_USER_ID', userId);\r\n        commit('SET_USERNAME', username);\r\n        commit('SET_USER_INFO', response.data);\r\n        commit('SET_AUTH_STATUS', true);\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      console.error('登录失败:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // 登出\r\n  async logout({ commit }) {\r\n    try {\r\n      await logout();\r\n      commit('CLEAR_USER_DATA');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('登出失败:', error);\r\n      return false;\r\n    }\r\n  },\r\n\r\n  // 设置用户信息\r\n  setUserInfo({ commit }, userInfo) {\r\n    commit('SET_USER_INFO', userInfo);\r\n    if (userInfo.token) {\r\n      commit('SET_TOKEN', userInfo.token);\r\n    }\r\n    if (userInfo.userId) {\r\n      commit('SET_USER_ID', userInfo.userId);\r\n    }\r\n    if (userInfo.username) {\r\n      commit('SET_USERNAME', userInfo.username);\r\n    }\r\n    commit('SET_AUTH_STATUS', true);\r\n  },\r\n\r\n  // 清除用户信息\r\n  clearUserInfo({ commit }) {\r\n    commit('CLEAR_USER_DATA');\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  isAuthenticated: state => state.isAuthenticated,\r\n  token: state => state.token,\r\n  userId: state => state.userId,\r\n  username: state => state.username,\r\n  userInfo: state => state.userInfo\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n}; "],"mappings":"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","ignoreList":[]}]}