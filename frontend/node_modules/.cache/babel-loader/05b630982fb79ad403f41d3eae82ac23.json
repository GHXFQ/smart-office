{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\DocumentsView.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\DocumentsView.vue","mtime":1751973875455},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuZGlmZmVyZW5jZS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5pbnRlcnNlY3Rpb24udjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaXMtZGlzam9pbnQtZnJvbS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5pcy1zdWJzZXQtb2YudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaXMtc3VwZXJzZXQtb2YudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuc3ltbWV0cmljLWRpZmZlcmVuY2UudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQudW5pb24udjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHVucmVmIGFzIF91bnJlZiwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIm1vZHVsZS1jYXJkIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAibW9kdWxlLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImJ0bi1ncm91cCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImFpLWRvY3VtZW50LWFuYWx5c2lzIG1iLTQiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTMiCn07CmNvbnN0IF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJidG4tZ3JvdXAiCn07CmNvbnN0IF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJyb3ciCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJjb2wtbWQtNCIKfTsKY29uc3QgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogImFpLWFuYWx5c2lzLWNhcmQiCn07CmNvbnN0IF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAidGV4dC1tdXRlZCBzbWFsbCIKfTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJjb2wtbWQtNCIKfTsKY29uc3QgX2hvaXN0ZWRfMTIgPSB7CiAgY2xhc3M6ICJhaS1hbmFseXNpcy1jYXJkIgp9Owpjb25zdCBfaG9pc3RlZF8xMyA9IHsKICBjbGFzczogImRvY3VtZW50LXJlbGF0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfMTQgPSB7CiAgY2xhc3M6ICJyZWxhdGlvbi1pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF8xNSA9IHsKICBjbGFzczogInJlbGF0aW9uLWl0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzE2ID0gewogIGNsYXNzOiAiY29sLW1kLTQiCn07CmNvbnN0IF9ob2lzdGVkXzE3ID0gewogIGNsYXNzOiAiYWktYW5hbHlzaXMtY2FyZCIKfTsKY29uc3QgX2hvaXN0ZWRfMTggPSB7CiAgY2xhc3M6ICJhaS1zdWdnZXN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfMTkgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAidGV4dC1jZW50ZXIgcHktMiIKfTsKY29uc3QgX2hvaXN0ZWRfMjAgPSBbImlubmVySFRNTCJdOwpjb25zdCBfaG9pc3RlZF8yMSA9IHsKICBjbGFzczogImZpbHRlci1iYXIiLAogIHN0eWxlOiB7CiAgICAiZGlzcGxheSI6ICJmbGV4IiwKICAgICJnYXAiOiAiMTJweCIsCiAgICAibWFyZ2luLWJvdHRvbSI6ICIxNnB4IgogIH0KfTsKY29uc3QgX2hvaXN0ZWRfMjIgPSB7CiAgY2xhc3M6ICJkb2N1bWVudC1saXN0Igp9Owpjb25zdCBfaG9pc3RlZF8yMyA9IHsKICBjbGFzczogImxpc3QtZ3JvdXAiCn07CmNvbnN0IF9ob2lzdGVkXzI0ID0gewogIGNsYXNzOiAiZC1mbGV4IHctMTAwIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIgp9Owpjb25zdCBfaG9pc3RlZF8yNSA9IHsKICBjbGFzczogIm1iLTEiCn07CmNvbnN0IF9ob2lzdGVkXzI2ID0gewogIGNsYXNzOiAiYWktZG9jdW1lbnQtdGFncyIKfTsKY29uc3QgX2hvaXN0ZWRfMjcgPSB7CiAgY2xhc3M6ICJ0ZXh0LWVuZCIKfTsKY29uc3QgX2hvaXN0ZWRfMjggPSB7CiAgY2xhc3M6ICJtYi0xIgp9Owpjb25zdCBfaG9pc3RlZF8yOSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJhaS1kb2N1bWVudC1hbmFseXNpcyIKfTsKY29uc3QgX2hvaXN0ZWRfMzAgPSB7CiAgY2xhc3M6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4iCn07CmNvbnN0IF9ob2lzdGVkXzMxID0gWyJpbm5lckhUTUwiXTsKY29uc3QgX2hvaXN0ZWRfMzIgPSBbImlubmVySFRNTCJdOwpjb25zdCBfaG9pc3RlZF8zMyA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJhaS1kb2N1bWVudC1hbmFseXNpcyIKfTsKaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIHdhdGNoLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IExpbmssIENpcmNsZUNsb3NlRmlsbGVkLCBSZWZyZXNoIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwppbXBvcnQgeyBFbE1lc3NhZ2UsIEVsTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IGZldGNoUHJvamVjdERvY3VtZW50cywgdXBsb2FkUHJvamVjdERvY3VtZW50LCB1cGRhdGVQcm9qZWN0RG9jdW1lbnQsIGRlbGV0ZVByb2plY3REb2N1bWVudCwgZ2V0RG9jdW1lbnRBaURhc2hib2FyZCB9IGZyb20gJ0AvYXBpL3Byb2plY3QnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnOwpjb25zdCBCQVNFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjgwMDAnOwpleHBvcnQgZGVmYXVsdCB7CiAgX19uYW1lOiAnRG9jdW1lbnRzVmlldycsCiAgcHJvcHM6IHsKICAgIHByb2plY3Q6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgc2V0dXAoX19wcm9wcykgewogICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzOwogICAgY29uc3QgZG9jcyA9IHJlZihbXSk7CiAgICBjb25zdCBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IHVwbG9hZERpYWxvZ1Zpc2libGUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgdXBsb2FkRm9ybSA9IHJlZih7CiAgICAgIG5hbWU6ICcnLAogICAgICBkZXNjOiAnJywKICAgICAgdGFnczogJycsCiAgICAgIGZpbGU6IG51bGwKICAgIH0pOwogICAgY29uc3QgZmlsZUxpc3QgPSByZWYoW10pOwogICAgY29uc3QgdXBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGVkaXREaWFsb2dWaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGVkaXRGb3JtID0gcmVmKHsKICAgICAgaWQ6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgZGVzYzogJycsCiAgICAgIHRhZ3M6ICcnCiAgICB9KTsKICAgIGNvbnN0IGVkaXRMb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGFpRG9jRGFzaGJvYXJkID0gcmVmKHsKICAgICAgaGVhbHRoX3Njb3JlOiAwLAogICAgICBoZWFsdGhfZGVzYzogJycsCiAgICAgIHJlbGF0ZWRfY291bnQ6IDAsCiAgICAgIGNvbmZsaWN0X2NvdW50OiAwLAogICAgICBzdWdnZXN0aW9uczogW10KICAgIH0pOwogICAgY29uc3QgYWlEb2NMb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGZpbHRlcktleXdvcmQgPSByZWYoJycpOwogICAgY29uc3QgZmlsdGVyVGFnID0gcmVmKCcnKTsKICAgIGNvbnN0IGFsbFRhZ3MgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIC8vIOaxh+aAu+aJgOacieaWh+aho+eahOagh+etvgogICAgICBjb25zdCB0YWdzU2V0ID0gbmV3IFNldCgpOwogICAgICBkb2NzLnZhbHVlLmZvckVhY2goZG9jID0+IHsKICAgICAgICAoZG9jLnRhZ3MgfHwgW10pLmZvckVhY2godCA9PiB0YWdzU2V0LmFkZCh0LnRleHQpKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRhZ3NTZXQpOwogICAgfSk7CiAgICBjb25zdCBmaWx0ZXJlZERvY3MgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBkb2NzLnZhbHVlLmZpbHRlcihkb2MgPT4gewogICAgICAgIGNvbnN0IG1hdGNoS2V5d29yZCA9ICFmaWx0ZXJLZXl3b3JkLnZhbHVlIHx8IGRvYy5uYW1lLmluY2x1ZGVzKGZpbHRlcktleXdvcmQudmFsdWUpIHx8IGRvYy5kZXNjICYmIGRvYy5kZXNjLmluY2x1ZGVzKGZpbHRlcktleXdvcmQudmFsdWUpOwogICAgICAgIGNvbnN0IG1hdGNoVGFnID0gIWZpbHRlclRhZy52YWx1ZSB8fCBkb2MudGFncyAmJiBkb2MudGFncy5zb21lKHQgPT4gdC50ZXh0ID09PSBmaWx0ZXJUYWcudmFsdWUpOwogICAgICAgIHJldHVybiBtYXRjaEtleXdvcmQgJiYgbWF0Y2hUYWc7CiAgICAgIH0pOwogICAgfSk7CiAgICBjb25zdCBmb3JtYXRNYXJrZG93biA9IHRleHQgPT4gewogICAgICBpZiAoIXRleHQpIHJldHVybiAnJzsKICAgICAgcmV0dXJuIG1hcmtlZCh0ZXh0KTsKICAgIH07CgogICAgLy8g6I635Y+W5ZCO56uvYmFzZVVSTAogICAgZnVuY3Rpb24gbG9hZERvY3VtZW50cygpIHsKICAgICAgdmFyIF9wcm9wcyRwcm9qZWN0OwogICAgICBpZiAoISgoX3Byb3BzJHByb2plY3QgPSBwcm9wcy5wcm9qZWN0KSAhPT0gbnVsbCAmJiBfcHJvcHMkcHJvamVjdCAhPT0gdm9pZCAwICYmIF9wcm9wcyRwcm9qZWN0LmlkKSkgcmV0dXJuOwogICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgZmV0Y2hQcm9qZWN0RG9jdW1lbnRzKHByb3BzLnByb2plY3QuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBkb2NzLnZhbHVlID0gKHJlcy5kYXRhIHx8IFtdKS5tYXAoZG9jID0+ICh7CiAgICAgICAgICBpZDogZG9jLmlkLAogICAgICAgICAgbmFtZTogZG9jLm5hbWUsCiAgICAgICAgICB0YWdzOiAoZG9jLnRhZ3MgfHwgJycpLnNwbGl0KCcsJykuZmlsdGVyKEJvb2xlYW4pLm1hcCh0ID0+ICh7CiAgICAgICAgICAgIHRleHQ6IHQsCiAgICAgICAgICAgIHR5cGU6ICdpbmZvJwogICAgICAgICAgfSkpLAogICAgICAgICAgdGltZTogZG9jLnVwbG9hZGVkX2F0ID8gZG9jLnVwbG9hZGVkX2F0LnNsaWNlKDAsIDEwKSA6ICcnLAogICAgICAgICAgZGVzYzogZG9jLmRlc2MsCiAgICAgICAgICBhbmFseXNpczogZG9jLmFuYWx5c2lzLAogICAgICAgICAgZmlsZTogZG9jLmZpbGUsCiAgICAgICAgICBhbmFseXppbmc6IGZhbHNlLAogICAgICAgICAgc2hvd0Z1bGxBbmFseXNpczogZmFsc2UKICAgICAgICB9KSk7CiAgICAgICAgLy8g6Ieq5YqoQUnliIbmnpAKICAgICAgICBkb2NzLnZhbHVlLmZvckVhY2goZG9jID0+IHsKICAgICAgICAgIGlmICghZG9jLmFuYWx5c2lzKSB7CiAgICAgICAgICAgIGFuYWx5emVEb2N1bWVudChkb2MpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5maW5hbGx5KCgpID0+IGxvYWRpbmcudmFsdWUgPSBmYWxzZSk7CiAgICB9CiAgICBmdW5jdGlvbiBmZXRjaEFpRG9jRGFzaGJvYXJkKCkgewogICAgICB2YXIgX3Byb3BzJHByb2plY3QyOwogICAgICBpZiAoISgoX3Byb3BzJHByb2plY3QyID0gcHJvcHMucHJvamVjdCkgIT09IG51bGwgJiYgX3Byb3BzJHByb2plY3QyICE9PSB2b2lkIDAgJiYgX3Byb3BzJHByb2plY3QyLmlkKSkgcmV0dXJuOwogICAgICBhaURvY0xvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICBnZXREb2N1bWVudEFpRGFzaGJvYXJkKHByb3BzLnByb2plY3QuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBhaURvY0Rhc2hib2FyZC52YWx1ZSA9IHJlcy5kYXRhIHx8IHsKICAgICAgICAgIGhlYWx0aF9zY29yZTogMCwKICAgICAgICAgIGhlYWx0aF9kZXNjOiAnJywKICAgICAgICAgIHJlbGF0ZWRfY291bnQ6IDAsCiAgICAgICAgICBjb25mbGljdF9jb3VudDogMCwKICAgICAgICAgIHN1Z2dlc3Rpb25zOiBbXQogICAgICAgIH07CiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gYWlEb2NMb2FkaW5nLnZhbHVlID0gZmFsc2UpOwogICAgfQogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgbG9hZERvY3VtZW50cygpOwogICAgICBmZXRjaEFpRG9jRGFzaGJvYXJkKCk7CiAgICB9KTsKICAgIHdhdGNoKCgpID0+IHsKICAgICAgdmFyIF9wcm9wcyRwcm9qZWN0MzsKICAgICAgcmV0dXJuIChfcHJvcHMkcHJvamVjdDMgPSBwcm9wcy5wcm9qZWN0KSA9PT0gbnVsbCB8fCBfcHJvcHMkcHJvamVjdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wcm9wcyRwcm9qZWN0My5pZDsKICAgIH0sIHZhbCA9PiB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICBsb2FkRG9jdW1lbnRzKCk7CiAgICAgICAgZmV0Y2hBaURvY0Rhc2hib2FyZCgpOwogICAgICB9CiAgICB9KTsKCiAgICAvLyDnm5HlkKzmlofmoaPliJfooajlj5jljJbvvIzph43mlrDojrflj5ZBSeWIhuaekAogICAgd2F0Y2goZG9jcywgKCkgPT4gewogICAgICBmZXRjaEFpRG9jRGFzaGJvYXJkKCk7CiAgICB9LCB7CiAgICAgIGRlZXA6IHRydWUKICAgIH0pOwoKICAgIC8vIOS4iuS8oOaIkOWKn+WbnuiwgwogICAgZnVuY3Rpb24gaGFuZGxlVXBsb2FkU3VjY2VzcygpIHsKICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+aWh+aho+S4iuS8oOaIkOWKn++8gScpOwogICAgICBsb2FkRG9jdW1lbnRzKCk7CiAgICB9CgogICAgLy8g5LiK5Lyg5aSx6LSl5Zue6LCDCiAgICBmdW5jdGlvbiBoYW5kbGVVcGxvYWRFcnJvcigpIHsKICAgICAgRWxNZXNzYWdlLmVycm9yKCfmlofmoaPkuIrkvKDlpLHotKXvvIzor7fph43or5UnKTsKICAgIH0KICAgIGZ1bmN0aW9uIGhhbmRsZUZpbGVDaGFuZ2UoZmlsZSkgewogICAgICB1cGxvYWRGb3JtLnZhbHVlLmZpbGUgPSBmaWxlLnJhdzsKICAgICAgZmlsZUxpc3QudmFsdWUgPSBbZmlsZV07CiAgICB9CiAgICBmdW5jdGlvbiBzdWJtaXRVcGxvYWQoKSB7CiAgICAgIGlmICghdXBsb2FkRm9ybVJlZi52YWx1ZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ihqOWNleW8leeUqOS4jeWtmOWcqCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB1cGxvYWRGb3JtUmVmLnZhbHVlLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeaJgOacieW/heWhq+mhuScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoIXVwbG9hZEZvcm0udmFsdWUuZmlsZSkgewogICAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOmAieaLqeaWh+S7ticpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB1cGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdXBsb2FkRm9ybS52YWx1ZS5maWxlKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Byb2plY3QnLCBwcm9wcy5wcm9qZWN0LmlkKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ25hbWUnLCB1cGxvYWRGb3JtLnZhbHVlLm5hbWUgfHwgdXBsb2FkRm9ybS52YWx1ZS5maWxlLm5hbWUpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGVzYycsIHVwbG9hZEZvcm0udmFsdWUuZGVzYyk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0YWdzJywgdXBsb2FkRm9ybS52YWx1ZS50YWdzKTsKICAgICAgICB1cGxvYWRQcm9qZWN0RG9jdW1lbnQoZm9ybURhdGEpLnRoZW4oKCkgPT4gewogICAgICAgICAgaGFuZGxlVXBsb2FkU3VjY2VzcygpOwogICAgICAgICAgdXBsb2FkRGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgdXBsb2FkRm9ybS52YWx1ZSA9IHsKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIGRlc2M6ICcnLAogICAgICAgICAgICB0YWdzOiAnJywKICAgICAgICAgICAgZmlsZTogbnVsbAogICAgICAgICAgfTsKICAgICAgICAgIGZpbGVMaXN0LnZhbHVlID0gW107CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgaGFuZGxlVXBsb2FkRXJyb3IoKTsKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHVwbG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGRvd25sb2FkRmlsZSh1cmwsIG5hbWUpIHsKICAgICAgbGV0IGRvd25sb2FkVXJsID0gdXJsOwogICAgICBpZiAoIS9eaHR0cHM/OlwvXC8vLnRlc3QodXJsKSkgewogICAgICAgIGRvd25sb2FkVXJsID0gQkFTRV9VUkwgKyB1cmw7CiAgICAgIH0KICAgICAgYXhpb3MoewogICAgICAgIHVybDogZG93bmxvYWRVcmwsCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJyd9YAogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmVzLmRhdGFdKTsKICAgICAgICAvLyDkvJjlhYjnlKjmlofmoaPlkI3np7Ar5Y6f5paH5Lu25ZCO57yACiAgICAgICAgbGV0IGV4dCA9ICcnOwogICAgICAgIGNvbnN0IHVybEZpbGVuYW1lID0gdXJsLnNwbGl0KCcvJykucG9wKCkgfHwgJyc7CiAgICAgICAgY29uc3QgaWR4ID0gdXJsRmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgICBpZiAoaWR4ICE9PSAtMSkgZXh0ID0gdXJsRmlsZW5hbWUuc2xpY2UoaWR4KTsKICAgICAgICBsZXQgZmlsZW5hbWUgPSAobmFtZSB8fCAnZG93bmxvYWQnKSArIGV4dDsKICAgICAgICAvLyDlhbzlrrlDb250ZW50LURpc3Bvc2l0aW9uCiAgICAgICAgY29uc3QgZGlzcG9zaXRpb24gPSByZXMuaGVhZGVyc1snY29udGVudC1kaXNwb3NpdGlvbiddOwogICAgICAgIGlmIChkaXNwb3NpdGlvbikgewogICAgICAgICAgY29uc3QgbWF0Y2ggPSBkaXNwb3NpdGlvbi5tYXRjaCgvZmlsZW5hbWU9Ij8oW14iXSspIj8vKTsKICAgICAgICAgIGlmIChtYXRjaCkgZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pOwogICAgICAgIH0KICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+S4i+i9veWksei0pe+8jOivt+ajgOafpee9kee7nOaIluadg+mZkCcpOwogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIG9wZW5FZGl0RGlhbG9nKGRvYykgewogICAgICBlZGl0Rm9ybS52YWx1ZSA9IHsKICAgICAgICBpZDogZG9jLmlkLAogICAgICAgIG5hbWU6IGRvYy5uYW1lLAogICAgICAgIGRlc2M6IGRvYy5kZXNjLAogICAgICAgIHRhZ3M6IChkb2MudGFncyB8fCBbXSkubWFwKHQgPT4gdC50ZXh0KS5qb2luKCcsJykKICAgICAgfTsKICAgICAgZWRpdERpYWxvZ1Zpc2libGUudmFsdWUgPSB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gc3VibWl0RWRpdCgpIHsKICAgICAgaWYgKCFlZGl0Rm9ybVJlZi52YWx1ZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ihqOWNleW8leeUqOS4jeWtmOWcqCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBlZGl0Rm9ybVJlZi52YWx1ZS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfor7floavlhpnmiYDmnInlv4XloavpobknKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZWRpdExvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgIHVwZGF0ZVByb2plY3REb2N1bWVudChlZGl0Rm9ybS52YWx1ZS5pZCwgewogICAgICAgICAgbmFtZTogZWRpdEZvcm0udmFsdWUubmFtZSwKICAgICAgICAgIGRlc2M6IGVkaXRGb3JtLnZhbHVlLmRlc2MsCiAgICAgICAgICB0YWdzOiBlZGl0Rm9ybS52YWx1ZS50YWdzCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5paH5qGj5L+h5oGv5bey5pu05pawJyk7CiAgICAgICAgICBlZGl0RGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgbG9hZERvY3VtZW50cygpOwogICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcign5pu05paw5aSx6LSlJyk7CiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICBlZGl0TG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGNvbmZpcm1EZWxldGUoZG9jKSB7CiAgICAgIEVsTWVzc2FnZUJveC5jb25maXJtKCfnoa7lrpropoHliKDpmaTor6XmlofmoaPlkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5Yig6ZmkJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgZGVsZXRlUHJvamVjdERvY3VtZW50KGRvYy5pZCkudGhlbigoKSA9PiB7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5paH5qGj5bey5Yig6ZmkJyk7CiAgICAgICAgICBsb2FkRG9jdW1lbnRzKCk7CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUnKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfQoKICAgIC8vIOa3u+WKoOWIhuaekOaWh+aho+eahOWKn+iDvQogICAgZnVuY3Rpb24gYW5hbHl6ZURvY3VtZW50KGRvYykgewogICAgICAvLyDmo4Dmn6XmlofmoaNJRAogICAgICBjb25zdCBpZE51bSA9IE51bWJlcihkb2MuaWQpOwogICAgICBpZiAoIWlkTnVtIHx8IGlzTmFOKGlkTnVtKSB8fCBpZE51bSA8PSAwIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKGlkTnVtKSkgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfml6DmlYjnmoTmlofmoaNJRCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g6K6+572u5YiG5p6Q54q25oCBCiAgICAgIGRvYy5hbmFseXppbmcgPSB0cnVlOwoKICAgICAgLy8g6LCD55SoQUnliIbmnpDmjqXlj6MKICAgICAgcmVxdWVzdC5wb3N0KGAvYXBpL3Byb2plY3QtZG9jdW1lbnRzLyR7ZG9jLmlkfS9haV9hbmFseXplL2ApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IGFuYWx5c2lzID0gcmVzcG9uc2UuZGF0YS5hbmFseXNpczsKICAgICAgICAvLyDmm7TmlrDmlofmoaPliIbmnpDnu5PmnpwKICAgICAgICBkb2MuYW5hbHlzaXMgPSBhbmFseXNpczsKICAgICAgICBkb2Muc2hvd0Z1bGxBbmFseXNpcyA9IGZhbHNlOwogICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCdBSeWIhuaekOWujOaIkCcpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcign5paH5qGjQUnliIbmnpDlpLHotKU6JywgZXJyb3IpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5paH5qGjQUnliIbmnpDlpLHotKUnKTsKICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgZG9jLmFuYWx5emluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KCiAgICAvLyDooajljZXlvJXnlKgKICAgIGNvbnN0IHVwbG9hZEZvcm1SZWYgPSByZWYobnVsbCk7CiAgICBjb25zdCBlZGl0Rm9ybVJlZiA9IHJlZihudWxsKTsKCiAgICAvLyDooajljZXpqozor4Hop4TliJkKICAgIGNvbnN0IGZvcm1SdWxlcyA9IHsKICAgICAgbmFtZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paH5qGj5ZCN56ewJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIGRlc2M6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaWh+aho+aPj+i/sCcsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICB0YWdzOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmoIfnrb4nLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgZmlsZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5paH5Lu2JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XQogICAgfTsKICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiB7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWJ1dHRvbiIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0taXRlbSIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX3VwbG9hZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC11cGxvYWQiKTsKICAgICAgY29uc3QgX2NvbXBvbmVudF9lbF9mb3JtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0iKTsKICAgICAgY29uc3QgX2NvbXBvbmVudF9lbF9kaWFsb2cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGlhbG9nIik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfaWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pY29uIik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfcHJvZ3Jlc3MgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtcHJvZ3Jlc3MiKTsKICAgICAgY29uc3QgX2NvbXBvbmVudF9lbF9vcHRpb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtb3B0aW9uIik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfc2VsZWN0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXNlbGVjdCIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX3RhZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWciKTsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY2FjaGVbMTddIHx8IChfY2FjaGVbMTddID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDUiLCB7CiAgICAgICAgY2xhc3M6ICJtb2R1bGUtdGl0bGUiCiAgICAgIH0sICLmlofmoaPnrqHnkIYiLCAtMSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgIHNpemU6ICJkZWZhdWx0IiwKICAgICAgICByb3VuZDogIiIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gdXBsb2FkRGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWUpCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuS4iuS8oOaWh+ahoyIpXSkpLAogICAgICAgIF86IDEKICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgICAgIG1vZGVsVmFsdWU6IHVwbG9hZERpYWxvZ1Zpc2libGUudmFsdWUsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9ICRldmVudCA9PiB1cGxvYWREaWFsb2dWaXNpYmxlLnZhbHVlID0gJGV2ZW50KSwKICAgICAgICB0aXRsZTogIuS4iuS8oOaWh+ahoyIsCiAgICAgICAgd2lkdGg6ICI0MDBweCIKICAgICAgfSwgewogICAgICAgIGZvb3RlcjogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSAkZXZlbnQgPT4gdXBsb2FkRGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlKQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsxNV0gfHwgKF9jYWNoZVsxNV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5Y+W5raIIildKSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgb25DbGljazogc3VibWl0VXBsb2FkLAogICAgICAgICAgbG9hZGluZzogdXBsb2FkaW5nLnZhbHVlCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzE2XSB8fCAoX2NhY2hlWzE2XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLkuIrkvKAiKV0pKSwKICAgICAgICAgIF86IDEKICAgICAgICB9LCA4LCBbImxvYWRpbmciXSldKSwKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybSwgewogICAgICAgICAgbW9kZWw6IHVwbG9hZEZvcm0udmFsdWUsCiAgICAgICAgICAibGFiZWwtd2lkdGgiOiAiODBweCIsCiAgICAgICAgICBydWxlczogZm9ybVJ1bGVzLAogICAgICAgICAgcmVmX2tleTogInVwbG9hZEZvcm1SZWYiLAogICAgICAgICAgcmVmOiB1cGxvYWRGb3JtUmVmCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICBsYWJlbDogIuaWh+aho+WQjeensCIsCiAgICAgICAgICAgIHByb3A6ICJuYW1lIiwKICAgICAgICAgICAgcmVxdWlyZWQ6ICIiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICAgIG1vZGVsVmFsdWU6IHVwbG9hZEZvcm0udmFsdWUubmFtZSwKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+IHVwbG9hZEZvcm0udmFsdWUubmFtZSA9ICRldmVudCksCiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXmlofmoaPlkI3np7AiCiAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgICAgIGxhYmVsOiAi5o+P6L+wIiwKICAgICAgICAgICAgcHJvcDogImRlc2MiLAogICAgICAgICAgICByZXF1aXJlZDogIiIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogdXBsb2FkRm9ybS52YWx1ZS5kZXNjLAogICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAkZXZlbnQgPT4gdXBsb2FkRm9ybS52YWx1ZS5kZXNjID0gJGV2ZW50KSwKICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWh+aho+aPj+i/sCIKICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgICAgbGFiZWw6ICLmoIfnrb4iLAogICAgICAgICAgICBwcm9wOiAidGFncyIsCiAgICAgICAgICAgIHJlcXVpcmVkOiAiIgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgICAgICBtb2RlbFZhbHVlOiB1cGxvYWRGb3JtLnZhbHVlLnRhZ3MsCiAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICRldmVudCA9PiB1cGxvYWRGb3JtLnZhbHVlLnRhZ3MgPSAkZXZlbnQpLAogICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5aSa5Liq5qCH562+55So6YCX5Y+35YiG6ZqUIgogICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICBsYWJlbDogIuaWh+S7tiIsCiAgICAgICAgICAgIHByb3A6ICJmaWxlIiwKICAgICAgICAgICAgcmVxdWlyZWQ6ICIiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF91cGxvYWQsIHsKICAgICAgICAgICAgICAiYXV0by11cGxvYWQiOiBmYWxzZSwKICAgICAgICAgICAgICAic2hvdy1maWxlLWxpc3QiOiB0cnVlLAogICAgICAgICAgICAgICJvbi1jaGFuZ2UiOiBoYW5kbGVGaWxlQ2hhbmdlLAogICAgICAgICAgICAgICJmaWxlLWxpc3QiOiBmaWxlTGlzdC52YWx1ZQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgbnVsbCwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzE0XSB8fCAoX2NhY2hlWzE0XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLpgInmi6nmlofku7YiKV0pKSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICB9KV0pLAogICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgfSwgOCwgWyJmaWxlLWxpc3QiXSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDEKICAgICAgICB9LCA4LCBbIm1vZGVsIl0pXSksCiAgICAgICAgXzogMQogICAgICB9LCA4LCBbIm1vZGVsVmFsdWUiXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jYWNoZVsxOV0gfHwgKF9jYWNoZVsxOV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIHsKICAgICAgICBjbGFzczogIm1iLTAiCiAgICAgIH0sICJBSeaWh+aho+WIhuaekCIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIG9uQ2xpY2s6IGZldGNoQWlEb2NEYXNoYm9hcmQsCiAgICAgICAgbG9hZGluZzogYWlEb2NMb2FkaW5nLnZhbHVlCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfdW5yZWYoUmVmcmVzaCkpXSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSksIF9jYWNoZVsxOF0gfHwgKF9jYWNoZVsxOF0gPSBfY3JlYXRlVGV4dFZOb2RlKCLliLfmlrDliIbmnpAgIikpXSksCiAgICAgICAgXzogMQogICAgICB9LCA4LCBbImxvYWRpbmciXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY2FjaGVbMjBdIHx8IChfY2FjaGVbMjBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDYiLCB7CiAgICAgICAgY2xhc3M6ICJ0ZXh0LXByaW1hcnkiCiAgICAgIH0sICLmlofmoaPlgaXlurfluqYiLCAtMSkpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wcm9ncmVzcywgewogICAgICAgIHBlcmNlbnRhZ2U6IGFpRG9jRGFzaGJvYXJkLnZhbHVlLmhlYWx0aF9zY29yZSwKICAgICAgICBzdGF0dXM6IGFpRG9jRGFzaGJvYXJkLnZhbHVlLmhlYWx0aF9zY29yZSA+PSA4MCA/ICdzdWNjZXNzJyA6IGFpRG9jRGFzaGJvYXJkLnZhbHVlLmhlYWx0aF9zY29yZSA+PSA2MCA/ICd3YXJuaW5nJyA6ICdleGNlcHRpb24nLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAibWFyZ2luLWJvdHRvbSI6ICI4cHgiCiAgICAgICAgfQogICAgICB9LCBudWxsLCA4LCBbInBlcmNlbnRhZ2UiLCAic3RhdHVzIl0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfMTAsIF90b0Rpc3BsYXlTdHJpbmcoYWlEb2NEYXNoYm9hcmQudmFsdWUuaGVhbHRoX2Rlc2MpLCAxKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIsIFtfY2FjaGVbMjFdIHx8IChfY2FjaGVbMjFdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDYiLCB7CiAgICAgICAgY2xhc3M6ICJ0ZXh0LXByaW1hcnkiCiAgICAgIH0sICLmlofmoaPlhbPogZTmgKciLCAtMSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE0LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX3VucmVmKExpbmspKV0pLAogICAgICAgIF86IDEKICAgICAgfSksIF9jcmVhdGVUZXh0Vk5vZGUoIiDlj5HnjrAiICsgX3RvRGlzcGxheVN0cmluZyhhaURvY0Rhc2hib2FyZC52YWx1ZS5yZWxhdGVkX2NvdW50KSArICLkuKrnm7jlhbPmlofmoaMgIiwgMSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfdW5yZWYoQ2lyY2xlQ2xvc2VGaWxsZWQpKV0pLAogICAgICAgIF86IDEKICAgICAgfSksIF9jcmVhdGVUZXh0Vk5vZGUoIiAiICsgX3RvRGlzcGxheVN0cmluZyhhaURvY0Rhc2hib2FyZC52YWx1ZS5jb25mbGljdF9jb3VudCkgKyAi5Liq5paH5qGj5a2Y5Zyo54mI5pys5Yay56qBICIsIDEpXSldKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE2LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTcsIFtfY2FjaGVbMjNdIHx8IChfY2FjaGVbMjNdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDYiLCB7CiAgICAgICAgY2xhc3M6ICJ0ZXh0LXByaW1hcnkiCiAgICAgIH0sICLmmbrog73lu7rorq4iLCAtMSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xOCwgWyFhaURvY0Rhc2hib2FyZC52YWx1ZS5zdWdnZXN0aW9ucy5sZW5ndGggPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xOSwgX2NhY2hlWzIyXSB8fCAoX2NhY2hlWzIyXSA9IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgIGNsYXNzOiAidGV4dC1tdXRlZCIKICAgICAgfSwgIuaaguaXoOW7uuiuriIsIC0xKV0pKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChhaURvY0Rhc2hib2FyZC52YWx1ZS5zdWdnZXN0aW9ucywgKHN1Z2dlc3Rpb24sIGkpID0+IHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogInN1Z2dlc3Rpb24taXRlbSIsCiAgICAgICAgICBrZXk6IGksCiAgICAgICAgICBpbm5lckhUTUw6IGZvcm1hdE1hcmtkb3duKHN1Z2dlc3Rpb24pCiAgICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMjApOwogICAgICB9KSwgMTI4KSldKV0pXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgbW9kZWxWYWx1ZTogZmlsdGVyS2V5d29yZC52YWx1ZSwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gJGV2ZW50ID0+IGZpbHRlcktleXdvcmQudmFsdWUgPSAkZXZlbnQpLAogICAgICAgIHBsYWNlaG9sZGVyOiAi5paH5qGj5ZCNL+aPj+i/sCIsCiAgICAgICAgY2xlYXJhYmxlOiAiIiwKICAgICAgICBzdHlsZTogewogICAgICAgICAgIndpZHRoIjogIjE4MHB4IgogICAgICAgIH0KICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICBtb2RlbFZhbHVlOiBmaWx0ZXJUYWcudmFsdWUsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbN10gfHwgKF9jYWNoZVs3XSA9ICRldmVudCA9PiBmaWx0ZXJUYWcudmFsdWUgPSAkZXZlbnQpLAogICAgICAgIHBsYWNlaG9sZGVyOiAi5qCH562+IiwKICAgICAgICBjbGVhcmFibGU6ICIiLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAid2lkdGgiOiAiMTIwcHgiCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLlhajpg6giLAogICAgICAgICAgdmFsdWU6ICIiCiAgICAgICAgfSksIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoYWxsVGFncy52YWx1ZSwgdGFnID0+IHsKICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICBrZXk6IHRhZywKICAgICAgICAgICAgbGFiZWw6IHRhZywKICAgICAgICAgICAgdmFsdWU6IHRhZwogICAgICAgICAgfSwgbnVsbCwgOCwgWyJsYWJlbCIsICJ2YWx1ZSJdKTsKICAgICAgICB9KSwgMTI4KSldKSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgsIFsibW9kZWxWYWx1ZSJdKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIzLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChmaWx0ZXJlZERvY3MudmFsdWUsIGRvYyA9PiB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWFjdGlvbiIsCiAgICAgICAgICBrZXk6IGRvYy5uYW1lCiAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI0LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImg2IiwgX2hvaXN0ZWRfMjUsIF90b0Rpc3BsYXlTdHJpbmcoZG9jLm5hbWUpLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjYsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGRvYy50YWdzLCB0YWcgPT4gewogICAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfdGFnLCB7CiAgICAgICAgICAgIGtleTogdGFnLnRleHQsCiAgICAgICAgICAgIHR5cGU6IHRhZy50eXBlLAogICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcodGFnLnRleHQpLCAxKV0pLAogICAgICAgICAgICBfOiAyCiAgICAgICAgICB9LCAxMDMyLCBbInR5cGUiXSk7CiAgICAgICAgfSksIDEyOCkpXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjcsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzbWFsbCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoZG9jLnRpbWUpLCAxKSwgZG9jLmZpbGUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIGtleTogMCwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gZG93bmxvYWRGaWxlKGRvYy5maWxlLCBkb2MubmFtZSksCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAibWFyZ2luLWxlZnQiOiAiOHB4IgogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyNF0gfHwgKF9jYWNoZVsyNF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5LiL6L29IildKSksCiAgICAgICAgICBfOiAyCiAgICAgICAgfSwgMTAzMiwgWyJvbkNsaWNrIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gb3BlbkVkaXREaWFsb2coZG9jKSwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJtYXJnaW4tbGVmdCI6ICI4cHgiCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzI1XSB8fCAoX2NhY2hlWzI1XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLnvJbovpEiKV0pKSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDMyLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiBhbmFseXplRG9jdW1lbnQoZG9jKSwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJtYXJnaW4tbGVmdCI6ICI4cHgiCiAgICAgICAgICB9LAogICAgICAgICAgbG9hZGluZzogZG9jLmFuYWx5emluZwogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyNl0gfHwgKF9jYWNoZVsyNl0gPSBbX2NyZWF0ZVRleHRWTm9kZSgiQUnliIbmnpAiKV0pKSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDMyLCBbIm9uQ2xpY2siLCAibG9hZGluZyJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gY29uZmlybURlbGV0ZShkb2MpLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgIm1hcmdpbi1sZWZ0IjogIjhweCIKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMjddIHx8IChfY2FjaGVbMjddID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWIoOmZpCIpXSkpLAogICAgICAgICAgXzogMgogICAgICAgIH0sIDEwMzIsIFsib25DbGljayJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8yOCwgX3RvRGlzcGxheVN0cmluZyhkb2MuZGVzYyksIDEpLCBkb2MuYW5hbHlzaXMgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMwLCBbX2NhY2hlWzI4XSB8fCAoX2NhY2hlWzI4XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNtYWxsIiwgewogICAgICAgICAgY2xhc3M6ICJ0ZXh0LW11dGVkIgogICAgICAgIH0sICJBSeWIhuaekO+8miIsIC0xKSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgdHlwZTogImxpbmsiLAogICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiBkb2Muc2hvd0Z1bGxBbmFseXNpcyA9ICFkb2Muc2hvd0Z1bGxBbmFseXNpcwogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoZG9jLnNob3dGdWxsQW5hbHlzaXMgPyAn5pS26LW3JyA6ICflsZXlvIAnKSwgMSldKSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDMyLCBbIm9uQ2xpY2siXSldKSwgZG9jLnNob3dGdWxsQW5hbHlzaXMgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICBpbm5lckhUTUw6IGZvcm1hdE1hcmtkb3duKGRvYy5hbmFseXNpcykKICAgICAgICB9LCBudWxsLCA4LCBfaG9pc3RlZF8zMSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAga2V5OiAxLAogICAgICAgICAgaW5uZXJIVE1MOiBmb3JtYXRNYXJrZG93bihkb2MuYW5hbHlzaXMuc3Vic3RyaW5nKDAsIDEwMCkgKyAoZG9jLmFuYWx5c2lzLmxlbmd0aCA+IDEwMCA/ICcuLi4nIDogJycpKQogICAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzMyKSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zMywgX2NhY2hlWzI5XSB8fCAoX2NhY2hlWzI5XSA9IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzbWFsbCIsIHsKICAgICAgICAgIGNsYXNzOiAidGV4dC1tdXRlZCIKICAgICAgICB9LCAi5pqC5pegQUnliIbmnpAiLCAtMSldKSkpXSk7CiAgICAgIH0pLCAxMjgpKV0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgICAgIG1vZGVsVmFsdWU6IGVkaXREaWFsb2dWaXNpYmxlLnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9ICRldmVudCA9PiBlZGl0RGlhbG9nVmlzaWJsZS52YWx1ZSA9ICRldmVudCksCiAgICAgICAgdGl0bGU6ICLnvJbovpHmlofmoaPkv6Hmga8iLAogICAgICAgIHdpZHRoOiAiNDAwcHgiCiAgICAgIH0sIHsKICAgICAgICBmb290ZXI6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsxMV0gfHwgKF9jYWNoZVsxMV0gPSAkZXZlbnQgPT4gZWRpdERpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZSkKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMzBdIHx8IChfY2FjaGVbMzBdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWPlua2iCIpXSkpLAogICAgICAgICAgXzogMQogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgIG9uQ2xpY2s6IHN1Ym1pdEVkaXQsCiAgICAgICAgICBsb2FkaW5nOiBlZGl0TG9hZGluZy52YWx1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVszMV0gfHwgKF9jYWNoZVszMV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5L+d5a2YIildKSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSwgOCwgWyJsb2FkaW5nIl0pXSksCiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgICAgIG1vZGVsOiBlZGl0Rm9ybS52YWx1ZSwKICAgICAgICAgICJsYWJlbC13aWR0aCI6ICI4MHB4IiwKICAgICAgICAgIHJ1bGVzOiBmb3JtUnVsZXMsCiAgICAgICAgICByZWZfa2V5OiAiZWRpdEZvcm1SZWYiLAogICAgICAgICAgcmVmOiBlZGl0Rm9ybVJlZgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgICAgbGFiZWw6ICLmlofmoaPlkI3np7AiLAogICAgICAgICAgICBwcm9wOiAibmFtZSIsCiAgICAgICAgICAgIHJlcXVpcmVkOiAiIgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgICAgICBtb2RlbFZhbHVlOiBlZGl0Rm9ybS52YWx1ZS5uYW1lLAogICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzhdIHx8IChfY2FjaGVbOF0gPSAkZXZlbnQgPT4gZWRpdEZvcm0udmFsdWUubmFtZSA9ICRldmVudCksCiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXmlofmoaPlkI3np7AiCiAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgICAgIGxhYmVsOiAi5o+P6L+wIiwKICAgICAgICAgICAgcHJvcDogImRlc2MiLAogICAgICAgICAgICByZXF1aXJlZDogIiIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogZWRpdEZvcm0udmFsdWUuZGVzYywKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs5XSB8fCAoX2NhY2hlWzldID0gJGV2ZW50ID0+IGVkaXRGb3JtLnZhbHVlLmRlc2MgPSAkZXZlbnQpLAogICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5paH5qGj5o+P6L+wIgogICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICBsYWJlbDogIuagh+etviIsCiAgICAgICAgICAgIHByb3A6ICJ0YWdzIiwKICAgICAgICAgICAgcmVxdWlyZWQ6ICIiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICAgIG1vZGVsVmFsdWU6IGVkaXRGb3JtLnZhbHVlLnRhZ3MsCiAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTBdIHx8IChfY2FjaGVbMTBdID0gJGV2ZW50ID0+IGVkaXRGb3JtLnZhbHVlLnRhZ3MgPSAkZXZlbnQpLAogICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5aSa5Liq5qCH562+55So6YCX5Y+35YiG6ZqUIgogICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDEKICAgICAgICB9LCA4LCBbIm1vZGVsIl0pXSksCiAgICAgICAgXzogMQogICAgICB9LCA4LCBbIm1vZGVsVmFsdWUiXSldKTsKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","onMounted","watch","computed","Link","CircleCloseFilled","Refresh","ElMessage","ElMessageBox","fetchProjectDocuments","uploadProjectDocument","updateProjectDocument","deleteProjectDocument","getDocumentAiDashboard","axios","request","marked","BASE_URL","props","__props","docs","loading","uploadDialogVisible","uploadForm","name","desc","tags","file","fileList","uploading","editDialogVisible","editForm","id","editLoading","aiDocDashboard","health_score","health_desc","related_count","conflict_count","suggestions","aiDocLoading","filterKeyword","filterTag","allTags","tagsSet","Set","value","forEach","doc","t","add","text","Array","from","filteredDocs","filter","matchKeyword","includes","matchTag","some","formatMarkdown","loadDocuments","_props$project","project","then","res","data","map","split","Boolean","type","time","uploaded_at","slice","analysis","analyzing","showFullAnalysis","analyzeDocument","finally","fetchAiDocDashboard","_props$project2","_props$project3","val","deep","handleUploadSuccess","success","handleUploadError","error","handleFileChange","raw","submitUpload","uploadFormRef","console","validate","valid","warning","formData","FormData","append","catch","downloadFile","url","downloadUrl","test","method","responseType","headers","Authorization","localStorage","getItem","blob","Blob","ext","urlFilename","pop","idx","lastIndexOf","filename","disposition","match","decodeURIComponent","link","document","createElement","href","window","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","openEditDialog","join","submitEdit","editFormRef","confirmDelete","confirm","confirmButtonText","cancelButtonText","idNum","Number","isNaN","isInteger","post","response","formRules","required","message","trigger"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/components/DocumentsView.vue"],"sourcesContent":["<template>\n  <div class=\"module-card\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">文档管理</h5>\n      <div class=\"btn-group\">\n        <el-button type=\"primary\" size=\"default\" round @click=\"uploadDialogVisible = true\">上传文档</el-button>\n        <el-dialog v-model=\"uploadDialogVisible\" title=\"上传文档\" width=\"400px\">\n          <el-form :model=\"uploadForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"uploadFormRef\">\n            <el-form-item label=\"文档名称\" prop=\"name\" required>\n              <el-input v-model=\"uploadForm.name\" placeholder=\"请输入文档名称\" />\n            </el-form-item>\n            <el-form-item label=\"描述\" prop=\"desc\" required>\n              <el-input v-model=\"uploadForm.desc\" placeholder=\"请输入文档描述\" />\n            </el-form-item>\n            <el-form-item label=\"标签\" prop=\"tags\" required>\n              <el-input v-model=\"uploadForm.tags\" placeholder=\"多个标签用逗号分隔\" />\n            </el-form-item>\n            <el-form-item label=\"文件\" prop=\"file\" required>\n              <el-upload\n                :auto-upload=\"false\"\n                :show-file-list=\"true\"\n                :on-change=\"handleFileChange\"\n                :file-list=\"fileList\"\n              >\n                <el-button>选择文件</el-button>\n              </el-upload>\n            </el-form-item>\n          </el-form>\n          <template #footer>\n            <el-button @click=\"uploadDialogVisible = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitUpload\" :loading=\"uploading\">上传</el-button>\n          </template>\n        </el-dialog>\n      </div>\n    </div>\n    <!-- AI文档分析 -->\n    <div class=\"ai-document-analysis mb-4\">\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h6 class=\"mb-0\">AI文档分析</h6>\n        <div class=\"btn-group\">\n          <el-button size=\"small\" @click=\"fetchAiDocDashboard\" :loading=\"aiDocLoading\">\n            <el-icon><Refresh /></el-icon>刷新分析\n          </el-button>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">文档健康度</h6>\n            <el-progress :percentage=\"aiDocDashboard.health_score\" :status=\"aiDocDashboard.health_score>=80?'success':(aiDocDashboard.health_score>=60?'warning':'exception')\" style=\"margin-bottom:8px;\" />\n            <p class=\"text-muted small\">{{ aiDocDashboard.health_desc }}</p>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">文档关联性</h6>\n            <div class=\"document-relations\">\n              <div class=\"relation-item\">\n                <el-icon><Link /></el-icon>\n                发现{{ aiDocDashboard.related_count }}个相关文档\n              </div>\n              <div class=\"relation-item\">\n                <el-icon><CircleCloseFilled /></el-icon>\n                {{ aiDocDashboard.conflict_count }}个文档存在版本冲突\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">智能建议</h6>\n            <div class=\"ai-suggestions\">\n              <div v-if=\"!aiDocDashboard.suggestions.length\" class=\"text-center py-2\">\n                <span class=\"text-muted\">暂无建议</span>\n              </div>\n              <div class=\"suggestion-item\" v-for=\"(suggestion, i) in aiDocDashboard.suggestions\" :key=\"i\" v-html=\"formatMarkdown(suggestion)\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 筛选区 -->\n    <div class=\"filter-bar\" style=\"display:flex;gap:12px;margin-bottom:16px;\">\n      <el-input v-model=\"filterKeyword\" placeholder=\"文档名/描述\" clearable style=\"width:180px;\" />\n      <el-select v-model=\"filterTag\" placeholder=\"标签\" clearable style=\"width:120px;\">\n        <el-option label=\"全部\" value=\"\" />\n        <el-option v-for=\"tag in allTags\" :key=\"tag\" :label=\"tag\" :value=\"tag\" />\n      </el-select>\n    </div>\n    <!-- 文档列表 -->\n    <div class=\"document-list\">\n      <div class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\" v-for=\"doc in filteredDocs\" :key=\"doc.name\">\n          <div class=\"d-flex w-100 justify-content-between\">\n            <div>\n              <h6 class=\"mb-1\">{{ doc.name }}</h6>\n              <div class=\"ai-document-tags\">\n                <el-tag v-for=\"tag in doc.tags\" :key=\"tag.text\" :type=\"tag.type\" size=\"small\">{{ tag.text }}</el-tag>\n              </div>\n            </div>\n            <div class=\"text-end\">\n              <small>{{ doc.time }}</small>\n              <el-button v-if=\"doc.file\" type=\"success\" size=\"small\" @click=\"downloadFile(doc.file, doc.name)\" style=\"margin-left:8px;\">下载</el-button>\n              <el-button type=\"primary\" size=\"small\" @click=\"openEditDialog(doc)\" style=\"margin-left:8px;\">编辑</el-button>\n              <el-button type=\"info\" size=\"small\" @click=\"analyzeDocument(doc)\" style=\"margin-left:8px;\" :loading=\"doc.analyzing\">AI分析</el-button>\n              <el-button type=\"danger\" size=\"small\" @click=\"confirmDelete(doc)\" style=\"margin-left:8px;\">删除</el-button>\n            </div>\n          </div>\n          <p class=\"mb-1\">{{ doc.desc }}</p>\n          <div class=\"ai-document-analysis\" v-if=\"doc.analysis\">\n            <div class=\"d-flex justify-content-between\">\n              <small class=\"text-muted\">AI分析：</small>\n              <el-button type=\"link\" size=\"small\" @click=\"doc.showFullAnalysis = !doc.showFullAnalysis\">\n                {{ doc.showFullAnalysis ? '收起' : '展开' }}\n              </el-button>\n            </div>\n            <div v-if=\"doc.showFullAnalysis\" v-html=\"formatMarkdown(doc.analysis)\"></div>\n            <div v-else v-html=\"formatMarkdown(doc.analysis.substring(0, 100) + (doc.analysis.length > 100 ? '...' : ''))\"></div>\n          </div>\n          <div class=\"ai-document-analysis\" v-else>\n            <small class=\"text-muted\">暂无AI分析</small>\n          </div>\n        </div>\n      </div>\n    </div>\n    <el-dialog v-model=\"editDialogVisible\" title=\"编辑文档信息\" width=\"400px\">\n      <el-form :model=\"editForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"editFormRef\">\n        <el-form-item label=\"文档名称\" prop=\"name\" required>\n          <el-input v-model=\"editForm.name\" placeholder=\"请输入文档名称\" />\n        </el-form-item>\n        <el-form-item label=\"描述\" prop=\"desc\" required>\n          <el-input v-model=\"editForm.desc\" placeholder=\"请输入文档描述\" />\n        </el-form-item>\n        <el-form-item label=\"标签\" prop=\"tags\" required>\n          <el-input v-model=\"editForm.tags\" placeholder=\"多个标签用逗号分隔\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEdit\" :loading=\"editLoading\">保存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n<script setup>\nimport { ref, onMounted, watch, computed } from 'vue'\nimport { Link, CircleCloseFilled, Refresh } from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { fetchProjectDocuments, uploadProjectDocument, updateProjectDocument, deleteProjectDocument, getDocumentAiDashboard } from '@/api/project'\nimport axios from 'axios'\nimport request from '@/utils/request'\nimport { marked } from 'marked'\n\nconst props = defineProps({\n  project: { type: Object, required: true }\n})\n\nconst docs = ref([])\nconst loading = ref(false)\nconst uploadDialogVisible = ref(false)\nconst uploadForm = ref({\n  name: '',\n  desc: '',\n  tags: '',\n  file: null\n})\nconst fileList = ref([])\nconst uploading = ref(false)\nconst editDialogVisible = ref(false)\nconst editForm = ref({ id: '', name: '', desc: '', tags: '' })\nconst editLoading = ref(false)\nconst aiDocDashboard = ref({\n  health_score: 0,\n  health_desc: '',\n  related_count: 0,\n  conflict_count: 0,\n  suggestions: []\n})\nconst aiDocLoading = ref(false)\nconst filterKeyword = ref('')\nconst filterTag = ref('')\nconst allTags = computed(() => {\n  // 汇总所有文档的标签\n  const tagsSet = new Set()\n  docs.value.forEach(doc => {\n    (doc.tags || []).forEach(t => tagsSet.add(t.text))\n  })\n  return Array.from(tagsSet)\n})\nconst filteredDocs = computed(() => {\n  return docs.value.filter(doc => {\n    const matchKeyword = !filterKeyword.value || doc.name.includes(filterKeyword.value) || (doc.desc && doc.desc.includes(filterKeyword.value))\n    const matchTag = !filterTag.value || (doc.tags && doc.tags.some(t => t.text === filterTag.value))\n    return matchKeyword && matchTag\n  })\n})\n\nconst formatMarkdown = (text) => {\n  if (!text) return '';\n  return marked(text);\n}\n\n// 获取后端baseURL\nconst BASE_URL = 'http://localhost:8000'\n\nfunction loadDocuments() {\n  if (!props.project?.id) return\n  loading.value = true\n  fetchProjectDocuments(props.project.id).then(res => {\n    docs.value = (res.data || []).map(doc => ({\n      id: doc.id,\n      name: doc.name,\n      tags: (doc.tags || '').split(',').filter(Boolean).map(t => ({ text: t, type: 'info' })),\n      time: doc.uploaded_at ? doc.uploaded_at.slice(0, 10) : '',\n      desc: doc.desc,\n      analysis: doc.analysis,\n      file: doc.file,\n      analyzing: false,\n      showFullAnalysis: false\n    }))\n    // 自动AI分析\n    docs.value.forEach(doc => {\n      if (!doc.analysis) {\n        analyzeDocument(doc)\n      }\n    })\n  }).finally(() => loading.value = false)\n}\n\nfunction fetchAiDocDashboard() {\n  if (!props.project?.id) return\n  aiDocLoading.value = true\n  getDocumentAiDashboard(props.project.id).then(res => {\n    aiDocDashboard.value = res.data || {\n      health_score: 0,\n      health_desc: '',\n      related_count: 0,\n      conflict_count: 0,\n      suggestions: []\n    }\n  }).finally(() => aiDocLoading.value = false)\n}\n\nonMounted(() => {\n  loadDocuments()\n  fetchAiDocDashboard()\n})\n\nwatch(() => props.project?.id, (val) => {\n  if (val) {\n    loadDocuments()\n    fetchAiDocDashboard()\n  }\n})\n\n// 监听文档列表变化，重新获取AI分析\nwatch(docs, () => {\n  fetchAiDocDashboard()\n}, { deep: true })\n\n// 上传成功回调\nfunction handleUploadSuccess() {\n  ElMessage.success('文档上传成功！')\n  loadDocuments()\n}\n\n// 上传失败回调\nfunction handleUploadError() {\n  ElMessage.error('文档上传失败，请重试')\n}\n\nfunction handleFileChange(file) {\n  uploadForm.value.file = file.raw\n  fileList.value = [file]\n}\n\nfunction submitUpload() {\n  if (!uploadFormRef.value) {\n    console.error('表单引用不存在')\n    return\n  }\n  \n  uploadFormRef.value.validate(valid => {\n    if (!valid) {\n      ElMessage.error('请填写所有必填项')\n      return\n    }\n    \n    if (!uploadForm.value.file) {\n      ElMessage.warning('请先选择文件')\n      return\n    }\n    \n    uploading.value = true\n    const formData = new FormData()\n    formData.append('file', uploadForm.value.file)\n    formData.append('project', props.project.id)\n    formData.append('name', uploadForm.value.name || uploadForm.value.file.name)\n    formData.append('desc', uploadForm.value.desc)\n    formData.append('tags', uploadForm.value.tags)\n    \n    uploadProjectDocument(formData).then(() => {\n      handleUploadSuccess()\n      uploadDialogVisible.value = false\n      uploadForm.value = { name: '', desc: '', tags: '', file: null }\n      fileList.value = []\n    }).catch(() => {\n      handleUploadError()\n    }).finally(() => {\n      uploading.value = false\n    })\n  })\n}\n\nfunction downloadFile(url, name) {\n  let downloadUrl = url\n  if (!/^https?:\\/\\//.test(url)) {\n    downloadUrl = BASE_URL + url\n  }\n  axios({\n    url: downloadUrl,\n    method: 'get',\n    responseType: 'blob',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n    }\n  }).then(res => {\n    const blob = new Blob([res.data])\n    // 优先用文档名称+原文件后缀\n    let ext = ''\n    const urlFilename = url.split('/').pop() || ''\n    const idx = urlFilename.lastIndexOf('.')\n    if (idx !== -1) ext = urlFilename.slice(idx)\n    let filename = (name || 'download') + ext\n    // 兼容Content-Disposition\n    const disposition = res.headers['content-disposition']\n    if (disposition) {\n      const match = disposition.match(/filename=\"?([^\"]+)\"?/)\n      if (match) filename = decodeURIComponent(match[1])\n    }\n    const link = document.createElement('a')\n    link.href = window.URL.createObjectURL(blob)\n    link.download = filename\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    window.URL.revokeObjectURL(link.href)\n  }).catch(() => {\n    ElMessage.error('下载失败，请检查网络或权限')\n  })\n}\n\nfunction openEditDialog(doc) {\n  editForm.value = {\n    id: doc.id,\n    name: doc.name,\n    desc: doc.desc,\n    tags: (doc.tags || []).map(t => t.text).join(',')\n  }\n  editDialogVisible.value = true\n}\n\nfunction submitEdit() {\n  if (!editFormRef.value) {\n    console.error('表单引用不存在')\n    return\n  }\n  \n  editFormRef.value.validate(valid => {\n    if (!valid) {\n      ElMessage.error('请填写所有必填项')\n      return\n    }\n    \n    editLoading.value = true\n    updateProjectDocument(editForm.value.id, {\n      name: editForm.value.name,\n      desc: editForm.value.desc,\n      tags: editForm.value.tags\n    }).then(() => {\n      ElMessage.success('文档信息已更新')\n      editDialogVisible.value = false\n      loadDocuments()\n    }).catch(() => {\n      ElMessage.error('更新失败')\n    }).finally(() => {\n      editLoading.value = false\n    })\n  })\n}\n\nfunction confirmDelete(doc) {\n  ElMessageBox.confirm('确定要删除该文档吗？', '提示', {\n    confirmButtonText: '删除',\n    cancelButtonText: '取消',\n    type: 'warning',\n  }).then(() => {\n    deleteProjectDocument(doc.id).then(() => {\n      ElMessage.success('文档已删除')\n      loadDocuments()\n    }).catch(() => {\n      ElMessage.error('删除失败')\n    })\n  }).catch(() => {})\n}\n\n// 添加分析文档的功能\nfunction analyzeDocument(doc) {\n  // 检查文档ID\n  const idNum = Number(doc.id)\n  if (!idNum || isNaN(idNum) || idNum <= 0 || !Number.isInteger(idNum)) {\n    ElMessage.warning('无效的文档ID')\n    return\n  }\n  \n  // 设置分析状态\n  doc.analyzing = true\n  \n  // 调用AI分析接口\n  request\n    .post(`/api/project-documents/${doc.id}/ai_analyze/`)\n    .then(response => {\n      const analysis = response.data.analysis\n      // 更新文档分析结果\n      doc.analysis = analysis\n      doc.showFullAnalysis = false\n      ElMessage.success('AI分析完成')\n    })\n    .catch(error => {\n      console.error('文档AI分析失败:', error)\n      ElMessage.error('文档AI分析失败')\n    })\n    .finally(() => {\n      doc.analyzing = false\n    })\n}\n\n// 表单引用\nconst uploadFormRef = ref(null)\nconst editFormRef = ref(null)\n\n// 表单验证规则\nconst formRules = {\n  name: [{ required: true, message: '请输入文档名称', trigger: 'blur' }],\n  desc: [{ required: true, message: '请输入文档描述', trigger: 'blur' }],\n  tags: [{ required: true, message: '请输入标签', trigger: 'blur' }],\n  file: [{ required: true, message: '请选择文件', trigger: 'change' }]\n}\n</script>\n<style scoped>\n.module-card { background: var(--bg-color-secondary); border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; padding: 20px; }\n.module-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n.module-title { font-size: 1.1rem; font-weight: 600; color: var(--text-color) !important; margin: 0; }\n.btn-group { display: flex; gap: 10px; }\n.row { display: flex; flex-wrap: wrap; margin: 0 -10px; }\n.col-md-4 { padding: 0 10px; width: 33.3333%; }\n.mb-4 { margin-bottom: 24px; }\n.list-group { margin: 0; }\n.list-group-item { background: var(--bg-color-tertiary); border: none; border-radius: 5px; margin-bottom: 10px; padding: 16px; }\n.ai-analysis-card { background: var(--bg-color-secondary); border: 1px solid var(--border-color); border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n.relation-item, .suggestion-item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }\n.text-primary { color: var(--primary-color)!important; }\n.ai-document-analysis {\n  background: var(--bg-color-tertiary);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n  color: var(--text-color);\n}\n.ai-document-analysis .text-muted,\n.ai-document-analysis small {\n  color: var(--text-color-tertiary) !important;\n}\n\n/* 深色模式下 Element Plus 组件适配 */\n:deep(.el-tag) {\n  background: var(--bg-color-tertiary) !important;\n  color: var(--text-color) !important;\n  border-color: var(--border-color) !important;\n}\n:deep(.el-badge__content) {\n  background: var(--primary-color) !important;\n  color: #fff !important;\n}\n:deep(.el-empty) {\n  background: transparent !important;\n  color: var(--text-color-tertiary) !important;\n}\n:deep(.el-progress-bar__outer) {\n  background: var(--bg-color-tertiary) !important;\n}\n:deep(.el-progress-bar__inner) {\n  background: var(--primary-color) !important;\n}\n.el-dialog,\n.el-dialog .el-dialog__body,\n.el-dialog .el-dialog__footer {\n  background: var(--bg-color-secondary);\n  color: var(--text-color);\n}\n.list-group-item:hover {\n  background: var(--hover-color);\n  color: var(--primary-color);\n}\n</style>\n\n<style lang=\"scss\">\n[data-theme=\"dark\"] {\n  .module-card, .ai-analysis-card, .list-group-item, .el-dialog {\n    background-color: var(--el-bg-color-page) !important;\n    color: var(--el-text-color-primary) !important;\n    border: 1px solid var(--el-border-color-light) !important;\n  }\n\n  .module-title, h6, .el-dialog__title {\n    color: var(--el-text-color-primary) !important;\n  }\n\n  .text-muted, .small, .ai-document-analysis small.text-muted {\n    color: var(--el-text-color-secondary) !important;\n  }\n  \n  .el-form-item__label {\n    color: var(--el-text-color-secondary) !important;\n  }\n\n  .el-input__wrapper {\n    background-color: var(--el-fill-color-light) !important;\n    border-color: var(--el-border-color) !important;\n  }\n\n  .list-group-item-action:hover {\n    background-color: var(--el-fill-color-light) !important;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]}]}