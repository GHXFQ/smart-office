{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\contract\\Detail.vue?vue&type=template&id=22ca9438&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\contract\\Detail.vue","mtime":1748066837544},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077009623},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgcmVzb2x2ZURpcmVjdGl2ZSBhcyBfcmVzb2x2ZURpcmVjdGl2ZSwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udHJhY3QtZGV0YWlsLWNvbnRhaW5lciIKfTsKY29uc3QgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNhcmQiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIgp9Owpjb25zdCBfaG9pc3RlZF80ID0gewogIGlkOiAiY29udHJhY3RUaXRsZUhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImNhcmQtYm9keSIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogInJvdyBtYi0zIgp9Owpjb25zdCBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAiY29sLW1kLTYiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJjb2wtbWQtNiIKfTsKY29uc3QgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbWItMiIKfTsKY29uc3QgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIgp9Owpjb25zdCBfaG9pc3RlZF8xMSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIgp9Owpjb25zdCBfaG9pc3RlZF8xMiA9IHsKICBjbGFzczogImNvbnRyYWN0LWVkaXQtd3JhcHBlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTMgPSB7CiAgY2xhc3M6ICJjb250cmFjdC1lZGl0LWNvbnRhaW5lciIsCiAgcmVmOiAiY29udHJhY3RFZGl0Q29udGFpbmVyIgp9Owpjb25zdCBfaG9pc3RlZF8xNCA9IHsKICBjbGFzczogImFpLXBvbGlzaC1zaWRlYmFyIiwKICByZWY6ICJhaVBvbGlzaFNpZGViYXIiCn07CmNvbnN0IF9ob2lzdGVkXzE1ID0gewogIGNsYXNzOiAiYWktcG9saXNoLWJ1dHRvbi1jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF8xNiA9IHsKICBjbGFzczogImFpLXBvbGlzaC1pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF8xNyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJ0aW1lLWVzdGltYXRlIgp9Owpjb25zdCBfaG9pc3RlZF8xOCA9IHsKICBjbGFzczogInNob3J0Y3V0LWhpbnQiCn07CmNvbnN0IF9ob2lzdGVkXzE5ID0gewogIGNsYXNzOiAiYWktcG9saXNoLXBlcnNvbmFsaXphdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMjAgPSB7CiAgY2xhc3M6ICJwZXJzb25hbGl6YXRpb24tc2VjdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMjEgPSB7CiAgY2xhc3M6ICJzZWN0aW9uLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMjIgPSB7CiAgY2xhc3M6ICJwcmVmZXJlbmNlLW9wdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMjMgPSB7CiAgY2xhc3M6ICJwcmVmZXJlbmNlLW9wdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMjQgPSB7CiAgY2xhc3M6ICJwZXJzb25hbGl6YXRpb24tc2VjdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMjUgPSB7CiAgY2xhc3M6ICJzZWN0aW9uLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMjYgPSB7CiAgY2xhc3M6ICJvcHRpbWl6YXRpb24tb3B0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfMjcgPSB7CiAgY2xhc3M6ICJwZXJzb25hbGl6YXRpb24tc2VjdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMjggPSB7CiAgY2xhc3M6ICJzZWN0aW9uLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMjkgPSB7CiAgY2xhc3M6ICJ0ZXJtaW5vbG9neS1tYW5hZ2VyIgp9Owpjb25zdCBfaG9pc3RlZF8zMCA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJ0ZXJtaW5vbG9neS1saXN0Igp9Owpjb25zdCBfaG9pc3RlZF8zMSA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJ0ZXJtaW5vbG9neS1lbXB0eSIKfTsKY29uc3QgX2hvaXN0ZWRfMzIgPSB7CiAgY2xhc3M6ICJhaS1wb2xpc2gtZmVhdHVyZXMiCn07CmNvbnN0IF9ob2lzdGVkXzMzID0gewogIGNsYXNzOiAiZmVhdHVyZS1pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF8zNCA9IHsKICBjbGFzczogImZlYXR1cmUtaXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfMzUgPSB7CiAgY2xhc3M6ICJmZWF0dXJlLWl0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzM2ID0gewogIGNsYXNzOiAiZmVhdHVyZS1pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF8zNyA9IHsKICBjbGFzczogImVkaXRvci1tYWluLWFyZWEiLAogIHJlZjogImVkaXRvck1haW5BcmVhIgp9Owpjb25zdCBfaG9pc3RlZF8zOCA9IHsKICBjbGFzczogImNvbnRyYWN0LWVkaXQtd3JhcHBlciIKfTsKY29uc3QgX2hvaXN0ZWRfMzkgPSB7CiAgY2xhc3M6ICJjb250cmFjdC1lZGl0LWNvbnRhaW5lciIsCiAgcmVmOiAiY29udHJhY3RDaGVja0NvbnRhaW5lciIKfTsKY29uc3QgX2hvaXN0ZWRfNDAgPSB7CiAgY2xhc3M6ICJhaS1wb2xpc2gtc2lkZWJhciBjaGVjay1zaWRlYmFyIiwKICByZWY6ICJjaGVja1NpZGViYXIiCn07CmNvbnN0IF9ob2lzdGVkXzQxID0gewogIGNsYXNzOiAiYWktcG9saXNoLWJ1dHRvbi1jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF80MiA9IHsKICBjbGFzczogImFpLXBvbGlzaC1pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF80MyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJ0aW1lLWVzdGltYXRlIgp9Owpjb25zdCBfaG9pc3RlZF80NCA9IHsKICBjbGFzczogInNob3J0Y3V0LWhpbnQiCn07CmNvbnN0IF9ob2lzdGVkXzQ1ID0gewogIGNsYXNzOiAiYWktcG9saXNoLXBlcnNvbmFsaXphdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfNDYgPSB7CiAgY2xhc3M6ICJwZXJzb25hbGl6YXRpb24tc2VjdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfNDcgPSB7CiAgY2xhc3M6ICJzZWN0aW9uLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfNDggPSB7CiAgY2xhc3M6ICJjaGVjay1vcHRpb25zIgp9Owpjb25zdCBfaG9pc3RlZF80OSA9IHsKICBjbGFzczogInBlcnNvbmFsaXphdGlvbi1zZWN0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF81MCA9IHsKICBjbGFzczogInNlY3Rpb24taGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF81MSA9IHsKICBjbGFzczogInByZWZlcmVuY2Utb3B0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF81MiA9IHsKICBjbGFzczogInBlcnNvbmFsaXphdGlvbi1zZWN0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF81MyA9IHsKICBjbGFzczogInNlY3Rpb24taGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF81NCA9IHsKICBjbGFzczogInByZWZlcmVuY2Utb3B0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF81NSA9IHsKICBjbGFzczogImFpLXBvbGlzaC1mZWF0dXJlcyIKfTsKY29uc3QgX2hvaXN0ZWRfNTYgPSB7CiAgY2xhc3M6ICJmZWF0dXJlLWl0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzU3ID0gewogIGNsYXNzOiAiZmVhdHVyZS1pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF81OCA9IHsKICBjbGFzczogImZlYXR1cmUtaXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfNTkgPSB7CiAgY2xhc3M6ICJmZWF0dXJlLWl0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzYwID0gewogIGNsYXNzOiAiZWRpdG9yLW1haW4tYXJlYSBjaGVjay1yZXN1bHQtYXJlYSIsCiAgcmVmOiAiY2hlY2tSZXN1bHRBcmVhIgp9Owpjb25zdCBfaG9pc3RlZF82MSA9IHsKICBjbGFzczogImNoZWNrLWNvbnRlbnQtaW5uZXIiLAogIHN0eWxlOiB7CiAgICAicGFkZGluZyI6ICIxNXB4IDIwcHgiCiAgfQp9Owpjb25zdCBfaG9pc3RlZF82MiA9IHsKICBjbGFzczogImNoZWNrLXJlc3VsdC1jYXJkIgp9Owpjb25zdCBfaG9pc3RlZF82MyA9IHsKICBjbGFzczogImNoZWNrLXJlc3VsdC1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzY0ID0gewogIGNsYXNzOiAiY2hlY2stcmVzdWx0LXN0YXRzIgp9Owpjb25zdCBfaG9pc3RlZF82NSA9IHsKICBjbGFzczogInN0YXQtaXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfNjYgPSB7CiAgY2xhc3M6ICJzdGF0LXZhbHVlIGRhbmdlciIKfTsKY29uc3QgX2hvaXN0ZWRfNjcgPSB7CiAgY2xhc3M6ICJzdGF0LWl0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzY4ID0gewogIGNsYXNzOiAic3RhdC12YWx1ZSB3YXJuaW5nIgp9Owpjb25zdCBfaG9pc3RlZF82OSA9IHsKICBjbGFzczogInN0YXQtaXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfNzAgPSB7CiAgY2xhc3M6ICJzdGF0LXZhbHVlIGluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzcxID0gewogIGNsYXNzOiAic3RhdC1pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF83MiA9IHsKICBjbGFzczogInN0YXQtdmFsdWUiCn07CmNvbnN0IF9ob2lzdGVkXzczID0gewogIGNsYXNzOiAiY2hlY2stcmVzdWx0LWRldGFpbHMiCn07CmNvbnN0IF9ob2lzdGVkXzc0ID0gewogIGNsYXNzOiAiY29sbGFwc2UtaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF83NSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJlbXB0eS1yZXN1bHQiCn07CmNvbnN0IF9ob2lzdGVkXzc2ID0gewogIGNsYXNzOiAiaXNzdWUtaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF83NyA9IHsKICBjbGFzczogImlzc3VlLWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzc4ID0gewogIGNsYXNzOiAiaXNzdWUtZmllbGQiCn07CmNvbnN0IF9ob2lzdGVkXzc5ID0gewogIGNsYXNzOiAiZmllbGQtdmFsdWUiCn07CmNvbnN0IF9ob2lzdGVkXzgwID0gewogIGNsYXNzOiAiaXNzdWUtZmllbGQiCn07CmNvbnN0IF9ob2lzdGVkXzgxID0gewogIGNsYXNzOiAiZmllbGQtdmFsdWUgdGV4dC1kYW5nZXIiCn07CmNvbnN0IF9ob2lzdGVkXzgyID0gewogIGNsYXNzOiAiaXNzdWUtYWN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfODMgPSB7CiAgY2xhc3M6ICJjb2xsYXBzZS1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzg0ID0gewogIGtleTogMCwKICBjbGFzczogImVtcHR5LXJlc3VsdCIKfTsKY29uc3QgX2hvaXN0ZWRfODUgPSB7CiAgY2xhc3M6ICJpc3N1ZS1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzg2ID0gewogIGNsYXNzOiAiaXNzdWUtY29udGVudCIKfTsKY29uc3QgX2hvaXN0ZWRfODcgPSB7CiAgY2xhc3M6ICJpc3N1ZS1maWVsZCIKfTsKY29uc3QgX2hvaXN0ZWRfODggPSB7CiAgY2xhc3M6ICJmaWVsZC12YWx1ZSIKfTsKY29uc3QgX2hvaXN0ZWRfODkgPSB7CiAgY2xhc3M6ICJpc3N1ZS1hY3Rpb25zIgp9Owpjb25zdCBfaG9pc3RlZF85MCA9IHsKICBjbGFzczogImNvbGxhcHNlLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfOTEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZW1wdHktcmVzdWx0Igp9Owpjb25zdCBfaG9pc3RlZF85MiA9IHsKICBjbGFzczogImlzc3VlLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfOTMgPSB7CiAgY2xhc3M6ICJpc3N1ZS1jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF85NCA9IHsKICBjbGFzczogImlzc3VlLWZpZWxkIgp9Owpjb25zdCBfaG9pc3RlZF85NSA9IHsKICBjbGFzczogImZpZWxkLXZhbHVlIgp9Owpjb25zdCBfaG9pc3RlZF85NiA9IHsKICBjbGFzczogImlzc3VlLWFjdGlvbnMiCn07CmNvbnN0IF9ob2lzdGVkXzk3ID0gewogIGNsYXNzOiAibXQtMyB0ZXh0LWVuZCIKfTsKY29uc3QgX2hvaXN0ZWRfOTggPSB7CiAgY2xhc3M6ICJwYW5lbC1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzk5ID0gewogIGNsYXNzOiAicGFuZWwtY29udHJvbHMiCn07CmNvbnN0IF9ob2lzdGVkXzEwMCA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJ0ZXh0LWNlbnRlciBteS0yIgp9Owpjb25zdCBfaG9pc3RlZF8xMDEgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAidGV4dC1jZW50ZXIgbXktMyB0ZXh0LW11dGVkIgp9Owpjb25zdCBfaG9pc3RlZF8xMDIgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAicC0zIHRleHQtY2VudGVyIHRleHQtbXV0ZWQiCn07CmNvbnN0IF9ob2lzdGVkXzEwMyA9IHsKICBjbGFzczogIm9yaWdpbmFsLXRleHQiCn07CmNvbnN0IF9ob2lzdGVkXzEwNCA9IHsKICBjbGFzczogInN1Z2dlc3RlZC10ZXh0Igp9Owpjb25zdCBfaG9pc3RlZF8xMDUgPSB7CiAgY2xhc3M6ICJleHBsYW5hdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMTA2ID0gewogIGNsYXNzOiAic3VnZ2VzdGlvbi1hY3Rpb25zIHRleHQtZW5kIgp9Owpjb25zdCBfaG9pc3RlZF8xMDcgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAicC0zIHRleHQtY2VudGVyIHRleHQtbXV0ZWQiCn07CmNvbnN0IF9ob2lzdGVkXzEwOCA9IHsKICBjbGFzczogIm9yaWdpbmFsLXRleHQiCn07CmNvbnN0IF9ob2lzdGVkXzEwOSA9IHsKICBjbGFzczogInN1Z2dlc3RlZC10ZXh0Igp9Owpjb25zdCBfaG9pc3RlZF8xMTAgPSB7CiAgY2xhc3M6ICJleHBsYW5hdGlvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMTExID0gewogIGNsYXNzOiAic3VnZ2VzdGlvbi1hY3Rpb25zIHRleHQtZW5kIgp9Owpjb25zdCBfaG9pc3RlZF8xMTIgPSB7CiAga2V5OiAyLAogIGNsYXNzOiAidGV4dC1jZW50ZXIgbXQtMyIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X0Rvd25sb2FkID0gX3Jlc29sdmVDb21wb25lbnQoIkRvd25sb2FkIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWljb24iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKICBjb25zdCBfY29tcG9uZW50X0RvY3VtZW50QWRkID0gX3Jlc29sdmVDb21wb25lbnQoIkRvY3VtZW50QWRkIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9pbnB1dCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pbnB1dCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0taXRlbSIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfb3B0aW9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLW9wdGlvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfc2VsZWN0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXNlbGVjdCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9kYXRlX3BpY2tlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1kYXRlLXBpY2tlciIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfdGFiX3BhbmUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdGFiLXBhbmUiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3N3aXRjaCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1zd2l0Y2giKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3Rvb2x0aXAgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdG9vbHRpcCIpOwogIGNvbnN0IF9jb21wb25lbnRfTG9hZGluZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJMb2FkaW5nIik7CiAgY29uc3QgX2NvbXBvbmVudF9NYWdpY1N0aWNrID0gX3Jlc29sdmVDb21wb25lbnQoIk1hZ2ljU3RpY2siKTsKICBjb25zdCBfY29tcG9uZW50X1RpbWVyID0gX3Jlc29sdmVDb21wb25lbnQoIlRpbWVyIik7CiAgY29uc3QgX2NvbXBvbmVudF9Qb3NpdGlvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJQb3NpdGlvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfU2V0dGluZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZXR0aW5nIik7CiAgY29uc3QgX2NvbXBvbmVudF9Eb2N1bWVudENoZWNrZWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRG9jdW1lbnRDaGVja2VkIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9jaGVja2JveCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1jaGVja2JveCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfY2hlY2tib3hfZ3JvdXAgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2hlY2tib3gtZ3JvdXAiKTsKICBjb25zdCBfY29tcG9uZW50X05vdGVib29rID0gX3Jlc29sdmVDb21wb25lbnQoIk5vdGVib29rIik7CiAgY29uc3QgX2NvbXBvbmVudF9QbHVzID0gX3Jlc29sdmVDb21wb25lbnQoIlBsdXMiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3RhZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWciKTsKICBjb25zdCBfY29tcG9uZW50X0NoZWNrID0gX3Jlc29sdmVDb21wb25lbnQoIkNoZWNrIik7CiAgY29uc3QgX2NvbXBvbmVudF9RdWlsbEVkaXRvciA9IF9yZXNvbHZlQ29tcG9uZW50KCJRdWlsbEVkaXRvciIpOwogIGNvbnN0IF9jb21wb25lbnRfUmVhZGluZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJSZWFkaW5nIik7CiAgY29uc3QgX2NvbXBvbmVudF9JbmZvRmlsbGVkID0gX3Jlc29sdmVDb21wb25lbnQoIkluZm9GaWxsZWQiKTsKICBjb25zdCBfY29tcG9uZW50X1dhcm5pbmdGaWxsZWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiV2FybmluZ0ZpbGxlZCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfYmFkZ2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYmFkZ2UiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2VtcHR5ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWVtcHR5Iik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9jb2xsYXBzZV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWNvbGxhcHNlLWl0ZW0iKTsKICBjb25zdCBfY29tcG9uZW50X0RvY3VtZW50ID0gX3Jlc29sdmVDb21wb25lbnQoIkRvY3VtZW50Iik7CiAgY29uc3QgX2NvbXBvbmVudF9XYXJuaW5nID0gX3Jlc29sdmVDb21wb25lbnQoIldhcm5pbmciKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2NvbGxhcHNlID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWNvbGxhcHNlIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9zY3JvbGxiYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtc2Nyb2xsYmFyIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF90aW1lbGluZV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRpbWVsaW5lLWl0ZW0iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3RpbWVsaW5lID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRpbWVsaW5lIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF90YWJzID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRhYnMiKTsKICBjb25zdCBfY29tcG9uZW50X0Fycm93UmlnaHQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQXJyb3dSaWdodCIpOwogIGNvbnN0IF9jb21wb25lbnRfQXJyb3dMZWZ0ID0gX3Jlc29sdmVDb21wb25lbnQoIkFycm93TGVmdCIpOwogIGNvbnN0IF9jb21wb25lbnRfQ2xvc2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQ2xvc2UiKTsKICBjb25zdCBfY29tcG9uZW50X0VkaXQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRWRpdCIpOwogIGNvbnN0IF9kaXJlY3RpdmVfbG9hZGluZyA9IF9yZXNvbHZlRGlyZWN0aXZlKCJsb2FkaW5nIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW193aXRoRGlyZWN0aXZlcygoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF80LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5jb250cmFjdFRpdGxlKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdHlwZTogImRlZmF1bHQiLAogICAgc2l6ZTogInNtYWxsIiwKICAgIGNsYXNzOiAibWUtMiIsCiAgICBvbkNsaWNrOiAkc2V0dXAuZG93bmxvYWRDb250cmFjdAogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Eb3dubG9hZCldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY2FjaGVbMjNdIHx8IChfY2FjaGVbMjNdID0gX2NyZWF0ZVRleHRWTm9kZSgiIOS4i+i9vVdvcmQgIikpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICB0eXBlOiAicHJpbWFyeSIsCiAgICBzaXplOiAic21hbGwiLAogICAgb25DbGljazogJHNldHVwLnNhdmVDaGFuZ2VzLAogICAgbG9hZGluZzogJHNldHVwLmlzU2F2aW5nCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0RvY3VtZW50QWRkKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSksIF9jYWNoZVsyNF0gfHwgKF9jYWNoZVsyNF0gPSBfY3JlYXRlVGV4dFZOb2RlKCIg5L+d5a2Y5pu05pS5ICIpKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siLCAibG9hZGluZyJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJzLCB7CiAgICBtb2RlbFZhbHVlOiAkc2V0dXAuYWN0aXZlVGFiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMjBdIHx8IChfY2FjaGVbMjBdID0gJGV2ZW50ID0+ICRzZXR1cC5hY3RpdmVUYWIgPSAkZXZlbnQpLAogICAgY2xhc3M6ICJjb250cmFjdC1kZXRhaWwtdGFicyIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFiX3BhbmUsIHsKICAgICAgbGFiZWw6ICLln7rmnKzkv6Hmga8iLAogICAgICBuYW1lOiAiYmFzaWNJbmZvIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NhY2hlWzI1XSB8fCAoX2NhY2hlWzI1XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImg1IiwgbnVsbCwgIuWfuuacrOS/oeaBryIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtLCB7CiAgICAgICAgImxhYmVsLXBvc2l0aW9uIjogInRvcCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgIGxhYmVsOiAi5ZCI5ZCM5ZCN56ewIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY29udHJhY3REZXRhaWxzLnRpdGxlLAogICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+ICRzZXR1cC5jb250cmFjdERldGFpbHMudGl0bGUgPSAkZXZlbnQpCiAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLlkIjlkIznvJblj7ciCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5jb250cmFjdERldGFpbHMubnVtYmVyLAogICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICRzZXR1cC5jb250cmFjdERldGFpbHMubnVtYmVyID0gJGV2ZW50KSwKICAgICAgICAgICAgZGlzYWJsZWQ6ICIiCiAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLlkIjlkIznsbvlnosiCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3NlbGVjdCwgewogICAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY29udHJhY3REZXRhaWxzLnR5cGUsCiAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAkZXZlbnQgPT4gJHNldHVwLmNvbnRyYWN0RGV0YWlscy50eXBlID0gJGV2ZW50KSwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAid2lkdGgiOiAiMTAwJSIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAgbGFiZWw6ICLph4fotK3lkIjlkIwiLAogICAgICAgICAgICAgIHZhbHVlOiAi6YeH6LSt5ZCI5ZCMIgogICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAgbGFiZWw6ICLplIDllK7lkIjlkIwiLAogICAgICAgICAgICAgIHZhbHVlOiAi6ZSA5ZSu5ZCI5ZCMIgogICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAgbGFiZWw6ICLmnI3liqHlkIjlkIwiLAogICAgICAgICAgICAgIHZhbHVlOiAi5pyN5Yqh5ZCI5ZCMIgogICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAgbGFiZWw6ICLlkIjkvZzljY/orq4iLAogICAgICAgICAgICAgIHZhbHVlOiAi5ZCI5L2c5Y2P6K6uIgogICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAgbGFiZWw6ICLnp5/otYHlkIjlkIwiLAogICAgICAgICAgICAgIHZhbHVlOiAi56ef6LWB5ZCI5ZCMIgogICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAgbGFiZWw6ICLlhbbku5YiLAogICAgICAgICAgICAgIHZhbHVlOiAi5YW25LuWIgogICAgICAgICAgICB9KV0pLAogICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgIGxhYmVsOiAi5ZCI5ZCM6YeR6aKdIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY29udHJhY3REZXRhaWxzLmFtb3VudCwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICRldmVudCA9PiAkc2V0dXAuY29udHJhY3REZXRhaWxzLmFtb3VudCA9ICRldmVudCksCiAgICAgICAgICAgIHByZWZpeDogIsKlIgogICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgICAibGFiZWwtcG9zaXRpb24iOiAidG9wIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLnrb7nuqblr7nmlrkiCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5jb250cmFjdERldGFpbHMuY29tcGFueSwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9ICRldmVudCA9PiAkc2V0dXAuY29udHJhY3REZXRhaWxzLmNvbXBhbnkgPSAkZXZlbnQpCiAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLnrb7nuqbml6XmnJ8iCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RhdGVfcGlja2VyLCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5jb250cmFjdERldGFpbHMuc2lnbkRhdGUsCiAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSAkZXZlbnQgPT4gJHNldHVwLmNvbnRyYWN0RGV0YWlscy5zaWduRGF0ZSA9ICRldmVudCksCiAgICAgICAgICAgIHR5cGU6ICJkYXRlIiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAid2lkdGgiOiAiMTAwJSIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgIGxhYmVsOiAi55Sf5pWI5pel5pyfIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kYXRlX3BpY2tlciwgewogICAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY29udHJhY3REZXRhaWxzLnN0YXJ0RGF0ZSwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9ICRldmVudCA9PiAkc2V0dXAuY29udHJhY3REZXRhaWxzLnN0YXJ0RGF0ZSA9ICRldmVudCksCiAgICAgICAgICAgIHR5cGU6ICJkYXRlIiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAid2lkdGgiOiAiMTAwJSIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgIGxhYmVsOiAi5Yiw5pyf5pel5pyfIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kYXRlX3BpY2tlciwgewogICAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY29udHJhY3REZXRhaWxzLmV4cGlyZURhdGUsCiAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSAkZXZlbnQgPT4gJHNldHVwLmNvbnRyYWN0RGV0YWlscy5leHBpcmVEYXRlID0gJGV2ZW50KSwKICAgICAgICAgICAgdHlwZTogImRhdGUiLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICJ3aWR0aCI6ICIxMDAlIgogICAgICAgICAgICB9CiAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0pXSldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJfcGFuZSwgewogICAgICBsYWJlbDogIuWQiOWQjOaWh+acrCIsCiAgICAgIG5hbWU6ICJjb250cmFjdFRleHQiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2NhY2hlWzI3XSB8fCAoX2NhY2hlWzI3XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImg1IiwgbnVsbCwgIuWQiOWQjOaWh+acrOe8lui+kSIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90b29sdGlwLCB7CiAgICAgICAgY29udGVudDogIuWQr+eUqC/npoHnlKjnvJbovpHlmajkuK3nmoTlhoXogZTlu7rorq4iLAogICAgICAgIHBsYWNlbWVudDogInRvcCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zd2l0Y2gsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5lbmFibGVJbmxpbmVTdWdnZXN0aW9ucywKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzhdIHx8IChfY2FjaGVbOF0gPSAkZXZlbnQgPT4gJHNldHVwLmVuYWJsZUlubGluZVN1Z2dlc3Rpb25zID0gJGV2ZW50KSwKICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAiYWN0aXZlLXRleHQiOiAi5YaF6IGU5bu66K6uIiwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJtYXJnaW4tcmlnaHQiOiAiMTVweCIKICAgICAgICAgIH0sCiAgICAgICAgICBvbkNoYW5nZTogJHNldHVwLm9uSW5saW5lU3VnZ2VzdGlvbnNUb2dnbGUKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiLCAib25DaGFuZ2UiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgJHNldHVwLnJlYWxUaW1lUG9saXNoTG9hZGluZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzExLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICAgIGNsYXNzOiAiaXMtbG9hZGluZyIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Mb2FkaW5nKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY2FjaGVbMjZdIHx8IChfY2FjaGVbMjZdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICBjbGFzczogIm1zLTEiCiAgICAgIH0sICJBSeWIhuaekOS4rS4uLiIsIC0xIC8qIEhPSVNURUQgKi8pKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDkvb/nlKhmbGV45biD5bGA5a655Zmo5YyF6KO5QUnmtqboibLljLrlkoznvJbovpHlmajljLrvvIzmt7vliqByZWbku6Xkvr/kuo5KU+aTjeS9nCAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIg5Yig6ZmkYmFkZ2XlrrnlmaggIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIEFJ5ram6Imy5YiG5p6Q5bem5L6n5Yy65Z+fICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICBzaXplOiAibGFyZ2UiLAogICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5tYW51YWxBbmFseXplVGV4dCwKICAgICAgICBsb2FkaW5nOiAkc2V0dXAucmVhbFRpbWVQb2xpc2hMb2FkaW5nLAogICAgICAgIGRpc2FibGVkOiAkc2V0dXAucmVhbFRpbWVQb2xpc2hMb2FkaW5nLAogICAgICAgIGNsYXNzOiAiYWktcG9saXNoLWJ1dHRvbiIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICAgIGNsYXNzOiAiYWktcG9saXNoLWljb24gbm8tYmciCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01hZ2ljU3RpY2spXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucmVhbFRpbWVQb2xpc2hMb2FkaW5nID8gJ+ato+WcqOWIhuaekOS4rS4uLicgOiAnQUnmmbrog73mtqboibInKSwgMSAvKiBURVhUICovKV0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIiwgImxvYWRpbmciLCAiZGlzYWJsZWQiXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE2LCBbISRzZXR1cC5yZWFsVGltZVBvbGlzaExvYWRpbmcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xNywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfVGltZXIpXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi6aKE6K6h55So5pe2OiAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuZXN0aW1hdGVkVGltZSksIDEgLyogVEVYVCAqLyldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE4LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb3NpdGlvbildKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NhY2hlWzI4XSB8fCAoX2NhY2hlWzI4XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5b+r5o236ZSuOiBDdHJsK1NoaWZ0K0EiLCAtMSAvKiBIT0lTVEVEICovKSldKV0pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5Liq5oCn5YyW5a6a5Yi26YCJ6aG55Yy65Z+fICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xOSwgW19jYWNoZVszOV0gfHwgKF9jYWNoZVszOV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIHsKICAgICAgICBjbGFzczogInBlcnNvbmFsaXphdGlvbi10aXRsZSIKICAgICAgfSwgIuS4quaAp+WMluWumuWItiIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjAsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2V0dGluZyldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NhY2hlWzI5XSB8fCAoX2NhY2hlWzI5XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5ram6Imy5YGP5aW9IiwgLTEgLyogSE9JU1RFRCAqLykpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIyLCBbX2NhY2hlWzMwXSB8fCAoX2NhY2hlWzMwXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi6K+t6KiA6aOO5qC8IiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAucG9saXNoUHJlZmVyZW5jZXMuc3R5bGUsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbOV0gfHwgKF9jYWNoZVs5XSA9ICRldmVudCA9PiAkc2V0dXAucG9saXNoUHJlZmVyZW5jZXMuc3R5bGUgPSAkZXZlbnQpLAogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICLpgInmi6npo47moLwiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICBsYWJlbDogIuato+W8j+S4peiwqCIsCiAgICAgICAgICB2YWx1ZTogImZvcm1hbCIKICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICBsYWJlbDogIuS4reaAp+S4k+S4miIsCiAgICAgICAgICB2YWx1ZTogIm5ldXRyYWwiCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLnroDmtIHmmI7kuoYiLAogICAgICAgICAgdmFsdWU6ICJjb25jaXNlIgogICAgICAgIH0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIzLCBbX2NhY2hlWzMxXSB8fCAoX2NhY2hlWzMxXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5ZCI5ZCM57G75Z6LIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAucG9saXNoUHJlZmVyZW5jZXMuY29udHJhY3RUeXBlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzEwXSB8fCAoX2NhY2hlWzEwXSA9ICRldmVudCA9PiAkc2V0dXAucG9saXNoUHJlZmVyZW5jZXMuY29udHJhY3RUeXBlID0gJGV2ZW50KSwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6YCJ5oup57G75Z6LIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLpgJrnlKjlkIjlkIwiLAogICAgICAgICAgdmFsdWU6ICJnZW5lcmFsIgogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgIGxhYmVsOiAi5Lmw5Y2W5ZCI5ZCMIiwKICAgICAgICAgIHZhbHVlOiAic2FsZXMiCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLlirPliqHlkIjlkIwiLAogICAgICAgICAgdmFsdWU6ICJsYWJvciIKICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICBsYWJlbDogIuenn+i1geWQiOWQjCIsCiAgICAgICAgICB2YWx1ZTogImxlYXNlIgogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgIGxhYmVsOiAi5oqA5pyv5ZCI5ZCMIiwKICAgICAgICAgIHZhbHVlOiAidGVjaG5vbG9neSIKICAgICAgICB9KV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI0LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0RvY3VtZW50Q2hlY2tlZCldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NhY2hlWzMyXSB8fCAoX2NhY2hlWzMyXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5LyY5YyW6YeN54K5IiwgLTEgLyogSE9JU1RFRCAqLykpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI2LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2hlY2tib3hfZ3JvdXAsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAucG9saXNoUHJlZmVyZW5jZXMuZm9jdXMsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTFdIHx8IChfY2FjaGVbMTFdID0gJGV2ZW50ID0+ICRzZXR1cC5wb2xpc2hQcmVmZXJlbmNlcy5mb2N1cyA9ICRldmVudCkKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jaGVja2JveCwgewogICAgICAgICAgbGFiZWw6ICJncmFtbWFyIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVszM10gfHwgKF9jYWNoZVszM10gPSBbX2NyZWF0ZVRleHRWTm9kZSgi6K+t5rOV6KeE6IyDIildKSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jaGVja2JveCwgewogICAgICAgICAgbGFiZWw6ICJ0ZXJtaW5vbG9neSIKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMzRdIHx8IChfY2FjaGVbMzRdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuS4k+S4muacr+ivrSIpXSkpLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2hlY2tib3gsIHsKICAgICAgICAgIGxhYmVsOiAic3RydWN0dXJlIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVszNV0gfHwgKF9jYWNoZVszNV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5Y+l5byP57uT5p6EIildKSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jaGVja2JveCwgewogICAgICAgICAgbGFiZWw6ICJjb25zaXN0ZW5jeSIKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMzZdIHx8IChfY2FjaGVbMzZdID0gW19jcmVhdGVUZXh0Vk5vZGUoIueUqOivjeS4gOiHtOaApyIpXSkpLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI3LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjgsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X05vdGVib29rKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY2FjaGVbMzddIHx8IChfY2FjaGVbMzddID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLmnK/or63or43lhbgiLCAtMSAvKiBIT0lTVEVEICovKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjksIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5uZXdUZXJtaW5vbG9neS50ZXJtLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9ICRldmVudCA9PiAkc2V0dXAubmV3VGVybWlub2xvZ3kudGVybSA9ICRldmVudCksCiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICBwbGFjZWhvbGRlcjogIua3u+WKoOS4k+S4muacr+ivrSIsCiAgICAgICAgY2xhc3M6ICJ0ZXJtaW5vbG9neS1pbnB1dCIKICAgICAgfSwgewogICAgICAgIGFwcGVuZDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgb25DbGljazogJHNldHVwLmFkZEN1c3RvbVRlcm1pbm9sb2d5CiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1BsdXMpXSksCiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICB9KV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksICRzZXR1cC5jdXN0b21UZXJtaW5vbG9naWVzLmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zMCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmN1c3RvbVRlcm1pbm9sb2dpZXMsICh0ZXJtLCBpbmRleCkgPT4gewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RhZywgewogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIGNsb3NhYmxlOiAiIiwKICAgICAgICAgIG9uQ2xvc2U6ICRldmVudCA9PiAkc2V0dXAucmVtb3ZlQ3VzdG9tVGVybWlub2xvZ3koaW5kZXgpLAogICAgICAgICAgY2xhc3M6ICJ0ZXJtaW5vbG9neS10YWciCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyh0ZXJtKSwgMSAvKiBURVhUICovKV0pLAogICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsb3NlIl0pOwogICAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zMSwgX2NhY2hlWzM4XSB8fCAoX2NhY2hlWzM4XSA9IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgIGNsYXNzOiAidGV4dC1tdXRlZCIKICAgICAgfSwgIua3u+WKoOW4uOeUqOacr+ivreS7peehruS/neWHhuehruaApyIsIC0xIC8qIEhPSVNURUQgKi8pXSkpKV0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs0MF0gfHwgKF9jYWNoZVs0MF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuaUueWWhOivreazleWSjOihqOi+viIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zNCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs0MV0gfHwgKF9jYWNoZVs0MV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuS8mOWMluS4k+S4muacr+ivrSIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zNSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs0Ml0gfHwgKF9jYWNoZVs0Ml0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuWinuW8uumYheivu+S9k+mqjCIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zNiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs0M10gfHwgKF9jYWNoZVs0M10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuS/neaMgeS4quaAp+WMluWumuWItiIsIC0xIC8qIEhPSVNURUQgKi8pKV0pXSldLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDmlofmnKznvJbovpHlmajlj7PkvqfljLrln58gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM3LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfUXVpbGxFZGl0b3IsIHsKICAgICAgICBjb250ZW50OiAkc2V0dXAuY29udHJhY3REZXRhaWxzLmNvbnRlbnQsCiAgICAgICAgIm9uVXBkYXRlOmNvbnRlbnQiOiBfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gJGV2ZW50ID0+ICRzZXR1cC5jb250cmFjdERldGFpbHMuY29udGVudCA9ICRldmVudCksCiAgICAgICAgcmVmOiAicXVpbGxFZGl0b3IiLAogICAgICAgIHRvb2xiYXI6ICRzZXR1cC5lZGl0b3JPcHRpb24ubW9kdWxlcy50b29sYmFyLAogICAgICAgIGNvbnRlbnRUeXBlOiAiaHRtbCIsCiAgICAgICAgY2xhc3M6ICJjb250cmFjdC10ZXh0LWVkaXRvciIsCiAgICAgICAgdGhlbWU6ICJzbm93IgogICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbImNvbnRlbnQiLCAidG9vbGJhciJdKV0sIDUxMiAvKiBORUVEX1BBVENIICovKV0sIDUxMiAvKiBORUVEX1BBVENIICovKV0pXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFiX3BhbmUsIHsKICAgICAgbGFiZWw6ICLlkIjlkIzmo4Dmn6UiLAogICAgICBuYW1lOiAiY29udHJhY3RDaGVjayIKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jYWNoZVs3NV0gfHwgKF9jYWNoZVs3NV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgY2xhc3M6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTMiCiAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoNSIsIG51bGwsICLlkIjlkIzmo4Dmn6XlrqHmoLgiKV0sIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOS9v+eUqOS4juWQiOWQjOaWh+acrOmDqOWIhuebuOWQjOeahOW4g+WxgOe7k+aehCAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzgsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zOSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiDlt6bkvqflt6XlhbfmoI/lkozkuKrmgKfljJborr7nva7ljLrln58gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQwLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgIHNpemU6ICJsYXJnZSIsCiAgICAgICAgb25DbGljazogJHNldHVwLnN0YXJ0Q29udHJhY3RDaGVjaywKICAgICAgICBsb2FkaW5nOiAkc2V0dXAuaXNDaGVja2luZywKICAgICAgICBkaXNhYmxlZDogJHNldHVwLmlzQ2hlY2tpbmcsCiAgICAgICAgY2xhc3M6ICJhaS1wb2xpc2gtYnV0dG9uIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQxLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICAgICAgY2xhc3M6ICJhaS1wb2xpc2gtaWNvbiBuby1iZyIKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRG9jdW1lbnRDaGVja2VkKV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmlzQ2hlY2tpbmcgPyAn5qOA5p+l5LitLi4uJyA6ICdBSeaZuuiDveajgOafpScpLCAxIC8qIFRFWFQgKi8pXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siLCAibG9hZGluZyIsICJkaXNhYmxlZCJdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDIsIFshJHNldHVwLmlzQ2hlY2tpbmcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF80MywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfVGltZXIpXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi6aKE6K6h55So5pe2OiAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuZXN0aW1hdGVkVGltZSksIDEgLyogVEVYVCAqLyldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ0LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb3NpdGlvbildKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NhY2hlWzQ0XSB8fCAoX2NhY2hlWzQ0XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5b+r5o236ZSuOiBDdHJsK1NoaWZ0K0MiLCAtMSAvKiBIT0lTVEVEICovKSldKV0pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5qOA5p+l5YGP5aW96K6+572u5Yy65Z+fICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80NSwgW19jYWNoZVs1M10gfHwgKF9jYWNoZVs1M10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIHsKICAgICAgICBjbGFzczogInBlcnNvbmFsaXphdGlvbi10aXRsZSIKICAgICAgfSwgIuajgOafpeWBj+Wlveiuvue9riIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDYsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80NywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2V0dGluZyldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NhY2hlWzQ1XSB8fCAoX2NhY2hlWzQ1XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5qOA5p+l57u05bqmIiwgLTEgLyogSE9JU1RFRCAqLykpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ4LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2hlY2tib3gsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY2hlY2tQcmVmZXJlbmNlcy5sZWdhbENvbXBsaWFuY2UsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTRdIHx8IChfY2FjaGVbMTRdID0gJGV2ZW50ID0+ICRzZXR1cC5jaGVja1ByZWZlcmVuY2VzLmxlZ2FsQ29tcGxpYW5jZSA9ICRldmVudCkKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVs0Nl0gfHwgKF9jYWNoZVs0Nl0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5rOV5b6L5ZCI6KeE5oCnIildKSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jaGVja2JveCwgewogICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5jaGVja1ByZWZlcmVuY2VzLmNvbXBsZXRlbmVzcywKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxNV0gfHwgKF9jYWNoZVsxNV0gPSAkZXZlbnQgPT4gJHNldHVwLmNoZWNrUHJlZmVyZW5jZXMuY29tcGxldGVuZXNzID0gJGV2ZW50KQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzQ3XSB8fCAoX2NhY2hlWzQ3XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLmnaHmrL7lrozmlbTmgKciKV0pKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2NoZWNrYm94LCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmNoZWNrUHJlZmVyZW5jZXMucmlza0FsZXJ0LAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE2XSB8fCAoX2NhY2hlWzE2XSA9ICRldmVudCA9PiAkc2V0dXAuY2hlY2tQcmVmZXJlbmNlcy5yaXNrQWxlcnQgPSAkZXZlbnQpCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbNDhdIHx8IChfY2FjaGVbNDhdID0gW19jcmVhdGVUZXh0Vk5vZGUoIumjjumZqeaPkOekuiIpXSkpLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ5LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNTAsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1JlYWRpbmcpXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs0OV0gfHwgKF9jYWNoZVs0OV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuWQiOWQjOexu+Wei+WPguiAgyIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81MSwgW19jYWNoZVs1MF0gfHwgKF9jYWNoZVs1MF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuWQiOWQjOexu+WeiyIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfc2VsZWN0LCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmNoZWNrUHJlZmVyZW5jZXMuY29udHJhY3RUeXBlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE3XSB8fCAoX2NhY2hlWzE3XSA9ICRldmVudCA9PiAkc2V0dXAuY2hlY2tQcmVmZXJlbmNlcy5jb250cmFjdFR5cGUgPSAkZXZlbnQpLAogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICLpgInmi6nnsbvlnosiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICBsYWJlbDogIumAmueUqOWQiOWQjCIsCiAgICAgICAgICB2YWx1ZTogImdlbmVyYWwiCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLkubDljZblkIjlkIwiLAogICAgICAgICAgdmFsdWU6ICJzYWxlcyIKICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICBsYWJlbDogIuWKs+WKoeWQiOWQjCIsCiAgICAgICAgICB2YWx1ZTogImxhYm9yIgogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgIGxhYmVsOiAi56ef6LWB5ZCI5ZCMIiwKICAgICAgICAgIHZhbHVlOiAibGVhc2UiCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLmioDmnK/lkIjlkIwiLAogICAgICAgICAgdmFsdWU6ICJ0ZWNobm9sb2d5IgogICAgICAgIH0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNTIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81MywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSW5mb0ZpbGxlZCldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NhY2hlWzUxXSB8fCAoX2NhY2hlWzUxXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5YWz5rOo56iL5bqmIiwgLTEgLyogSE9JU1RFRCAqLykpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzU0LCBbX2NhY2hlWzUyXSB8fCAoX2NhY2hlWzUyXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5qOA5p+l5rex5bqmIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY2hlY2tQcmVmZXJlbmNlcy5jaGVja0RlcHRoLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE4XSB8fCAoX2NhY2hlWzE4XSA9ICRldmVudCA9PiAkc2V0dXAuY2hlY2tQcmVmZXJlbmNlcy5jaGVja0RlcHRoID0gJGV2ZW50KSwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6YCJ5oup5rex5bqmIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLmoIflh4bmo4Dmn6UiLAogICAgICAgICAgdmFsdWU6ICJzdGFuZGFyZCIKICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICBsYWJlbDogIua3seW6puajgOafpSIsCiAgICAgICAgICB2YWx1ZTogImRlZXAiCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgbGFiZWw6ICLlv6vpgJ/mo4Dmn6UiLAogICAgICAgICAgdmFsdWU6ICJxdWljayIKICAgICAgICB9KV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNTUsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81NiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs1NF0gfHwgKF9jYWNoZVs1NF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuazleW+i+WQiOinhOWuoeafpSIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81NywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs1NV0gfHwgKF9jYWNoZVs1NV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuadoeasvuWujOaVtOaAp+ajgOafpSIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81OCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs1Nl0gfHwgKF9jYWNoZVs1Nl0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIua9nOWcqOmjjumZqeWIhuaekCIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81OSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hlY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jYWNoZVs1N10gfHwgKF9jYWNoZVs1N10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuaZuuiDveS/ruaUueW7uuiuriIsIC0xIC8qIEhPSVNURUQgKi8pKV0pXSldLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDlj7Pkvqfmo4Dmn6Xnu5PmnpzljLrln58gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYwLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOS9v+eUqEVsZW1lbnQgVUnnmoRlbC1zY3JvbGxiYXLnu4Tku7YgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3Njcm9sbGJhciwgewogICAgICAgIGhlaWdodDogImNhbGMoMTAwJSAtIDEwcHgpIiwKICAgICAgICBhbHdheXM6ICIiLAogICAgICAgIGNsYXNzOiAiY29udHJhY3QtY2hlY2stc2Nyb2xsYmFyIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYxLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOajgOafpee7k+aenOamguiniOWNoeeJhyAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNjIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82MywgW19jYWNoZVs1OV0gfHwgKF9jYWNoZVs1OV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIG51bGwsICLmo4Dmn6Xnu5PmnpzmpoLop4giLCAtMSAvKiBIT0lTVEVEICovKSksICRzZXR1cC5jaGVja1Jlc3VsdC50b3RhbElzc3VlcyA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF90YWcsIHsKICAgICAgICAgIGtleTogMCwKICAgICAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5HnjrAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuY2hlY2tSZXN1bHQudG90YWxJc3N1ZXMpICsgIuS4qumXrumimCIsIDEgLyogVEVYVCAqLyldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfdGFnLCB7CiAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzU4XSB8fCAoX2NhY2hlWzU4XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLmnKrlj5HnjrDpl67popgiKV0pKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSkpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzY0LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNjUsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82NiwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuY2hlY2tSZXN1bHQuY3JpdGljYWxJc3N1ZXMpLCAxIC8qIFRFWFQgKi8pLCBfY2FjaGVbNjBdIHx8IChfY2FjaGVbNjBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJzdGF0LWxhYmVsIgogICAgICAgIH0sICLkuKXph43pl67popgiLCAtMSAvKiBIT0lTVEVEICovKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNjcsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82OCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuY2hlY2tSZXN1bHQud2FybmluZ0lzc3VlcyksIDEgLyogVEVYVCAqLyksIF9jYWNoZVs2MV0gfHwgKF9jYWNoZVs2MV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogInN0YXQtbGFiZWwiCiAgICAgICAgfSwgIuitpuWRiiIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82OSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcwLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5jaGVja1Jlc3VsdC5zdWdnZXN0aW9ucyksIDEgLyogVEVYVCAqLyksIF9jYWNoZVs2Ml0gfHwgKF9jYWNoZVs2Ml0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogInN0YXQtbGFiZWwiCiAgICAgICAgfSwgIuW7uuiuriIsIC0xIC8qIEhPSVNURUQgKi8pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83MSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcyLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5jaGVja1Jlc3VsdC50b3RhbElzc3VlcyksIDEgLyogVEVYVCAqLyksIF9jYWNoZVs2M10gfHwgKF9jYWNoZVs2M10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogInN0YXQtbGFiZWwiCiAgICAgICAgfSwgIumXrumimOaAu+aVsCIsIC0xIC8qIEhPSVNURUQgKi8pKV0pXSldKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOajgOafpee7k+aenOivpuaDhSAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jb2xsYXBzZSwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmFjdGl2ZUNvbGxhcHNlLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTldIHx8IChfY2FjaGVbMTldID0gJGV2ZW50ID0+ICRzZXR1cC5hY3RpdmVDb2xsYXBzZSA9ICRldmVudCksCiAgICAgICAgICBjbGFzczogImNoZWNrLWNvbGxhcHNlIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jb2xsYXBzZV9pdGVtLCB7CiAgICAgICAgICAgIHRpdGxlOiAi5rOV5b6L5ZCI6KeE5oCnIiwKICAgICAgICAgICAgbmFtZTogImxlZ2FsQ29tcGxpYW5jZSIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0bGU6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83NCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICAgICAgICBjbGFzczogInRleHQtZGFuZ2VyIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1dhcm5pbmdGaWxsZWQpXSksCiAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgICAgfSksIF9jYWNoZVs2NF0gfHwgKF9jYWNoZVs2NF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuazleW+i+WQiOinhOaApyIsIC0xIC8qIEhPSVNURUQgKi8pKSwgJHNldHVwLmNoZWNrUmVzdWx0LmxlZ2FsQ29tcGxpYW5jZUlzc3Vlcy5sZW5ndGggPiAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfYmFkZ2UsIHsKICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgdmFsdWU6ICRzZXR1cC5jaGVja1Jlc3VsdC5sZWdhbENvbXBsaWFuY2VJc3N1ZXMubGVuZ3RoLAogICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICAgICAgICAgIGNsYXNzOiAibXMtMiIKICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJ2YWx1ZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pLAogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbJHNldHVwLmNoZWNrUmVzdWx0LmxlZ2FsQ29tcGxpYW5jZUlzc3Vlcy5sZW5ndGggPT09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF83NSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2VtcHR5LCB7CiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICLmnKrlj5HnjrDms5XlvovlkIjop4TmgKfpl67popgiLAogICAgICAgICAgICAgICJpbWFnZS1zaXplIjogODAKICAgICAgICAgICAgfSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmNoZWNrUmVzdWx0LmxlZ2FsQ29tcGxpYW5jZUlzc3VlcywgKGlzc3VlLCBpbmRleCkgPT4gewogICAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgICAgICAgIGtleTogJ2xlZ2FsLScgKyBpbmRleCwKICAgICAgICAgICAgICAgIGNsYXNzOiAiY2hlY2staXNzdWUtY2FyZCIKICAgICAgICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzYsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgICAgICAgICAgICBjbGFzczogInRleHQtZGFuZ2VyIGZzLTQiCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1dhcm5pbmdGaWxsZWQpXSksCiAgICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgICAgIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXNzdWUudGl0bGUpLCAxIC8qIFRFWFQgKi8pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzc3LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzgsIFtfY2FjaGVbNjVdIHx8IChfY2FjaGVbNjVdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgY2xhc3M6ICJmaWVsZC1sYWJlbCIKICAgICAgICAgICAgICB9LCAi5b2T5YmN5p2h5qy+77yaIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83OSwgX3RvRGlzcGxheVN0cmluZyhpc3N1ZS5jdXJyZW50KSwgMSAvKiBURVhUICovKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84MCwgW19jYWNoZVs2Nl0gfHwgKF9jYWNoZVs2Nl0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICAgICBjbGFzczogImZpZWxkLWxhYmVsIgogICAgICAgICAgICAgIH0sICLpl67popjvvJoiLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgxLCBfdG9EaXNwbGF5U3RyaW5nKGlzc3VlLnByb2JsZW0pLCAxIC8qIFRFWFQgKi8pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfODIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLnZpZXdSZWd1bGF0aW9uKGlzc3VlKQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzY3XSB8fCAoX2NhY2hlWzY3XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLmn6XnnIvms5Xop4QiKV0pKV0pLAogICAgICAgICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAgICAgICB0eXBlOiAiZGVmYXVsdCIKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbLi4uKF9jYWNoZVs2OF0gfHwgKF9jYWNoZVs2OF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5b+955WlIildKSldKSwKICAgICAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICAgICAgfSldKV0pOwogICAgICAgICAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSwKICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jb2xsYXBzZV9pdGVtLCB7CiAgICAgICAgICAgIHRpdGxlOiAi5p2h5qy+5a6M5pW05oCnIiwKICAgICAgICAgICAgbmFtZTogImNsYXVzZUNvbXBsZXRlbmVzcyIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0bGU6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84MywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICAgICAgICBjbGFzczogInRleHQtd2FybmluZyIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Eb2N1bWVudCldKSwKICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgICB9KSwgX2NhY2hlWzY5XSB8fCAoX2NhY2hlWzY5XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5p2h5qy+5a6M5pW05oCnIiwgLTEgLyogSE9JU1RFRCAqLykpLCAkc2V0dXAuY2hlY2tSZXN1bHQuY29tcGxldGVuZXNzSXNzdWVzLmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9iYWRnZSwgewogICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICB2YWx1ZTogJHNldHVwLmNoZWNrUmVzdWx0LmNvbXBsZXRlbmVzc0lzc3Vlcy5sZW5ndGgsCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIGNsYXNzOiAibXMtMiIKICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJ2YWx1ZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pLAogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbJHNldHVwLmNoZWNrUmVzdWx0LmNvbXBsZXRlbmVzc0lzc3Vlcy5sZW5ndGggPT09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84NCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2VtcHR5LCB7CiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICLmnKrlj5HnjrDmnaHmrL7lrozmlbTmgKfpl67popgiLAogICAgICAgICAgICAgICJpbWFnZS1zaXplIjogODAKICAgICAgICAgICAgfSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmNoZWNrUmVzdWx0LmNvbXBsZXRlbmVzc0lzc3VlcywgKGlzc3VlLCBpbmRleCkgPT4gewogICAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgICAgICAgIGtleTogJ2NvbXAtJyArIGluZGV4LAogICAgICAgICAgICAgICAgY2xhc3M6ICJjaGVjay1pc3N1ZS1jYXJkIgogICAgICAgICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84NSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICAgICAgICAgIGNsYXNzOiAidGV4dC13YXJuaW5nIGZzLTQiCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1dhcm5pbmcpXSksCiAgICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgICAgIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXNzdWUudGl0bGUpLCAxIC8qIFRFWFQgKi8pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzg2LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfODcsIFtfY2FjaGVbNzBdIHx8IChfY2FjaGVbNzBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgY2xhc3M6ICJmaWVsZC1sYWJlbCIKICAgICAgICAgICAgICB9LCAi5bu66K6u77yaIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84OCwgX3RvRGlzcGxheVN0cmluZyhpc3N1ZS5zdWdnZXN0aW9uKSwgMSAvKiBURVhUICovKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzg5LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgICAgICAgdHlwZTogImRlZmF1bHQiCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbNzFdIHx8IChfY2FjaGVbNzFdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuW/veeVpSIpXSkpXSksCiAgICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgICAgIH0pXSldKTsKICAgICAgICAgICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksCiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY29sbGFwc2VfaXRlbSwgewogICAgICAgICAgICB0aXRsZTogIumjjumZqeaPkOekuiIsCiAgICAgICAgICAgIG5hbWU6ICJyaXNrQWxlcnQiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRpdGxlOiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOTAsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICJ0ZXh0LWluZm8iCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSW5mb0ZpbGxlZCldKSwKICAgICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgICB9KSwgX2NhY2hlWzcyXSB8fCAoX2NhY2hlWzcyXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi6aOO6Zmp5o+Q56S6IiwgLTEgLyogSE9JU1RFRCAqLykpLCAkc2V0dXAuY2hlY2tSZXN1bHQucmlza0FsZXJ0cy5sZW5ndGggPiAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfYmFkZ2UsIHsKICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgdmFsdWU6ICRzZXR1cC5jaGVja1Jlc3VsdC5yaXNrQWxlcnRzLmxlbmd0aCwKICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgICAgY2xhc3M6ICJtcy0yIgogICAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbInZhbHVlIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSksCiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFskc2V0dXAuY2hlY2tSZXN1bHQucmlza0FsZXJ0cy5sZW5ndGggPT09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF85MSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2VtcHR5LCB7CiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICLmnKrlj5HnjrDpo47pmanmj5DnpLoiLAogICAgICAgICAgICAgICJpbWFnZS1zaXplIjogODAKICAgICAgICAgICAgfSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmNoZWNrUmVzdWx0LnJpc2tBbGVydHMsIChpc3N1ZSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICAgICAgICBrZXk6ICdyaXNrLScgKyBpbmRleCwKICAgICAgICAgICAgICAgIGNsYXNzOiAiY2hlY2staXNzdWUtY2FyZCIKICAgICAgICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOTIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgICAgICAgICAgICBjbGFzczogInRleHQtaW5mbyBmcy00IgogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JbmZvRmlsbGVkKV0pLAogICAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgICAgICB9KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDYiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGlzc3VlLnRpdGxlKSwgMSAvKiBURVhUICovKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85MywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk0LCBbX2NhY2hlWzczXSB8fCAoX2NhY2hlWzczXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgIGNsYXNzOiAiZmllbGQtbGFiZWwiCiAgICAgICAgICAgICAgfSwgIuW7uuiuru+8miIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOTUsIF90b0Rpc3BsYXlTdHJpbmcoaXNzdWUuc3VnZ2VzdGlvbiksIDEgLyogVEVYVCAqLyldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85NiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJkZWZhdWx0IgogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzc0XSB8fCAoX2NhY2hlWzc0XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlv73nlaUiKV0pKV0pLAogICAgICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgICAgICB9KV0pXSk7CiAgICAgICAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pLAogICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSldKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pXSwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pXSwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pXSldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJfcGFuZSwgewogICAgICBsYWJlbDogIuaTjeS9nOiusOW9lSIsCiAgICAgIG5hbWU6ICJoaXN0b3J5IgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NhY2hlWzc2XSB8fCAoX2NhY2hlWzc2XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImg1IiwgbnVsbCwgIuaTjeS9nOiusOW9lSIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGltZWxpbmUsIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuY29udHJhY3RIaXN0b3J5LCAoYWN0aXZpdHksIGluZGV4KSA9PiB7CiAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF90aW1lbGluZV9pdGVtLCB7CiAgICAgICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgICAgIHRpbWVzdGFtcDogYWN0aXZpdHkudGltZQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKGFjdGl2aXR5LmNvbnRlbnQpLCAxIC8qIFRFWFQgKi8pXSksCiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJ0aW1lc3RhbXAiXSk7CiAgICAgICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksICRzZXR1cC5jb250cmFjdEhpc3RvcnkubGVuZ3RoID09PSAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZW1wdHksIHsKICAgICAgICBrZXk6IDAsCiAgICAgICAgZGVzY3JpcHRpb246ICLmmoLml6Dmk43kvZzorrDlvZUiCiAgICAgIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pLCBfY2FjaGVbNzhdIHx8IChfY2FjaGVbNzhdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaHIiLCBudWxsLCBudWxsLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk3LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICBvbkNsaWNrOiAkc2V0dXAuZ29CYWNrCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzc3XSB8fCAoX2NhY2hlWzc3XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLov5Tlm57liJfooagiKV0pKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pXSldKV0pKSwgW1tfZGlyZWN0aXZlX2xvYWRpbmcsICRzZXR1cC5pc0xvYWRpbmddXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiBBSeW7uuiurumdouadvyAo5Yid5aeL6ZqQ6JePKSAiKSwgJHNldHVwLmFjdGl2ZVRhYiA9PT0gJ2NvbnRyYWN0VGV4dCcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsiYWktc3VnZ2VzdGlvbnMtcGFuZWwiLCB7CiAgICAgICdzaG93JzogJHNldHVwLnNob3dBaVN1Z2dlc3Rpb25zLAogICAgICAnY29sbGFwc2VkJzogJHNldHVwLmlzQWlQYW5lbENvbGxhcHNlZAogICAgfV0pLAogICAgaWQ6ICJhaVN1Z2dlc3Rpb25zUGFuZWwiCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk4LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDUiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgY2xhc3M6ICJ0ZXh0LXdhcm5pbmciCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1JlYWRpbmcpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pLCBfY2FjaGVbNzldIHx8IChfY2FjaGVbNzldID0gX2NyZWF0ZVRleHRWTm9kZSgiIEFJIOa2puiJsuW7uuiuriIpKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85OSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdHlwZTogInRleHQiLAogICAgb25DbGljazogJHNldHVwLnRvZ2dsZUFpUGFuZWxDb2xsYXBzZQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFskc2V0dXAuaXNBaVBhbmVsQ29sbGFwc2VkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICBrZXk6IDAKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0Fycm93UmlnaHQpXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgIGtleTogMQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQXJyb3dMZWZ0KV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSkpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICBvbkNsaWNrOiAkc2V0dXAuaGlkZUFpUGFuZWwKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2xvc2UpXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siXSldKV0pLCAkc2V0dXAucmVhbFRpbWVQb2xpc2hMb2FkaW5nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTAwLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgY2xhc3M6ICJpcy1sb2FkaW5nIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Mb2FkaW5nKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KSwgX2NhY2hlWzgwXSB8fCAoX2NhY2hlWzgwXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICBjbGFzczogIm1zLTEiCiAgfSwgIuato+WcqOWIhuaekOWGheWuuS4uLiIsIC0xIC8qIEhPSVNURUQgKi8pKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgISRzZXR1cC5yZWFsVGltZVBvbGlzaExvYWRpbmcgJiYgJHNldHVwLmFpU3VnZ2VzdGlvbnMuc3ludGF4Lmxlbmd0aCA9PT0gMCAmJiAkc2V0dXAuYWlTdWdnZXN0aW9ucy50ZXJtaW5vbG9neS5sZW5ndGggPT09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xMDEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSW5mb0ZpbGxlZCldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSksIF9jYWNoZVs4MV0gfHwgKF9jYWNoZVs4MV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgIuayoeacieW7uuiuruWPr+aYvuekuiIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NhY2hlWzgyXSB8fCAoX2NhY2hlWzgyXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCB7CiAgICBjbGFzczogInNtYWxsIgogIH0sICLngrnlh7vkuIrmlrlcIkFJ5ram6Imy5YiG5p6QXCLmjInpkq7lj6/ojrflj5blu7rorq4iLCAtMSAvKiBIT0lTVEVEICovKSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2NvbGxhcHNlLCB7CiAgICBtb2RlbFZhbHVlOiAkc2V0dXAuYWN0aXZlU3VnZ2VzdGlvbkNvbGxhcHNlLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMjFdIHx8IChfY2FjaGVbMjFdID0gJGV2ZW50ID0+ICRzZXR1cC5hY3RpdmVTdWdnZXN0aW9uQ29sbGFwc2UgPSAkZXZlbnQpCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2NvbGxhcHNlX2l0ZW0sIHsKICAgICAgbmFtZTogInN5bnRheCIKICAgIH0sIHsKICAgICAgdGl0bGU6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICBjbGFzczogIm1lLTEiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRWRpdCldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZVRleHRWTm9kZSgiIOivreazleS4juagvOW8jyAoIiArIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmFpU3VnZ2VzdGlvbnMuc3ludGF4Lmxlbmd0aCkgKyAiKSIsIDEgLyogVEVYVCAqLyldKV0pLAogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbJHNldHVwLmFpU3VnZ2VzdGlvbnMuc3ludGF4Lmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEwMiwgIiDmsqHmnInor63ms5XmiJbmoLzlvI/pl67popggIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5haVN1Z2dlc3Rpb25zLnN5bnRheCwgKHN1Z2dlc3Rpb24sIGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAga2V5OiAnc3ludGF4LScgKyBpbmRleCwKICAgICAgICAgIGNsYXNzOiAic3VnZ2VzdGlvbi1pdGVtIgogICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMDMsIF90b0Rpc3BsYXlTdHJpbmcoc3VnZ2VzdGlvbi5vcmlnaW5hbCksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwNCwgX3RvRGlzcGxheVN0cmluZyhzdWdnZXN0aW9uLnN1Z2dlc3RlZCksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8xMDUsIF90b0Rpc3BsYXlTdHJpbmcoc3VnZ2VzdGlvbi5leHBsYW5hdGlvbiksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwNiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAuaWdub3JlU3VnZ2VzdGlvbignc3ludGF4JywgaW5kZXgpCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbODNdIHx8IChfY2FjaGVbODNdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuW/veeVpSIpXSkpXSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAuYWRvcHRTdWdnZXN0aW9uKCdzeW50YXgnLCBpbmRleCkKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbLi4uKF9jYWNoZVs4NF0gfHwgKF9jYWNoZVs4NF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi6YeH57qzIildKSldKSwKICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKV0pXSk7CiAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2NvbGxhcHNlX2l0ZW0sIHsKICAgICAgbmFtZTogInRlcm1pbm9sb2d5IgogICAgfSwgewogICAgICB0aXRsZTogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICAgIGNsYXNzOiAibWUtMSIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9SZWFkaW5nKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVGV4dFZOb2RlKCIg5LiT5Lia5pyv6K+tICgiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuYWlTdWdnZXN0aW9ucy50ZXJtaW5vbG9neS5sZW5ndGgpICsgIikiLCAxIC8qIFRFWFQgKi8pXSldKSwKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWyRzZXR1cC5haVN1Z2dlc3Rpb25zLnRlcm1pbm9sb2d5Lmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEwNywgIiDmsqHmnInmnK/or63pl67popggIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5haVN1Z2dlc3Rpb25zLnRlcm1pbm9sb2d5LCAoc3VnZ2VzdGlvbiwgaW5kZXgpID0+IHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBrZXk6ICd0ZXJtLScgKyBpbmRleCwKICAgICAgICAgIGNsYXNzOiAic3VnZ2VzdGlvbi1pdGVtIgogICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMDgsIF90b0Rpc3BsYXlTdHJpbmcoc3VnZ2VzdGlvbi5vcmlnaW5hbCksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwOSwgX3RvRGlzcGxheVN0cmluZyhzdWdnZXN0aW9uLnN1Z2dlc3RlZCksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8xMTAsIF90b0Rpc3BsYXlTdHJpbmcoc3VnZ2VzdGlvbi5leHBsYW5hdGlvbiksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAuaWdub3JlU3VnZ2VzdGlvbigndGVybWlub2xvZ3knLCBpbmRleCkKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbLi4uKF9jYWNoZVs4NV0gfHwgKF9jYWNoZVs4NV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5b+955WlIildKSldKSwKICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgb25DbGljazogJGV2ZW50ID0+ICRzZXR1cC5hZG9wdFN1Z2dlc3Rpb24oJ3Rlcm1pbm9sb2d5JywgaW5kZXgpCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbODZdIHx8IChfY2FjaGVbODZdID0gW19jcmVhdGVUZXh0Vk5vZGUoIumHh+e6syIpXSkpXSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSldKV0pOwogICAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKSwgJHNldHVwLmFpU3VnZ2VzdGlvbnMuc3ludGF4Lmxlbmd0aCA+IDAgfHwgJHNldHVwLmFpU3VnZ2VzdGlvbnMudGVybWlub2xvZ3kubGVuZ3RoID4gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzExMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdHlwZTogInByaW1hcnkiLAogICAgc2l6ZTogInNtYWxsIiwKICAgIG9uQ2xpY2s6ICRzZXR1cC5hcHBseUFsbFN1Z2dlc3Rpb25zCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzg3XSB8fCAoX2NhY2hlWzg3XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlupTnlKjmiYDmnInph4fnurPnmoTlu7rorq4iKV0pKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSwgMiAvKiBDTEFTUyAqLykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5rC45LmF5Y+v6KeB55qE5bGV5byA5oyJ6ZKu77yM5Y+q5Zyo5ZCI5ZCM5paH5pys5qCH562+6aG15LiU6Z2i5p2/6ZqQ6JeP5pe25pi+56S6ICIpLCAkc2V0dXAuYWN0aXZlVGFiID09PSAnY29udHJhY3RUZXh0JyAmJiAhJHNldHVwLnNob3dBaVN1Z2dlc3Rpb25zID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAga2V5OiAxLAogICAgY2xhc3M6ICJwYW5lbC1vcGVuLWJ1dHRvbiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMjJdIHx8IChfY2FjaGVbMjJdID0gJGV2ZW50ID0+ICRzZXR1cC5zaG93QWlTdWdnZXN0aW9ucyA9IHRydWUpCiAgfSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3Rvb2x0aXAsIHsKICAgIGNvbnRlbnQ6ICLmmL7npLpBSea2puiJsuW7uuiuriIsCiAgICBwbGFjZW1lbnQ6ICJsZWZ0IgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICBzaXplOiAic21hbGwiLAogICAgICBjaXJjbGU6ICIiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01hZ2ljU3RpY2spXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSk7Cn0="},{"version":3,"names":["class","id","ref","style","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_toDisplayString","$setup","contractTitle","_createVNode","_component_el_button","type","size","onClick","downloadContract","_component_el_icon","_component_Download","saveChanges","loading","isSaving","_component_DocumentAdd","_hoisted_5","_component_el_tabs","activeTab","$event","_component_el_tab_pane","label","name","_hoisted_6","_hoisted_7","_component_el_form","_component_el_form_item","_component_el_input","contractDetails","title","number","disabled","_component_el_select","_component_el_option","value","amount","prefix","_hoisted_8","company","_component_el_date_picker","signDate","startDate","expireDate","_hoisted_9","_hoisted_10","_component_el_tooltip","content","placement","_component_el_switch","enableInlineSuggestions","onChange","onInlineSuggestionsToggle","realTimePolishLoading","_hoisted_11","_component_Loading","_createCommentVNode","_hoisted_12","_hoisted_13","_hoisted_14","manualAnalyzeText","_hoisted_15","_component_MagicStick","_hoisted_16","_hoisted_17","_component_Timer","estimatedTime","_hoisted_18","_component_Position","_hoisted_19","_hoisted_20","_hoisted_21","_component_Setting","_hoisted_22","polishPreferences","placeholder","_hoisted_23","contractType","_hoisted_24","_hoisted_25","_component_DocumentChecked","_hoisted_26","_component_el_checkbox_group","focus","_component_el_checkbox","_cache","_hoisted_27","_hoisted_28","_component_Notebook","_hoisted_29","newTerminology","term","append","_withCtx","addCustomTerminology","_component_Plus","customTerminologies","length","_hoisted_30","_Fragment","_renderList","index","_createBlock","_component_el_tag","key","closable","onClose","removeCustomTerminology","_hoisted_31","_hoisted_32","_hoisted_33","_component_Check","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_component_QuillEditor","toolbar","editorOption","modules","contentType","theme","_hoisted_38","_hoisted_39","_hoisted_40","startContractCheck","isChecking","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","checkPreferences","legalCompliance","completeness","riskAlert","_hoisted_49","_hoisted_50","_component_Reading","_hoisted_51","_hoisted_52","_hoisted_53","_component_InfoFilled","_hoisted_54","checkDepth","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_component_el_scrollbar","height","always","_hoisted_61","_hoisted_62","_hoisted_63","checkResult","totalIssues","_hoisted_64","_hoisted_65","_hoisted_66","criticalIssues","_hoisted_67","_hoisted_68","warningIssues","_hoisted_69","_hoisted_70","suggestions","_hoisted_71","_hoisted_72","_hoisted_73","_component_el_collapse","activeCollapse","_component_el_collapse_item","_hoisted_74","_component_WarningFilled","legalComplianceIssues","_component_el_badge","_hoisted_75","_component_el_empty","description","issue","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","current","_hoisted_80","_hoisted_81","problem","_hoisted_82","viewRegulation","_hoisted_83","_component_Document","completenessIssues","_hoisted_84","_hoisted_85","_component_Warning","_hoisted_86","_hoisted_87","_hoisted_88","suggestion","_hoisted_89","_hoisted_90","riskAlerts","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_component_el_timeline","contractHistory","activity","_component_el_timeline_item","timestamp","time","_hoisted_97","goBack","isLoading","_normalizeClass","showAiSuggestions","isAiPanelCollapsed","_hoisted_98","_hoisted_99","toggleAiPanelCollapse","_component_ArrowRight","_component_ArrowLeft","hideAiPanel","_component_Close","_hoisted_100","aiSuggestions","syntax","terminology","_hoisted_101","activeSuggestionCollapse","_component_Edit","_hoisted_102","_hoisted_103","original","_hoisted_104","suggested","_hoisted_105","explanation","_hoisted_106","ignoreSuggestion","adoptSuggestion","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","applyAllSuggestions","circle"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\contract\\Detail.vue"],"sourcesContent":["<template>\n  <div class=\"contract-detail-container\">\n    <div class=\"card\" v-loading=\"isLoading\">\n      <div class=\"card-header d-flex justify-content-between align-items-center\">\n        <span id=\"contractTitleHeader\">{{ contractTitle }}</span>\n        <div>\n          <el-button type=\"default\" size=\"small\" class=\"me-2\" @click=\"downloadContract\">\n            <el-icon><Download /></el-icon> 下载Word\n          </el-button>\n          <el-button \n            type=\"primary\" \n            size=\"small\" \n            @click=\"saveChanges\" \n            :loading=\"isSaving\"\n          >\n            <el-icon><DocumentAdd /></el-icon> 保存更改\n          </el-button>\n        </div>\n      </div>\n      <div class=\"card-body\">\n        <el-tabs v-model=\"activeTab\" class=\"contract-detail-tabs\">\n          <el-tab-pane label=\"基本信息\" name=\"basicInfo\">\n            <h5>基本信息</h5>\n            <div class=\"row mb-3\">\n              <div class=\"col-md-6\">\n                <el-form label-position=\"top\">\n                  <el-form-item label=\"合同名称\">\n                    <el-input v-model=\"contractDetails.title\"></el-input>\n                  </el-form-item>\n                  <el-form-item label=\"合同编号\">\n                    <el-input v-model=\"contractDetails.number\" disabled></el-input>\n                  </el-form-item>\n                  <el-form-item label=\"合同类型\">\n                    <el-select v-model=\"contractDetails.type\" style=\"width: 100%;\">\n                      <el-option label=\"采购合同\" value=\"采购合同\"></el-option>\n                      <el-option label=\"销售合同\" value=\"销售合同\"></el-option>\n                      <el-option label=\"服务合同\" value=\"服务合同\"></el-option>\n                      <el-option label=\"合作协议\" value=\"合作协议\"></el-option>\n                      <el-option label=\"租赁合同\" value=\"租赁合同\"></el-option>\n                      <el-option label=\"其他\" value=\"其他\"></el-option>\n                    </el-select>\n                  </el-form-item>\n                  <el-form-item label=\"合同金额\">\n                    <el-input v-model=\"contractDetails.amount\" prefix=\"¥\"></el-input>\n                  </el-form-item>\n                </el-form>\n              </div>\n              <div class=\"col-md-6\">\n                <el-form label-position=\"top\">\n                  <el-form-item label=\"签约对方\">\n                    <el-input v-model=\"contractDetails.company\"></el-input>\n                  </el-form-item>\n                  <el-form-item label=\"签约日期\">\n                    <el-date-picker \n                      v-model=\"contractDetails.signDate\" \n                      type=\"date\" \n                      style=\"width: 100%;\">\n                    </el-date-picker>\n                  </el-form-item>\n                  <el-form-item label=\"生效日期\">\n                    <el-date-picker \n                      v-model=\"contractDetails.startDate\" \n                      type=\"date\" \n                      style=\"width: 100%;\">\n                    </el-date-picker>\n                  </el-form-item>\n                  <el-form-item label=\"到期日期\">\n                    <el-date-picker \n                      v-model=\"contractDetails.expireDate\" \n                      type=\"date\" \n                      style=\"width: 100%;\">\n                    </el-date-picker>\n                  </el-form-item>\n                </el-form>\n              </div>\n            </div>\n          </el-tab-pane>\n\n          <el-tab-pane label=\"合同文本\" name=\"contractText\">\n            <div class=\"d-flex justify-content-between align-items-center mb-2\">\n              <h5>合同文本编辑</h5>\n              <div class=\"d-flex align-items-center\">\n                <el-tooltip content=\"启用/禁用编辑器中的内联建议\" placement=\"top\">\n                  <el-switch \n                    v-model=\"enableInlineSuggestions\" \n                    size=\"small\" \n                    active-text=\"内联建议\" \n                    style=\"margin-right: 15px;\"\n                    @change=\"onInlineSuggestionsToggle\"\n                  />\n                </el-tooltip>\n              <div v-if=\"realTimePolishLoading\" class=\"d-flex align-items-center\">\n                <el-icon class=\"is-loading\"><Loading /></el-icon>\n                <span class=\"ms-1\">AI分析中...</span>\n              </div>\n            </div>\n            </div>\n            \n            <!-- 使用flex布局容器包裹AI润色区和编辑器区，添加ref以便于JS操作 -->\n            <div class=\"contract-edit-wrapper\">\n              <!-- 删除badge容器 -->\n              \n              <div class=\"contract-edit-container\" ref=\"contractEditContainer\">\n                <!-- AI润色分析左侧区域 -->\n                <div class=\"ai-polish-sidebar\" ref=\"aiPolishSidebar\">\n                  <el-button \n                    type=\"primary\" \n                    size=\"large\" \n                    @click=\"manualAnalyzeText\" \n                    :loading=\"realTimePolishLoading\"\n                    :disabled=\"realTimePolishLoading\"\n                    class=\"ai-polish-button\"\n                  >\n                    <div class=\"ai-polish-button-content\">\n                      <el-icon class=\"ai-polish-icon no-bg\"><MagicStick /></el-icon>\n                      <span>{{ realTimePolishLoading ? '正在分析中...' : 'AI智能润色' }}</span>\n                    </div>\n                  </el-button>\n                  \n                  <div class=\"ai-polish-info\">\n                    <div class=\"time-estimate\" v-if=\"!realTimePolishLoading\">\n                      <el-icon><Timer /></el-icon>\n                      <span>预计用时: {{ estimatedTime }}</span>\n                    </div>\n                    <div class=\"shortcut-hint\">\n                      <el-icon><Position /></el-icon>\n                      <span>快捷键: Ctrl+Shift+A</span>\n                    </div>\n                  </div>\n                  \n                  <!-- 个性化定制选项区域 -->\n                  <div class=\"ai-polish-personalization\">\n                    <h6 class=\"personalization-title\">个性化定制</h6>\n                    \n                    <div class=\"personalization-section\">\n                      <div class=\"section-header\">\n                        <el-icon><Setting /></el-icon>\n                        <span>润色偏好</span>\n                      </div>\n                      \n                      <div class=\"preference-option\">\n                        <span>语言风格</span>\n                        <el-select v-model=\"polishPreferences.style\" size=\"small\" placeholder=\"选择风格\">\n                          <el-option label=\"正式严谨\" value=\"formal\"></el-option>\n                          <el-option label=\"中性专业\" value=\"neutral\"></el-option>\n                          <el-option label=\"简洁明了\" value=\"concise\"></el-option>\n                        </el-select>\n                      </div>\n                      \n                      <div class=\"preference-option\">\n                        <span>合同类型</span>\n                        <el-select v-model=\"polishPreferences.contractType\" size=\"small\" placeholder=\"选择类型\">\n                          <el-option label=\"通用合同\" value=\"general\"></el-option>\n                          <el-option label=\"买卖合同\" value=\"sales\"></el-option>\n                          <el-option label=\"劳务合同\" value=\"labor\"></el-option>\n                          <el-option label=\"租赁合同\" value=\"lease\"></el-option>\n                          <el-option label=\"技术合同\" value=\"technology\"></el-option>\n                        </el-select>\n                      </div>\n                    </div>\n                    \n                    <div class=\"personalization-section\">\n                      <div class=\"section-header\">\n                        <el-icon><DocumentChecked /></el-icon>\n                        <span>优化重点</span>\n                      </div>\n                      \n                      <div class=\"optimization-options\">\n                        <el-checkbox-group v-model=\"polishPreferences.focus\">\n                          <el-checkbox label=\"grammar\">语法规范</el-checkbox>\n                          <el-checkbox label=\"terminology\">专业术语</el-checkbox>\n                          <el-checkbox label=\"structure\">句式结构</el-checkbox>\n                          <el-checkbox label=\"consistency\">用词一致性</el-checkbox>\n                        </el-checkbox-group>\n                      </div>\n                    </div>\n                    \n                    <div class=\"personalization-section\">\n                      <div class=\"section-header\">\n                        <el-icon><Notebook /></el-icon>\n                        <span>术语词典</span>\n                      </div>\n                      \n                      <div class=\"terminology-manager\">\n                        <el-input\n                          v-model=\"newTerminology.term\"\n                          size=\"small\"\n                          placeholder=\"添加专业术语\"\n                          class=\"terminology-input\"\n                        >\n                          <template #append>\n                            <el-button @click=\"addCustomTerminology\">\n                              <el-icon><Plus /></el-icon>\n                            </el-button>\n                          </template>\n                        </el-input>\n                        \n                        <div class=\"terminology-list\" v-if=\"customTerminologies.length > 0\">\n                          <el-tag\n                            v-for=\"(term, index) in customTerminologies\"\n                            :key=\"index\"\n                            closable\n                            @close=\"removeCustomTerminology(index)\"\n                            class=\"terminology-tag\"\n                          >\n                            {{term}}\n                          </el-tag>\n                        </div>\n                        <div v-else class=\"terminology-empty\">\n                          <span class=\"text-muted\">添加常用术语以确保准确性</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div class=\"ai-polish-features\">\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>改善语法和表达</span>\n                    </div>\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>优化专业术语</span>\n                    </div>\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>增强阅读体验</span>\n                    </div>\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>保持个性化定制</span>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- 文本编辑器右侧区域 -->\n                <div class=\"editor-main-area\" ref=\"editorMainArea\">\n                  <QuillEditor\n                    v-model:content=\"contractDetails.content\"\n                    ref=\"quillEditor\"\n                    :toolbar=\"editorOption.modules.toolbar\"\n                    contentType=\"html\"\n                    class=\"contract-text-editor\"\n                    theme=\"snow\"\n                  />\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n\n          <el-tab-pane label=\"合同检查\" name=\"contractCheck\">\n            <div class=\"d-flex justify-content-between align-items-center mb-3\">\n              <h5>合同检查审核</h5>\n            </div>\n\n            <!-- 使用与合同文本部分相同的布局结构 -->\n            <div class=\"contract-edit-wrapper\">\n              <div class=\"contract-edit-container\" ref=\"contractCheckContainer\">\n                <!-- 左侧工具栏和个性化设置区域 -->\n                <div class=\"ai-polish-sidebar check-sidebar\" ref=\"checkSidebar\">\n                  <el-button \n                    type=\"primary\" \n                    size=\"large\" \n                    @click=\"startContractCheck\" \n                    :loading=\"isChecking\"\n                    :disabled=\"isChecking\"\n                    class=\"ai-polish-button\"\n                  >\n                    <div class=\"ai-polish-button-content\">\n                      <el-icon class=\"ai-polish-icon no-bg\"><DocumentChecked /></el-icon>\n                      <span>{{ isChecking ? '检查中...' : 'AI智能检查' }}</span>\n                    </div>\n                  </el-button>\n                  \n                  <div class=\"ai-polish-info\">\n                    <div class=\"time-estimate\" v-if=\"!isChecking\">\n                      <el-icon><Timer /></el-icon>\n                      <span>预计用时: {{ estimatedTime }}</span>\n                    </div>\n                    <div class=\"shortcut-hint\">\n                      <el-icon><Position /></el-icon>\n                      <span>快捷键: Ctrl+Shift+C</span>\n                    </div>\n                  </div>\n                  \n                  <!-- 检查偏好设置区域 -->\n                  <div class=\"ai-polish-personalization\">\n                    <h6 class=\"personalization-title\">检查偏好设置</h6>\n                    \n                    <div class=\"personalization-section\">\n                      <div class=\"section-header\">\n                        <el-icon><Setting /></el-icon>\n                        <span>检查维度</span>\n                      </div>\n                      \n                      <div class=\"check-options\">\n                        <el-checkbox v-model=\"checkPreferences.legalCompliance\">法律合规性</el-checkbox>\n                        <el-checkbox v-model=\"checkPreferences.completeness\">条款完整性</el-checkbox>\n                        <el-checkbox v-model=\"checkPreferences.riskAlert\">风险提示</el-checkbox>\n                      </div>\n                    </div>\n                    \n                    <div class=\"personalization-section\">\n                      <div class=\"section-header\">\n                        <el-icon><Reading /></el-icon>\n                        <span>合同类型参考</span>\n                      </div>\n                      \n                      <div class=\"preference-option\">\n                        <span>合同类型</span>\n                        <el-select v-model=\"checkPreferences.contractType\" size=\"small\" placeholder=\"选择类型\">\n                          <el-option label=\"通用合同\" value=\"general\"></el-option>\n                          <el-option label=\"买卖合同\" value=\"sales\"></el-option>\n                          <el-option label=\"劳务合同\" value=\"labor\"></el-option>\n                          <el-option label=\"租赁合同\" value=\"lease\"></el-option>\n                          <el-option label=\"技术合同\" value=\"technology\"></el-option>\n                        </el-select>\n                      </div>\n                    </div>\n                    \n                    <div class=\"personalization-section\">\n                      <div class=\"section-header\">\n                        <el-icon><InfoFilled /></el-icon>\n                        <span>关注程度</span>\n                      </div>\n                      \n                      <div class=\"preference-option\">\n                        <span>检查深度</span>\n                        <el-select v-model=\"checkPreferences.checkDepth\" size=\"small\" placeholder=\"选择深度\">\n                          <el-option label=\"标准检查\" value=\"standard\"></el-option>\n                          <el-option label=\"深度检查\" value=\"deep\"></el-option>\n                          <el-option label=\"快速检查\" value=\"quick\"></el-option>\n                        </el-select>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div class=\"ai-polish-features\">\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>法律合规审查</span>\n                    </div>\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>条款完整性检查</span>\n                    </div>\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>潜在风险分析</span>\n                    </div>\n                    <div class=\"feature-item\">\n                      <el-icon><Check /></el-icon>\n                      <span>智能修改建议</span>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- 右侧检查结果区域 -->\n                <div class=\"editor-main-area check-result-area\" ref=\"checkResultArea\">\n                  <!-- 使用Element UI的el-scrollbar组件 -->\n                  <el-scrollbar height=\"calc(100% - 10px)\" always class=\"contract-check-scrollbar\">\n                    <div class=\"check-content-inner\" style=\"padding: 15px 20px;\">\n                      <!-- 检查结果概览卡片 -->\n                      <div class=\"check-result-card\">\n                        <div class=\"check-result-header\">\n                          <h6>检查结果概览</h6>\n                          <el-tag v-if=\"checkResult.totalIssues > 0\" type=\"danger\" size=\"small\">发现{{ checkResult.totalIssues }}个问题</el-tag>\n                          <el-tag v-else type=\"success\" size=\"small\">未发现问题</el-tag>\n                        </div>\n                        \n                        <div class=\"check-result-stats\">\n                          <div class=\"stat-item\">\n                            <div class=\"stat-value danger\">{{ checkResult.criticalIssues }}</div>\n                            <div class=\"stat-label\">严重问题</div>\n                          </div>\n                          <div class=\"stat-item\">\n                            <div class=\"stat-value warning\">{{ checkResult.warningIssues }}</div>\n                            <div class=\"stat-label\">警告</div>\n                          </div>\n                          <div class=\"stat-item\">\n                            <div class=\"stat-value info\">{{ checkResult.suggestions }}</div>\n                            <div class=\"stat-label\">建议</div>\n                          </div>\n                          <div class=\"stat-item\">\n                            <div class=\"stat-value\">{{ checkResult.totalIssues }}</div>\n                            <div class=\"stat-label\">问题总数</div>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <!-- 检查结果详情 -->\n                      <div class=\"check-result-details\">\n                        <el-collapse v-model=\"activeCollapse\" class=\"check-collapse\">\n                          <el-collapse-item title=\"法律合规性\" name=\"legalCompliance\">\n                            <template #title>\n                              <div class=\"collapse-header\">\n                                <el-icon class=\"text-danger\"><WarningFilled /></el-icon>\n                                <span>法律合规性</span>\n                                <el-badge :value=\"checkResult.legalComplianceIssues.length\" type=\"danger\" class=\"ms-2\" v-if=\"checkResult.legalComplianceIssues.length > 0\"></el-badge>\n                              </div>\n                            </template>\n                            \n                            <div v-if=\"checkResult.legalComplianceIssues.length === 0\" class=\"empty-result\">\n                              <el-empty description=\"未发现法律合规性问题\" :image-size=\"80\"></el-empty>\n                            </div>\n                            \n                            <div v-for=\"(issue, index) in checkResult.legalComplianceIssues\" :key=\"'legal-'+index\" class=\"check-issue-card\">\n                              <div class=\"issue-header\">\n                                <el-icon class=\"text-danger fs-4\"><WarningFilled /></el-icon>\n                                <h6>{{ issue.title }}</h6>\n                              </div>\n                              <div class=\"issue-content\">\n                                <div class=\"issue-field\">\n                                  <div class=\"field-label\">当前条款：</div>\n                                  <div class=\"field-value\">{{ issue.current }}</div>\n                                </div>\n                                <div class=\"issue-field\">\n                                  <div class=\"field-label\">问题：</div>\n                                  <div class=\"field-value text-danger\">{{ issue.problem }}</div>\n                                </div>\n                              </div>\n                              <div class=\"issue-actions\">\n                                <el-button size=\"small\" type=\"primary\" @click=\"viewRegulation(issue)\">查看法规</el-button>\n                                <el-button size=\"small\" type=\"default\">忽略</el-button>\n                              </div>\n                            </div>\n                          </el-collapse-item>\n\n                          <el-collapse-item title=\"条款完整性\" name=\"clauseCompleteness\">\n                            <template #title>\n                              <div class=\"collapse-header\">\n                                <el-icon class=\"text-warning\"><Document /></el-icon>\n                                <span>条款完整性</span>\n                                <el-badge :value=\"checkResult.completenessIssues.length\" type=\"warning\" class=\"ms-2\" v-if=\"checkResult.completenessIssues.length > 0\"></el-badge>\n                              </div>\n                            </template>\n                            \n                            <div v-if=\"checkResult.completenessIssues.length === 0\" class=\"empty-result\">\n                              <el-empty description=\"未发现条款完整性问题\" :image-size=\"80\"></el-empty>\n                            </div>\n                            \n                            <div v-for=\"(issue, index) in checkResult.completenessIssues\" :key=\"'comp-'+index\" class=\"check-issue-card\">\n                              <div class=\"issue-header\">\n                                <el-icon class=\"text-warning fs-4\"><Warning /></el-icon>\n                                <h6>{{ issue.title }}</h6>\n                              </div>\n                              <div class=\"issue-content\">\n                                <div class=\"issue-field\">\n                                  <div class=\"field-label\">建议：</div>\n                                  <div class=\"field-value\">{{ issue.suggestion }}</div>\n                                </div>\n                              </div>\n                              <div class=\"issue-actions\">\n                                <el-button size=\"small\" type=\"default\">忽略</el-button>\n                              </div>\n                            </div>\n                          </el-collapse-item>\n\n                          <el-collapse-item title=\"风险提示\" name=\"riskAlert\">\n                            <template #title>\n                              <div class=\"collapse-header\">\n                                <el-icon class=\"text-info\"><InfoFilled /></el-icon>\n                                <span>风险提示</span>\n                                <el-badge :value=\"checkResult.riskAlerts.length\" type=\"info\" class=\"ms-2\" v-if=\"checkResult.riskAlerts.length > 0\"></el-badge>\n                              </div>\n                            </template>\n                            \n                            <div v-if=\"checkResult.riskAlerts.length === 0\" class=\"empty-result\">\n                              <el-empty description=\"未发现风险提示\" :image-size=\"80\"></el-empty>\n                            </div>\n                            \n                            <div v-for=\"(issue, index) in checkResult.riskAlerts\" :key=\"'risk-'+index\" class=\"check-issue-card\">\n                              <div class=\"issue-header\">\n                                <el-icon class=\"text-info fs-4\"><InfoFilled /></el-icon>\n                                <h6>{{ issue.title }}</h6>\n                              </div>\n                              <div class=\"issue-content\">\n                                <div class=\"issue-field\">\n                                  <div class=\"field-label\">建议：</div>\n                                  <div class=\"field-value\">{{ issue.suggestion }}</div>\n                                </div>\n                              </div>\n                              <div class=\"issue-actions\">\n                                <el-button size=\"small\" type=\"default\">忽略</el-button>\n                              </div>\n                            </div>\n                          </el-collapse-item>\n                        </el-collapse>\n                      </div>\n                    </div>\n                  </el-scrollbar>\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n\n          <el-tab-pane label=\"操作记录\" name=\"history\">\n            <h5>操作记录</h5>\n            <el-timeline>\n              <el-timeline-item\n                v-for=\"(activity, index) in contractHistory\"\n                :key=\"index\"\n                :timestamp=\"activity.time\"\n              >\n                {{ activity.content }}\n              </el-timeline-item>\n            </el-timeline>\n            <el-empty \n              v-if=\"contractHistory.length === 0\" \n              description=\"暂无操作记录\"\n            ></el-empty>\n          </el-tab-pane>\n        </el-tabs>\n        \n        <hr>\n        <div class=\"mt-3 text-end\">\n          <el-button @click=\"goBack\">返回列表</el-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- AI建议面板 (初始隐藏) -->\n    <div \n      v-if=\"activeTab === 'contractText'\"\n      class=\"ai-suggestions-panel\" \n      :class=\"{ 'show': showAiSuggestions, 'collapsed': isAiPanelCollapsed }\"\n      id=\"aiSuggestionsPanel\"\n    >\n      <div class=\"panel-header\">\n        <h5><el-icon class=\"text-warning\"><Reading /></el-icon> AI 润色建议</h5>\n        <div class=\"panel-controls\">\n          <el-button type=\"text\" @click=\"toggleAiPanelCollapse\">\n            <el-icon v-if=\"isAiPanelCollapsed\"><ArrowRight /></el-icon>\n            <el-icon v-else><ArrowLeft /></el-icon>\n          </el-button>\n          <el-button type=\"text\" @click=\"hideAiPanel\">\n            <el-icon><Close /></el-icon>\n          </el-button>\n        </div>\n      </div>\n      \n      <div v-if=\"realTimePolishLoading\" class=\"text-center my-2\">\n        <el-icon class=\"is-loading\"><Loading /></el-icon>\n        <span class=\"ms-1\">正在分析内容...</span>\n      </div>\n      \n      <div v-if=\"!realTimePolishLoading && aiSuggestions.syntax.length === 0 && aiSuggestions.terminology.length === 0\" class=\"text-center my-3 text-muted\">\n        <el-icon><InfoFilled /></el-icon>\n        <p>没有建议可显示</p>\n        <p class=\"small\">点击上方\"AI润色分析\"按钮可获取建议</p>\n      </div>\n      \n      <el-collapse v-model=\"activeSuggestionCollapse\">\n        <el-collapse-item name=\"syntax\">\n          <template #title>\n            <span><el-icon class=\"me-1\"><Edit /></el-icon> 语法与格式 ({{ aiSuggestions.syntax.length }})</span>\n          </template>\n          \n          <div v-if=\"aiSuggestions.syntax.length === 0\" class=\"p-3 text-center text-muted\">\n            没有语法或格式问题\n          </div>\n          \n          <div \n            v-for=\"(suggestion, index) in aiSuggestions.syntax\" \n            :key=\"'syntax-'+index\" \n            class=\"suggestion-item\"\n          >\n            <div class=\"original-text\">{{ suggestion.original }}</div>\n            <div class=\"suggested-text\">{{ suggestion.suggested }}</div>\n            <p class=\"explanation\">{{ suggestion.explanation }}</p>\n            <div class=\"suggestion-actions text-end\">\n              <el-button size=\"small\" @click=\"ignoreSuggestion('syntax', index)\">忽略</el-button>\n              <el-button size=\"small\" type=\"success\" @click=\"adoptSuggestion('syntax', index)\">采纳</el-button>\n            </div>\n          </div>\n        </el-collapse-item>\n\n        <el-collapse-item name=\"terminology\">\n          <template #title>\n            <span><el-icon class=\"me-1\"><Reading /></el-icon> 专业术语 ({{ aiSuggestions.terminology.length }})</span>\n          </template>\n          \n          <div v-if=\"aiSuggestions.terminology.length === 0\" class=\"p-3 text-center text-muted\">\n            没有术语问题\n          </div>\n          \n          <div \n            v-for=\"(suggestion, index) in aiSuggestions.terminology\" \n            :key=\"'term-'+index\" \n            class=\"suggestion-item\"\n          >\n            <div class=\"original-text\">{{ suggestion.original }}</div>\n            <div class=\"suggested-text\">{{ suggestion.suggested }}</div>\n            <p class=\"explanation\">{{ suggestion.explanation }}</p>\n            <div class=\"suggestion-actions text-end\">\n              <el-button size=\"small\" @click=\"ignoreSuggestion('terminology', index)\">忽略</el-button>\n              <el-button size=\"small\" type=\"success\" @click=\"adoptSuggestion('terminology', index)\">采纳</el-button>\n            </div>\n          </div>\n        </el-collapse-item>\n      </el-collapse>\n\n      <div class=\"text-center mt-3\" v-if=\"aiSuggestions.syntax.length > 0 || aiSuggestions.terminology.length > 0\">\n        <el-button type=\"primary\" size=\"small\" @click=\"applyAllSuggestions\">应用所有采纳的建议</el-button>\n      </div>\n    </div>\n\n    <!-- 永久可见的展开按钮，只在合同文本标签页且面板隐藏时显示 -->\n    <div \n      v-if=\"activeTab === 'contractText' && !showAiSuggestions\"\n      class=\"panel-open-button\"\n      @click=\"showAiSuggestions = true\"\n    >\n      <el-tooltip content=\"显示AI润色建议\" placement=\"left\">\n        <el-button type=\"primary\" size=\"small\" circle>\n          <el-icon><MagicStick /></el-icon>\n        </el-button>\n      </el-tooltip>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, computed, watch, onUnmounted, nextTick, onBeforeUnmount } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage, ElLoading, ElMessageBox } from 'element-plus'\nimport {\n  Download, DocumentAdd, MagicStick, Check, Warning, WarningFilled,\n  Document, InfoFilled, Edit, Reading, Close, Loading, ArrowRight, ArrowLeft,\n  Timer, Position, Setting, DocumentChecked, Notebook, Plus\n} from '@element-plus/icons-vue'\nimport { \n  getContractDetail, \n  updateContract, \n  checkContract,\n  aiPolishContract \n} from '@/api/contract'\nimport request from '@/utils/request'\n// 引入富文本编辑器\nimport { QuillEditor } from '@vueup/vue-quill'\n// 引入富文本编辑器样式\nimport '@vueup/vue-quill/dist/vue-quill.snow.css'\n// 引入lodash的debounce函数用于性能优化\nimport { debounce } from 'lodash-es'\n\n// 延迟加载Quill模块确保只在客户端执行\nlet SuggestionBlot\nlet SuggestionModule\n\n// 初始化Quill扩展 - 确保只在浏览器环境中执行\nconst initQuillExtensions = () => {\n  if (typeof window === 'undefined') return\n  \n  // 确保Quill已经通过CDN加载\n  if (!window.Quill) {\n    console.error('Quill未加载，无法初始化扩展')\n    return\n  }\n  \n  // 创建自定义Quill内联格式 - 建议高亮\n  const InlineSuggestionBlot = window.Quill.import('blots/inline')\n  SuggestionBlot = class extends InlineSuggestionBlot {\n    static create(value) {\n      const node = super.create()\n      node.setAttribute('data-suggestion-id', value.id)\n      node.setAttribute('class', 'suggestion-highlight')\n      node.setAttribute('data-original', value.original)\n      node.setAttribute('data-suggested', value.suggested)\n      \n      // 添加提示和更明显的视觉样式\n      node.title = '点击查看修改建议'\n      node.style.position = 'relative'\n      node.style.backgroundColor = 'rgba(255, 217, 102, 0.3)'\n      node.style.borderBottom = '1px dashed #ffb300'\n      node.style.padding = '0 2px'\n      node.style.cursor = 'pointer'\n      \n      return node\n    }\n  \n    static formats(node) {\n      return {\n        id: node.getAttribute('data-suggestion-id'),\n        original: node.getAttribute('data-original'),\n        suggested: node.getAttribute('data-suggested')\n      }\n    }\n  }\n  SuggestionBlot.blotName = 'suggestion'\n  SuggestionBlot.tagName = 'span'\n  window.Quill.register(SuggestionBlot)\n  \n  // 自定义Quill Module - 处理建议交互\n  SuggestionModule = class {\n    constructor(quill, options) {\n      this.quill = quill\n      this.options = options\n      this.suggestions = options.suggestions || []\n      this.container = document.createElement('div')\n      this.container.className = 'ql-suggestion-tooltip'\n      this.container.style.display = 'none'\n      document.body.appendChild(this.container)\n      \n      this.quill.on('text-change', () => {\n        this.update()\n      })\n      \n      // 保存点击监听器的引用以便于清理\n      this._clickListener = (e) => {\n        if (e.target && e.target.classList.contains('suggestion-highlight')) {\n          this.showTooltip(e.target)\n        } else {\n          this.hideTooltip()\n        }\n      }\n      \n      this.quill.root.addEventListener('click', this._clickListener)\n      \n      // 使用MutationObserver替代DOMNodeInserted监听\n      this.observer = new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n          if (mutation.type === 'childList' || mutation.type === 'characterData') {\n            this.update()\n          }\n        }\n      })\n      \n      // 配置observer监听子节点变化和内容变化\n      this.observer.observe(this.quill.root, {\n        childList: true,\n        subtree: true,\n        characterData: true\n      })\n    }\n    \n    update() {\n      // 更新建议标记\n    }\n    \n    showTooltip(element) {\n      const rect = element.getBoundingClientRect()\n      const id = element.getAttribute('data-suggestion-id')\n      const original = element.getAttribute('data-original')\n      const suggested = element.getAttribute('data-suggested')\n      \n      // 增强工具提示，确保前后对比清晰\n      this.container.innerHTML = `\n        <div class=\"suggestion-tooltip-content\">\n          <div class=\"suggestion-tooltip-header\">AI文本优化建议</div>\n          <div class=\"suggestion-tooltip-body\">\n            <div class=\"suggestion-label\">原文本:</div>\n            <div class=\"suggestion-original\">${original}</div>\n            <div class=\"suggestion-arrow\"><span>→</span></div>\n            <div class=\"suggestion-label\">建议修改为:</div>\n            <div class=\"suggestion-suggested\">${suggested}</div>\n            <div class=\"suggestion-diff\">\n              ${this._generateDiff(original, suggested)}\n            </div>\n          </div>\n          <div class=\"suggestion-actions\">\n            <button class=\"btn-adopt\" data-id=\"${id}\">采纳</button>\n            <button class=\"btn-ignore\" data-id=\"${id}\">忽略</button>\n          </div>\n        </div>\n      `\n      \n      this.container.style.display = 'block'\n      this.container.style.top = `${rect.bottom + window.scrollY + 5}px`\n      this.container.style.left = `${rect.left + window.scrollX}px`\n      \n      // 使用现代事件绑定方法\n      const adoptBtn = this.container.querySelector('.btn-adopt')\n      const ignoreBtn = this.container.querySelector('.btn-ignore')\n      \n      // 移除旧的事件监听器（如果有）\n      if (this._adoptListener) {\n        adoptBtn.removeEventListener('click', this._adoptListener)\n      }\n      if (this._ignoreListener) {\n        ignoreBtn.removeEventListener('click', this._ignoreListener)\n      }\n      \n      // 添加新的事件监听器\n      this._adoptListener = () => {\n        this.options.onAdopt && this.options.onAdopt(id)\n        this.hideTooltip()\n      }\n      \n      this._ignoreListener = () => {\n        this.options.onIgnore && this.options.onIgnore(id)\n        this.hideTooltip()\n      }\n      \n      adoptBtn.addEventListener('click', this._adoptListener)\n      ignoreBtn.addEventListener('click', this._ignoreListener)\n    }\n    \n    // 生成差异对比\n    _generateDiff(original, suggested) {\n      // 简单的差异标记\n      try {\n        if (!original || !suggested) return '';\n        \n        const words1 = original.split(/\\s+/);\n        const words2 = suggested.split(/\\s+/);\n        \n        // 寻找第一个不同的词\n        let firstDiff = 0;\n        while (firstDiff < words1.length && firstDiff < words2.length && \n              words1[firstDiff] === words2[firstDiff]) {\n          firstDiff++;\n        }\n        \n        // 找最后一个不同的词（从后往前）\n        let lastDiff1 = words1.length - 1;\n        let lastDiff2 = words2.length - 1;\n        while (lastDiff1 >= 0 && lastDiff2 >= 0 && \n              words1[lastDiff1] === words2[lastDiff2]) {\n          lastDiff1--;\n          lastDiff2--;\n        }\n        \n        // 提取相同的前缀和后缀\n        const prefix = words1.slice(0, firstDiff).join(' ');\n        const suffix1 = words1.slice(lastDiff1 + 1).join(' ');\n        \n        // 提取不同的部分\n        const diff1 = words1.slice(firstDiff, lastDiff1 + 1).join(' ');\n        const diff2 = words2.slice(firstDiff, lastDiff2 + 1).join(' ');\n        \n        return `\n          <div class=\"diff-explain\">具体差异:</div>\n          <div class=\"diff-content\">\n            ${prefix ? `<span class=\"diff-common\">${prefix}</span> ` : ''}\n            <span class=\"diff-removed\">${diff1}</span> → \n            <span class=\"diff-added\">${diff2}</span>\n            ${suffix1 ? ` <span class=\"diff-common\">${suffix1}</span>` : ''}\n          </div>\n        `;\n      } catch (e) {\n        console.error('生成差异对比失败:', e);\n        return '';\n      }\n    }\n    \n    hideTooltip() {\n      this.container.style.display = 'none'\n    }\n    \n    applySuggestions(suggestions) {\n      this.suggestions = suggestions\n      \n      // 先清除所有已有的建议标记\n      this.clearAllSuggestionFormats()\n      \n      // 应用新的建议标记\n      suggestions.forEach(suggestion => {\n        // 在文档中查找建议的原始文本位置\n        const content = this.quill.getText()\n        let index = content.indexOf(suggestion.original)\n        \n        if (index !== -1) {\n          // 添加建议格式\n          this.quill.formatText(index, suggestion.original.length, {\n            'suggestion': {\n              id: suggestion.id,\n              original: suggestion.original,\n              suggested: suggestion.suggested\n            }\n          }, 'api');\n        }\n      });\n    }\n    \n    clearAllSuggestionFormats() {\n      const content = this.quill.getText()\n      this.quill.formatText(0, content.length, { 'suggestion': false }, 'api')\n    }\n    \n    // 在组件销毁时断开MutationObserver\n    destroy() {\n      // 清理观察器\n      if (this.observer) {\n        this.observer.disconnect()\n        this.observer = null\n      }\n      \n      // 清理事件监听器\n      if (this.quill && this.quill.root) {\n        this.quill.root.removeEventListener('click', this._clickListener)\n      }\n      \n      // 清理按钮事件监听器\n      if (this._adoptListener) {\n        const adoptBtn = this.container.querySelector('.btn-adopt')\n        if (adoptBtn) {\n          adoptBtn.removeEventListener('click', this._adoptListener)\n        }\n      }\n      \n      if (this._ignoreListener) {\n        const ignoreBtn = this.container.querySelector('.btn-ignore')\n        if (ignoreBtn) {\n          ignoreBtn.removeEventListener('click', this._ignoreListener)\n        }\n      }\n      \n      // 移除tooltip容器\n      if (this.container && this.container.parentNode) {\n        this.container.parentNode.removeChild(this.container)\n        this.container = null\n      }\n    }\n  }\n  \n  window.Quill.register('modules/suggestion', SuggestionModule)\n}\n\nexport default {\n  name: 'ContractDetail',\n  components: {\n    QuillEditor,\n    Download, DocumentAdd, MagicStick, Check, Warning, WarningFilled,\n    Document, InfoFilled, Edit, Reading, Close, Loading, ArrowRight, ArrowLeft,\n    Timer, Position, Setting, DocumentChecked, Notebook, Plus\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    // 确保contractId是数字类型，且只在合同详情页面有效\n    const contractId = computed(() => {\n      // 如果不在合同详情页面，直接返回null\n      if (route.name !== 'ContractDetail') {\n        return null;\n      }\n      const id = route.params.id;\n      return !isNaN(Number(id)) ? Number(id) : null;\n    })\n    \n    // 状态变量和响应式数据\n    const activeTab = ref('basicInfo')\n    const activeCollapse = ref(['legalCompliance', 'clauseCompleteness', 'riskAlert'])\n    const activeSuggestionCollapse = ref(['syntax', 'terminology'])\n    \n    // 个性化润色偏好设置\n    const polishPreferences = reactive({\n      style: 'neutral',       // 语言风格：正式严谨、中性专业、简洁明了\n      contractType: 'general', // 合同类型：通用、买卖、劳务等\n      focus: ['grammar', 'terminology'], // 优化重点：语法、术语、句式、一致性\n    })\n    \n    // 检查偏好设置\n    const checkPreferences = reactive({\n      legalCompliance: true,  // 法律合规性检查\n      completeness: true,     // 条款完整性检查\n      riskAlert: true,        // 风险提示检查\n      contractType: 'general', // 合同类型参考：通用、买卖、劳务等\n      checkDepth: 'standard'  // 检查深度：标准、深度、快速\n    })\n    \n    // 自定义术语管理\n    const customTerminologies = ref([])\n    const newTerminology = reactive({\n      term: ''\n    })\n    \n    // 添加自定义术语\n    const addCustomTerminology = () => {\n      if (!newTerminology.term.trim()) return\n      \n      if (!customTerminologies.value.includes(newTerminology.term.trim())) {\n        customTerminologies.value.push(newTerminology.term.trim())\n        newTerminology.term = ''\n        \n        // 如果用户添加了术语，自动勾选\"术语\"优化重点\n        if (!polishPreferences.focus.includes('terminology')) {\n          polishPreferences.focus.push('terminology')\n        }\n        \n        // 保存到本地存储\n        localStorage.setItem('customTerminologies', JSON.stringify(customTerminologies.value))\n        \n        ElMessage.success('已添加术语')\n      } else {\n        ElMessage.warning('该术语已存在')\n        newTerminology.term = ''\n      }\n    }\n    \n    // 移除自定义术语\n    const removeCustomTerminology = (index) => {\n      customTerminologies.value.splice(index, 1)\n      \n      // 保存到本地存储\n      localStorage.setItem('customTerminologies', JSON.stringify(customTerminologies.value))\n    }\n    \n    const isChecking = ref(false)\n    const quillEditor = ref(null)\n    const showAiSuggestions = ref(false)\n    const isLoading = ref(false)\n    const isSaving = ref(false)\n    \n    // 添加合同编辑区域的引用\n    const contractEditContainer = ref(null)\n    const aiPolishSidebar = ref(null)\n    const editorMainArea = ref(null)\n    \n    // 添加合同检查区域的引用\n    const contractCheckContainer = ref(null)\n    const checkSidebar = ref(null)\n    const checkResultArea = ref(null)\n    \n    // 实时AI润色相关状态，改为手动触发\n    const isRealTimePolishing = ref(false) // 改为默认关闭\n    const realTimePolishLoading = ref(false)\n    const lastAnalyzedContent = ref('')\n    const lastAnalysisTime = ref(0)\n    \n    // 内联建议设置\n    const enableInlineSuggestions = ref(true) // 控制是否在编辑器中显示内联建议\n    \n    // 面板折叠状态\n    const isAiPanelCollapsed = ref(false)\n    \n    // 切换面板折叠状态\n    const toggleAiPanelCollapse = () => {\n      isAiPanelCollapsed.value = !isAiPanelCollapsed.value\n    }\n    \n    // 富文本编辑器配置\n    const editorOption = {\n      placeholder: '请输入合同内容',\n      modules: {\n        toolbar: [\n          ['bold', 'italic', 'underline', 'strike'],\n          ['blockquote', 'code-block'],\n          [{ 'header': 1 }, { 'header': 2 }],\n          [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n          [{ 'script': 'sub' }, { 'script': 'super' }],\n          [{ 'indent': '-1' }, { 'indent': '+1' }],\n          [{ 'direction': 'rtl' }],\n          [{ 'size': ['small', false, 'large', 'huge'] }],\n          [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n          [{ 'color': [] }, { 'background': [] }],\n          [{ 'font': [] }],\n          [{ 'align': [] }],\n          ['clean']\n        ],\n        suggestion: {\n          suggestions: [],\n          onAdopt: (suggestionId) => {\n            adoptInlineEditSuggestion(suggestionId)\n          },\n          onIgnore: (suggestionId) => {\n            ignoreInlineEditSuggestion(suggestionId)\n          }\n        }\n      }\n    }\n    \n    // 合同详情数据\n    const contractDetails = reactive({\n      id: contractId.value,\n      number: '',\n      title: '',\n      type: '',\n      amount: '',\n      company: '',\n      signDate: '',\n      startDate: '',\n      expireDate: '',\n      content: '',\n      status: '',\n      created_by: null,\n      created_at: '',\n      updated_at: '',\n      attachments: [],\n      actions: []\n    })\n    \n    // 计算合同标题\n    const contractTitle = computed(() => {\n      return contractDetails.title ? `合同详情: ${contractDetails.number}` : '加载中...'\n    })\n\n    // 合同检查结果\n    const checkResult = reactive({\n      totalIssues: 0,\n      criticalIssues: 0,\n      warningIssues: 0,\n      suggestions: 0,\n      legalComplianceIssues: [],\n      completenessIssues: [],\n      riskAlerts: []\n    })\n\n    // AI建议\n    const aiSuggestions = reactive({\n      syntax: [],\n      terminology: []\n    })\n\n    // 操作历史 - 从合同actions中获取\n    const contractHistory = computed(() => {\n      return contractDetails.actions?.map(action => ({\n        time: action.created_at,\n        content: `${action.user?.username || '系统'} ${action.description}`\n      })) || []\n    })\n\n    // 获取合同详情\n    const getContractDetails = async (loadSilently = false) => {\n      try {\n        // 检查是否在合同详情页面\n        if (route.name !== 'ContractDetail') {\n          console.log('不在合同详情页面，跳过加载')\n          return\n        }\n        \n        // 检查contractId是否有效\n        if (!contractId.value || contractId.value === 'contract' || isNaN(contractId.value)) {\n          console.log('无效的合同ID:', contractId.value)\n          // 不显示错误消息，只在控制台输出日志\n          // ElMessage.error('无效的合同ID')\n          router.push({ name: 'Contract' })\n          return\n        }\n        \n        isLoading.value = true\n        const response = await getContractDetail(contractId.value)\n        console.log('合同详情API响应:', response)\n        \n        // 确保response.data存在，适应request.js中的数据结构处理\n        const contractData = response.data || response\n        \n        // 填充合同详情\n        Object.keys(contractDetails).forEach(key => {\n          if (key in contractData) {\n            contractDetails[key] = contractData[key]\n          }\n        })\n        \n        // 特殊处理content字段\n        if (contractData.content) {\n          contractDetails.content = contractData.content\n        } else {\n          // 修正默认内容，移除空标签和无意义的省略号\n          contractDetails.content = `<p>这里是合同文本内容，请编辑...</p>\n<p><strong>甲方：</strong>我方公司名称</p>\n<p><strong>乙方：</strong>${contractDetails.company || '对方公司'}</p>`\n        }\n        \n        // 转换日期格式\n        if (contractData.sign_date) contractDetails.signDate = contractData.sign_date\n        if (contractData.start_date) contractDetails.startDate = contractData.start_date\n        if (contractData.expire_date) contractDetails.expireDate = contractData.expire_date\n        \n        // 格式化金额\n        if (contractData.amount) {\n          contractDetails.amount = Number(contractData.amount).toLocaleString('zh-CN')\n        }\n        \n        // 只有在非静默加载时才显示成功提示\n        if (!loadSilently) {\n          ElMessage.success('合同详情加载成功')\n        }\n      } catch (error) {\n        console.error('加载合同详情失败:', error)\n        ElMessage.error('加载合同详情失败，请稍后重试')\n      } finally {\n        isLoading.value = false\n      }\n    }\n\n    // 返回列表\n    const goBack = () => {\n      router.push({ name: 'Contract' })\n    }\n\n    // 保存更改\n    const saveChanges = async () => {\n      try {\n        isSaving.value = true\n        const loading = ElLoading.service({\n          lock: true,\n          text: '保存中...',\n          background: 'rgba(0, 0, 0, 0.7)'\n        })\n        \n        // 格式化日期为YYYY-MM-DD\n        const formatDate = (date) => {\n          if (!date) return ''\n          \n          // 处理字符串日期 - 确保格式正确\n          if (typeof date === 'string') {\n            // 检查是否已经是正确的格式\n            if (/^\\d{4}-\\d{2}-\\d{2}$/.test(date)) {\n              return date\n            }\n            \n            // 尝试解析其他格式的字符串日期\n            const parsedDate = new Date(date)\n            if (!isNaN(parsedDate.getTime())) {\n              return formatDateObject(parsedDate)\n            }\n            \n            return ''\n          }\n          \n          // 处理日期对象\n          if (date instanceof Date && !isNaN(date.getTime())) {\n            return formatDateObject(date)\n          }\n          \n          return ''\n        }\n        \n        // 辅助函数：将Date对象格式化为YYYY-MM-DD\n        const formatDateObject = (dateObj) => {\n          const year = dateObj.getFullYear()\n          const month = String(dateObj.getMonth() + 1).padStart(2, '0')\n          const day = String(dateObj.getDate()).padStart(2, '0')\n          return `${year}-${month}-${day}`\n        }\n        \n        // 准备更新数据\n        const updateData = {\n          title: contractDetails.title,\n          type: contractDetails.type,\n          amount: contractDetails.amount.toString().replace(/[^\\d.]/g, ''),\n          company: contractDetails.company,\n          sign_date: formatDate(contractDetails.signDate),\n          start_date: formatDate(contractDetails.startDate),\n          expire_date: formatDate(contractDetails.expireDate),\n          content: contractDetails.content\n        }\n        \n        // 确保日期字段有效\n        if (!updateData.sign_date) {\n          ElMessage.warning('签约日期格式无效，请检查')\n          loading.close()\n          isSaving.value = false\n          return\n        }\n        \n        // 调用API保存更新\n        await updateContract(contractId.value, updateData)\n        \n        ElMessage.success('合同更改已保存')\n        \n        // 重新获取最新数据，静默加载不显示提示\n        await getContractDetails(true)\n        \n        loading.close()\n      } catch (error) {\n        console.error('保存合同更改失败:', error)\n        \n        // 添加详细错误信息日志\n        if (error.response && error.response.data) {\n          console.error('错误响应数据:', error.response.data)\n        }\n        \n        ElMessage.error('保存失败，请检查输入内容和日期格式')\n      } finally {\n        isSaving.value = false\n      }\n    }\n\n    // 开始合同检查\n    const startContractCheck = async () => {\n      console.log(\"%c========== 开始合同检查 ==========\", \"background:#3a8ee6;color:white;padding:4px 8px;border-radius:4px;font-weight:bold;\");\n      console.log(\"startContractCheck函数被调用\");\n      \n      // 强制修复滚动样式\n      if (checkResultArea.value) {\n        console.log(\"确保检查结果区域样式正确\");\n        \n        // 确保check-result-area容器占满高度\n        checkResultArea.value.style.height = '100%';\n        \n        // el-scrollbar将自动处理滚动，不需要额外设置\n        console.log(\"使用el-scrollbar组件处理滚动\");\n      }\n      \n      // 不再尝试处理自定义滚动容器，而是完全依赖el-scrollbar\n      \n      // 尝试检索当前活动的标签\n      console.log(\"当前活动标签：\", activeTab.value);\n      // 检查HTML是否存在\n      if (document.querySelector(\".contract-edit-container\")) {\n        console.log(\"合同检查容器DOM元素存在\");\n      } else {\n        console.log(\"警告：合同检查容器DOM元素不存在！\");\n        // 尝试查找其他可能的容器\n        if (document.querySelector(\".contract-detail-container\")) {\n          console.log(\"发现合同详情容器元素\");\n        }\n        if (document.getElementById(\"contractCheckContainer\")) {\n          console.log(\"通过ID找到合同检查容器元素\");\n        }\n      }\n      \n      // 检查滚动容器状态\n      if (checkResultArea.value) {\n        const style = window.getComputedStyle(checkResultArea.value);\n        console.log(\"检查结果区域样式:\", {\n          display: style.display,\n          height: style.height,\n          overflow: style.overflow,\n          position: style.position\n        });\n        \n        // 强制刷新布局\n        console.log(\"强制刷新检查结果区域布局\");\n        checkResultArea.value.style.display = 'none';\n        setTimeout(() => {\n          checkResultArea.value.style.display = 'flex';\n          \n          // 获取滚动容器并检查\n          const scrollWrapper = checkResultArea.value.querySelector('.check-content-scroll-wrapper');\n          if (scrollWrapper) {\n            const scrollStyle = window.getComputedStyle(scrollWrapper);\n            console.log(\"滚动容器样式:\", {\n              height: scrollStyle.height,\n              overflow: scrollStyle.overflow,\n              position: scrollStyle.position\n            });\n          } else {\n            console.error(\"未找到滚动容器元素！\");\n          }\n        }, 50);\n      } else {\n        console.error(\"checkResultArea引用不存在！\");\n      }\n      \n      if (isChecking.value) {\n        console.log(\"已有检查正在进行中，忽略此次点击\");\n        return;\n      }\n      \n      // 检查合同ID是否有效\n      if (!contractId.value || isNaN(contractId.value)) {\n        console.error(\"合同ID无效:\", contractId.value);\n        ElMessage.error('合同ID无效，无法进行检查');\n        return;\n      }\n      \n      // 检查合同内容是否为空\n      if (!contractDetails.content) {\n        console.log(\"合同内容为空，提示用户\");\n        ElMessage.warning('请先在合同文本标签页输入合同内容');\n        return;\n      }\n      \n      // 输出关键信息\n      console.log(\"开始执行合同检查 - 详细信息:\");\n      console.log(\"合同ID:\", contractId.value, typeof contractId.value);\n      console.log(\"内容长度:\", contractDetails.content.length);\n      console.log(\"检查偏好设置:\", JSON.stringify(checkPreferences, null, 2));\n      \n      isChecking.value = true;\n      let loadingInstance = null;\n      \n      try {\n        // 显示加载提示\n        console.log(\"显示加载提示\");\n        loadingInstance = ElLoading.service({\n          text: 'AI正在分析合同文本，请稍候...',\n          background: 'rgba(255, 255, 255, 0.7)'\n        });\n        \n        ElMessage.info('AI分析合同文本中...');\n        \n        // 准备请求参数，包含个性化设置\n        const requestParams = {\n          content: contractDetails.content,\n          preferences: {\n            contract_type: checkPreferences.contractType,\n            check_depth: checkPreferences.checkDepth,\n            check_areas: []\n          }\n        };\n        \n        // 添加检查区域\n        if (checkPreferences.legalCompliance) {\n          requestParams.preferences.check_areas.push('legal_compliance');\n        }\n        if (checkPreferences.completeness) {\n          requestParams.preferences.check_areas.push('completeness');\n        }\n        if (checkPreferences.riskAlert) {\n          requestParams.preferences.check_areas.push('risk_alert');\n        }\n        \n        // 如果没有选择任何检查区域，默认选择所有区域\n        if (requestParams.preferences.check_areas.length === 0) {\n          console.log(\"未选择任何检查区域，使用默认全部检查\");\n          ElMessage.warning('未选择任何检查区域，将使用默认全部检查');\n          requestParams.preferences.check_areas = ['legal_compliance', 'completeness', 'risk_alert'];\n          // 同时更新UI中的复选框状态\n          checkPreferences.legalCompliance = true;\n          checkPreferences.completeness = true;\n          checkPreferences.riskAlert = true;\n        }\n        \n        console.log(\"发送检查请求参数:\", JSON.stringify(requestParams, null, 2));\n        console.log(\"发送到API:\", `/api/contract/contracts/${contractId.value}/check_contract/`);\n        \n        // 开始发送请求的时间戳\n        const startTime = new Date().getTime();\n        console.log(\"开始请求时间:\", new Date().toLocaleTimeString());\n        \n        // 发送API请求\n        const result = await checkContract(contractId.value, requestParams);\n        \n        // 请求结束的时间戳\n        const endTime = new Date().getTime();\n        console.log(\"请求完成时间:\", new Date().toLocaleTimeString());\n        console.log(\"请求耗时:\", (endTime - startTime) / 1000, \"秒\");\n        console.log(\"收到检查响应:\", result);\n        \n        if (result.error) {\n          console.error(\"合同检查API返回错误:\", result.error);\n          ElMessage.error(`合同文本检查失败: ${result.error}`);\n          return;\n        }\n        \n        // 更新检查结果\n        console.log(\"更新检查结果对象...\");\n        checkResult.totalIssues = result.totalIssues || 0;\n        checkResult.criticalIssues = result.criticalIssues || 0;\n        checkResult.warningIssues = result.warningIssues || 0;\n        checkResult.suggestions = result.suggestions || 0;\n        \n        // 更新各项问题\n        checkResult.legalComplianceIssues = result.legalComplianceIssues || [];\n        checkResult.completenessIssues = result.completenessIssues || [];\n        checkResult.riskAlerts = result.riskAlerts || [];\n        \n        if (checkResult.totalIssues > 0) {\n          console.log(`发现${checkResult.totalIssues}个问题，提示用户查看详情`);\n          ElMessage.warning(`发现${checkResult.totalIssues}个问题，请查看详情`);\n        } else {\n          console.log('未发现问题，提示用户合同文本质量良好');\n          ElMessage.success('未发现明显问题，合同文本质量良好');\n        }\n        \n        // 自动展开第一个有问题的部分\n        if (checkResult.legalComplianceIssues.length > 0) {\n          console.log(\"自动展开法律合规性部分\");\n          activeCollapse.value = ['legalCompliance'];\n        } else if (checkResult.completenessIssues.length > 0) {\n          console.log(\"自动展开条款完整性部分\");\n          activeCollapse.value = ['clauseCompleteness'];\n        } else if (checkResult.riskAlerts.length > 0) {\n          console.log(\"自动展开风险提示部分\");\n          activeCollapse.value = ['riskAlert'];\n        }\n        \n        console.log(\"合同检查完成，结果:\", checkResult);\n        console.log(\"%c========== 合同检查完成 ==========\", \"background:#67c23a;color:white;padding:4px 8px;border-radius:4px;font-weight:bold;\");\n        \n      } catch (error) {\n        console.error('%c合同文本检查失败:', 'color:red;font-weight:bold;', error);\n        console.error('错误详情:', JSON.stringify(error, null, 2));\n        // 尝试提取更多错误信息\n        if (error.response) {\n          console.error('服务器响应:', error.response.status, error.response.statusText);\n          console.error('响应数据:', error.response.data);\n        }\n        ElMessage.error(`合同文本检查失败: ${error.message || '请稍后重试'}`);\n      } finally {\n        // 关闭加载提示\n        if (loadingInstance) {\n          console.log(\"关闭加载提示\");\n          loadingInstance.close();\n        }\n        isChecking.value = false;\n        console.log(\"重置检查状态 isChecking = false\");\n      }\n    };\n\n    // 预计时间提示\n    const estimatedTime = computed(() => {\n      const content = contractDetails.content || '';\n      const charCount = content.length;\n      \n      // 根据字符数计算预估时间\n      if (charCount <= 1000) return '约10秒';\n      if (charCount <= 5000) return '约30秒';\n      if (charCount <= 15000) return '约1分钟';\n      if (charCount <= 30000) return '约2分钟';\n      return '2-3分钟';\n    });\n\n    // 手动触发文本分析润色功能\n    const manualAnalyzeText = async () => {\n      // 检查是否有编辑器内容\n      if (!contractDetails.content) {\n        ElMessage.warning('请先输入合同内容');\n        return;\n      }\n      \n      // 更新状态，显示加载\n      realTimePolishLoading.value = true;\n\n      // 添加超时计时器\n      const timeoutPromise = new Promise((_, reject) => {\n        setTimeout(() => reject(new Error('分析请求超时，服务器可能繁忙')), 65000);\n      });\n      \n      // 显示加载提示\n      const loadingInstance = ElLoading.service({\n        text: 'AI正在分析文本，请稍候...',\n        background: 'rgba(255, 255, 255, 0.7)'\n      });\n      \n      // 检查文本长度\n      const content = contractDetails.content;\n      lastAnalyzedContent.value = content;\n      lastAnalysisTime.value = Date.now();\n      \n      if (content.length > 10000) {\n        ElMessage.warning('文本较长，分析可能需要较长时间，请耐心等待');\n      }\n      \n      try {\n        // 构建请求参数，包含个性化配置\n        const requestParams = {\n          content: content,\n          is_manual: true,  // 标记为手动分析，确保每次都重新分析\n          preferences: {\n            style: polishPreferences.style,\n            contract_type: polishPreferences.contractType,\n            focus: polishPreferences.focus,\n            custom_terminologies: customTerminologies.value\n          }\n        };\n        \n        console.log(\"发送分析请求，参数:\", JSON.stringify(requestParams, null, 2));\n        \n        // 使用Promise.race竞争方式处理超时\n        const result = await Promise.race([\n          aiPolishContract(contractId.value, requestParams),\n          timeoutPromise\n        ]);\n        \n        console.log(\"API返回结果:\", result);\n        \n        if (!result.error) {\n          // 过滤与基本信息相关的建议\n          const filterBasicInfoSuggestions = (suggestions) => {\n            if (!Array.isArray(suggestions)) return [];\n            \n            const basicInfoKeywords = [\n              '合同名称', '合同编号', '合同金额', '签约对方', '签约日期', \n              '生效日期', '到期日期', '甲方名称', '乙方名称', '标题'\n            ];\n\n            return suggestions.filter(suggestion => {\n              return !basicInfoKeywords.some(keyword => \n                suggestion.original.includes(keyword) || \n                suggestion.suggested.includes(keyword) || \n                suggestion.explanation.includes(keyword)\n              );\n            });\n          };\n          \n          // 更新建议，自动显示面板\n          if (result.syntax) {\n            aiSuggestions.syntax = filterBasicInfoSuggestions(result.syntax);\n          }\n          if (result.terminology) {\n            aiSuggestions.terminology = filterBasicInfoSuggestions(result.terminology);\n          }\n            \n          // 添加唯一ID\n          aiSuggestions.syntax.forEach((s, i) => { s.id = `syntax-${i}`; });\n          aiSuggestions.terminology.forEach((s, i) => { s.id = `term-${i}`; });\n            \n          // 如果启用了内联建议功能，则应用内联建议\n          if (enableInlineSuggestions.value) {\n            // 延迟一点应用，确保编辑器状态已更新\n            setTimeout(() => {\n              applyInlineSuggestions();\n            }, 100);\n          }\n          \n          // 确保面板显示（如果有建议）\n          const totalSuggestions = aiSuggestions.syntax.length + aiSuggestions.terminology.length;\n          if (totalSuggestions > 0) {\n            showAiSuggestions.value = true;\n            // 通知用户有新的建议\n            ElMessage.success(`AI分析完成：发现${totalSuggestions}条优化建议`);\n          } else {\n            ElMessage.info('AI分析完成，未发现需要优化的内容');\n          }\n        }\n      } catch (timeoutErr) {\n        if (timeoutErr.message.includes('超时')) {\n          ElMessageBox.confirm(\n            '服务器响应时间过长，可能是文本较长或服务器繁忙。您希望如何处理？',\n            '请求超时',\n            {\n              confirmButtonText: '再试一次',\n              cancelButtonText: '取消操作',\n              type: 'warning'\n            }\n          ).then(() => {\n            // 用户选择重试\n            ElMessage.info('正在重新尝试分析...');\n            setTimeout(() => {\n              manualAnalyzeText();\n            }, 1000);\n          }).catch(() => {\n            // 用户取消操作\n            ElMessage.info('已取消AI分析操作');\n          });\n        } else {\n          throw timeoutErr; // 重新抛出其他类型的错误\n        }\n      } finally {\n        // 关闭加载提示\n        if (loadingInstance) {\n          loadingInstance.close();\n        }\n        realTimePolishLoading.value = false;\n      }\n    };\n    \n    // 自动更新建议功能：当合同编辑器有变更且长达3秒没有新内容输入，就进行自动分析并提供更新建议\n    // 使用防抖(debounce)机制实现，确保只有在用户停止输入3秒后才会触发分析，避免频繁API调用\n    // 防抖处理的文本变化处理函数 - 由于改为手动润色，因此不再自动分析\n    const debouncedAnalyzeText = debounce(() => {\n      // 此处不再自动分析，手动润色时使用 manualAnalyzeText 函数\n      console.log('内容已更改，可通过点击\"AI润色分析\"按钮进行分析');\n    }, 3000);\n    \n    // 调整编辑器高度以适应窗口大小\n    const adjustEditorHeight = () => {\n      // 根据当前活动的标签页调整不同容器的高度\n      console.log(\"调整高度，当前标签页:\", activeTab.value);\n      \n      // 视口高度和其他通用计算\n      const viewHeight = window.innerHeight;\n      const marginBottom = 20; // 与CSS中的margin-bottom一致\n      \n      // 如果是合同文本标签页\n      if (activeTab.value === 'contractText') {\n        // 确保元素已加载\n        if (!contractEditContainer.value || !aiPolishSidebar.value || !editorMainArea.value) {\n          console.log(\"文本编辑容器未加载，跳过高度调整\");\n          return;\n        }\n        \n        // 计算可用高度\n        const containerRect = contractEditContainer.value.getBoundingClientRect();\n        const topOffset = containerRect.top;\n        \n        // 计算理想的容器高度\n        const containerHeight = Math.max(viewHeight - topOffset - marginBottom, 500);\n        \n        // 应用高度到容器\n        contractEditContainer.value.style.height = `${containerHeight}px`;\n        \n        // 如果Quill编辑器已经初始化，刷新其布局\n        if (quillEditor.value && quillEditor.value.getQuill) {\n          try {\n            const quill = quillEditor.value.getQuill();\n            if (quill) {\n              // 触发Quill布局刷新\n              setTimeout(() => {\n                quill.update();\n              }, 100);\n            }\n          } catch (e) {\n            console.warn('Quill编辑器刷新失败:', e);\n          }\n        }\n      } \n      // 如果是合同检查标签页\n      else if (activeTab.value === 'contractCheck') {\n        // 确保检查容器已加载\n        if (!contractCheckContainer.value) {\n          console.log(\"合同检查容器未加载，跳过高度调整\");\n          return;\n        }\n        \n        // 计算可用高度\n        const containerRect = contractCheckContainer.value.getBoundingClientRect();\n        const topOffset = containerRect.top;\n        \n        // 计算容器高度 - 减小顶部边距，让检查页面更大\n        const containerHeight = Math.max(viewHeight - topOffset - marginBottom + 60, 600);\n        \n        // 应用高度到检查容器\n        contractCheckContainer.value.style.height = `${containerHeight}px`;\n        console.log(\"已设置合同检查容器高度:\", containerHeight);\n      }\n    };\n    \n    // 添加窗口调整大小事件监听器\n    const setupResizeListener = () => {\n      window.addEventListener('resize', adjustEditorHeight);\n      \n      // 添加页面可见性变化监听\n      document.addEventListener('visibilitychange', () => {\n        if (document.visibilityState === 'visible') {\n          console.log(\"页面重新变为可见，调整布局\");\n          nextTick(() => {\n            adjustEditorHeight();\n          });\n        }\n      });\n    };\n    \n    // 清理窗口调整大小事件监听器\n    const cleanupResizeListener = () => {\n      window.removeEventListener('resize', adjustEditorHeight);\n    };\n    \n    // 监听标签页变化，在激活不同标签页时执行相应操作\n    watch(() => activeTab.value, (newTab) => {\n      console.log(\"切换到标签页:\", newTab);\n      \n      if (newTab === 'contractText') {\n        // 切换到合同文本标签页\n        console.log(\"处理合同文本标签页切换\");\n        \n        // 调整编辑器高度\n        nextTick(() => {\n          adjustEditorHeight();\n          // 重新设置DOM变化监听\n          setupMutationObserver();\n        });\n        \n        // 如果启用了内联建议，应用之前的建议\n        if (enableInlineSuggestions.value) {\n          setTimeout(() => {\n            applyInlineSuggestions();\n          }, 500);\n        }\n      } \n      else if (newTab === 'contractCheck') {\n        // 切换到合同检查标签页\n        console.log(\"处理合同检查标签页切换\");\n        \n        // 在DOM更新后调整界面\n        nextTick(() => {\n          // 检查合同内容是否已加载\n          if (contractDetails.content) {\n            console.log(\"合同内容已加载，检查页面准备就绪\");\n          } else {\n            console.log(\"合同内容未加载，提示用户先输入内容\");\n            ElMessage.info('请先在合同文本标签页输入合同内容，然后进行AI检查');\n          }\n          \n          // 调整检查界面高度\n          adjustEditorHeight();\n          \n          // 强制刷新滚动容器布局\n          if (checkResultArea.value) {\n            console.log(\"强制刷新检查结果区域布局\");\n            \n            // 确保check-result-area容器占满高度\n            checkResultArea.value.style.height = '100%';\n            \n            // el-scrollbar将自动处理滚动，不需要额外设置\n            console.log(\"使用el-scrollbar组件处理滚动\");\n            \n            // 触发重绘\n            checkResultArea.value.style.display = 'none';\n            setTimeout(() => {\n              checkResultArea.value.style.display = 'flex';\n            }, 50);\n          }\n        });\n      } \n      else {\n        // 切换到其他标签页\n        console.log(\"切换到其他标签页:\", newTab);\n        \n        // 离开合同文本标签页时，确保隐藏面板\n        showAiSuggestions.value = false;\n        \n        // 清理DOM变化监听器\n        if (resizeObserver) {\n          resizeObserver.disconnect();\n        }\n      }\n    });\n\n    // 隐藏AI建议面板\n    const hideAiPanel = () => {\n      // 仅隐藏面板，保持润色功能开启\n      showAiSuggestions.value = false\n      // 确保下次显示时不是折叠状态\n      isAiPanelCollapsed.value = false\n      console.log(\"隐藏面板，showAiSuggestions设置为false\")\n    }\n\n    // 采纳AI建议\n    // eslint-disable-next-line no-unused-vars\n    const adoptSuggestion = (type, index) => {\n      const suggestion = aiSuggestions[type][index]\n      \n      if (quillEditor.value && suggestion) {\n        const content = contractDetails.content\n        \n        // 优化文本匹配算法\n        try {\n          // 步骤1: 尝试直接匹配\n          if (content.includes(suggestion.original)) {\n            contractDetails.content = content.replace(suggestion.original, suggestion.suggested)\n            aiSuggestions[type].splice(index, 1)\n            ElMessage.success('已采纳建议')\n            return\n          }\n          \n          // 步骤2: 尝试不区分大小写匹配\n          const lowerContent = content.toLowerCase()\n          const lowerOriginal = suggestion.original.toLowerCase()\n          \n          if (lowerContent.includes(lowerOriginal)) {\n            // 找到实际位置\n            const startIndex = lowerContent.indexOf(lowerOriginal)\n            const actualOriginalText = content.substring(startIndex, startIndex + suggestion.original.length)\n            contractDetails.content = content.replace(actualOriginalText, suggestion.suggested)\n            aiSuggestions[type].splice(index, 1)\n            ElMessage.success('已采纳建议')\n            return\n          }\n          \n          // 步骤3: 尝试移除HTML标签后匹配\n          const tempDiv = document.createElement('div')\n          tempDiv.innerHTML = content\n          const plainText = tempDiv.textContent || tempDiv.innerText || ''\n          \n          if (plainText.includes(suggestion.original)) {\n            // 用正则表达式创建一个安全的搜索模式\n            const escapedOriginal = suggestion.original.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n            const regex = new RegExp(`(${escapedOriginal})`, 'i')\n            \n            // 在HTML内容中查找和替换\n            contractDetails.content = content.replace(regex, suggestion.suggested)\n            aiSuggestions[type].splice(index, 1)\n            ElMessage.success('已采纳建议 (通过文本内容匹配)')\n            return\n          }\n          \n          // 步骤4: 尝试模糊匹配 - 移除多余空格和标点后比较\n          const normalizeText = (text) => {\n            return text.replace(/\\s+/g, ' ')  // 多个空格替换为单个\n                       .replace(/[.,;:!?，。；：！？]/g, '') // 移除标点\n                       .trim().toLowerCase()  // 转小写并移除首尾空格\n          }\n          \n          const normalizedContent = normalizeText(plainText)\n          const normalizedOriginal = normalizeText(suggestion.original)\n          \n          if (normalizedContent.includes(normalizedOriginal)) {\n            // 这里我们创建一个更宽松的正则表达式用于替换\n            const pattern = normalizedOriginal.split(/\\s+/).join('\\\\s+')\n            const looseRegex = new RegExp(pattern, 'i')\n            \n            // 在原始HTML中执行替换\n            contractDetails.content = content.replace(looseRegex, suggestion.suggested)\n            aiSuggestions[type].splice(index, 1)\n            ElMessage.success('已采纳建议 (通过模糊匹配)')\n            return\n          }\n          \n          // 如果所有匹配方法都失败\n          ElMessage.warning('无法找到匹配的文本，建议手动修改')\n          \n        } catch (error) {\n          console.error('采纳建议出错:', error)\n          ElMessage.error('采纳建议过程中发生错误，请手动修改')\n        }\n      }\n    }\n\n    // 忽略AI建议\n    // eslint-disable-next-line no-unused-vars\n    const ignoreSuggestion = (type, index) => {\n      aiSuggestions[type].splice(index, 1)\n      ElMessage.info('已忽略建议')\n    }\n\n    // 应用所有采纳的建议\n    // eslint-disable-next-line no-unused-vars\n    const applyAllSuggestions = async () => {\n      let hasChanges = false;\n      \n      // 检查是否有要应用的建议\n      if (aiSuggestions.syntax.length === 0 && aiSuggestions.terminology.length === 0) {\n        ElMessage.info('没有待处理的建议');\n        return;\n      }\n      \n      try {\n        const loading = ElLoading.service({\n          lock: true,\n          text: '应用所有建议...',\n          background: 'rgba(0, 0, 0, 0.7)'\n        });\n        \n        // 创建一个智能匹配和替换函数\n        const smartReplace = (content, original, suggested) => {\n          // 尝试多种匹配策略\n          \n          // 策略1: 直接匹配\n          if (content.includes(original)) {\n            return {\n              newContent: content.replace(original, suggested),\n              matched: true\n            };\n          }\n          \n          // 策略2: 不区分大小写匹配\n          const lowerContent = content.toLowerCase();\n          const lowerOriginal = original.toLowerCase();\n          \n          if (lowerContent.includes(lowerOriginal)) {\n            // 找到实际位置\n            const startIndex = lowerContent.indexOf(lowerOriginal);\n            const actualOriginalText = content.substring(startIndex, startIndex + original.length);\n            return {\n              newContent: content.replace(actualOriginalText, suggested),\n              matched: true\n            };\n          }\n          \n          // 策略3: 移除HTML标签后匹配\n          const tempDiv = document.createElement('div');\n          tempDiv.innerHTML = content;\n          const plainText = tempDiv.textContent || tempDiv.innerText || '';\n          \n          if (plainText.includes(original)) {\n            // 用正则表达式创建一个安全的搜索模式\n            const escapedOriginal = original.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n            const regex = new RegExp(`(${escapedOriginal})`, 'i');\n            \n            // 在HTML内容中查找和替换\n            return {\n              newContent: content.replace(regex, suggested),\n              matched: true\n            };\n          }\n          \n          // 策略4: 模糊匹配 - 移除多余空格和标点后比较\n          const normalizeText = (text) => {\n            return text.replace(/\\s+/g, ' ')\n                       .replace(/[.,;:!?，。；：！？]/g, '')\n                       .trim().toLowerCase();\n          };\n          \n          const normalizedContent = normalizeText(plainText);\n          const normalizedOriginal = normalizeText(original);\n          \n          if (normalizedContent.includes(normalizedOriginal)) {\n            // 创建更宽松的正则表达式\n            const pattern = normalizedOriginal.split(/\\s+/).join('\\\\s+');\n            const looseRegex = new RegExp(pattern, 'i');\n            \n            return {\n              newContent: content.replace(looseRegex, suggested),\n              matched: true\n            };\n          }\n          \n          // 所有策略都失败，返回原始内容\n          return {\n            newContent: content,\n            matched: false\n          };\n        };\n        \n        // 应用所有建议\n        let successCount = 0;\n        let failCount = 0;\n        let content = contractDetails.content;\n        const allSuggestions = [...aiSuggestions.syntax, ...aiSuggestions.terminology];\n        \n        for (const suggestion of allSuggestions) {\n          const result = smartReplace(content, suggestion.original, suggestion.suggested);\n          if (result.matched) {\n            content = result.newContent;\n            hasChanges = true;\n            successCount++;\n          } else {\n            failCount++;\n            console.warn('无法匹配建议:', suggestion.original);\n          }\n        }\n        \n        // 如果有更新，则更新内容\n        if (hasChanges) {\n          contractDetails.content = content;\n          \n          // 清空建议数组\n          aiSuggestions.syntax = [];\n          aiSuggestions.terminology = [];\n          \n          // 保存更改\n          await saveChanges();\n          \n          ElMessage.success(`成功应用${successCount}项建议，${failCount}项未能匹配`);\n        } else {\n          ElMessage.warning('未能匹配任何建议，内容未变更');\n        }\n        \n        loading.close();\n        hideAiPanel();\n        \n      } catch (error) {\n        console.error('应用建议失败:', error);\n        ElMessage.error('应用建议失败: ' + (error.message || '未知错误'));\n      }\n    }\n\n    // 下载合同\n    // eslint-disable-next-line no-unused-vars\n    const downloadContract = () => {\n      // 先保存合同\n      isSaving.value = true;\n      const loading = ElLoading.service({\n        lock: true,\n        text: '正在保存并生成Word文档...',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      \n      // 准备更新数据\n      const updateData = {\n        title: contractDetails.title,\n        type: contractDetails.type,\n        amount: contractDetails.amount.replace(/[^\\d.]/g, ''),\n        company: contractDetails.company,\n        sign_date: contractDetails.signDate,\n        start_date: contractDetails.startDate,\n        expire_date: contractDetails.expireDate,\n        content: contractDetails.content\n      };\n      \n      // 先保存更新\n      updateContract(contractId.value, updateData)\n        .then(() => {\n          // 保存成功后调用下载API\n          const downloadUrl = `/api/contract/contracts/${contractId.value}/download-docx/`;\n          \n          // 获取CSRF令牌 - 从Cookie中获取\n          const getCookie = (name) => {\n            const value = `; ${document.cookie}`;\n            const parts = value.split(`; ${name}=`);\n            if (parts.length === 2) return parts.pop().split(';').shift();\n            return '';\n          };\n          const csrfToken = getCookie('csrftoken');\n          console.log('CSRF令牌:', csrfToken || '未找到');\n          console.log('认证Cookie:', document.cookie);\n          \n          // 获取认证令牌\n          const token = localStorage.getItem('token');\n          console.log('认证令牌:', token ? '找到' : '未找到');\n          \n          // 使用axios直接下载文件，确保包含认证信息\n          request({\n            url: downloadUrl,\n            method: 'GET',\n            responseType: 'blob',\n            headers: {\n              'X-CSRFToken': csrfToken,\n              'Authorization': token ? `Bearer ${token}` : ''\n            }\n          })\n          .then(response => {\n            // 创建Blob URL并下载\n            const blob = new Blob([response.data], {\n              type: response.headers['content-type'] || 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n            });\n            const url = window.URL.createObjectURL(blob);\n            const link = document.createElement('a');\n            link.href = url;\n            link.download = `${contractDetails.number || '合同'}_${contractDetails.title || '未命名'}.docx`;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            window.URL.revokeObjectURL(url);\n            \n            ElMessage.success('合同已保存并下载');\n          })\n          .catch(error => {\n            console.error('下载合同出错:', error);\n            ElMessage.error(`下载失败: ${error.message || '权限验证失败'}`);\n          });\n        })\n        .catch(error => {\n          console.error('保存合同出错:', error);\n          ElMessage.error('保存失败，无法下载合同');\n        })\n        .finally(() => {\n          loading.close();\n          isSaving.value = false;\n        });\n    }\n    \n    // 查看法规详情\n    // eslint-disable-next-line no-unused-vars\n    const viewRegulation = (issue) => {\n      // 使用全屏加载动画\n      const loadingInstance = ElLoading.service({\n        text: '正在查询相关法规...',\n        background: 'rgba(255, 255, 255, 0.7)'\n      });\n      \n      // 使用request模块调用后端API获取法规详情\n      request({\n        url: '/api/contract/regulations/query/',\n        method: 'post',\n        data: {\n          issue_title: issue.title,\n          issue_content: issue.current,\n          issue_problem: issue.problem,\n          contract_type: contractDetails.type\n        }\n      })\n      .then(data => {\n        loadingInstance.close();\n        \n        // 展示AI生成的法规详情\n        ElMessageBox.alert(\n          `<div class=\"regulation-detail\">\n            <h4>适用法规: ${data.regulation || '《中华人民共和国合同法》'}</h4>\n            <div class=\"regulation-content\">\n              <p>${data.regulation_content || '根据相关法律法规，合同中应明确约定双方权利义务，避免含糊不清的条款。'}</p>\n            </div>\n            <div class=\"regulation-suggestion mt-2\">\n              <h5>修改建议:</h5>\n              <p>${data.suggestion || '建议参照相关法律法规，明确表述合同条款，确保合同的有效性和可执行性。'}</p>\n            </div>\n          </div>`,\n          '法规详情',\n          {\n            dangerouslyUseHTMLString: true,\n            confirmButtonText: '了解',\n            customClass: 'regulation-dialog'\n          }\n        );\n      })\n      .catch(error => {\n        loadingInstance.close();\n        console.error('获取法规详情失败:', error);\n        ElMessage.error('获取法规详情失败，请稍后再试');\n      });\n    }\n\n    // 监听路由变化\n    watch(() => route.name, (newRouteName, oldRouteName) => {\n      if (oldRouteName === 'ContractDetail' && newRouteName !== 'ContractDetail') {\n        // 离开合同详情页面，确保重置状态\n        console.log('离开合同详情页面，重置状态')\n        contractId.value = null\n        // 关闭所有加载状态\n        isLoading.value = false\n        isSaving.value = false\n        realTimePolishLoading.value = false\n        isChecking.value = false\n      }\n    }, { immediate: true })\n\n    // 监听路由变化，重新加载数据\n    watch(() => route.params.id, (newId, oldId) => {\n      if (route.name === 'ContractDetail') {\n        if (newId && newId !== 'undefined' && !isNaN(Number(newId))) {\n          // 转换为数字进行比较\n          const numNewId = Number(newId);\n          const numOldId = oldId ? Number(oldId) : null;\n          \n          // 只有ID真正变化时才重新加载\n          if (numNewId !== numOldId) {\n            console.log('合同ID已变更，加载新合同', newId)\n            contractId.value = numNewId\n            \n            // 如果是组件刚刚挂载，使用静默加载避免重复提示\n            const silentLoad = !oldId || document.readyState !== 'complete';\n            getContractDetails(silentLoad)\n          }\n        } else {\n          console.log('无效的合同ID参数:', newId)\n          router.push({ name: 'Contract' })\n        }\n      }\n    }, { immediate: true })\n\n    // 添加展开按钮到DOM\n    const addFloatingButton = () => {\n      // 如果按钮已存在，先移除\n      const existingButton = document.getElementById('aiFloatingButton')\n      if (existingButton) {\n        document.body.removeChild(existingButton)\n      }\n\n      // 创建新按钮\n      const button = document.createElement('div')\n      button.id = 'aiFloatingButton'\n      button.className = 'ai-floating-button'\n      button.innerHTML = `\n        <button class=\"el-button el-button--primary el-button--small is-circle\">\n          <i class=\"el-icon\">\n            <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill=\"currentColor\" d=\"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-94.656-298.656a32 32 0\n                0 0 45.312 45.312l96-96a32 32 0 0 0 0-45.312l-96-96a32 32 0 0 0-45.312 45.312L466.752 512l-49.408 49.344z\"></path>\n            </svg>\n          </i>\n        </button>\n      `\n      \n      // 添加样式\n      const style = document.createElement('style')\n      style.textContent = `\n        .ai-floating-button {\n          position: fixed;\n          top: 50%;\n          right: 0;\n          transform: translateY(-50%);\n          z-index: 2000;\n          background-color: #fff;\n          border-top-left-radius: 50%;\n          border-bottom-left-radius: 50%;\n          box-shadow: -2px 0 10px rgba(0,0,0,0.1);\n          padding: 10px 5px 10px 10px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        .ai-floating-button:hover {\n          right: 5px;\n        }\n        .ai-floating-button button {\n          margin: 0;\n        }\n      `\n      document.head.appendChild(style)\n      \n      // 添加点击事件\n      button.addEventListener('click', () => {\n        showAiSuggestions.value = true\n        console.log('点击展开按钮，showAiSuggestions设置为true')\n      })\n      \n      // 添加到body\n      document.body.appendChild(button)\n    }\n    \n    // 更新展开按钮的显示状态\n    const updateFloatingButton = () => {\n      const button = document.getElementById('aiFloatingButton')\n      if (!button) return\n      \n      if (activeTab.value === 'contractText' && !showAiSuggestions.value) {\n        button.style.display = 'block'\n      } else {\n        button.style.display = 'none'\n      }\n    }\n    \n    // 监听showAiSuggestions和activeTab的变化，更新按钮显示状态\n    watch([showAiSuggestions, activeTab], () => {\n      updateFloatingButton()\n    })\n    \n    // 采纳内联编辑器中的建议\n    const adoptInlineEditSuggestion = (suggestionId) => {\n      if (!quillEditor.value) return\n\n      // 查找匹配的建议\n      let suggestion = null\n      let suggestionType = null\n      let suggestionIndex = -1\n\n      // 在语法建议中查找\n      const syntaxIndex = aiSuggestions.syntax.findIndex(s => s.id === suggestionId)\n      if (syntaxIndex !== -1) {\n        suggestion = aiSuggestions.syntax[syntaxIndex]\n        suggestionType = 'syntax'\n        suggestionIndex = syntaxIndex\n      } else {\n        // 在术语建议中查找\n        const termIndex = aiSuggestions.terminology.findIndex(s => s.id === suggestionId)\n        if (termIndex !== -1) {\n          suggestion = aiSuggestions.terminology[termIndex]\n          suggestionType = 'terminology'\n          suggestionIndex = termIndex\n        }\n      }\n\n      if (suggestion) {\n        // 获取Quill编辑器实例\n        const editor = quillEditor.value.getQuill()\n        \n        // 在文档中查找并替换建议\n        const content = editor.getText()\n        let index = content.indexOf(suggestion.original)\n        \n        if (index !== -1) {\n          // 替换文本\n          editor.deleteText(index, suggestion.original.length)\n          editor.insertText(index, suggestion.suggested)\n          \n          // 从建议列表中移除\n          aiSuggestions[suggestionType].splice(suggestionIndex, 1)\n          \n          ElMessage.success('已采纳建议')\n        }\n      }\n    }\n    \n    // 忽略内联编辑器中的建议\n    const ignoreInlineEditSuggestion = (suggestionId) => {\n      // 查找匹配的建议\n      let suggestionType = null\n      let suggestionIndex = -1\n\n      // 在语法建议中查找\n      const syntaxIndex = aiSuggestions.syntax.findIndex(s => s.id === suggestionId)\n      if (syntaxIndex !== -1) {\n        suggestionType = 'syntax'\n        suggestionIndex = syntaxIndex\n      } else {\n        // 在术语建议中查找\n        const termIndex = aiSuggestions.terminology.findIndex(s => s.id === suggestionId)\n        if (termIndex !== -1) {\n          suggestionType = 'terminology'\n          suggestionIndex = termIndex\n        }\n      }\n\n      if (suggestionType && suggestionIndex !== -1) {\n        // 从建议列表中移除\n        aiSuggestions[suggestionType].splice(suggestionIndex, 1)\n        ElMessage.info('已忽略建议')\n        \n        // 移除文档中的标记\n        if (quillEditor.value) {\n          // 在这里添加移除标记的逻辑\n        }\n      }\n    }\n\n    // 更安全地获取Quill编辑器DOM元素的辅助函数\n    const getQuillEditorElement = () => {\n      try {\n        if (!quillEditor.value) return null;\n        \n        // 尝试不同的方式获取编辑器DOM元素\n        if (quillEditor.value.$el && typeof quillEditor.value.$el.querySelector === 'function') {\n          // Vue组件实例方式\n          return quillEditor.value.$el.querySelector('.ql-editor');\n        } else if (quillEditor.value.container) {\n          // 原生Quill实例方式\n          return quillEditor.value.container.querySelector('.ql-editor');\n        } else if (quillEditor.value.getQuill) {\n          // @vueup/vue-quill方式\n          const quill = quillEditor.value.getQuill();\n          if (quill && quill.root) {\n            return quill.root;\n          }\n        }\n        \n        // 最后尝试直接在文档中查找\n        return document.querySelector('.contract-text-editor .ql-editor');\n      } catch (e) {\n        console.error('获取编辑器元素失败:', e);\n        return null;\n      }\n    };\n\n    // 清除所有内联编辑建议\n    const clearInlineEditSuggestions = () => {\n      const editorContainer = getQuillEditorElement();\n      if (!editorContainer) {\n        console.warn('无法获取编辑器元素，跳过清除操作');\n        return;\n      }\n      \n      try {\n        // 查找所有建议高亮元素\n        const highlights = editorContainer.querySelectorAll('.suggestion-highlight');\n        \n        // 替换回普通文本\n        highlights.forEach(span => {\n          const text = span.textContent;\n          const parent = span.parentNode;\n          if (parent) {\n            const textNode = document.createTextNode(text);\n            parent.replaceChild(textNode, span);\n          }\n        });\n      } catch (e) {\n        console.error('清除建议高亮失败:', e);\n      }\n    }\n    \n    // 修复应用内联建议函数\n    const applyInlineSuggestions = () => {\n      try {\n        if (!quillEditor.value) {\n          console.warn('编辑器尚未初始化，无法应用内联建议');\n          return;\n        }\n        \n        // 先清除所有建议标记，避免重叠\n        clearInlineEditSuggestions();\n        \n        // 为每个建议添加唯一ID（如果没有）\n        const allSuggestions = [\n          ...aiSuggestions.syntax.map((s, i) => ({ ...s, id: s.id || `syntax-${i}` })),\n          ...aiSuggestions.terminology.map((s, i) => ({ ...s, id: s.id || `term-${i}` }))\n        ];\n        \n        if (!allSuggestions.length) {\n          return;\n        }\n        \n        // 手动处理建议高亮，不依赖Quill模块\n        const editorContainer = getQuillEditorElement();\n        if (!editorContainer) {\n          console.warn('无法获取编辑器元素，无法应用内联建议');\n          showAiSuggestions.value = true; // 如果无法应用内联建议，显示侧边栏\n          return;\n        }\n        \n        // 在编辑器外部创建工具提示容器\n        let tooltipContainer = document.getElementById('suggestion-tooltip-container');\n        if (!tooltipContainer) {\n          tooltipContainer = document.createElement('div');\n          tooltipContainer.id = 'suggestion-tooltip-container';\n          tooltipContainer.className = 'suggestion-tooltip';\n          tooltipContainer.style.display = 'none';\n          document.body.appendChild(tooltipContainer);\n        }\n        \n        allSuggestions.forEach(suggestion => {\n          try {\n            // 查找文本节点\n            const textContent = editorContainer.textContent || '';\n            const index = textContent.indexOf(suggestion.original);\n            if (index === -1) return;\n            \n            // 用TreeWalker寻找文本节点\n            const walker = document.createTreeWalker(\n              editorContainer,\n              NodeFilter.SHOW_TEXT,\n              null,\n              false\n            );\n            \n            let currentNode;\n            let currentIndex = 0;\n            let found = false;\n            \n            while ((currentNode = walker.nextNode())) {\n              const nodeText = currentNode.nodeValue;\n              const nodeLength = nodeText.length;\n              \n              // 检查是否在此节点中找到原始文本\n              if (currentIndex <= index && index < currentIndex + nodeLength) {\n                // 找到了节点\n                const startOffset = index - currentIndex;\n                \n                try {\n                  // 创建范围\n                  const range = document.createRange();\n                  range.setStart(currentNode, startOffset);\n                  range.setEnd(currentNode, startOffset + suggestion.original.length);\n                  \n                  // 创建span标签\n                  const span = document.createElement('span');\n                  span.className = 'suggestion-highlight';\n                  span.setAttribute('data-suggestion-id', suggestion.id);\n                  span.setAttribute('data-original', suggestion.original);\n                  span.setAttribute('data-suggested', suggestion.suggested);\n                  span.title = '点击查看修改建议';\n                  span.style.backgroundColor = 'rgba(255, 217, 102, 0.3)';\n                  span.style.borderBottom = '1px dashed #ffb300';\n                  span.style.cursor = 'pointer';\n                  span.style.padding = '0 2px';\n                  \n                  // 用span包围文本\n                  range.surroundContents(span);\n                  \n                  // 添加点击事件监听器\n                  span.addEventListener('click', (e) => {\n                    showSuggestionTooltip(e.target, suggestion, tooltipContainer);\n                  });\n                  \n                  found = true;\n                } catch (rangeError) {\n                  console.error('创建文本范围失败:', rangeError);\n                }\n                break;\n              }\n              \n              currentIndex += nodeLength;\n            }\n            \n            if (found) {\n              console.log('成功高亮建议:', suggestion.id);\n            }\n          } catch (e) {\n            console.error('应用高亮失败:', e);\n          }\n        });\n        \n        // 通知用户\n        if (allSuggestions.length > 0) {\n          ElMessage.info(`在编辑器中高亮了${allSuggestions.length}处建议修改，点击高亮部分可查看详情`);\n        }\n      } catch (error) {\n        console.error('应用内联建议失败:', error);\n        showAiSuggestions.value = true; // 如果内联失败，显示侧边栏\n      }\n    };\n    \n    // 显示建议工具提示\n    const showSuggestionTooltip = (element, suggestion, tooltipContainer) => {\n      const rect = element.getBoundingClientRect()\n      \n      // 清除现有内容\n      tooltipContainer.innerHTML = ''\n      \n      // 生成差异对比（使用增强版算法）\n      let diffHtml = '';\n      if (window.enhancedDiffDisplay) {\n        // 使用补丁中提供的增强版差异算法\n        diffHtml = window.enhancedDiffDisplay(suggestion.original, suggestion.suggested);\n      } else {\n        // 回退到简单版本\n        diffHtml = generateDiff(suggestion.original, suggestion.suggested);\n      }\n      \n      // 设置工具提示内容\n      const content = document.createElement('div')\n      content.className = 'suggestion-tooltip-content'\n      content.innerHTML = `\n        <div class=\"suggestion-tooltip-header\">\n          <span class=\"suggestion-tooltip-title\">AI文本优化建议</span>\n          <span class=\"suggestion-tooltip-close\">&times;</span>\n        </div>\n        <div class=\"suggestion-tooltip-body\">\n          <div class=\"suggestion-comparison\">\n            <div class=\"suggestion-column\">\n              <div class=\"suggestion-label\">原文本:</div>\n              <div class=\"suggestion-original\">${escapeHtml(suggestion.original)}</div>\n            </div>\n            <div class=\"suggestion-divider\"></div>\n            <div class=\"suggestion-column\">\n              <div class=\"suggestion-label\">建议修改为:</div>\n              <div class=\"suggestion-suggested\">${escapeHtml(suggestion.suggested)}</div>\n            </div>\n          </div>\n          <div class=\"suggestion-diff-container\">\n            <div class=\"suggestion-label\">差异对比:</div>\n            <div class=\"suggestion-diff\">${diffHtml}</div>\n          </div>\n          ${suggestion.explanation ? `\n          <div class=\"suggestion-explanation-container\">\n            <div class=\"suggestion-label\">修改说明:</div>\n            <div class=\"suggestion-explanation\">${escapeHtml(suggestion.explanation)}</div>\n          </div>` : ''}\n        </div>\n        <div class=\"suggestion-actions\">\n          <button class=\"btn-adopt\">采纳此建议</button>\n          <button class=\"btn-ignore\">忽略</button>\n        </div>\n      `\n      \n      tooltipContainer.appendChild(content)\n      \n      // 定位工具提示\n      tooltipContainer.style.position = 'absolute'\n      tooltipContainer.style.zIndex = '9999'\n      tooltipContainer.style.top = `${rect.bottom + window.scrollY + 5}px`\n      tooltipContainer.style.left = `${rect.left + window.scrollX}px`\n      tooltipContainer.style.display = 'block'\n      tooltipContainer.style.maxWidth = '450px'\n      tooltipContainer.style.background = 'white'\n      tooltipContainer.style.boxShadow = '0 2px 12px 0 rgba(0,0,0,.1)'\n      tooltipContainer.style.border = '1px solid #ebeef5'\n      tooltipContainer.style.borderRadius = '4px'\n      tooltipContainer.style.padding = '12px'\n      \n      // 添加按钮事件\n      const adoptBtn = tooltipContainer.querySelector('.btn-adopt')\n      const ignoreBtn = tooltipContainer.querySelector('.btn-ignore')\n      const closeBtn = tooltipContainer.querySelector('.suggestion-tooltip-close')\n      \n      adoptBtn.addEventListener('click', () => {\n        adoptInlineEditSuggestion(suggestion.id)\n        tooltipContainer.style.display = 'none'\n      })\n      \n      ignoreBtn.addEventListener('click', () => {\n        ignoreInlineEditSuggestion(suggestion.id)\n        tooltipContainer.style.display = 'none'\n      })\n      \n      closeBtn.addEventListener('click', () => {\n        tooltipContainer.style.display = 'none'\n      })\n      \n      // 点击外部隐藏工具提示\n      const clickOutsideHandler = (e) => {\n        if (!tooltipContainer.contains(e.target) && \n            !element.contains(e.target)) {\n          tooltipContainer.style.display = 'none'\n          document.removeEventListener('click', clickOutsideHandler)\n        }\n      }\n      \n      // 确保不会连续触发\n      setTimeout(() => {\n        document.addEventListener('click', clickOutsideHandler)\n      }, 100)\n    }\n    \n    // 转义HTML特殊字符\n    const escapeHtml = (unsafe) => {\n      return unsafe\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n    }\n    \n    // 生成差异对比（简单版本，作为备用）\n    const generateDiff = (original, suggested) => {\n      try {\n        if (!original || !suggested) return ''\n        \n        // 使用更精确的分词方法\n        const tokenize = (text) => {\n          // 保留标点符号作为单独的标记，同时保持中文字符的完整性\n          return text.split(/([,.!?;:，。！？；：\\s]+|[\\u4e00-\\u9fa5])/g).filter(token => token !== '');\n        };\n        \n        const tokens1 = tokenize(original);\n        const tokens2 = tokenize(suggested);\n        \n        // 构建差异HTML\n        let html = '<div class=\"diff-content\">';\n        \n        // 使用改进的差异对比算法\n        const matched = new Set(); // 记录已匹配的索引\n        \n        // 第一步：找出完全相同的部分\n        const commonParts = [];\n        for (let i1 = 0; i1 < tokens1.length; i1++) {\n          for (let j1 = 0; j1 < tokens2.length; j1++) {\n            if (tokens1[i1] === tokens2[j1] && !matched.has(`2:${j1}`)) {\n              commonParts.push({ index1: i1, index2: j1, token: tokens1[i1] });\n              matched.add(`2:${j1}`);\n              break;\n            }\n          }\n        }\n        \n        // 按照第二个文本的顺序排序\n        commonParts.sort((a, b) => a.index2 - b.index2);\n        \n        // 第二步：根据共同部分构建差异\n        let lastIndex1 = -1;\n        let lastIndex2 = -1;\n        \n        for (const part of commonParts) {\n          // 处理第一个文本中的删除部分\n          if (part.index1 > lastIndex1 + 1) {\n            html += '<span class=\"diff-removed\">';\n            for (let k = lastIndex1 + 1; k < part.index1; k++) {\n              html += escapeHtml(tokens1[k]);\n            }\n            html += '</span>';\n          }\n          \n          // 处理第二个文本中的添加部分\n          if (part.index2 > lastIndex2 + 1) {\n            html += '<span class=\"diff-added\">';\n            for (let k = lastIndex2 + 1; k < part.index2; k++) {\n              html += escapeHtml(tokens2[k]);\n            }\n            html += '</span>';\n          }\n          \n          // 添加共同部分\n          html += `<span class=\"diff-common\">${escapeHtml(part.token)}</span>`;\n          \n          lastIndex1 = part.index1;\n          lastIndex2 = part.index2;\n        }\n        \n        // 处理剩余的部分\n        if (lastIndex1 < tokens1.length - 1) {\n          html += '<span class=\"diff-removed\">';\n          for (let k = lastIndex1 + 1; k < tokens1.length; k++) {\n            html += escapeHtml(tokens1[k]);\n          }\n          html += '</span>';\n        }\n        \n        if (lastIndex2 < tokens2.length - 1) {\n          html += '<span class=\"diff-added\">';\n          for (let k = lastIndex2 + 1; k < tokens2.length; k++) {\n            html += escapeHtml(tokens2[k]);\n          }\n          html += '</span>';\n        }\n        \n        html += '</div>';\n        return html;\n      } catch (e) {\n        console.error('生成差异对比失败:', e);\n        return `<div class=\"diff-error\">无法生成差异对比: ${e.message}</div>`;\n      }\n    }\n\n    // 内联建议开关切换处理\n    const onInlineSuggestionsToggle = (value) => {\n      if (value) {\n        ElMessage.info('已启用内联建议，润色结果将直接显示在编辑器中')\n        // 启用并立即应用当前的建议\n        setTimeout(() => {\n          if (getQuillEditorElement()) {\n            // 如果已有建议，则应用它们\n            if (aiSuggestions.syntax.length > 0 || aiSuggestions.terminology.length > 0) {\n              applyInlineSuggestions()\n              ElMessage.success('已将现有建议应用到编辑器中')\n            } else {\n              ElMessage.info('没有可应用的建议，请点击\"AI润色分析\"按钮获取建议')\n            }\n          } else {\n            console.warn('无法获取编辑器元素，将使用侧边栏显示建议');\n            showAiSuggestions.value = true;\n            enableInlineSuggestions.value = false;\n          }\n        }, 100)\n      } else {\n        ElMessage.info('已禁用内联建议，建议将只在侧边栏显示')\n        // 禁用时清除所有标记\n        setTimeout(() => {\n          try {\n            clearInlineEditSuggestions();\n          } catch (error) {\n            console.error('清除建议标记失败:', error);\n          }\n        }, 100);\n      }\n    }\n    \n    // 设置键盘快捷键\n    const setupKeyboardShortcuts = () => {\n      const handleKeyDown = (e) => {\n        // 检查是否为 Ctrl+Shift+A (润色分析)\n        if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'a') {\n          // 确保当前在合同文本标签并且不在加载中状态\n          if (activeTab.value === 'contractText' && !realTimePolishLoading.value) {\n            e.preventDefault(); // 阻止默认行为\n            manualAnalyzeText();\n            ElMessage.info('已通过快捷键触发AI润色分析');\n          }\n        }\n        \n        // 检查是否为 Ctrl+Shift+C (合同检查)\n        if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'c') {\n          // 确保当前在合同检查标签并且不在检查中状态\n          if (activeTab.value === 'contractCheck' && !isChecking.value) {\n            e.preventDefault(); // 阻止默认行为\n            startContractCheck();\n            ElMessage.info('已通过快捷键触发AI合同检查');\n          }\n        }\n      };\n      \n      window.addEventListener('keydown', handleKeyDown);\n      \n      // 清理事件监听器\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    };\n\n    // 组件挂载时添加按钮和快捷键\n    onMounted(async () => {\n      // 检查是否在合同详情页面且有有效ID\n      if (route.name === 'ContractDetail' && contractId.value) {\n        console.log('组件挂载，开始加载合同详情:', contractId.value)\n        // 使用静默加载避免重复提示，路由监听会负责显示消息\n        await getContractDetails(true)\n      } else {\n        console.log('组件挂载但不在合同详情页面或合同ID无效，跳过加载')\n      }\n      \n      console.log(\"组件挂载完成，UI初始化\")\n      \n      // 强制修复滚动样式\n      setTimeout(() => {\n        if (checkResultArea.value) {\n          console.log('强制修复滚动区域样式');\n          // 修复右侧内容区域样式 - 使用flex布局\n          checkResultArea.value.style.display = 'flex';\n          checkResultArea.value.style.flexDirection = 'column';\n          checkResultArea.value.style.overflow = 'hidden';\n          checkResultArea.value.style.height = '100%';\n          \n          // 修复滚动容器样式 - 使用flex子元素\n          const scrollWrapper = checkResultArea.value.querySelector('.check-content-scroll-wrapper');\n          if (scrollWrapper) {\n            scrollWrapper.style.flex = '1';\n            scrollWrapper.style.overflowY = 'auto';\n            scrollWrapper.style.padding = '15px';\n            scrollWrapper.style.height = '0'; // 关键：flex布局中设置height:0让flex-grow工作\n          }\n        }\n      }, 300);\n      \n      // 确保Quill正确加载\n      checkAndInitQuill()\n      \n      // 初始化编辑器高度\n      nextTick(() => {\n        adjustEditorHeight();\n        // 设置窗口大小调整监听器\n        setupResizeListener();\n        \n        // 设置MutationObserver来监控DOM变化\n        setupMutationObserver();\n      });\n      \n      // 检查是否直接进入合同文本标签，不再自动分析\n      if (activeTab.value === 'contractText') {\n        console.log(\"直接进入文本编辑标签，可以点击润色按钮进行分析\")\n      }\n      \n      // 添加展开按钮\n      addFloatingButton()\n      // 初始状态下更新按钮显示\n      updateFloatingButton()\n      \n      // 设置键盘快捷键\n      const cleanupShortcuts = setupKeyboardShortcuts();\n      \n      // 保存清理函数引用到外部变量\n      keyboardShortcutsCleanup.value = cleanupShortcuts;\n      \n      // 添加页面可见性监听，当用户切回标签页时重新调整高度\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    })\n    \n    // 处理页面可见性变化\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        // 页面重新变为可见时，重新调整高度\n        console.log(\"页面重新获得焦点，调整布局高度\");\n        setTimeout(adjustEditorHeight, 100);\n      }\n    };\n    \n    // 组件卸载时清理资源\n    onUnmounted(() => {\n      const button = document.getElementById('aiFloatingButton')\n      if (button) {\n        document.body.removeChild(button)\n      }\n      \n      // 重置contractId，确保离开页面时清理\n      contractId.value = null\n\n      // 清理suggestion tooltip\n      const tooltip = document.querySelector('.ql-suggestion-tooltip')\n      if (tooltip) {\n        document.body.removeChild(tooltip)\n      }\n      \n      // 移除动态添加的样式\n      const styleElem = document.getElementById('suggestion-styles')\n      if (styleElem) {\n        document.head.removeChild(styleElem)\n      }\n      \n      // 清理MutationObserver\n      if (quillEditor.value) {\n        try {\n          const editor = quillEditor.value.getQuill()\n          if (editor) {\n            const suggestionModule = editor.getModule('suggestion')\n            if (suggestionModule && typeof suggestionModule.destroy === 'function') {\n              suggestionModule.destroy()\n            }\n          }\n        } catch (error) {\n          console.error('清理建议模块失败:', error)\n        }\n      }\n      \n      // 清理键盘快捷键\n      if (keyboardShortcutsCleanup.value) {\n        keyboardShortcutsCleanup.value();\n      }\n      \n      // 清理窗口大小调整事件监听器\n      cleanupResizeListener();\n      \n      // 清理DOM变化监听器\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n        resizeObserver = null;\n      }\n      \n      // 移除页面可见性监听\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    })\n\n    // 用于存储清理函数的引用\n    const keyboardShortcutsCleanup = ref(null);\n    \n    // 创建用来存储MutationObserver的变量\n    let resizeObserver = null;\n    \n    // 设置MutationObserver来监控DOM变化\n    const setupMutationObserver = () => {\n      // 确保之前的observer已被清理\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n      \n      // 如果在合同文本标签页，设置observer\n      if (activeTab.value === 'contractText' && contractEditContainer.value) {\n        resizeObserver = new MutationObserver(() => {\n          // 当DOM变化时，调整编辑器高度\n          adjustEditorHeight();\n        });\n        \n        // 配置observer监控子节点变化和属性变化\n        resizeObserver.observe(contractEditContainer.value, {\n          childList: true,\n          subtree: true,\n          attributes: true\n        });\n        \n        console.log('已设置DOM变化监听器');\n      }\n    };\n    \n    // 检查并初始化Quill\n    const checkAndInitQuill = () => {\n      // 先检查是否已经直接可用\n      if (typeof window !== 'undefined' && window.Quill) {\n        try {\n          console.log('Quill已加载，初始化扩展')\n          initQuillExtensions()\n          \n          // 在初始化后添加安全性检查\n          setTimeout(() => {\n            const editorElement = getQuillEditorElement();\n            if (!editorElement) {\n              console.warn('Quill编辑器DOM元素无法访问，可能导致某些功能不可用');\n              enableInlineSuggestions.value = false;\n            }\n          }, 300);\n        } catch (error) {\n          console.error('初始化Quill扩展失败:', error)\n          enableInlineSuggestions.value = false\n        }\n        return\n      }\n      \n      // 如果不可用，尝试多种途径加载Quill\n      console.log('Quill未加载，尝试加载资源')\n      \n      // 定义多个可能的CDN资源路径\n      const cdnSources = [\n        {\n          js: `${window.location.origin}/static/lib/quill/quill.min.js`,\n          css: `${window.location.origin}/static/lib/quill/quill.snow.css`\n        },\n        {\n          js: 'https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js',\n          css: 'https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css'\n        },\n        {\n          js: 'https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js',\n          css: 'https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.css'\n        },\n        {\n          js: 'https://unpkg.com/quill@1.3.7/dist/quill.min.js',\n          css: 'https://unpkg.com/quill@1.3.7/dist/quill.snow.css'\n        }\n      ];\n      \n      // 跟踪加载尝试\n      let currentSourceIndex = 0;\n      const maxRetries = cdnSources.length;\n      \n      // 加载CSS资源\n      const loadCss = (source) => {\n        return new Promise((resolve, reject) => {\n          // 检查是否已经加载过\n          const existingLink = document.getElementById('quill-snow-css');\n          if (existingLink) {\n            document.head.removeChild(existingLink);\n          }\n          \n          const cssLink = document.createElement('link');\n          cssLink.rel = 'stylesheet';\n          cssLink.id = 'quill-snow-css';\n          cssLink.href = source;\n          \n          cssLink.onload = () => {\n            console.log('Quill CSS 加载成功:', source);\n            resolve();\n          };\n          \n          cssLink.onerror = () => {\n            console.error('Quill CSS 加载失败:', source);\n            reject();\n          };\n          \n          document.head.appendChild(cssLink);\n        });\n      };\n      \n      // 加载JS资源\n      const loadJs = (source) => {\n        return new Promise((resolve, reject) => {\n          // 检查是否已经加载过\n          const existingScript = document.getElementById('quill-js');\n          if (existingScript) {\n            document.body.removeChild(existingScript);\n          }\n          \n          const script = document.createElement('script');\n          script.src = source;\n          script.id = 'quill-js';\n          script.async = true;\n          \n          script.onload = () => {\n            console.log('Quill JS 加载成功:', source);\n            resolve();\n          };\n          \n          script.onerror = () => {\n            console.error('Quill JS 加载失败:', source);\n            reject();\n          };\n          \n          document.body.appendChild(script);\n        });\n      };\n      \n      // 尝试加载下一个源\n      const tryNextSource = () => {\n        if (currentSourceIndex >= maxRetries) {\n          console.error('所有Quill资源加载尝试都失败了');\n          fallbackToBasicEditor();\n          return;\n        }\n        \n        const source = cdnSources[currentSourceIndex];\n        currentSourceIndex++;\n        \n        console.log(`尝试加载Quill资源 (${currentSourceIndex}/${maxRetries}):`, source);\n        \n        // 先尝试加载CSS，然后加载JS\n        loadCss(source.css)\n          .then(() => loadJs(source.js))\n          .then(() => {\n            // 加载成功后初始化\n            console.log('Quill资源加载完成，初始化扩展');\n            setTimeout(() => {\n              try {\n                if (window.Quill) {\n                  initQuillExtensions();\n                  \n                  // 如果在合同文本标签页，尝试应用内联建议\n                  if (activeTab.value === 'contractText' && enableInlineSuggestions.value) {\n                    setTimeout(applyInlineSuggestions, 500);\n                  }\n                } else {\n                  console.error('Quill未能正确加载，脚本可能已执行但Quill对象未定义');\n                  tryNextSource();\n                }\n              } catch (error) {\n                console.error('初始化Quill扩展失败:', error);\n                tryNextSource();\n              }\n            }, 300);\n          })\n          .catch(() => {\n            console.log('资源加载失败，尝试下一个源');\n            tryNextSource();\n          });\n      };\n      \n      // 降级到基本编辑器\n      const fallbackToBasicEditor = () => {\n        ElMessage.warning('高级编辑器加载失败，使用基本编辑器功能');\n        enableInlineSuggestions.value = false;\n        showAiSuggestions.value = true;\n        \n        // 添加基本样式\n        const inlineStyles = document.createElement('style');\n        inlineStyles.id = 'quill-basic-styles';\n        inlineStyles.textContent = `\n          .ql-container{border:1px solid #ccc;font-family:sans-serif;}\n          .ql-editor{min-height:300px;padding:12px 15px;}\n          .ql-toolbar{border-top:none;border-left:none;border-right:none;border-bottom:1px solid #e0e0e0;background-color:#f8f9fa;}\n        `;\n        document.head.appendChild(inlineStyles);\n      };\n      \n      // 开始尝试加载\n      tryNextSource();\n    }\n\n    // 在mounted钩子中读取本地存储的术语\n    onMounted(() => {\n      // 加载合同详情\n      getContractDetails();\n      \n      // 加载本地存储的自定义术语\n      const savedTerminologies = localStorage.getItem('customTerminologies');\n      if (savedTerminologies) {\n        try {\n          customTerminologies.value = JSON.parse(savedTerminologies);\n        } catch (e) {\n          console.error('解析存储的术语出错:', e);\n        }\n      }\n      \n      // 读取本地存储的润色偏好\n      const savedPreferences = localStorage.getItem('polishPreferences');\n      if (savedPreferences) {\n        try {\n          const preferences = JSON.parse(savedPreferences);\n          // 确保focus是数组类型\n          if (preferences.focus && !Array.isArray(preferences.focus)) {\n            preferences.focus = ['grammar', 'terminology'];\n          }\n          Object.assign(polishPreferences, preferences);\n          console.log('已加载润色偏好设置:', polishPreferences);\n        } catch (e) {\n          console.error('解析存储的润色偏好出错:', e);\n        }\n      }\n      \n      // 读取本地存储的检查偏好\n      const savedCheckPreferences = localStorage.getItem('checkPreferences');\n      if (savedCheckPreferences) {\n        try {\n          const preferences = JSON.parse(savedCheckPreferences);\n          Object.assign(checkPreferences, preferences);\n          console.log('已加载检查偏好设置:', checkPreferences);\n        } catch (e) {\n          console.error('解析存储的检查偏好出错:', e);\n        }\n      }\n      \n      // 调整编辑器高度\n      nextTick(() => {\n        adjustEditorHeight();\n        setupMutationObserver();\n        setupResizeListener();\n      });\n    });\n\n    // 监听润色偏好变化，保存到本地存储\n    watch(polishPreferences, (newPreferences) => {\n      console.log('保存润色偏好:', newPreferences);\n      localStorage.setItem('polishPreferences', JSON.stringify({\n        style: newPreferences.style, \n        contractType: newPreferences.contractType,\n        focus: newPreferences.focus\n      }));\n    }, { deep: true });\n\n    // 监听合同内容变化，延迟执行分析\n    watch(() => contractDetails.content, (newContent, oldContent) => {\n      if (newContent && newContent !== oldContent && newContent !== lastAnalyzedContent.value) {\n        debouncedAnalyzeText();\n      }\n    });\n\n    // 监听检查偏好设置变化，保存到本地\n    watch(checkPreferences, (newPreferences) => {\n      console.log('保存检查偏好:', newPreferences);\n      localStorage.setItem('checkPreferences', JSON.stringify(newPreferences));\n    }, { deep: true });\n\n    // 在组件卸载前清理所有事件监听\n    onBeforeUnmount(() => {\n      // 清理窗口调整大小事件\n      cleanupResizeListener();\n      \n      // 清理页面可见性变化监听\n      document.removeEventListener('visibilitychange', () => {});\n      \n      // 清理DOM变化观察器\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n      \n      console.log('组件即将卸载，已清理所有事件监听器');\n    });\n\n    return {\n      activeTab,\n      activeCollapse,\n      activeSuggestionCollapse,\n      contractId,\n      contractDetails,\n      contractTitle,\n      checkResult,\n      aiSuggestions,\n      contractHistory,\n      polishPreferences,\n      checkPreferences,\n      customTerminologies,\n      newTerminology,\n      addCustomTerminology,\n      removeCustomTerminology,\n      isChecking,\n      quillEditor,\n      editorOption,\n      showAiSuggestions,\n      goBack,\n      saveChanges,\n      isLoading,\n      isSaving,\n      isRealTimePolishing,\n      realTimePolishLoading,\n      toggleAiPanelCollapse,\n      isAiPanelCollapsed,\n      adoptInlineEditSuggestion,\n      ignoreInlineEditSuggestion,\n      applyInlineSuggestions,\n      enableInlineSuggestions,\n      onInlineSuggestionsToggle,\n      debouncedAnalyzeText,\n      clearInlineEditSuggestions,\n      showSuggestionTooltip,\n      generateDiff,\n      manualAnalyzeText,\n      estimatedTime,\n      startContractCheck, // 添加合同检查函数\n      viewRegulation, \n      downloadContract, \n      adoptSuggestion, \n      ignoreSuggestion, \n      applyAllSuggestions, \n      hideAiPanel, \n      // 添加引用变量\n      contractEditContainer,\n      aiPolishSidebar,\n      editorMainArea,\n      contractCheckContainer, // 合同检查容器引用\n      checkSidebar, // 检查侧边栏引用\n      checkResultArea // 检查结果区域引用\n    }\n  }\n}\n</script>\n\n<style scoped>\n.contract-detail-container {\n  padding: 20px;\n  position: relative;\n  overflow-x: hidden; /* 防止水平溢出 */\n}\n\n.card {\n  border: none;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0,0,0,0.05);\n  margin-bottom: 20px;\n}\n\n.card-header {\n  background-color: #fff;\n  border-bottom: 1px solid #f0f0f0;\n  padding: 15px 20px;\n  font-weight: 600;\n  font-size: 16px;\n  color: #343a40;\n}\n\n.card-body {\n  padding: 20px;\n  overflow: visible; /* 确保不剪裁badge */\n}\n\n.contract-text-editor {\n  min-height: 100%;\n  height: 100%;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  padding: 0;\n  margin-bottom: 0;\n  background-color: #fff;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: column;\n}\n\n.contract-text-editor .ql-toolbar {\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 1px solid #e0e0e0;\n  background-color: #f8f9fa;\n  padding: 8px 15px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  flex-shrink: 0;\n}\n\n.contract-text-editor .ql-container {\n  border: none;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  font-family: 'Microsoft YaHei', Arial, sans-serif;\n}\n\n.contract-text-editor .ql-editor {\n  height: 100%;\n  overflow-y: auto;\n  font-size: 14px;\n  line-height: 1.8;\n  padding: 15px 20px;\n  color: #333;\n  scrollbar-width: thin; /* Firefox滚动条样式 */\n  scrollbar-color: #ddd transparent; /* Firefox滚动条颜色 */\n  scroll-behavior: smooth; /* 平滑滚动 */\n}\n\n/* 增加编辑器的滚动条样式 */\n.contract-text-editor .ql-editor::-webkit-scrollbar {\n  width: 6px;\n  background-color: transparent;\n}\n\n.contract-text-editor .ql-editor::-webkit-scrollbar-thumb {\n  background-color: #ddd;\n  border-radius: 3px;\n  transition: background-color 0.2s;\n}\n\n.contract-text-editor .ql-editor::-webkit-scrollbar-thumb:hover {\n  background-color: #bbb;\n}\n\n.check-item {\n  margin-bottom: 15px;\n}\n\n.me-1 {\n  margin-right: 4px;\n}\n\n.me-2 {\n  margin-right: 8px;\n}\n\n.ms-2 {\n  margin-left: 8px;\n}\n\n.mt-3 {\n  margin-top: 16px;\n}\n\n.mb-0 {\n  margin-bottom: 0;\n}\n\n.mb-1 {\n  margin-bottom: 4px;\n}\n\n.mb-2 {\n  margin-bottom: 8px;\n}\n\n.mb-3 {\n  margin-bottom: 16px;\n}\n\n.fs-4 {\n  font-size: 1.5rem;\n}\n\n/* AI建议面板样式 */\n.ai-suggestions-panel {\n  position: fixed;\n  top: 70px;  /* 调整顶部距离 */\n  right: 0;\n  bottom: 20px;\n  width: 320px;\n  background-color: #f8f9fa;\n  border-left: 1px solid #dee2e6;\n  border-top-left-radius: 8px;\n  border-bottom-left-radius: 8px;\n  padding: 15px;\n  overflow-y: auto;\n  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;\n  opacity: 0;\n  transform: translateX(100%);\n  z-index: 1040;\n  box-shadow: -3px 0 10px rgba(0, 0, 0, 0.05);\n}\n\n.ai-suggestions-panel.show {\n  opacity: 1;\n  transform: translateX(0);\n}\n\n.ai-suggestions-panel.collapsed {\n  transform: translateX(calc(100% - 35px));\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n}\n\n.ai-suggestions-panel.collapsed .panel-header h5,\n.ai-suggestions-panel.collapsed .suggestion-item,\n.ai-suggestions-panel.collapsed > div:not(.panel-header) {\n  display: none;\n}\n\n.ai-suggestions-panel.collapsed .panel-header {\n  writing-mode: vertical-lr;\n  transform: rotate(180deg);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.ai-suggestions-panel.collapsed .panel-controls {\n  transform: rotate(180deg);\n  position: absolute;\n  top: 10px;\n  left: 0;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.panel-controls {\n  display: flex;\n  align-items: center;\n}\n\n.suggestion-item {\n  background-color: #fff;\n  border: 1px solid #e9ecef;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n  font-size: 0.85rem;\n}\n\n.original-text {\n  text-decoration: line-through;\n  color: #dc3545;\n  font-size: 0.8rem;\n  display: block;\n  margin-bottom: 3px;\n}\n\n.suggested-text {\n  color: #28a745;\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.explanation {\n  font-size: 0.75rem;\n  color: #6c757d;\n  margin-bottom: 8px;\n}\n\n.text-danger {\n  color: #dc3545;\n}\n\n.text-warning {\n  color: #ffc107;\n}\n\n.text-info {\n  color: #17a2b8;\n}\n\n.text-success {\n  color: #28a745;\n}\n\n.text-primary {\n  color: #007bff;\n}\n\n.text-muted {\n  color: #6c757d;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-end {\n  text-align: right;\n}\n\n.d-flex {\n  display: flex;\n}\n\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n\n.flex-grow-1 {\n  flex-grow: 1;\n}\n\n.justify-content-between {\n  justify-content: space-between;\n}\n\n.align-items-center {\n  align-items: center;\n}\n\n.p-3 {\n  padding: 1rem;\n}\n\n.ms-3 {\n  margin-left: 1rem;\n}\n\n.gap-2 {\n  gap: 0.5rem;\n}\n\n.border {\n  border: 1px solid #dee2e6;\n}\n\n.rounded {\n  border-radius: 0.25rem;\n}\n\n.bg-light {\n  background-color: #f8f9fa;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n}\n\n.col-md-3 {\n  flex: 0 0 25%;\n  max-width: 25%;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n.col-md-6 {\n  flex: 0 0 50%;\n  max-width: 50%;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n@media (max-width: 767.98px) {\n  .col-md-3, .col-md-6 {\n    flex: 0 0 100%;\n    max-width: 100%;\n  }\n}\n\n/* 永久可见的展开按钮样式 */\n.panel-open-button {\n  position: fixed;\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  z-index: 1039;\n  padding: 8px 5px 8px 8px;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-top-left-radius: 50%;\n  border-bottom-left-radius: 50%;\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.panel-open-button:hover {\n  right: 8px;\n  background-color: #f0f9ff;\n}\n\n.panel-open-button .el-button {\n  box-shadow: 0 0 8px rgba(64, 158, 255, 0.2);\n}\n\n/* 添加内联建议相关的样式 */\n.suggestion-highlight {\n  background-color: rgba(255, 217, 102, 0.3);\n  border-bottom: 1px dashed #ffb300;\n  cursor: pointer;\n  position: relative;\n}\n\n.suggestion-highlight:hover {\n  background-color: rgba(255, 217, 102, 0.5);\n}\n\n.ql-suggestion-tooltip {\n  position: absolute;\n  background-color: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  padding: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1100;\n  width: auto;\n  max-width: 300px;\n}\n\n.suggestion-tooltip-content {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n.suggestion-original {\n  text-decoration: line-through;\n  color: #dc3545;\n  font-size: 0.9rem;\n}\n\n.suggestion-suggested {\n  color: #28a745;\n  font-weight: bold;\n  font-size: 0.9rem;\n}\n\n.suggestion-arrow {\n  color: #6c757d;\n  margin: 0 5px;\n}\n\n.suggestion-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 5px;\n  margin-top: 5px;\n}\n\n.suggestion-actions button {\n  border: none;\n  border-radius: 3px;\n  padding: 3px 8px;\n  font-size: 0.8rem;\n  cursor: pointer;\n}\n\n.suggestion-actions .btn-adopt {\n  background-color: #28a745;\n  color: white;\n}\n\n.suggestion-actions .btn-ignore {\n  background-color: #6c757d;\n  color: white;\n}\n\n/* 添加增强的差异对比样式 */\n.diff-content {\n  margin: 8px 0;\n  padding: 5px;\n  background: #f8f9fa;\n  border-radius: 4px;\n  line-height: 1.5;\n  font-family: Consolas, Monaco, monospace;\n  word-break: break-word;\n}\n\n.diff-common {\n  color: #333;\n}\n\n.diff-removed {\n  background-color: #ffecec;\n  color: #b30000;\n  text-decoration: line-through;\n  padding: 0 2px;\n  border-radius: 2px;\n}\n\n.diff-added {\n  background-color: #eaffea;\n  color: #006700;\n  font-weight: bold;\n  padding: 0 2px;\n  border-radius: 2px;\n}\n\n.suggestion-diff-container {\n  margin-top: 10px;\n  border-top: 1px solid #eee;\n  padding-top: 8px;\n}\n\n.suggestion-tooltip-content {\n  min-width: 280px;\n  max-width: 450px;\n}\n\n.suggestion-tooltip-header {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 5px;\n  margin-bottom: 8px;\n}\n\n.suggestion-tooltip-title {\n  font-weight: bold;\n  color: #333;\n}\n\n.suggestion-tooltip-close {\n  cursor: pointer;\n  color: #999;\n  font-size: 16px;\n}\n\n.suggestion-comparison {\n  display: flex;\n  margin-bottom: 8px;\n}\n\n.suggestion-column {\n  flex: 1;\n  padding: 0 5px;\n}\n\n.suggestion-divider {\n  width: 1px;\n  background-color: #eee;\n  margin: 0 8px;\n}\n\n.suggestion-label {\n  font-size: 0.8rem;\n  color: #666;\n  margin-bottom: 3px;\n  font-weight: bold;\n}\n\n.suggestion-explanation-container {\n  margin-top: 8px;\n  border-top: 1px solid #eee;\n  padding-top: 8px;\n}\n\n.suggestion-explanation {\n  font-style: italic;\n  color: #666;\n  font-size: 0.9rem;\n}\n\n/* 重新设计的AI润色按钮和侧边栏 */\n.ai-polish-sidebar {\n  width: 250px;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: linear-gradient(135deg, #f5f7fa 0%, #eef2f8 100%);\n  border-radius: 10px;\n  padding: 20px 15px;\n  position: relative;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e6ebf5;\n  height: 100%;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(100, 180, 255, 0.3) transparent;\n  scroll-behavior: smooth;\n  overflow-x: hidden;\n}\n\n.ai-polish-button {\n  width: 100%;\n  padding: 12px 15px;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  background: linear-gradient(45deg, #409EFF, #64b5f6);\n  box-shadow: 0 4px 10px rgba(64, 158, 255, 0.3);\n  margin: 5px 0 15px;\n  border-radius: 8px;\n  border: none;\n}\n\n.ai-polish-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(64, 158, 255, 0.4);\n  background: linear-gradient(45deg, #3a8ee6, #5aadf6);\n}\n\n.ai-polish-button:active {\n  transform: translateY(1px);\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.25);\n}\n\n.ai-polish-button-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.ai-polish-icon {\n  font-size: 20px;\n  margin-right: 8px;\n  animation: glow 2s infinite alternate;\n}\n\n@keyframes glow {\n  0% {\n    opacity: 0.8;\n    filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.6));\n  }\n  100% {\n    opacity: 1;\n    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.9));\n  }\n}\n\n.ai-polish-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n  margin: 5px 0 15px;\n  width: 100%;\n}\n\n.time-estimate, .shortcut-hint {\n  display: flex;\n  align-items: center;\n  color: #606266;\n  font-size: 13px;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 6px 12px;\n  border-radius: 6px;\n  width: 100%;\n  justify-content: flex-start;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n}\n\n.time-estimate .el-icon, .shortcut-hint .el-icon {\n  color: #409EFF;\n  margin-right: 8px;\n  font-size: 16px;\n}\n\n.ai-polish-features {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 10px;\n  margin-top: 10px;\n  width: 100%;\n  padding: 12px 15px;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n}\n\n.feature-item {\n  display: flex;\n  align-items: center;\n  color: #303133;\n  font-size: 14px;\n  width: 100%;\n  padding: 5px 0;\n}\n\n.feature-item .el-icon {\n  color: #67c23a;\n  margin-right: 10px;\n  font-size: 18px;\n  background-color: rgba(103, 194, 58, 0.1);\n  padding: 4px;\n  border-radius: 50%;\n}\n\n/* 合同文本编辑区的左右布局 */\n.contract-edit-container {\n  display: flex;\n  gap: 15px;\n  margin-bottom: 20px;\n  margin-top: 5px;\n  height: calc(100vh - 220px); /* 增加高度，从原来的280px减小到220px */\n  min-height: 600px; /* 增加最小高度，确保有足够空间 */\n  transition: height 0.3s ease;\n  overflow: visible;\n}\n\n.editor-main-area {\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  transition: height 0.3s ease;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);\n}\n\n/* 编辑器获得焦点时的美化效果 */\n.contract-text-editor:focus-within {\n  box-shadow: 0 2px 15px rgba(64, 158, 255, 0.15);\n  border-color: rgba(64, 158, 255, 0.5);\n}\n\n/* 更美观的滚动条 */\n.ai-polish-sidebar::-webkit-scrollbar {\n  width: 6px;\n  background-color: transparent;\n}\n\n.ai-polish-sidebar::-webkit-scrollbar-thumb {\n  background-color: rgba(100, 180, 255, 0.3);\n  border-radius: 3px;\n  transition: background-color 0.2s;\n}\n\n.ai-polish-sidebar::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(100, 180, 255, 0.5);\n}\n\n/* 删除无用的badge相关样式 */\n.contract-edit-wrapper {\n  position: relative;\n  margin-bottom: 20px;\n}\n\n/* 合同检查结果区域样式 */\n.check-sidebar {\n  background: linear-gradient(135deg, #f6f8fa 0%, #eef5ff 100%);\n}\n\n.check-result-card {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  padding: 20px; /* 增加内边距 */\n  margin-bottom: 20px; /* 增加下边距 */\n  flex-shrink: 0; /* 不收缩 */\n}\n\n.check-result-area {\n  flex: 1;\n  position: relative;\n  height: 100%;\n  /* 移除overflow设置，全部交给el-scrollbar处理 */\n}\n\n/* 调整内部滚动容器 */\n.check-content-scroll-wrapper {\n  flex: 1;\n  overflow-y: auto;\n  padding: 15px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  height: 0; /* 关键：flex布局中设置height:0让flex-grow工作 */\n  scrollbar-width: thin;\n  scrollbar-color: #ddd transparent;\n}\n\n.check-content-scroll-wrapper::-webkit-scrollbar {\n  width: 6px;\n  background-color: transparent;\n}\n\n.check-content-scroll-wrapper::-webkit-scrollbar-thumb {\n  background-color: #ddd;\n  border-radius: 3px;\n  transition: background-color 0.2s;\n}\n\n.check-content-scroll-wrapper::-webkit-scrollbar-thumb:hover {\n  background-color: #bbb;\n}\n\n.check-result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #f0f0f5;\n  padding-bottom: 12px; /* 增加边距 */\n}\n\n.check-result-header h6 {\n  font-size: 17px; /* 增大字体 */\n  font-weight: 600;\n  color: #303133;\n}\n\n.check-result-stats {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.stat-item {\n  flex: 1;\n  min-width: 100px;\n  text-align: center;\n  padding: 10px;\n  border-radius: 6px;\n  background-color: #f9f9fa;\n  margin: 0 5px;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: 700;\n  margin-bottom: 5px;\n  color: #409EFF;\n}\n\n.stat-value.danger {\n  color: #F56C6C;\n}\n\n.stat-value.warning {\n  color: #E6A23C;\n}\n\n.stat-value.info {\n  color: #909399;\n}\n\n.stat-label {\n  font-size: 13px;\n  color: #606266;\n}\n\n.check-result-details {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n}\n\n.check-collapse {\n  border: none;\n}\n\n.collapse-header {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  \n  .el-icon {\n    margin-right: 8px;\n  }\n}\n\n.check-issue-card {\n  background-color: #fafafa;\n  border-radius: 8px; /* 增加圆角 */\n  padding: 18px; /* 增加内边距 */\n  margin-bottom: 20px; /* 增加下边距 */\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05); /* 增强阴影 */\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.issue-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px; /* 增加边距 */\n  \n  .el-icon {\n    margin-right: 12px; /* 增加边距 */\n    font-size: 20px; /* 增大图标 */\n  }\n  \n  h6 {\n    margin: 0;\n    font-size: 16px; /* 增大字体 */\n    font-weight: 600;\n  }\n}\n\n.issue-content {\n  margin-bottom: 15px;\n}\n\n.issue-field {\n  margin-bottom: 8px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.field-label {\n  font-size: 13px;\n  color: #606266;\n  font-weight: 500;\n  margin-bottom: 4px;\n}\n\n.field-value {\n  font-size: 14px;\n  line-height: 1.5;\n  color: #333;\n  background-color: white;\n  padding: 8px 12px;\n  border-radius: 4px;\n  border: 1px solid #eee;\n}\n\n.issue-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n.empty-result {\n  padding: 30px 0;\n  color: #909399;\n  text-align: center;\n}\n\n.check-options {\n  .el-checkbox {\n    margin-right: 0;\n    margin-left: 0;\n    display: block;\n    margin-bottom: 8px;\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n}\n\n/* 适配键盘快捷键处理器 */\n.check-keyboard-shortcut {\n  display: none;\n}\n\n/* 优化检查偏好设置控件样式 */\n.check-sidebar {\n  .preference-option {\n    margin-bottom: 12px;\n    \n    .el-select {\n      width: 100%;  /* 将下拉框宽度设为100% */\n      margin-top: 6px;  /* 增加上边距 */\n    }\n    \n    span {\n      display: block;  /* 标签单独一行 */\n      margin-bottom: 4px;\n      font-weight: 500;\n    }\n  }\n  \n  .check-options {\n    padding: 5px 0;\n    \n    .el-checkbox {\n      height: 32px;\n      display: flex;\n      align-items: center;\n      border-radius: 4px;\n      transition: background-color 0.2s;\n      padding: 0 8px;\n      margin-bottom: 6px;  /* 减小复选框之间的间距 */\n      \n      &:hover {\n        background-color: rgba(64, 158, 255, 0.08);\n      }\n      \n      &:last-child {\n        margin-bottom: 0;  /* 最后一个没有底部边距 */\n      }\n    }\n  }\n  \n  .ai-polish-button {\n    margin-bottom: 20px; /* 增加按钮下边距 */\n  }\n\n  /* 检查页面特定样式优化 */\n  .ai-polish-personalization {\n    background-color: #f7f9ff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n    width: 100%;\n    padding: 15px;\n    margin: 12px 0;\n    \n    .personalization-title {\n      font-size: 14px;\n      margin-bottom: 12px;\n      padding-bottom: 6px;  /* 减小标题下方空间 */\n      \n      &:after {\n        width: 30px;  /* 减小下划线长度 */\n        height: 2px;\n      }\n    }\n    \n    .personalization-section {\n      margin-bottom: 14px;\n      background-color: rgba(255, 255, 255, 0.6);\n      border-radius: 6px;\n      padding: 10px;\n      \n      &:last-child {\n        margin-bottom: 0;  /* 最后一个区段没有底部边距 */\n      }\n      \n      .section-header {\n        margin-bottom: 8px;\n        .el-icon {\n          font-size: 15px;\n        }\n        \n        span {\n          font-size: 13px;  /* 稍微小一点的字体 */\n        }\n      }\n    }\n  }\n  \n  /* 特性列表优化 */\n  .ai-polish-features {\n    margin-top: 12px;\n    \n    .feature-item {\n      padding: 4px 0;  /* 减小特性项目之间的空间 */\n      \n      &:last-child {\n        padding-bottom: 0;\n      }\n    }\n  }\n  \n  /* 整体宽度控制 */\n  width: 240px;  /* 控制左侧栏宽度，使其更紧凑 */\n}\n\n/* 添加自定义scrollbar样式 */\n.contract-check-scrollbar {\n  height: 100% !important;\n}\n\n.contract-check-scrollbar .el-scrollbar__wrap {\n  overflow-x: hidden;\n}\n</style>\n\n<style>\n/* 法规弹窗自定义样式 */\n.regulation-dialog .el-message-box__content {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.regulation-detail h4 {\n  color: #409EFF;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #ebeef5;\n  padding-bottom: 10px;\n}\n\n.regulation-detail .regulation-content {\n  background-color: #f8f9fa;\n  padding: 12px;\n  border-left: 4px solid #409EFF;\n  border-radius: 4px;\n  margin: 10px 0;\n}\n\n.regulation-detail .regulation-suggestion h5 {\n  color: #67c23a;\n  margin-bottom: 10px;\n}\n\n.regulation-detail .regulation-suggestion p {\n  background-color: #f0f9eb;\n  padding: 10px;\n  border-left: 4px solid #67c23a;\n  border-radius: 4px;\n}\n</style> \n\n<style lang=\"scss\" scoped>\n// ... existing code ...\n\n/* 个性化定制区域样式 */\n.ai-polish-personalization {\n  background-color: #f9f9ff;\n  border-radius: 8px;\n  padding: 15px;\n  margin: 15px 0;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\n}\n\n.personalization-title {\n  font-size: 14px;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 15px;\n  position: relative;\n  padding-bottom: 8px;\n  \n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 40px;\n    height: 2px;\n    background-color: #409EFF;\n  }\n}\n\n.personalization-section {\n  margin-bottom: 15px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  font-size: 13px;\n  font-weight: 500;\n  color: #606266;\n  \n  .el-icon {\n    margin-right: 6px;\n    color: #409EFF;\n  }\n}\n\n.preference-option {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n  font-size: 13px;\n  \n  span {\n    color: #606266;\n  }\n  \n  .el-select {\n    width: 60%;\n  }\n}\n\n.optimization-options {\n  .el-checkbox-group {\n    display: flex;\n    flex-wrap: wrap;\n    \n    .el-checkbox {\n      margin-right: 15px;\n      margin-bottom: 8px;\n      font-size: 13px;\n    }\n  }\n}\n\n.terminology-manager {\n  .terminology-input {\n    margin-bottom: 10px;\n  }\n  \n  .terminology-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n    margin-top: 8px;\n    \n    .terminology-tag {\n      margin-right: 5px;\n      margin-bottom: 5px;\n    }\n  }\n  \n  .terminology-empty {\n    font-size: 12px;\n    color: #909399;\n    text-align: center;\n    padding: 8px 0;\n  }\n}\n// ... existing code ...\n\n/* 合同检查结果区域样式 */\n.check-sidebar {\n  background: linear-gradient(135deg, #f6f8fa 0%, #eef5ff 100%);\n}\n\n.check-result-area {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  overflow-y: auto;\n  padding: 0;\n  background-color: #f9f9fc;\n}\n\n.check-result-card {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  padding: 15px 20px;\n}\n\n.check-result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #f0f0f5;\n  padding-bottom: 10px;\n}\n\n.check-result-header h6 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  margin: 0;\n}\n\n.check-result-stats {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.stat-item {\n  flex: 1;\n  min-width: 100px;\n  text-align: center;\n  padding: 10px;\n  border-radius: 6px;\n  background-color: #f9f9fa;\n  margin: 0 5px;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: 700;\n  margin-bottom: 5px;\n  color: #409EFF;\n}\n\n.stat-value.danger {\n  color: #F56C6C;\n}\n\n.stat-value.warning {\n  color: #E6A23C;\n}\n\n.stat-value.info {\n  color: #909399;\n}\n\n.stat-label {\n  font-size: 13px;\n  color: #606266;\n}\n\n.check-result-details {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n}\n\n.check-collapse {\n  border: none;\n}\n\n.collapse-header {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  \n  .el-icon {\n    margin-right: 8px;\n  }\n}\n\n.check-issue-card {\n  background-color: #fafafa;\n  border-radius: 6px;\n  padding: 15px;\n  margin-bottom: 15px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.issue-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n  \n  .el-icon {\n    margin-right: 10px;\n  }\n  \n  h6 {\n    margin: 0;\n    font-size: 15px;\n    font-weight: 600;\n  }\n}\n\n.issue-content {\n  margin-bottom: 15px;\n}\n\n.issue-field {\n  margin-bottom: 8px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.field-label {\n  font-size: 13px;\n  color: #606266;\n  font-weight: 500;\n  margin-bottom: 4px;\n}\n\n.field-value {\n  font-size: 14px;\n  line-height: 1.5;\n  color: #333;\n  background-color: white;\n  padding: 8px 12px;\n  border-radius: 4px;\n  border: 1px solid #eee;\n}\n\n.issue-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n.empty-result {\n  padding: 30px 0;\n  color: #909399;\n  text-align: center;\n}\n\n.check-options {\n  .el-checkbox {\n    margin-right: 0;\n    margin-left: 0;\n    display: block;\n    margin-bottom: 8px;\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n}\n\n/* 适配键盘快捷键处理器 */\n.check-keyboard-shortcut {\n  display: none;\n}\n\n/* 优化检查偏好设置控件样式 */\n.check-sidebar {\n  .preference-option {\n    margin-bottom: 12px;\n    \n    .el-select {\n      width: 100%;  /* 将下拉框宽度设为100% */\n      margin-top: 6px;  /* 增加上边距 */\n    }\n    \n    span {\n      display: block;  /* 标签单独一行 */\n      margin-bottom: 4px;\n      font-weight: 500;\n    }\n  }\n  \n  .check-options {\n    padding: 5px 0;\n    \n    .el-checkbox {\n      height: 32px;\n      display: flex;\n      align-items: center;\n      border-radius: 4px;\n      transition: background-color 0.2s;\n      padding: 0 8px;\n      margin-bottom: 6px;  /* 减小复选框之间的间距 */\n      \n      &:hover {\n        background-color: rgba(64, 158, 255, 0.08);\n      }\n      \n      &:last-child {\n        margin-bottom: 0;  /* 最后一个没有底部边距 */\n      }\n    }\n  }\n  \n  .ai-polish-button {\n    margin-bottom: 20px; /* 增加按钮下边距 */\n  }\n\n  /* 检查页面特定样式优化 */\n  .ai-polish-personalization {\n    background-color: #f7f9ff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n    width: 100%;\n    padding: 15px;\n    margin: 12px 0;\n    \n    .personalization-title {\n      font-size: 14px;\n      margin-bottom: 12px;\n      padding-bottom: 6px;  /* 减小标题下方空间 */\n      \n      &:after {\n        width: 30px;  /* 减小下划线长度 */\n        height: 2px;\n      }\n    }\n    \n    .personalization-section {\n      margin-bottom: 14px;\n      background-color: rgba(255, 255, 255, 0.6);\n      border-radius: 6px;\n      padding: 10px;\n      \n      &:last-child {\n        margin-bottom: 0;  /* 最后一个区段没有底部边距 */\n      }\n      \n      .section-header {\n        margin-bottom: 8px;\n        .el-icon {\n          font-size: 15px;\n        }\n        \n        span {\n          font-size: 13px;  /* 稍微小一点的字体 */\n        }\n      }\n    }\n  }\n  \n  /* 特性列表优化 */\n  .ai-polish-features {\n    margin-top: 12px;\n    \n    .feature-item {\n      padding: 4px 0;  /* 减小特性项目之间的空间 */\n      \n      &:last-child {\n        padding-bottom: 0;\n      }\n    }\n  }\n  \n  /* 整体宽度控制 */\n  width: 240px;  /* 控制左侧栏宽度，使其更紧凑 */\n}\n// ... existing code ...\n</style> \n\n<style lang=\"scss\">\n/* 深色模式适配 */\n:deep([data-theme=\"dark\"]), :deep(body.is-dark) {\n  /* 主容器和卡片 */\n  .contract-detail-container {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n  }\n  \n  .card {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n    border-color: var(--border-color) !important;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.15) !important;\n  }\n\n  .card-header {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n    border-bottom-color: var(--border-color) !important;\n  }\n\n  .card-body {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n  }\n  \n  /* 白色容器元素 - 主要针对截图中显示的问题 */\n  .contract-detail-container .el-card,\n  .contract-detail-container .el-form,\n  .contract-detail-container .row {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n  }\n  \n  /* 表单区域 */\n  :deep(.el-form) {\n    background-color: var(--bg-color) !important;\n    \n    .el-form-item {\n      background-color: var(--bg-color) !important;\n      \n      .el-form-item__label {\n        color: var(--text-color) !important;\n      }\n      \n      .el-form-item__content {\n        background-color: var(--bg-color) !important;\n      }\n    }\n  }\n  \n  /* 输入框 */\n  :deep(.el-input),\n  :deep(.el-select),\n  :deep(.el-date-editor) {\n    background-color: var(--bg-color) !important;\n    \n    .el-input__wrapper {\n      background-color: var(--bg-color) !important;\n      box-shadow: 0 0 0 1px var(--border-color) inset !important;\n    }\n    \n    .el-input__inner {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n  }\n  \n  /* 标签页 */\n  :deep(.el-tabs) {\n    background-color: var(--bg-color) !important;\n    \n    .el-tabs__header {\n      background-color: var(--bg-color) !important;\n      border-bottom-color: var(--border-color) !important;\n    }\n    \n    .el-tabs__nav-wrap::after {\n      background-color: var(--border-color) !important;\n    }\n    \n    .el-tabs__item {\n      color: var(--text-color-secondary) !important;\n    }\n    \n    .el-tabs__item.is-active {\n      color: var(--primary-color) !important;\n    }\n    \n    .el-tabs__content {\n      background-color: var(--bg-color) !important;\n    }\n    \n    .el-tab-pane {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n  }\n  \n  /* 合同文本编辑器和检查区域 */\n  .contract-edit-wrapper,\n  .contract-edit-container,\n  .editor-main-area,\n  .check-result-area {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n  }\n  \n  /* 修复白色背景卡片 */\n  #contractTitleHeader {\n    color: var(--text-color) !important;\n  }\n  \n  h5, h6 {\n    color: var(--text-color) !important;\n  }\n  \n  /* 修复基本信息表单区域 */\n  .row, .col-md-6 {\n    background-color: var(--bg-color) !important;\n  }\n  \n  /* 富文本编辑器 */\n  .contract-text-editor {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n    border-color: var(--border-color) !important;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.15) !important;\n    \n    :deep(.ql-toolbar) {\n      background-color: var(--bg-color-secondary) !important;\n      border-color: var(--border-color) !important;\n    }\n    \n    :deep(.ql-container) {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n    }\n    \n    :deep(.ql-editor) {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n  }\n  \n  /* AI润色侧边栏 */\n  .ai-polish-sidebar,\n  .check-sidebar {\n    background: linear-gradient(135deg, var(--bg-color-secondary) 0%, var(--bg-color-tertiary) 100%) !important;\n    border-color: var(--border-color) !important;\n  }\n  \n  /* 修复空状态图片 */\n  :deep(.el-empty) {\n    background-color: transparent !important;\n    \n    .el-empty__image, \n    .el-empty__description {\n      color: var(--text-color-secondary) !important;\n    }\n  }\n  \n  /* 时间线 */\n  :deep(.el-timeline) {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n    \n    .el-timeline-item__tail {\n      border-left-color: var(--border-color) !important;\n    }\n    \n    .el-timeline-item__node {\n      background-color: var(--primary-color) !important;\n    }\n    \n    .el-timeline-item__content {\n      color: var(--text-color) !important;\n    }\n    \n    .el-timeline-item__timestamp {\n      color: var(--text-color-secondary) !important;\n    }\n  }\n  \n  /* 修复分割线 */\n  hr {\n    border-color: var(--border-color) !important;\n    background-color: var(--border-color) !important;\n  }\n  \n  /* 修复下拉菜单 */\n  :deep(.el-dropdown-menu) {\n    background-color: var(--bg-color-secondary) !important;\n    border-color: var(--border-color) !important;\n    \n    .el-dropdown-menu__item {\n      color: var(--text-color) !important;\n    }\n    \n    .el-dropdown-menu__item:hover {\n      background-color: var(--bg-color-tertiary) !important;\n    }\n  }\n  \n  /* 修复弹窗和对话框 */\n  :deep(.el-dialog),\n  :deep(.el-message-box) {\n    background-color: var(--bg-color) !important;\n    border-color: var(--border-color) !important;\n    \n    .el-dialog__header,\n    .el-message-box__header {\n      background-color: var(--bg-color) !important;\n      border-bottom-color: var(--border-color) !important;\n    }\n    \n    .el-dialog__title,\n    .el-message-box__title {\n      color: var(--text-color) !important;\n    }\n    \n    .el-dialog__body,\n    .el-message-box__content {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n    \n    .el-dialog__footer,\n    .el-message-box__btns {\n      background-color: var(--bg-color) !important;\n      border-top-color: var(--border-color) !important;\n    }\n  }\n  \n  /* 修复个性化定制区域 */\n  .ai-polish-personalization {\n    background-color: var(--bg-color-secondary) !important;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n    \n    .personalization-section {\n      background-color: var(--bg-color) !important;\n      \n      .section-header {\n        color: var(--text-color) !important;\n        \n        span {\n          color: var(--text-color) !important;\n        }\n      }\n    }\n    \n    .personalization-title {\n      color: var(--text-color) !important;\n    }\n  }\n  \n  /* 修复检查结果区域 */\n  .check-result-card,\n  .check-result-details,\n  .check-issue-card {\n    background-color: var(--bg-color-secondary) !important;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2) !important;\n  }\n  \n  .check-content-inner {\n    background-color: var(--bg-color) !important;\n  }\n  \n  .check-collapse {\n    background-color: transparent !important;\n    \n    :deep(.el-collapse-item__header) {\n      background-color: var(--bg-color-secondary) !important;\n      color: var(--text-color) !important;\n      border-bottom-color: var(--border-color) !important;\n    }\n    \n    :deep(.el-collapse-item__content) {\n      background-color: var(--bg-color-secondary) !important;\n      color: var(--text-color) !important;\n    }\n  }\n  \n  /* 修复统计项 */\n  .stat-item {\n    background-color: var(--bg-color) !important;\n  }\n  \n  /* 修复工具提示 */\n  :deep(.el-tooltip__popper) {\n    background-color: var(--bg-color-secondary) !important;\n    border-color: var(--border-color) !important;\n    color: var(--text-color) !important;\n  }\n  \n  /* 修复滚动区域 */\n  .contract-check-scrollbar {\n    background-color: var(--bg-color) !important;\n    \n    :deep(.el-scrollbar__view) {\n      background-color: var(--bg-color) !important;\n    }\n    \n    :deep(.el-scrollbar__bar) {\n      background-color: var(--bg-color-tertiary) !important;\n    }\n  }\n  \n  /* 修复底部操作按钮区域 */\n  .text-end {\n    background-color: var(--bg-color) !important;\n  }\n\n  /* 修复选择器 */\n  :deep(.el-select-dropdown) {\n    background-color: var(--bg-color-secondary) !important;\n    border-color: var(--border-color) !important;\n    \n    .el-select-dropdown__item {\n      color: var(--text-color) !important;\n    }\n    \n    .el-select-dropdown__item.hover, \n    .el-select-dropdown__item:hover {\n      background-color: var(--bg-color-tertiary) !important;\n    }\n    \n    .el-select-dropdown__item.selected {\n      color: var(--primary-color) !important;\n      background-color: rgba(64, 158, 255, 0.1) !important;\n    }\n  }\n  \n  /* 日期选择器 */\n  :deep(.el-picker-panel) {\n    background-color: var(--bg-color-secondary) !important;\n    border-color: var(--border-color) !important;\n    color: var(--text-color) !important;\n    \n    .el-date-picker__header {\n      background-color: var(--bg-color-secondary) !important;\n      color: var(--text-color) !important;\n    }\n    \n    .el-date-table {\n      background-color: var(--bg-color-secondary) !important;\n      color: var(--text-color) !important;\n      \n      th, td {\n        background-color: var(--bg-color-secondary) !important;\n        color: var(--text-color) !important;\n      }\n      \n      td.current:not(.disabled) span {\n        background-color: var(--primary-color) !important;\n        color: white !important;\n      }\n      \n      td.available:hover {\n        color: var(--primary-color) !important;\n      }\n      \n      td.next-month, td.prev-month {\n        color: var(--text-color-tertiary) !important;\n      }\n    }\n  }\n  \n  /* 复选框 */\n  :deep(.el-checkbox) {\n    .el-checkbox__label {\n      color: var(--text-color) !important;\n    }\n    \n    .el-checkbox__input.is-checked .el-checkbox__inner {\n      background-color: var(--primary-color) !important;\n      border-color: var(--primary-color) !important;\n    }\n    \n    .el-checkbox__inner {\n      background-color: var(--bg-color) !important;\n      border-color: var(--border-color) !important;\n    }\n  }\n  \n  /* 标签 */\n  :deep(.el-tag) {\n    background-color: rgba(64, 158, 255, 0.1) !important;\n    border-color: rgba(64, 158, 255, 0.2) !important;\n    color: var(--primary-color) !important;\n    \n    &.el-tag--danger {\n      background-color: rgba(245, 108, 108, 0.1) !important;\n      border-color: rgba(245, 108, 108, 0.2) !important;\n      color: #F56C6C !important;\n    }\n    \n    &.el-tag--success {\n      background-color: rgba(103, 194, 58, 0.1) !important;\n      border-color: rgba(103, 194, 58, 0.2) !important;\n      color: #67C23A !important;\n    }\n    \n    &.el-tag--warning {\n      background-color: rgba(230, 162, 60, 0.1) !important;\n      border-color: rgba(230, 162, 60, 0.2) !important;\n      color: #E6A23C !important;\n    }\n    \n    &.el-tag--info {\n      background-color: rgba(144, 147, 153, 0.1) !important;\n      border-color: rgba(144, 147, 153, 0.2) !important;\n      color: #909399 !important;\n    }\n  }\n  \n  /* 开关 */\n  :deep(.el-switch) {\n    .el-switch__core {\n      background-color: var(--border-color) !important;\n    }\n    \n    &.is-checked .el-switch__core {\n      background-color: var(--primary-color) !important;\n    }\n  }\n}\n</style> \n\n<style lang=\"scss\">\n/* 深色模式适配 - 更强力的全局覆盖 */\nhtml[data-theme=\"dark\"] body, body.is-dark {\n  /* 强制应用深色背景到所有默认白色元素 */\n  .contract-detail-container,\n  .contract-detail-container *:not([class*=\"el-icon\"]):not(i):not(svg):not(path) {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n  }\n  \n  .contract-detail-container {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n    \n    /* 卡片样式 */\n    .card, .el-card {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.15) !important;\n      \n      .card-header, .el-card__header {\n        background-color: var(--bg-color) !important;\n        color: var(--text-color) !important;\n        border-bottom-color: var(--border-color) !important;\n      }\n      \n      .card-body, .el-card__body {\n        background-color: var(--bg-color) !important;\n        color: var(--text-color) !important;\n      }\n    }\n    \n    /* 标签页 */\n    .el-tabs {\n      background-color: var(--bg-color) !important;\n      \n      .el-tabs__header {\n        background-color: var(--bg-color) !important;\n        border-bottom-color: var(--border-color) !important;\n      }\n      \n      .el-tabs__nav-wrap::after {\n        background-color: var(--border-color) !important;\n      }\n      \n      .el-tabs__item {\n        color: var(--text-color-secondary) !important;\n      }\n      \n      .el-tabs__item.is-active {\n        color: var(--primary-color) !important;\n      }\n      \n      .el-tabs__content {\n        background-color: var(--bg-color) !important;\n      }\n      \n      .el-tab-pane {\n        background-color: var(--bg-color) !important;\n        color: var(--text-color) !important;\n      }\n    }\n    \n    /* 表单元素 */\n    .el-form {\n      background-color: var(--bg-color) !important;\n      \n      .el-form-item {\n        background-color: var(--bg-color) !important;\n        \n        .el-form-item__label {\n          color: var(--text-color) !important;\n        }\n        \n        .el-form-item__content {\n          background-color: var(--bg-color) !important;\n        }\n      }\n    }\n    \n    /* 输入框和控件 */\n    .el-input__wrapper,\n    .el-textarea__wrapper {\n      background-color: var(--bg-color) !important;\n      box-shadow: 0 0 0 1px var(--border-color) inset !important;\n    }\n    \n    .el-input__inner,\n    .el-textarea__inner {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n    \n    .el-select .el-input__wrapper {\n      background-color: var(--bg-color) !important;\n    }\n    \n    .el-date-editor {\n      background-color: var(--bg-color) !important;\n      \n      .el-input__wrapper {\n        background-color: var(--bg-color) !important;\n      }\n    }\n    \n    /* 修复编辑器区域 */\n    .ql-toolbar.ql-snow {\n      background-color: var(--bg-color-secondary) !important;\n      border-color: var(--border-color) !important;\n    }\n    \n    .ql-container.ql-snow {\n      background-color: var(--bg-color) !important;\n      border-color: var(--border-color) !important;\n    }\n    \n    .ql-editor {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n    \n    /* 合同文本编辑器和检查区域 */\n    .contract-edit-wrapper,\n    .contract-edit-container {\n      background-color: var(--bg-color) !important;\n      \n      .editor-main-area,\n      .check-result-area {\n        background-color: var(--bg-color) !important;\n      }\n    }\n    \n    /* AI润色侧边栏 */\n    .ai-polish-sidebar,\n    .check-sidebar {\n      background: linear-gradient(135deg, var(--bg-color-secondary) 0%, var(--bg-color-tertiary) 100%) !important;\n      border-color: var(--border-color) !important;\n    }\n    \n    /* 个性化定制区域 */\n    .ai-polish-personalization {\n      background-color: var(--bg-color-secondary) !important;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n      \n      .personalization-section {\n        background-color: var(--bg-color) !important;\n        \n        .section-header {\n          color: var(--text-color) !important;\n          \n          span {\n            color: var(--text-color) !important;\n          }\n        }\n      }\n      \n      .personalization-title {\n        color: var(--text-color) !important;\n      }\n    }\n    \n    /* 统计项 */\n    .stat-item {\n      background-color: var(--bg-color) !important;\n      \n      .stat-label {\n        color: var(--text-color-secondary) !important;\n      }\n    }\n    \n    /* 检查结果区域 */\n    .check-result-card,\n    .check-result-details,\n    .check-issue-card {\n      background-color: var(--bg-color-secondary) !important;\n      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2) !important;\n    }\n    \n    .check-content-inner {\n      background-color: var(--bg-color) !important;\n      padding: 15px 20px !important;\n    }\n    \n    /* 滚动区域 */\n    .el-scrollbar {\n      background-color: var(--bg-color) !important;\n      \n      .el-scrollbar__view {\n        background-color: var(--bg-color) !important;\n      }\n    }\n    \n    /* 强制应用到动态生成的元素 */\n    div[class*=\"contract\"],\n    div[class*=\"card\"],\n    div[class*=\"box\"],\n    div[class*=\"panel\"],\n    div[class*=\"content\"],\n    div[class*=\"wrapper\"],\n    div[class*=\"container\"] {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n    \n    /* 表格 */\n    .el-table {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      \n      .el-table__header, \n      .el-table__body, \n      .el-table__footer {\n        background-color: var(--bg-color) !important;\n      }\n      \n      th, td {\n        background-color: var(--bg-color) !important;\n        border-bottom-color: var(--border-color) !important;\n      }\n      \n      .el-table__row {\n        background-color: var(--bg-color) !important;\n        color: var(--text-color) !important;\n      }\n      \n      .el-table__cell {\n        background-color: var(--bg-color) !important;\n      }\n    }\n  }\n  \n  /* 强制覆盖弹出元素 */\n  .el-select-dropdown,\n  .el-dropdown-menu,\n  .el-picker-panel,\n  .el-tooltip__popper {\n    background-color: var(--bg-color-secondary) !important;\n    border-color: var(--border-color) !important;\n    color: var(--text-color) !important;\n    \n    .el-select-dropdown__item,\n    .el-dropdown-menu__item,\n    .el-date-table td,\n    .el-date-table th,\n    .el-month-table td,\n    .el-year-table td {\n      color: var(--text-color) !important;\n      background-color: var(--bg-color-secondary) !important;\n    }\n    \n    .el-select-dropdown__item.hover, \n    .el-select-dropdown__item:hover,\n    .el-dropdown-menu__item:hover {\n      background-color: var(--bg-color-tertiary) !important;\n    }\n    \n    .el-select-dropdown__item.selected {\n      color: var(--primary-color) !important;\n      background-color: rgba(64, 158, 255, 0.1) !important;\n    }\n    \n    .el-date-table td.current:not(.disabled) span {\n      background-color: var(--primary-color) !important;\n      color: white !important;\n    }\n  }\n  \n  /* 修复时间线 */\n  .el-timeline {\n    background-color: var(--bg-color) !important;\n    color: var(--text-color) !important;\n    \n    .el-timeline-item__tail {\n      border-left-color: var(--border-color) !important;\n    }\n    \n    .el-timeline-item__node {\n      background-color: var(--primary-color) !important;\n    }\n    \n    .el-timeline-item__content {\n      color: var(--text-color) !important;\n    }\n    \n    .el-timeline-item__timestamp {\n      color: var(--text-color-secondary) !important;\n    }\n  }\n  \n  /* 修复空状态 */\n  .el-empty {\n    background-color: transparent !important;\n    \n    .el-empty__image, \n    .el-empty__description {\n      color: var(--text-color-secondary) !important;\n    }\n  }\n  \n  /* 对话框和消息框 */\n  .el-dialog,\n  .el-message-box {\n    background-color: var(--bg-color) !important;\n    border-color: var(--border-color) !important;\n    \n    .el-dialog__header,\n    .el-message-box__header {\n      background-color: var(--bg-color) !important;\n      border-bottom-color: var(--border-color) !important;\n    }\n    \n    .el-dialog__title,\n    .el-message-box__title {\n      color: var(--text-color) !important;\n    }\n    \n    .el-dialog__body,\n    .el-message-box__content {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n    }\n    \n    .el-dialog__footer,\n    .el-message-box__btns {\n      background-color: var(--bg-color) !important;\n      border-top-color: var(--border-color) !important;\n    }\n  }\n  \n  /* 修复组件边框 */\n  hr, \n  .el-divider {\n    border-color: var(--border-color) !important;\n    background-color: var(--border-color) !important;\n  }\n\n  /* 专门处理运行时生成的编辑器框架 */\n  iframe.ql-video {\n    background-color: black !important;\n  }\n  \n  .ql-picker-options {\n    background-color: var(--bg-color-secondary) !important;\n    color: var(--text-color) !important;\n    border-color: var(--border-color) !important;\n  }\n  \n  .ql-tooltip {\n    background-color: var(--bg-color-secondary) !important;\n    color: var(--text-color) !important;\n    border-color: var(--border-color) !important;\n    \n    input[type=\"text\"] {\n      background-color: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n    }\n  }\n  \n  /* 修复可能的内联样式问题 */\n  [style*=\"background-color: white\"],\n  [style*=\"background-color:#fff\"],\n  [style*=\"background-color:#ffffff\"],\n  [style*=\"background: white\"],\n  [style*=\"background:#fff\"],\n  [style*=\"background:#ffffff\"] {\n    background-color: var(--bg-color) !important;\n  }\n  \n  [style*=\"color:black\"],\n  [style*=\"color: black\"],\n  [style*=\"color:#000\"],\n  [style*=\"color:#000000\"] {\n    color: var(--text-color) !important;\n  }\n  \n  /* 修复AI建议面板 */\n  .ai-suggestions-panel {\n    background-color: var(--bg-color-secondary) !important;\n    border-color: var(--border-color) !important;\n    box-shadow: -3px 0 10px rgba(0, 0, 0, 0.15) !important;\n    \n    .panel-header {\n      color: var(--text-color) !important;\n      background-color: var(--bg-color-secondary) !important;\n    }\n    \n    .suggestion-item {\n      background-color: var(--bg-color) !important;\n      border-color: var(--border-color) !important;\n    }\n    \n    .explanation {\n      color: var(--text-color-secondary) !important;\n    }\n  }\n  \n  /* 按钮和浮动元素 */\n  .panel-open-button {\n    background-color: var(--bg-color-secondary) !important;\n    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2) !important;\n  }\n  \n  /* 修复AI按钮在深色模式下的显示问题 */\n  .ai-polish-button, \n  .check-sidebar .ai-polish-button,\n  button.el-button.ai-polish-button {\n    background: linear-gradient(45deg, #409EFF, #64b5f6) !important;\n    \n    .ai-polish-button-content {\n      background: transparent !important;\n    }\n    \n    /* 特别针对图标区域的背景色问题 */\n    .el-icon,\n    .ai-polish-icon,\n    .ai-polish-icon svg,\n    svg,\n    path {\n      background-color: transparent !important;\n      box-shadow: none !important;\n      fill: currentColor !important;\n    }\n    \n    /* 修复文本区域 */\n    span {\n      background-color: transparent !important;\n      color: white !important;\n    }\n    \n    /* 给所有子元素强制应用透明背景 */\n    * {\n      background-color: transparent !important;\n    }\n  }\n  \n  /* 强制修复像素级别图标 */\n  .ai-polish-icon.no-bg,\n  .ai-polish-icon.no-bg svg,\n  .ai-polish-icon.no-bg path {\n    background-color: transparent !important;\n    background: transparent !important;\n    color: white !important;\n    fill: white !important;\n  }\n  \n  /* 去掉特定元素的背景 */\n  .contract-edit-wrapper .ai-polish-sidebar *,\n  .contract-edit-wrapper .check-sidebar * {\n    &:not(.ai-polish-personalization):not(.ai-polish-features) {\n      background-color: transparent !important;\n    }\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]}]}