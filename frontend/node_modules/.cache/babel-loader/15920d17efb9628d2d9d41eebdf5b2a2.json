{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\admin\\DepartmentManagement.vue?vue&type=template&id=f8a239a2","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\admin\\DepartmentManagement.vue","mtime":1750340306965},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgdk1vZGVsU2VsZWN0IGFzIF92TW9kZWxTZWxlY3QsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibWFuYWdlbWVudC1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJjYXJkLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImFjdGlvbnMiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJ0YWJsZS1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJhY3Rpb24tYnV0dG9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF83ID0gWyJvbkNsaWNrIl07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibW9kYWwtb3ZlcmxheSIKfTsKY29uc3QgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogIm1vZGFsLWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAiZm9ybS1ncm91cCIKfTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJmb3JtLWdyb3VwIgp9Owpjb25zdCBfaG9pc3RlZF8xMiA9IFsidmFsdWUiXTsKY29uc3QgX2hvaXN0ZWRfMTMgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZm9ybS1ncm91cCIKfTsKY29uc3QgX2hvaXN0ZWRfMTQgPSBbImRpc2FibGVkIl07CmNvbnN0IF9ob2lzdGVkXzE1ID0gWyJ2YWx1ZSJdOwpjb25zdCBfaG9pc3RlZF8xNiA9IHsKICBjbGFzczogImZvcm0tZ3JvdXAiCn07CmNvbnN0IF9ob2lzdGVkXzE3ID0gewogIGNsYXNzOiAiZm9ybS1hY3Rpb25zIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfZWxfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWJ1dHRvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfaW5wdXQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaW5wdXQiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBjbGFzczogImJveC1jYXJkIgogIH0sIHsKICAgIGhlYWRlcjogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY2FjaGVbMTBdIHx8IChfY2FjaGVbMTBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgICBjbGFzczogImJpIGJpLWRpYWdyYW0tMy1maWxsIGhlYWRlci1pY29uIgogICAgfSksIF9jcmVhdGVUZXh0Vk5vZGUoIiDpg6jpl6jnrqHnkIYiKV0sIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zZWFyY2hRdWVyeSwKICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAkc2V0dXAuc2VhcmNoUXVlcnkgPSAkZXZlbnQpLAogICAgICBwbGFjZWhvbGRlcjogIuaQnOe0oumDqOmXqC4uLiIsCiAgICAgIGNsZWFyYWJsZTogIiIsCiAgICAgIG9uQ2xlYXI6ICRzZXR1cC5mZXRjaERlcGFydG1lbnRzLAogICAgICBvbklucHV0OiAkc2V0dXAuZGVib3VuY2VkRmV0Y2hEZXBhcnRtZW50cywKICAgICAgY2xhc3M6ICJzZWFyY2gtaW5wdXQiCiAgICB9LCB7CiAgICAgIGFwcGVuZDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgIGljb246ICRzZXR1cC5TZWFyY2gKICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJpY29uIl0pXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiLCAib25DbGVhciIsICJvbklucHV0Il0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICRldmVudCA9PiAkc2V0dXAub3Blbk1vZGFsKCkpCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVs5XSB8fCAoX2NhY2hlWzldID0gW19jcmVhdGVUZXh0Vk5vZGUoIua3u+WKoOmDqOmXqCIpXSkpLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSldKV0pXSksCiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRhYmxlIiwgbnVsbCwgW19jYWNoZVsxMV0gfHwgKF9jYWNoZVsxMV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0aGVhZCIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ciIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICLluo/lj7ciKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAi6YOo6Zeo5ZCN56ewIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIuaJgOWxnuWFrOWPuCIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICLpg6jpl6jkuLvnrqEiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAi5o+P6L+wIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIuaTjeS9nCIpXSldLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRib2R5IiwgbnVsbCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmRlcGFydG1lbnRzLCAoZGVwdCwgaW5kZXgpID0+IHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidHIiLCB7CiAgICAgICAga2V5OiBkZXB0LmlkCiAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaW5kZXggKyAxKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGRlcHQubmFtZSksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhkZXB0LmNvbXBhbnlfbmFtZSksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhkZXB0Lm1hbmFnZXJfbmFtZSB8fCAn5pegJyksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhkZXB0LmRlc2NyaXB0aW9uKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBfaG9pc3RlZF81LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICAgIGNsYXNzOiAiYnRuLWVkaXQiLAogICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAub3Blbk1vZGFsKGRlcHQpCiAgICAgIH0sICLnvJbovpEiLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF82KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICAgIGNsYXNzOiAiYnRuLWRlbGV0ZSIsCiAgICAgICAgb25DbGljazogJGV2ZW50ID0+ICRzZXR1cC5jb25maXJtRGVsZXRlKGRlcHQpCiAgICAgIH0sICLliKDpmaQiLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF83KV0pXSk7CiAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKV0pXSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDmt7vliqAv57yW6L6R5qih5oCB5qGGICIpLCAkc2V0dXAuaXNNb2RhbE9wZW4gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuY3VycmVudEl0ZW0uaWQgPyAn57yW6L6R6YOo6ZeoJyA6ICfmt7vliqDpg6jpl6gnKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZm9ybSIsIHsKICAgIG9uU3VibWl0OiBfY2FjaGVbOF0gfHwgKF9jYWNoZVs4XSA9IF93aXRoTW9kaWZpZXJzKCguLi5hcmdzKSA9PiAkc2V0dXAuc2F2ZUl0ZW0gJiYgJHNldHVwLnNhdmVJdGVtKC4uLmFyZ3MpLCBbInByZXZlbnQiXSkpCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgbnVsbCwgIumDqOmXqOWQjeensDoiLCAtMSAvKiBIT0lTVEVEICovKSksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAkZXZlbnQgPT4gJHNldHVwLmN1cnJlbnRJdGVtLm5hbWUgPSAkZXZlbnQpLAogICAgcmVxdWlyZWQ6ICIiCiAgfSwgbnVsbCwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pLCBbW192TW9kZWxUZXh0LCAkc2V0dXAuY3VycmVudEl0ZW0ubmFtZV1dKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jYWNoZVsxNF0gfHwgKF9jYWNoZVsxNF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIG51bGwsICLmiYDlsZ7lhazlj7g6IiwgLTEgLyogSE9JU1RFRCAqLykpLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgic2VsZWN0IiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICRldmVudCA9PiAkc2V0dXAuY3VycmVudEl0ZW0uY29tcGFueSA9ICRldmVudCksCiAgICByZXF1aXJlZDogIiIsCiAgICBvbkNoYW5nZTogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSAoLi4uYXJncykgPT4gJHNldHVwLm9uQ29tcGFueUNoYW5nZSAmJiAkc2V0dXAub25Db21wYW55Q2hhbmdlKC4uLmFyZ3MpKQogIH0sIFtfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgib3B0aW9uIiwgewogICAgdmFsdWU6IG51bGwsCiAgICBkaXNhYmxlZDogIiIKICB9LCAiLS0g6K+36YCJ5oup5YWs5Y+4IC0tIiwgLTEgLyogSE9JU1RFRCAqLykpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5jb21wYW5pZXMsIGNvbXBhbnkgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygib3B0aW9uIiwgewogICAgICBrZXk6IGNvbXBhbnkuaWQsCiAgICAgIHZhbHVlOiBjb21wYW55LmlkCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGNvbXBhbnkubmFtZSksIDkgLyogVEVYVCwgUFJPUFMgKi8sIF9ob2lzdGVkXzEyKTsKICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldLCA1NDQgLyogTkVFRF9IWURSQVRJT04sIE5FRURfUEFUQ0ggKi8pLCBbW192TW9kZWxTZWxlY3QsICRzZXR1cC5jdXJyZW50SXRlbS5jb21wYW55XV0pXSksICRzZXR1cC5jdXJyZW50SXRlbS5jb21wYW55ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTMsIFtfY2FjaGVbMTZdIHx8IChfY2FjaGVbMTZdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCBudWxsLCAi6YOo6Zeo57uP55CGOiIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoInNlbGVjdCIsIHsKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSAkZXZlbnQgPT4gJHNldHVwLmN1cnJlbnRJdGVtLm1hbmFnZXIgPSAkZXZlbnQpLAogICAgZGlzYWJsZWQ6ICEkc2V0dXAuY3VycmVudEl0ZW0uY29tcGFueSwKICAgIHJlcXVpcmVkOiAiIgogIH0sIFtfY2FjaGVbMTVdIHx8IChfY2FjaGVbMTVdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgib3B0aW9uIiwgewogICAgdmFsdWU6IG51bGwsCiAgICBkaXNhYmxlZDogIiIKICB9LCAiLS0g6K+36YCJ5oup57uP55CGIC0tIiwgLTEgLyogSE9JU1RFRCAqLykpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5jb21wYW55VXNlcnMsIHVzZXIgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygib3B0aW9uIiwgewogICAgICBrZXk6IHVzZXIuaWQsCiAgICAgIHZhbHVlOiB1c2VyLmlkCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKHVzZXIubmFtZSB8fCB1c2VyLnVzZXJuYW1lKSArICIgKCIgKyBfdG9EaXNwbGF5U3RyaW5nKHVzZXIuZW1haWwpICsgIikgIiwgOSAvKiBURVhULCBQUk9QUyAqLywgX2hvaXN0ZWRfMTUpOwogIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0sIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzE0KSwgW1tfdk1vZGVsU2VsZWN0LCAkc2V0dXAuY3VycmVudEl0ZW0ubWFuYWdlcl1dKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTYsIFtfY2FjaGVbMTddIHx8IChfY2FjaGVbMTddID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCBudWxsLCAi5o+P6L+wOiIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInRleHQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9ICRldmVudCA9PiAkc2V0dXAuY3VycmVudEl0ZW0uZGVzY3JpcHRpb24gPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pLCBbW192TW9kZWxUZXh0LCAkc2V0dXAuY3VycmVudEl0ZW0uZGVzY3JpcHRpb25dXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTcsIFtfY2FjaGVbMThdIHx8IChfY2FjaGVbMThdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogInN1Ym1pdCIsCiAgICBjbGFzczogImJ0bi1wcmltYXJ5IgogIH0sICLkv53lrZgiLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIHR5cGU6ICJidXR0b24iLAogICAgb25DbGljazogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSAoLi4uYXJncykgPT4gJHNldHVwLmNsb3NlTW9kYWwgJiYgJHNldHVwLmNsb3NlTW9kYWwoLi4uYXJncykpLAogICAgY2xhc3M6ICJidG4tc2Vjb25kYXJ5IgogIH0sICLlj5bmtogiKV0pXSwgMzIgLyogTkVFRF9IWURSQVRJT04gKi8pXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKTsKfQ=="},{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_hoisted_3","_component_el_input","$setup","searchQuery","$event","placeholder","clearable","onClear","fetchDepartments","onInput","debouncedFetchDepartments","append","_component_el_button","icon","Search","type","onClick","_cache","openModal","_hoisted_4","_Fragment","_renderList","departments","dept","index","key","id","_toDisplayString","name","company_name","manager_name","description","_hoisted_5","_hoisted_6","confirmDelete","_hoisted_7","_createCommentVNode","isModalOpen","_hoisted_8","_hoisted_9","currentItem","onSubmit","_withModifiers","args","saveItem","_hoisted_10","required","_hoisted_11","company","onChange","onCompanyChange","value","disabled","companies","_hoisted_12","_hoisted_13","manager","companyUsers","user","username","email","_hoisted_15","_hoisted_16","_hoisted_17","closeModal"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\admin\\DepartmentManagement.vue"],"sourcesContent":["<template>\n  <div class=\"management-container\">\n    <el-card class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span><i class=\"bi bi-diagram-3-fill header-icon\"></i> 部门管理</span>\n          <div class=\"actions\">\n            <el-input\n              v-model=\"searchQuery\"\n              placeholder=\"搜索部门...\"\n              clearable\n              @clear=\"fetchDepartments\"\n              @input=\"debouncedFetchDepartments\"\n              class=\"search-input\"\n            >\n              <template #append>\n                <el-button :icon=\"Search\"></el-button>\n              </template>\n            </el-input>\n            <el-button type=\"primary\" @click=\"openModal()\">添加部门</el-button>\n          </div>\n        </div>\n      </template>\n      <div class=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>序号</th>\n              <th>部门名称</th>\n              <th>所属公司</th>\n              <th>部门主管</th>\n              <th>描述</th>\n              <th>操作</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(dept, index) in departments\" :key=\"dept.id\">\n              <td>{{ index + 1 }}</td>\n              <td>{{ dept.name }}</td>\n              <td>{{ dept.company_name }}</td>\n              <td>{{ dept.manager_name || '无' }}</td>\n              <td>{{ dept.description }}</td>\n              <td class=\"action-buttons\">\n                <button class=\"btn-edit\" @click=\"openModal(dept)\">编辑</button>\n                <button class=\"btn-delete\" @click=\"confirmDelete(dept)\">删除</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </el-card>\n\n     <!-- 添加/编辑模态框 -->\n    <div v-if=\"isModalOpen\" class=\"modal-overlay\">\n      <div class=\"modal-content\">\n        <h3>{{ currentItem.id ? '编辑部门' : '添加部门' }}</h3>\n        <form @submit.prevent=\"saveItem\">\n          <div class=\"form-group\">\n            <label>部门名称:</label>\n            <input type=\"text\" v-model=\"currentItem.name\" required />\n          </div>\n          <div class=\"form-group\">\n            <label>所属公司:</label>\n            <select v-model=\"currentItem.company\" required @change=\"onCompanyChange\">\n              <option :value=\"null\" disabled>-- 请选择公司 --</option>\n              <option v-for=\"company in companies\" :key=\"company.id\" :value=\"company.id\">\n                {{ company.name }}\n              </option>\n            </select>\n          </div>\n          <div class=\"form-group\" v-if=\"currentItem.company\">\n            <label>部门经理:</label>\n             <select v-model=\"currentItem.manager\" :disabled=\"!currentItem.company\" required>\n              <option :value=\"null\" disabled>-- 请选择经理 --</option>\n              <option v-for=\"user in companyUsers\" :key=\"user.id\" :value=\"user.id\">\n                {{ user.name || user.username }} ({{user.email}})\n              </option>\n            </select>\n          </div>\n          <div class=\"form-group\">\n            <label>描述:</label>\n            <input type=\"text\" v-model=\"currentItem.description\" />\n          </div>\n          <div class=\"form-actions\">\n            <button type=\"submit\" class=\"btn-primary\">保存</button>\n            <button type=\"button\" @click=\"closeModal\" class=\"btn-secondary\">取消</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport adminApi from '@/api/admin';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { Search } from '@element-plus/icons-vue';\n\n// Simple debounce function\nfunction debounce(fn, delay) {\n  let timeoutID = null;\n  return function(...args) {\n    clearTimeout(timeoutID);\n    timeoutID = setTimeout(() => {\n      fn(...args);\n    }, delay);\n  };\n}\n\nexport default {\n  name: 'DepartmentManagement',\n  setup() {\n    const departments = ref([]);\n    const companies = ref([]);\n    const companyUsers = ref([]);\n    const searchQuery = ref('');\n    const isModalOpen = ref(false);\n    const currentItem = ref({});\n\n    const fetchDepartments = async () => {\n      try {\n        const params = { search: searchQuery.value };\n        const response = await adminApi.getDepartments(params);\n        departments.value = response.data.results;\n      } catch (error) {\n        console.error(\"获取部门列表失败:\", error);\n      }\n    };\n\n    const debouncedFetchDepartments = debounce(fetchDepartments, 300);\n    \n    const fetchCompaniesForSelect = async () => {\n      try {\n        const response = await adminApi.getCompanies({ all: 'true' });\n        companies.value = response.data;\n      } catch (error) {\n        console.error(\"获取公司列表失败:\", error);\n      }\n    };\n\n    const fetchUsersForCompany = async (companyId) => {\n      if (!companyId) {\n        companyUsers.value = [];\n        return;\n      }\n      try {\n        const response = await adminApi.getUsers({ all: 'true', company_id: companyId });\n        companyUsers.value = response.data;\n      } catch (error) {\n        console.error(`获取公司 ${companyId} 的用户列表失败:`, error);\n        companyUsers.value = [];\n      }\n    };\n    \n    const onCompanyChange = async () => {\n      currentItem.value.manager = null; // Reset manager when company changes\n      await fetchUsersForCompany(currentItem.value.company);\n    };\n\n    const openModal = async (item = {}) => {\n      await fetchCompaniesForSelect(); // Ensure companies are fetched when modal opens\n      currentItem.value = { ...item };\n       // If editing an item with a company, fetch its users\n      if (item.company) {\n        await fetchUsersForCompany(item.company);\n      } else {\n        companyUsers.value = [];\n      }\n      isModalOpen.value = true;\n    };\n\n    const closeModal = () => {\n      isModalOpen.value = false;\n      currentItem.value = {};\n      companyUsers.value = [];\n    };\n\n    const saveItem = async () => {\n      // 前端验证\n      if (!currentItem.value.name || !currentItem.value.company || !currentItem.value.manager) {\n        ElMessage.error('请确保所有必填项都已填写！');\n        return;\n      }\n      try {\n        if (currentItem.value.id) {\n          await adminApi.updateDepartment(currentItem.value.id, currentItem.value);\n        } else {\n          await adminApi.createDepartment(currentItem.value);\n        }\n        closeModal();\n        fetchDepartments();\n      } catch (error) {\n        console.error(\"保存部门失败:\", error);\n      }\n    };\n\n    const confirmDelete = (item) => {\n      ElMessageBox.confirm(\n        `确定要删除部门【${item.name}】吗？这会将部门内的所有员工的部门重置为空。`,\n        '警告',\n        {\n          confirmButtonText: '确定删除',\n          cancelButtonText: '取消',\n          type: 'warning',\n          center: true,\n        }\n      ).then(async () => {\n        try {\n          await adminApi.deleteDepartment(item.id);\n          ElMessage.success('部门删除成功');\n          fetchDepartments();\n        } catch (error) {\n          ElMessage.error('删除失败，请稍后重试');\n          console.error(\"删除部门失败:\", error);\n        }\n      }).catch(() => {\n        ElMessage.info('已取消删除');\n      });\n    };\n\n    onMounted(() => {\n        fetchDepartments();\n    });\n\n    return {\n      departments,\n      companies,\n      companyUsers,\n      searchQuery,\n      isModalOpen,\n      currentItem,\n      fetchDepartments,\n      debouncedFetchDepartments,\n      openModal,\n      closeModal,\n      saveItem,\n      confirmDelete,\n      onCompanyChange,\n      Search,\n    };\n  },\n};\n</script>\n\n<style>\n@import './shared-styles.css';\n</style> "],"mappings":"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","ignoreList":[]}]}