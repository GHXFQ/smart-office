{"remainingRequest":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\chat\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\chat\\Index.vue","mtime":1746859621350},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmRlbGV0ZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5oYXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuc2l6ZS5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG5leHRUaWNrLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBFbE1lc3NhZ2UsIEVsTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IFNlYXJjaCwgUGhvbmUsIFZpZGVvQ2FtZXJhLCBJbmZvRmlsbGVkLCBEb2N1bWVudCwgUGljdHVyZUZpbGxlZCwgRm9sZGVyT3BlbmVkLCBNaWNyb3Bob25lLCBQb3NpdGlvbiwgQ2hhdERvdFNxdWFyZSwgUmVhZGluZywgVXNlckZpbGxlZCwgQ2hhdExpbmVTcXVhcmUgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmltcG9ydCB7IGdldENoYXRTZXNzaW9ucywgZ2V0Q2hhdFNlc3Npb24sIHNlbmRUZXh0TWVzc2FnZSwgc2VuZEZpbGVNZXNzYWdlLCBzZW5kSW1hZ2VNZXNzYWdlLCBzZW5kS25vd2xlZGdlTWVzc2FnZSwgZG93bmxvYWRNZXNzYWdlRmlsZSB9IGZyb20gJ0AvYXBpL2NoYXQnOwppbXBvcnQgeyBnZXRLbm93bGVkZ2VMaXN0IH0gZnJvbSAnQC9hcGkva25vd2xlZGdlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGF0JywKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy51c2VyKTsKICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gcmVmKCcnKTsKICAgIGNvbnN0IGFjdGl2ZVRhYiA9IHJlZigwKTsKICAgIGNvbnN0IHNlbGVjdGVkQ29udGFjdCA9IHJlZihudWxsKTsKICAgIGNvbnN0IG1lc3NhZ2VJbnB1dCA9IHJlZignJyk7CiAgICBjb25zdCBtZXNzYWdlQ29udGFpbmVyID0gcmVmKG51bGwpOwogICAgY29uc3QgZmlsZUlucHV0ID0gcmVmKG51bGwpOwogICAgY29uc3QgaW1hZ2VJbnB1dCA9IHJlZihudWxsKTsKICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVmKFtdKTsKICAgIGNvbnN0IGxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgY2hhdFNlc3Npb25zID0gcmVmKFtdKTsKICAgIGNvbnN0IGN1cnJlbnRDaGF0SWQgPSByZWYobnVsbCk7CgogICAgLy8g55+l6K+G5bqT55u45YWzCiAgICBjb25zdCBrbm93bGVkZ2VEaWFsb2dWaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGtub3dsZWRnZUxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3Qga25vd2xlZGdlTGlzdCA9IHJlZihbXSk7CiAgICBjb25zdCBzZWxlY3RlZEtub3dsZWRnZSA9IHJlZihudWxsKTsKCiAgICAvLyDmoIfnrb7pobUKICAgIGNvbnN0IHRhYnMgPSByZWYoWyfmnIDov5HogYrlpKknLCAn5ZCM5LqLJywgJ+e+pOe7hCddKTsKCiAgICAvLyDogZTns7vkurrliJfooagKICAgIGNvbnN0IGNvbnRhY3RzID0gcmVmKFtdKTsKCiAgICAvLyDlvZPliY3pgInkuK3nmoTogZTns7vkuroKICAgIGNvbnN0IGN1cnJlbnRDb250YWN0ID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoc2VsZWN0ZWRDb250YWN0LnZhbHVlID09PSBudWxsKSByZXR1cm4ge307CiAgICAgIHJldHVybiBjb250YWN0cy52YWx1ZS5maW5kKGMgPT4gYy5pZCA9PT0gc2VsZWN0ZWRDb250YWN0LnZhbHVlKSB8fCB7fTsKICAgIH0pOwoKICAgIC8vIOagueaNruaQnOe0oui/h+a7pOiBlOezu+S6ugogICAgY29uc3QgZmlsdGVyZWRDb250YWN0cyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKCFzZWFyY2hRdWVyeS52YWx1ZSkgcmV0dXJuIGNvbnRhY3RzLnZhbHVlOwogICAgICByZXR1cm4gY29udGFjdHMudmFsdWUuZmlsdGVyKGNvbnRhY3QgPT4gY29udGFjdC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudmFsdWUudG9Mb3dlckNhc2UoKSkpOwogICAgfSk7CgogICAgLy8g5Yqg6L296IGK5aSp5Lya6K+d5YiX6KGoCiAgICBjb25zdCBsb2FkQ2hhdFNlc3Npb25zID0gYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gYXdhaXQgZ2V0Q2hhdFNlc3Npb25zKCk7CgogICAgICAgIC8vIOi9rOaNouaVsOaNruagvOW8jwogICAgICAgIGNoYXRTZXNzaW9ucy52YWx1ZSA9IGRhdGE7CgogICAgICAgIC8vIOaehOW7uuiBlOezu+S6uuWIl+ihqAogICAgICAgIGNvbnRhY3RzLnZhbHVlID0gZGF0YS5tYXAoc2Vzc2lvbiA9PiB7CiAgICAgICAgICAvLyDmib7liLDlr7nmlrnnlKjmiLfvvIjpnZ7lvZPliY3nlKjmiLfvvIkKICAgICAgICAgIGxldCBvdGhlclBhcnRpY2lwYW50ID0gc2Vzc2lvbi5wYXJ0aWNpcGFudHMuZmluZChwID0+IHAudXNlci5pZCAhPT0gY3VycmVudFVzZXIudmFsdWUuaWQpOwoKICAgICAgICAgIC8vIOWmguaenOaYr+e+pOiBiu+8jOS9v+eUqOe+pOiBiuS/oeaBrwogICAgICAgICAgaWYgKHNlc3Npb24uaXNfZ3JvdXApIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBpZDogc2Vzc2lvbi5pZCwKICAgICAgICAgICAgICBuYW1lOiBzZXNzaW9uLnRpdGxlIHx8ICfnvqTogYonLAogICAgICAgICAgICAgIGluaXRpYWw6IChzZXNzaW9uLnRpdGxlIHx8ICfnvqTogYonKVswXSwKICAgICAgICAgICAgICBhdmF0YXI6ICcnLAogICAgICAgICAgICAgIGNvbG9yOiBnZXRSYW5kb21Db2xvcihzZXNzaW9uLmlkKSwKICAgICAgICAgICAgICBzdGF0dXM6ICdvbmxpbmUnLAogICAgICAgICAgICAgIGxhc3RNZXNzYWdlOiBzZXNzaW9uLmxhc3RfbWVzc2FnZSA/IHNlc3Npb24ubGFzdF9tZXNzYWdlLmNvbnRlbnQgOiAnJywKICAgICAgICAgICAgICBsYXN0VGltZTogc2Vzc2lvbi5sYXN0X21lc3NhZ2UgPyBmb3JtYXRNZXNzYWdlVGltZShzZXNzaW9uLmxhc3RfbWVzc2FnZS5jcmVhdGVkX2F0KSA6IGZvcm1hdE1lc3NhZ2VUaW1lKHNlc3Npb24udXBkYXRlZF9hdCksCiAgICAgICAgICAgICAgdW5yZWFkOiBzZXNzaW9uLnVucmVhZF9jb3VudCwKICAgICAgICAgICAgICBpc0dyb3VwOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgLy8g5Y2V6IGK77yM5L2/55So5a+55pa55L+h5oGvCiAgICAgICAgICBpZiAob3RoZXJQYXJ0aWNpcGFudCkgewogICAgICAgICAgICBjb25zdCB1c2VyID0gb3RoZXJQYXJ0aWNpcGFudC51c2VyOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLAogICAgICAgICAgICAgIG5hbWU6IGAke3VzZXIuZmlyc3RfbmFtZX0gJHt1c2VyLmxhc3RfbmFtZX1gLnRyaW0oKSB8fCB1c2VyLnVzZXJuYW1lLAogICAgICAgICAgICAgIGluaXRpYWw6ICh1c2VyLmZpcnN0X25hbWUgfHwgdXNlci51c2VybmFtZSlbMF0sCiAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhciwKICAgICAgICAgICAgICBjb2xvcjogZ2V0UmFuZG9tQ29sb3IodXNlci5pZCksCiAgICAgICAgICAgICAgc3RhdHVzOiAnb25saW5lJywKICAgICAgICAgICAgICAvLyDlgYforr7miYDmnInnlKjmiLfpg73lnKjnur8KICAgICAgICAgICAgICBsYXN0TWVzc2FnZTogc2Vzc2lvbi5sYXN0X21lc3NhZ2UgPyBzZXNzaW9uLmxhc3RfbWVzc2FnZS5jb250ZW50IDogJycsCiAgICAgICAgICAgICAgbGFzdFRpbWU6IHNlc3Npb24ubGFzdF9tZXNzYWdlID8gZm9ybWF0TWVzc2FnZVRpbWUoc2Vzc2lvbi5sYXN0X21lc3NhZ2UuY3JlYXRlZF9hdCkgOiBmb3JtYXRNZXNzYWdlVGltZShzZXNzaW9uLnVwZGF0ZWRfYXQpLAogICAgICAgICAgICAgIHVucmVhZDogc2Vzc2lvbi51bnJlYWRfY291bnQsCiAgICAgICAgICAgICAgaXNHcm91cDogZmFsc2UKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDlpoLmnpzmsqHmnInlhbbku5blj4LkuI7ogIXvvIjnkIborrrkuIrkuI3lupTor6Xlj5HnlJ/vvIkKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLAogICAgICAgICAgICBuYW1lOiBzZXNzaW9uLnRpdGxlIHx8ICfogYrlpKknLAogICAgICAgICAgICBpbml0aWFsOiAoc2Vzc2lvbi50aXRsZSB8fCAn6IGK5aSpJylbMF0sCiAgICAgICAgICAgIGF2YXRhcjogJycsCiAgICAgICAgICAgIGNvbG9yOiBnZXRSYW5kb21Db2xvcihzZXNzaW9uLmlkKSwKICAgICAgICAgICAgc3RhdHVzOiAnb25saW5lJywKICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IHNlc3Npb24ubGFzdF9tZXNzYWdlID8gc2Vzc2lvbi5sYXN0X21lc3NhZ2UuY29udGVudCA6ICcnLAogICAgICAgICAgICBsYXN0VGltZTogc2Vzc2lvbi5sYXN0X21lc3NhZ2UgPyBmb3JtYXRNZXNzYWdlVGltZShzZXNzaW9uLmxhc3RfbWVzc2FnZS5jcmVhdGVkX2F0KSA6IGZvcm1hdE1lc3NhZ2VUaW1lKHNlc3Npb24udXBkYXRlZF9hdCksCiAgICAgICAgICAgIHVucmVhZDogc2Vzc2lvbi51bnJlYWRfY291bnQsCiAgICAgICAgICAgIGlzR3JvdXA6IHNlc3Npb24uaXNfZ3JvdXAKICAgICAgICAgIH07CiAgICAgICAgfSk7CgogICAgICAgIC8vIOWmguaenOacieacquivu+a2iOaBr++8jOaMieacquivu+aVsOmHj+aOkuW6jwogICAgICAgIGNvbnRhY3RzLnZhbHVlLnNvcnQoKGEsIGIpID0+IGIudW5yZWFkIC0gYS51bnJlYWQpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veiBiuWkqeS8muivneWksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3ogYrlpKnkvJror53lpLHotKUnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CgogICAgLy8g5Yqg6L296IGK5aSp5raI5oGvCiAgICBjb25zdCBsb2FkQ2hhdE1lc3NhZ2VzID0gYXN5bmMgY2hhdElkID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBkYXRhCiAgICAgICAgfSA9IGF3YWl0IGdldENoYXRTZXNzaW9uKGNoYXRJZCk7CiAgICAgICAgbWVzc2FnZXMudmFsdWUgPSBkYXRhLm1lc3NhZ2VzOwogICAgICAgIGN1cnJlbnRDaGF0SWQudmFsdWUgPSBjaGF0SWQ7CgogICAgICAgIC8vIOa7muWKqOWIsOW6lemDqAogICAgICAgIG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHNjcm9sbFRvQm90dG9tKCk7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L296IGK5aSp5raI5oGv5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WKoOi9veiBiuWkqea2iOaBr+Wksei0pScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICAvLyDpgInmi6nogZTns7vkuroKICAgIGNvbnN0IHNlbGVjdENvbnRhY3QgPSBjb250YWN0ID0+IHsKICAgICAgc2VsZWN0ZWRDb250YWN0LnZhbHVlID0gY29udGFjdC5pZDsKICAgICAgbG9hZENoYXRNZXNzYWdlcyhjb250YWN0LmlkKTsKICAgIH07CgogICAgLy8g5Y+R6YCB5raI5oGvCiAgICBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKCFtZXNzYWdlSW5wdXQudmFsdWUudHJpbSgpIHx8ICFjdXJyZW50Q2hhdElkLnZhbHVlKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgc2VuZFRleHRNZXNzYWdlKGN1cnJlbnRDaGF0SWQudmFsdWUsIG1lc3NhZ2VJbnB1dC52YWx1ZSk7CgogICAgICAgIC8vIOa4heepuui+k+WFpeahhgogICAgICAgIG1lc3NhZ2VJbnB1dC52YWx1ZSA9ICcnOwoKICAgICAgICAvLyDph43mlrDliqDovb3mtojmga/vvIjlrp7pmYXpobnnm67kuK3lj6/ku6Xkvb/nlKhXZWJTb2NrZXTlrp7ml7bmm7TmlrDvvIkKICAgICAgICBsb2FkQ2hhdE1lc3NhZ2VzKGN1cnJlbnRDaGF0SWQudmFsdWUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPkemAgea2iOaBr+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCflj5HpgIHmtojmga/lpLHotKUnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDmiZPlvIDmlofku7bkuIrkvKAKICAgIGNvbnN0IG9wZW5GaWxlVXBsb2FkID0gKCkgPT4gewogICAgICBmaWxlSW5wdXQudmFsdWUuY2xpY2soKTsKICAgIH07CgogICAgLy8g5omT5byA5Zu+54mH5LiK5LygCiAgICBjb25zdCBvcGVuSW1hZ2VVcGxvYWQgPSAoKSA9PiB7CiAgICAgIGltYWdlSW5wdXQudmFsdWUuY2xpY2soKTsKICAgIH07CgogICAgLy8g5aSE55CG5paH5Lu25LiK5LygCiAgICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gYXN5bmMgZXZlbnQgPT4gewogICAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICBpZiAoIWZpbGUgfHwgIWN1cnJlbnRDaGF0SWQudmFsdWUpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBzZW5kRmlsZU1lc3NhZ2UoY3VycmVudENoYXRJZC52YWx1ZSwgYOWPkemAgeaWh+S7tjogJHtmaWxlLm5hbWV9YCwgZmlsZSk7CgogICAgICAgIC8vIOmHjeaWsOWKoOi9vea2iOaBrwogICAgICAgIGxvYWRDaGF0TWVzc2FnZXMoY3VycmVudENoYXRJZC52YWx1ZSk7CgogICAgICAgIC8vIOa4heepuuaWh+S7tui+k+WFpQogICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPkemAgeaWh+S7tuWksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCflj5HpgIHmlofku7blpLHotKUnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDlpITnkIblm77niYfkuIrkvKAKICAgIGNvbnN0IGhhbmRsZUltYWdlVXBsb2FkID0gYXN5bmMgZXZlbnQgPT4gewogICAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICBpZiAoIWZpbGUgfHwgIWN1cnJlbnRDaGF0SWQudmFsdWUpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBzZW5kSW1hZ2VNZXNzYWdlKGN1cnJlbnRDaGF0SWQudmFsdWUsIGDlj5HpgIHlm77niYdgLCBmaWxlKTsKCiAgICAgICAgLy8g6YeN5paw5Yqg6L295raI5oGvCiAgICAgICAgbG9hZENoYXRNZXNzYWdlcyhjdXJyZW50Q2hhdElkLnZhbHVlKTsKCiAgICAgICAgLy8g5riF56m65paH5Lu26L6T5YWlCiAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gJyc7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Y+R6YCB5Zu+54mH5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WPkemAgeWbvueJh+Wksei0pScpOwogICAgICB9CiAgICB9OwoKICAgIC8vIOaJk+W8gOefpeivhuW6k+WvueivneahhgogICAgY29uc3Qgb3Blbktub3dsZWRnZURpYWxvZyA9IGFzeW5jICgpID0+IHsKICAgICAga25vd2xlZGdlRGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICAgIGF3YWl0IGxvYWRLbm93bGVkZ2VMaXN0KCk7CiAgICB9OwoKICAgIC8vIOWKoOi9veefpeivhuW6k+WIl+ihqAogICAgY29uc3QgbG9hZEtub3dsZWRnZUxpc3QgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAga25vd2xlZGdlTG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBnZXRLbm93bGVkZ2VMaXN0KCk7CiAgICAgICAga25vd2xlZGdlTGlzdC52YWx1ZSA9IGRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L2955+l6K+G5bqT5YiX6KGo5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WKoOi9veefpeivhuW6k+WIl+ihqOWksei0pScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGtub3dsZWRnZUxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICAvLyDpgInmi6nnn6Xor4blupPmlofku7YKICAgIGNvbnN0IHNlbGVjdEtub3dsZWRnZSA9IHJvdyA9PiB7CiAgICAgIHNlbGVjdGVkS25vd2xlZGdlLnZhbHVlID0gcm93OwogICAgfTsKCiAgICAvLyDliIbkuqvnn6Xor4blupPmlofku7YKICAgIGNvbnN0IHNoYXJlS25vd2xlZGdlID0gYXN5bmMga25vd2xlZGdlID0+IHsKICAgICAgaWYgKCFjdXJyZW50Q2hhdElkLnZhbHVlKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgc2VuZEtub3dsZWRnZU1lc3NhZ2UoY3VycmVudENoYXRJZC52YWx1ZSwgYOWIhuS6q+efpeivhuW6k+aWh+S7tjogJHtrbm93bGVkZ2UudGl0bGV9YCwga25vd2xlZGdlLmlkKTsKCiAgICAgICAgLy8g5YWz6Zet5a+56K+d5qGGCiAgICAgICAga25vd2xlZGdlRGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAvLyDph43mlrDliqDovb3mtojmga8KICAgICAgICBsb2FkQ2hhdE1lc3NhZ2VzKGN1cnJlbnRDaGF0SWQudmFsdWUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIhuS6q+efpeivhuW6k+aWh+S7tuWksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliIbkuqvnn6Xor4blupPmlofku7blpLHotKUnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDkuIvovb3mlofku7YKICAgIGNvbnN0IGRvd25sb2FkRmlsZSA9IGFzeW5jIG1lc3NhZ2UgPT4gewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZG93bmxvYWRNZXNzYWdlRmlsZShtZXNzYWdlLmlkKTsKCiAgICAgICAgLy8g5Yib5bu65LiL6L296ZO+5o6lCiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7CiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgbWVzc2FnZS5maWxlX25hbWUgfHwgJ2Rvd25sb2FkJyk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfkuIvovb3mlofku7blpLHotKU6JywgZXJyb3IpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5LiL6L295paH5Lu25aSx6LSlJyk7CiAgICAgIH0KICAgIH07CgogICAgLy8g5p+l55yL55+l6K+G5bqT5paH5Lu2CiAgICBjb25zdCB2aWV3S25vd2xlZGdlID0gbWVzc2FnZSA9PiB7CiAgICAgIGlmIChtZXNzYWdlLmtub3dsZWRnZV9kZXRhaWwpIHsKICAgICAgICAvLyDlj6/ku6Xot7PovazliLDnn6Xor4blupPor6bmg4XpobXpnaIKICAgICAgICBFbE1lc3NhZ2VCb3guYWxlcnQoYOagh+mimDogJHttZXNzYWdlLmtub3dsZWRnZV9kZXRhaWwudGl0bGV9PGJyPuaPj+i/sDogJHttZXNzYWdlLmtub3dsZWRnZV9kZXRhaWwuZGVzY3JpcHRpb24gfHwgJ+aXoCd9YCwgJ+efpeivhuW6k+aWh+S7ticsIHsKICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIC8vIOiOt+WPluWPkemAgeiAheminOiJsgogICAgY29uc3QgZ2V0U2VuZGVyQ29sb3IgPSBzZW5kZXIgPT4gewogICAgICByZXR1cm4gZ2V0UmFuZG9tQ29sb3Ioc2VuZGVyLmlkKTsKICAgIH07CgogICAgLy8g6I635Y+W5Y+R6YCB6ICF6aaW5a2X5q+NCiAgICBjb25zdCBnZXRTZW5kZXJJbml0aWFsID0gc2VuZGVyID0+IHsKICAgICAgcmV0dXJuIChzZW5kZXIuZmlyc3RfbmFtZSB8fCBzZW5kZXIudXNlcm5hbWUpWzBdOwogICAgfTsKCiAgICAvLyDmoLnmja5JROeUn+aIkOmaj+acuuminOiJsgogICAgY29uc3QgZ2V0UmFuZG9tQ29sb3IgPSBpZCA9PiB7CiAgICAgIGNvbnN0IGNvbG9ycyA9IFsnIzAwN2JmZicsICcjMjhhNzQ1JywgJyNkYzM1NDUnLCAnI2ZkN2UxNCcsICcjNmY0MmMxJywgJyMyMGM5OTcnLCAnIzE3YTJiOCcsICcjNmM3NTdkJ107CgogICAgICAvLyDkvb/nlKhJROS9nOS4uue0ouW8le+8jOehruS/neWQjOS4gOeUqOaIt+minOiJsuS4gOiHtAogICAgICBjb25zdCBpbmRleCA9IHR5cGVvZiBpZCA9PT0gJ251bWJlcicgPyBpZCAlIGNvbG9ycy5sZW5ndGggOiAwOwogICAgICByZXR1cm4gY29sb3JzW2luZGV4XTsKICAgIH07CgogICAgLy8g5qC85byP5YyW5raI5oGv5pe26Ze0CiAgICBjb25zdCBmb3JtYXRNZXNzYWdlVGltZSA9IHRpbWVzdGFtcCA9PiB7CiAgICAgIGlmICghdGltZXN0YW1wKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApOwogICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBkaWZmID0gbm93IC0gZGF0ZTsKCiAgICAgIC8vIOS7iuWkqeWGheeahOa2iOaBr+aYvuekuuaXtumXtAogICAgICBpZiAoZGlmZiA8IDI0ICogNjAgKiA2MCAqIDEwMDApIHsKICAgICAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgICAgY29uc3QgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgICByZXR1cm4gYCR7aG91cnN9OiR7bWludXRlc31gOwogICAgICB9CgogICAgICAvLyDkuIDlkajlhoXnmoTmtojmga/mmL7npLrmmJ/mnJ/lh6AKICAgICAgaWYgKGRpZmYgPCA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkgewogICAgICAgIGNvbnN0IGRheXMgPSBbJ+WRqOaXpScsICflkajkuIAnLCAn5ZGo5LqMJywgJ+WRqOS4iScsICflkajlm5snLCAn5ZGo5LqUJywgJ+WRqOWFrSddOwogICAgICAgIHJldHVybiBkYXlzW2RhdGUuZ2V0RGF5KCldOwogICAgICB9CgogICAgICAvLyDmm7Tml6nnmoTmtojmga/mmL7npLrml6XmnJ8KICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0TW9udGgoKSArIDF95pyIJHtkYXRlLmdldERhdGUoKX3ml6VgOwogICAgfTsKCiAgICAvLyDmoLzlvI/ljJbml6XmnJ8KICAgIGNvbnN0IGZvcm1hdERhdGUgPSB0aW1lc3RhbXAgPT4gewogICAgICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuICcnOwogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHsoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0ke2RhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgfTsKCiAgICAvLyDmoLzlvI/ljJbmlofku7blpKflsI8KICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gc2l6ZUluS0IgPT4gewogICAgICBpZiAoc2l6ZUluS0IgPCAxMDI0KSB7CiAgICAgICAgcmV0dXJuIGAke3NpemVJbktCfSBLQmA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGAkeyhzaXplSW5LQiAvIDEwMjQpLnRvRml4ZWQoMil9IE1CYDsKICAgICAgfQogICAgfTsKCiAgICAvLyDojrflj5bnirbmgIHmloflrZcKICAgIGNvbnN0IGdldFN0YXR1c1RleHQgPSBzdGF0dXMgPT4gewogICAgICBjb25zdCBzdGF0dXNNYXAgPSB7CiAgICAgICAgJ29ubGluZSc6ICflnKjnur8nLAogICAgICAgICdvZmZsaW5lJzogJ+emu+e6vycsCiAgICAgICAgJ2J1c3knOiAn5b+Z56KMJywKICAgICAgICAnYXdheSc6ICfnprvlvIAnCiAgICAgIH07CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXSB8fCBzdGF0dXM7CiAgICB9OwoKICAgIC8vIOa7muWKqOWIsOW6lemDqAogICAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7CiAgICAgIGlmIChtZXNzYWdlQ29udGFpbmVyLnZhbHVlKSB7CiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci52YWx1ZS5zY3JvbGxUb3AgPSBtZXNzYWdlQ29udGFpbmVyLnZhbHVlLnNjcm9sbEhlaWdodDsKICAgICAgfQogICAgfTsKCiAgICAvLyDliJ3lp4vljJYKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGxvYWRDaGF0U2Vzc2lvbnMoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoUXVlcnksCiAgICAgIGFjdGl2ZVRhYiwKICAgICAgc2VsZWN0ZWRDb250YWN0LAogICAgICB0YWJzLAogICAgICBjb250YWN0cywKICAgICAgY3VycmVudENvbnRhY3QsCiAgICAgIGZpbHRlcmVkQ29udGFjdHMsCiAgICAgIG1lc3NhZ2VzLAogICAgICBtZXNzYWdlSW5wdXQsCiAgICAgIG1lc3NhZ2VDb250YWluZXIsCiAgICAgIGZpbGVJbnB1dCwKICAgICAgaW1hZ2VJbnB1dCwKICAgICAgY3VycmVudFVzZXIsCiAgICAgIGtub3dsZWRnZURpYWxvZ1Zpc2libGUsCiAgICAgIGtub3dsZWRnZUxvYWRpbmcsCiAgICAgIGtub3dsZWRnZUxpc3QsCiAgICAgIC8vIOWbvuaghwogICAgICBTZWFyY2gsCiAgICAgIFBob25lLAogICAgICBWaWRlb0NhbWVyYSwKICAgICAgSW5mb0ZpbGxlZCwKICAgICAgRG9jdW1lbnQsCiAgICAgIFBpY3R1cmVGaWxsZWQsCiAgICAgIEZvbGRlck9wZW5lZCwKICAgICAgTWljcm9waG9uZSwKICAgICAgUG9zaXRpb24sCiAgICAgIENoYXREb3RTcXVhcmUsCiAgICAgIFJlYWRpbmcsCiAgICAgIFVzZXJGaWxsZWQsCiAgICAgIENoYXRMaW5lU3F1YXJlLAogICAgICAvLyDmlrnms5UKICAgICAgc2VuZE1lc3NhZ2UsCiAgICAgIGdldFN0YXR1c1RleHQsCiAgICAgIHNlbGVjdENvbnRhY3QsCiAgICAgIG9wZW5GaWxlVXBsb2FkLAogICAgICBvcGVuSW1hZ2VVcGxvYWQsCiAgICAgIGhhbmRsZUZpbGVVcGxvYWQsCiAgICAgIGhhbmRsZUltYWdlVXBsb2FkLAogICAgICBvcGVuS25vd2xlZGdlRGlhbG9nLAogICAgICBzZWxlY3RLbm93bGVkZ2UsCiAgICAgIHNoYXJlS25vd2xlZGdlLAogICAgICBkb3dubG9hZEZpbGUsCiAgICAgIHZpZXdLbm93bGVkZ2UsCiAgICAgIGdldFNlbmRlckNvbG9yLAogICAgICBnZXRTZW5kZXJJbml0aWFsLAogICAgICBmb3JtYXRNZXNzYWdlVGltZSwKICAgICAgZm9ybWF0RGF0ZSwKICAgICAgZm9ybWF0RmlsZVNpemUKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","computed","nextTick","onMounted","useStore","ElMessage","ElMessageBox","Search","Phone","VideoCamera","InfoFilled","Document","PictureFilled","FolderOpened","Microphone","Position","ChatDotSquare","Reading","UserFilled","ChatLineSquare","getChatSessions","getChatSession","sendTextMessage","sendFileMessage","sendImageMessage","sendKnowledgeMessage","downloadMessageFile","getKnowledgeList","name","setup","store","currentUser","getters","user","searchQuery","activeTab","selectedContact","messageInput","messageContainer","fileInput","imageInput","messages","loading","chatSessions","currentChatId","knowledgeDialogVisible","knowledgeLoading","knowledgeList","selectedKnowledge","tabs","contacts","currentContact","value","find","c","id","filteredContacts","filter","contact","toLowerCase","includes","loadChatSessions","data","map","session","otherParticipant","participants","p","is_group","title","initial","avatar","color","getRandomColor","status","lastMessage","last_message","content","lastTime","formatMessageTime","created_at","updated_at","unread","unread_count","isGroup","first_name","last_name","trim","username","sort","a","b","error","console","loadChatMessages","chatId","scrollToBottom","selectContact","sendMessage","openFileUpload","click","openImageUpload","handleFileUpload","event","file","target","files","handleImageUpload","openKnowledgeDialog","loadKnowledgeList","selectKnowledge","row","shareKnowledge","knowledge","downloadFile","message","response","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","file_name","body","appendChild","removeChild","viewKnowledge","knowledge_detail","alert","description","dangerouslyUseHTMLString","confirmButtonText","getSenderColor","sender","getSenderInitial","colors","index","length","timestamp","date","Date","now","diff","hours","getHours","toString","padStart","minutes","getMinutes","days","getDay","getMonth","getDate","formatDate","getFullYear","formatFileSize","sizeInKB","toFixed","getStatusText","statusMap","scrollTop","scrollHeight"],"sources":["C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\chat\\Index.vue"],"sourcesContent":["<template>\r\n  <div class=\"chat-container\">\r\n    <el-card class=\"chat-card\">\r\n      <div class=\"chat-layout\">\r\n        <!-- 左侧联系人列表 -->\r\n        <div class=\"chat-sidebar\">\r\n          <!-- 搜索框 -->\r\n          <div class=\"search-box\">\r\n            <el-input \r\n              v-model=\"searchQuery\" \r\n              placeholder=\"搜索联系人...\"\r\n              clearable\r\n              :prefix-icon=\"Search\"\r\n            ></el-input>\r\n          </div>\r\n          \r\n          <!-- 聊天标签页 -->\r\n          <div class=\"chat-tabs\">\r\n            <div \r\n              v-for=\"(tab, index) in tabs\" \r\n              :key=\"index\"\r\n              class=\"chat-tab\"\r\n              :class=\"{'active': activeTab === index}\"\r\n              @click=\"activeTab = index\"\r\n            >\r\n              {{ tab }}\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 联系人列表 -->\r\n          <div class=\"contacts-list\">\r\n            <div \r\n              v-for=\"(contact, index) in filteredContacts\" \r\n              :key=\"contact.id || index\"\r\n              class=\"contact-item\"\r\n              :class=\"{'active': selectedContact === contact.id}\"\r\n              @click=\"selectContact(contact)\"\r\n            >\r\n              <div class=\"contact-avatar\">\r\n                <div \r\n                  v-if=\"!contact.avatar\" \r\n                  class=\"avatar\" \r\n                  :style=\"{backgroundColor: contact.color}\"\r\n                >\r\n                  <span class=\"avatar-initial\">{{ contact.initial }}</span>\r\n                </div>\r\n                <img v-else :src=\"contact.avatar\" alt=\"avatar\" class=\"avatar\" />\r\n                <div \r\n                  class=\"contact-status\" \r\n                  :class=\"'status-' + contact.status\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"contact-info\">\r\n                <div class=\"contact-name\">\r\n                  <span>{{ contact.name }}</span>\r\n                  <span class=\"time\">{{ contact.lastTime }}</span>\r\n                </div>\r\n                <div class=\"contact-message\">\r\n                  <span>{{ contact.lastMessage }}</span>\r\n                  <el-badge \r\n                    v-if=\"contact.unread\" \r\n                    :value=\"contact.unread\" \r\n                    class=\"message-badge\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 无联系人提示 -->\r\n            <div v-if=\"!loading && filteredContacts.length === 0\" class=\"empty-contacts\">\r\n              <el-empty \r\n                description=\"暂无联系人\" \r\n                :image-size=\"100\"\r\n              >\r\n                <template #image>\r\n                  <el-icon :size=\"64\" class=\"empty-icon\"><UserFilled /></el-icon>\r\n                </template>\r\n              </el-empty>\r\n            </div>\r\n\r\n            <!-- 加载中提示 -->\r\n            <div v-if=\"loading\" class=\"loading-container\">\r\n              <el-skeleton :rows=\"5\" animated />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 右侧聊天内容 -->\r\n        <div class=\"chat-content\">\r\n          <!-- 聊天头部 -->\r\n          <div class=\"chat-header\" v-if=\"selectedContact !== null\">\r\n            <div class=\"contact-avatar\">\r\n              <div \r\n                v-if=\"!currentContact.avatar\" \r\n                class=\"avatar\" \r\n                :style=\"{backgroundColor: currentContact.color}\"\r\n              >\r\n                <span class=\"avatar-initial\">{{ currentContact.initial }}</span>\r\n              </div>\r\n              <img \r\n                v-else \r\n                :src=\"currentContact.avatar\" \r\n                alt=\"avatar\" \r\n                class=\"avatar\" \r\n              />\r\n              <div \r\n                class=\"contact-status\" \r\n                :class=\"'status-' + currentContact.status\"\r\n              ></div>\r\n            </div>\r\n            <div class=\"contact-info\">\r\n              <h6>{{ currentContact.name }}</h6>\r\n              <p>{{ getStatusText(currentContact.status) }}</p>\r\n            </div>\r\n            <div class=\"chat-actions\">\r\n              <el-tooltip content=\"语音通话\" placement=\"bottom\">\r\n                <el-button circle>\r\n                  <el-icon><Phone /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n              <el-tooltip content=\"视频通话\" placement=\"bottom\">\r\n                <el-button circle>\r\n                  <el-icon><VideoCamera /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n              <el-tooltip content=\"聊天信息\" placement=\"bottom\">\r\n                <el-button circle>\r\n                  <el-icon><InfoFilled /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 聊天消息区域 -->\r\n          <div class=\"chat-messages\" v-if=\"selectedContact !== null\" ref=\"messageContainer\">\r\n            <div \r\n              v-for=\"(message, index) in messages\" \r\n              :key=\"message.id || index\"\r\n              class=\"message\"\r\n              :class=\"message.sender.id === currentUser.id ? 'message-sent' : 'message-received'\"\r\n            >\r\n              <div class=\"message-container\">\r\n                <div v-if=\"message.sender.id !== currentUser.id\" class=\"message-avatar\">\r\n                  <div \r\n                    class=\"avatar small\" \r\n                    :style=\"{backgroundColor: getSenderColor(message.sender)}\"\r\n                  >\r\n                    <span class=\"avatar-initial\">{{ getSenderInitial(message.sender) }}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"message-content-wrapper\">\r\n                  <div \r\n                    class=\"message-content\"\r\n                    :class=\"message.sender.id === currentUser.id ? 'sent' : 'received'\"\r\n                  >\r\n                    <span v-if=\"message.message_type === 'text'\">{{ message.content }}</span>\r\n                    \r\n                    <div v-else-if=\"message.message_type === 'image'\" class=\"message-image\">\r\n                      <img :src=\"message.file\" alt=\"image\" />\r\n                    </div>\r\n                    \r\n                    <div v-else-if=\"message.message_type === 'file'\" class=\"message-file\" @click=\"downloadFile(message)\">\r\n                      <el-icon><Document /></el-icon>\r\n                      <span>{{ message.file_name }}</span>\r\n                      <span class=\"file-size\">{{ formatFileSize(message.file_size) }}</span>\r\n                    </div>\r\n                    \r\n                    <div v-else-if=\"message.message_type === 'knowledge'\" class=\"message-knowledge\" @click=\"viewKnowledge(message)\">\r\n                      <el-icon><Reading /></el-icon>\r\n                      <div class=\"knowledge-info\">\r\n                        <div class=\"knowledge-title\">{{ message.knowledge_detail.title }}</div>\r\n                        <div class=\"knowledge-desc\">{{ message.knowledge_detail.description }}</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"message-time\">{{ formatMessageTime(message.created_at) }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 聊天输入框 -->\r\n          <div class=\"chat-input\" v-if=\"selectedContact !== null\">\r\n            <div class=\"chat-tools\">\r\n              <el-tooltip content=\"发送图片\" placement=\"top\">\r\n                <el-button circle @click=\"openImageUpload\">\r\n                  <el-icon><PictureFilled /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n              <el-tooltip content=\"发送文件\" placement=\"top\">\r\n                <el-button circle @click=\"openFileUpload\">\r\n                  <el-icon><FolderOpened /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n              <el-tooltip content=\"分享知识库文件\" placement=\"top\">\r\n                <el-button circle @click=\"openKnowledgeDialog\">\r\n                  <el-icon><Reading /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n              <el-tooltip content=\"语音消息\" placement=\"top\">\r\n                <el-button circle>\r\n                  <el-icon><Microphone /></el-icon>\r\n                </el-button>\r\n              </el-tooltip>\r\n            </div>\r\n            <div class=\"input-area\">\r\n              <el-input\r\n                v-model=\"messageInput\"\r\n                type=\"textarea\"\r\n                :rows=\"3\"\r\n                placeholder=\"输入消息...\"\r\n                resize=\"none\"\r\n                @keyup.enter.prevent=\"sendMessage\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"send-button\">\r\n              <el-button type=\"primary\" @click=\"sendMessage\">\r\n                <el-icon><Position /></el-icon>\r\n                发送\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 无选中联系人提示 -->\r\n          <div class=\"empty-chat\" v-if=\"selectedContact === null\">\r\n            <div class=\"empty-illustration\">\r\n              <el-icon :size=\"64\"><ChatDotSquare /></el-icon>\r\n            </div>\r\n            <h4>选择一个联系人开始聊天</h4>\r\n            <p>从左侧列表选择联系人开始对话</p>\r\n          </div>\r\n          \r\n          <!-- 无消息提示 -->\r\n          <div v-if=\"selectedContact !== null && !loading && messages.length === 0\" class=\"empty-messages\">\r\n            <el-empty description=\"暂无消息记录\">\r\n              <template #image>\r\n                <el-icon :size=\"64\" class=\"empty-icon\"><ChatLineSquare /></el-icon>\r\n              </template>\r\n              <p>发送第一条消息开始对话吧</p>\r\n            </el-empty>\r\n          </div>\r\n          \r\n          <!-- 消息加载中 -->\r\n          <div v-if=\"selectedContact !== null && loading\" class=\"loading-messages\">\r\n            <el-skeleton :rows=\"3\" animated />\r\n            <el-skeleton style=\"margin-top: 20px\" :rows=\"2\" animated />\r\n            <div style=\"text-align: right; margin-top: 20px\">\r\n              <el-skeleton :rows=\"2\" animated />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  \r\n  <!-- 隐藏的文件上传输入 -->\r\n  <input \r\n    type=\"file\" \r\n    ref=\"fileInput\" \r\n    style=\"display: none\" \r\n    @change=\"handleFileUpload\" \r\n  />\r\n  \r\n  <!-- 隐藏的图片上传输入 -->\r\n  <input \r\n    type=\"file\" \r\n    ref=\"imageInput\" \r\n    style=\"display: none\" \r\n    accept=\"image/*\" \r\n    @change=\"handleImageUpload\" \r\n  />\r\n  \r\n  <!-- 知识库选择对话框 -->\r\n  <el-dialog\r\n    v-model=\"knowledgeDialogVisible\"\r\n    title=\"选择知识库文件\"\r\n    width=\"50%\"\r\n  >\r\n    <el-table\r\n      v-loading=\"knowledgeLoading\"\r\n      :data=\"knowledgeList\"\r\n      style=\"width: 100%\"\r\n      @row-click=\"selectKnowledge\"\r\n    >\r\n      <el-table-column prop=\"title\" label=\"标题\"></el-table-column>\r\n      <el-table-column prop=\"file_type\" label=\"类型\">\r\n        <template #default=\"scope\">\r\n          <el-tag>{{ scope.row.file_type }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"created_at\" label=\"创建时间\">\r\n        <template #default=\"scope\">\r\n          {{ formatDate(scope.row.created_at) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"primary\" size=\"small\" @click.stop=\"shareKnowledge(scope.row)\">\r\n            分享\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"knowledgeDialogVisible = false\">取消</el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, nextTick, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { \r\n  Search, Phone, VideoCamera, InfoFilled, Document, PictureFilled, \r\n  FolderOpened, Microphone, Position, ChatDotSquare, Reading, UserFilled, ChatLineSquare\r\n} from '@element-plus/icons-vue'\r\nimport { \r\n  getChatSessions, \r\n  getChatSession, \r\n  sendTextMessage, \r\n  sendFileMessage,\r\n  sendImageMessage,\r\n  sendKnowledgeMessage,\r\n  downloadMessageFile\r\n} from '@/api/chat'\r\nimport { getKnowledgeList } from '@/api/knowledge'\r\n\r\nexport default {\r\n  name: 'Chat',\r\n  setup() {\r\n    const store = useStore()\r\n    const currentUser = computed(() => store.getters.user)\r\n    \r\n    const searchQuery = ref('')\r\n    const activeTab = ref(0)\r\n    const selectedContact = ref(null)\r\n    const messageInput = ref('')\r\n    const messageContainer = ref(null)\r\n    const fileInput = ref(null)\r\n    const imageInput = ref(null)\r\n    const messages = ref([])\r\n    const loading = ref(false)\r\n    const chatSessions = ref([])\r\n    const currentChatId = ref(null)\r\n    \r\n    // 知识库相关\r\n    const knowledgeDialogVisible = ref(false)\r\n    const knowledgeLoading = ref(false)\r\n    const knowledgeList = ref([])\r\n    const selectedKnowledge = ref(null)\r\n    \r\n    // 标签页\r\n    const tabs = ref(['最近聊天', '同事', '群组'])\r\n    \r\n    // 联系人列表\r\n    const contacts = ref([])\r\n    \r\n    // 当前选中的联系人\r\n    const currentContact = computed(() => {\r\n      if (selectedContact.value === null) return {}\r\n      return contacts.value.find(c => c.id === selectedContact.value) || {}\r\n    })\r\n    \r\n    // 根据搜索过滤联系人\r\n    const filteredContacts = computed(() => {\r\n      if (!searchQuery.value) return contacts.value\r\n      return contacts.value.filter(contact =>\r\n        contact.name.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n      )\r\n    })\r\n    \r\n    // 加载聊天会话列表\r\n    const loadChatSessions = async () => {\r\n      try {\r\n        loading.value = true\r\n        const { data } = await getChatSessions()\r\n        \r\n        // 转换数据格式\r\n        chatSessions.value = data\r\n        \r\n        // 构建联系人列表\r\n        contacts.value = data.map(session => {\r\n          // 找到对方用户（非当前用户）\r\n          let otherParticipant = session.participants.find(\r\n            p => p.user.id !== currentUser.value.id\r\n          )\r\n          \r\n          // 如果是群聊，使用群聊信息\r\n          if (session.is_group) {\r\n            return {\r\n              id: session.id,\r\n              name: session.title || '群聊',\r\n              initial: (session.title || '群聊')[0],\r\n              avatar: '',\r\n              color: getRandomColor(session.id),\r\n              status: 'online',\r\n              lastMessage: session.last_message ? session.last_message.content : '',\r\n              lastTime: session.last_message ? formatMessageTime(session.last_message.created_at) : formatMessageTime(session.updated_at),\r\n              unread: session.unread_count,\r\n              isGroup: true\r\n            }\r\n          }\r\n          \r\n          // 单聊，使用对方信息\r\n          if (otherParticipant) {\r\n            const user = otherParticipant.user\r\n            return {\r\n              id: session.id,\r\n              name: `${user.first_name} ${user.last_name}`.trim() || user.username,\r\n              initial: (user.first_name || user.username)[0],\r\n              avatar: user.avatar,\r\n              color: getRandomColor(user.id),\r\n              status: 'online', // 假设所有用户都在线\r\n              lastMessage: session.last_message ? session.last_message.content : '',\r\n              lastTime: session.last_message ? formatMessageTime(session.last_message.created_at) : formatMessageTime(session.updated_at),\r\n              unread: session.unread_count,\r\n              isGroup: false\r\n            }\r\n          }\r\n          \r\n          // 如果没有其他参与者（理论上不应该发生）\r\n          return {\r\n            id: session.id,\r\n            name: session.title || '聊天',\r\n            initial: (session.title || '聊天')[0],\r\n            avatar: '',\r\n            color: getRandomColor(session.id),\r\n            status: 'online',\r\n            lastMessage: session.last_message ? session.last_message.content : '',\r\n            lastTime: session.last_message ? formatMessageTime(session.last_message.created_at) : formatMessageTime(session.updated_at),\r\n            unread: session.unread_count,\r\n            isGroup: session.is_group\r\n          }\r\n        })\r\n        \r\n        // 如果有未读消息，按未读数量排序\r\n        contacts.value.sort((a, b) => b.unread - a.unread)\r\n        \r\n      } catch (error) {\r\n        console.error('加载聊天会话失败:', error)\r\n        ElMessage.error('加载聊天会话失败')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    // 加载聊天消息\r\n    const loadChatMessages = async (chatId) => {\r\n      try {\r\n        loading.value = true\r\n        const { data } = await getChatSession(chatId)\r\n        messages.value = data.messages\r\n        currentChatId.value = chatId\r\n        \r\n        // 滚动到底部\r\n        nextTick(() => {\r\n          scrollToBottom()\r\n        })\r\n      } catch (error) {\r\n        console.error('加载聊天消息失败:', error)\r\n        ElMessage.error('加载聊天消息失败')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    // 选择联系人\r\n    const selectContact = (contact) => {\r\n      selectedContact.value = contact.id\r\n      loadChatMessages(contact.id)\r\n    }\r\n    \r\n    // 发送消息\r\n    const sendMessage = async () => {\r\n      if (!messageInput.value.trim() || !currentChatId.value) return\r\n      \r\n      try {\r\n        await sendTextMessage(currentChatId.value, messageInput.value)\r\n        \r\n        // 清空输入框\r\n        messageInput.value = ''\r\n        \r\n        // 重新加载消息（实际项目中可以使用WebSocket实时更新）\r\n        loadChatMessages(currentChatId.value)\r\n      } catch (error) {\r\n        console.error('发送消息失败:', error)\r\n        ElMessage.error('发送消息失败')\r\n      }\r\n    }\r\n    \r\n    // 打开文件上传\r\n    const openFileUpload = () => {\r\n      fileInput.value.click()\r\n    }\r\n    \r\n    // 打开图片上传\r\n    const openImageUpload = () => {\r\n      imageInput.value.click()\r\n    }\r\n    \r\n    // 处理文件上传\r\n    const handleFileUpload = async (event) => {\r\n      const file = event.target.files[0]\r\n      if (!file || !currentChatId.value) return\r\n      \r\n      try {\r\n        await sendFileMessage(\r\n          currentChatId.value, \r\n          `发送文件: ${file.name}`, \r\n          file\r\n        )\r\n        \r\n        // 重新加载消息\r\n        loadChatMessages(currentChatId.value)\r\n        \r\n        // 清空文件输入\r\n        event.target.value = ''\r\n      } catch (error) {\r\n        console.error('发送文件失败:', error)\r\n        ElMessage.error('发送文件失败')\r\n      }\r\n    }\r\n    \r\n    // 处理图片上传\r\n    const handleImageUpload = async (event) => {\r\n      const file = event.target.files[0]\r\n      if (!file || !currentChatId.value) return\r\n      \r\n      try {\r\n        await sendImageMessage(\r\n          currentChatId.value, \r\n          `发送图片`, \r\n          file\r\n        )\r\n        \r\n        // 重新加载消息\r\n        loadChatMessages(currentChatId.value)\r\n        \r\n        // 清空文件输入\r\n        event.target.value = ''\r\n      } catch (error) {\r\n        console.error('发送图片失败:', error)\r\n        ElMessage.error('发送图片失败')\r\n      }\r\n    }\r\n    \r\n    // 打开知识库对话框\r\n    const openKnowledgeDialog = async () => {\r\n      knowledgeDialogVisible.value = true\r\n      await loadKnowledgeList()\r\n    }\r\n    \r\n    // 加载知识库列表\r\n    const loadKnowledgeList = async () => {\r\n      try {\r\n        knowledgeLoading.value = true\r\n        const { data } = await getKnowledgeList()\r\n        knowledgeList.value = data\r\n      } catch (error) {\r\n        console.error('加载知识库列表失败:', error)\r\n        ElMessage.error('加载知识库列表失败')\r\n      } finally {\r\n        knowledgeLoading.value = false\r\n      }\r\n    }\r\n    \r\n    // 选择知识库文件\r\n    const selectKnowledge = (row) => {\r\n      selectedKnowledge.value = row\r\n    }\r\n    \r\n    // 分享知识库文件\r\n    const shareKnowledge = async (knowledge) => {\r\n      if (!currentChatId.value) return\r\n      \r\n      try {\r\n        await sendKnowledgeMessage(\r\n          currentChatId.value,\r\n          `分享知识库文件: ${knowledge.title}`,\r\n          knowledge.id\r\n        )\r\n        \r\n        // 关闭对话框\r\n        knowledgeDialogVisible.value = false\r\n        \r\n        // 重新加载消息\r\n        loadChatMessages(currentChatId.value)\r\n      } catch (error) {\r\n        console.error('分享知识库文件失败:', error)\r\n        ElMessage.error('分享知识库文件失败')\r\n      }\r\n    }\r\n    \r\n    // 下载文件\r\n    const downloadFile = async (message) => {\r\n      try {\r\n        const response = await downloadMessageFile(message.id)\r\n        \r\n        // 创建下载链接\r\n        const url = window.URL.createObjectURL(new Blob([response.data]))\r\n        const link = document.createElement('a')\r\n        link.href = url\r\n        link.setAttribute('download', message.file_name || 'download')\r\n        document.body.appendChild(link)\r\n        link.click()\r\n        document.body.removeChild(link)\r\n      } catch (error) {\r\n        console.error('下载文件失败:', error)\r\n        ElMessage.error('下载文件失败')\r\n      }\r\n    }\r\n    \r\n    // 查看知识库文件\r\n    const viewKnowledge = (message) => {\r\n      if (message.knowledge_detail) {\r\n        // 可以跳转到知识库详情页面\r\n        ElMessageBox.alert(\r\n          `标题: ${message.knowledge_detail.title}<br>描述: ${message.knowledge_detail.description || '无'}`, \r\n          '知识库文件', \r\n          {\r\n            dangerouslyUseHTMLString: true,\r\n            confirmButtonText: '确定'\r\n          }\r\n        )\r\n      }\r\n    }\r\n    \r\n    // 获取发送者颜色\r\n    const getSenderColor = (sender) => {\r\n      return getRandomColor(sender.id)\r\n    }\r\n    \r\n    // 获取发送者首字母\r\n    const getSenderInitial = (sender) => {\r\n      return (sender.first_name || sender.username)[0]\r\n    }\r\n    \r\n    // 根据ID生成随机颜色\r\n    const getRandomColor = (id) => {\r\n      const colors = [\r\n        '#007bff', '#28a745', '#dc3545', '#fd7e14', \r\n        '#6f42c1', '#20c997', '#17a2b8', '#6c757d'\r\n      ]\r\n      \r\n      // 使用ID作为索引，确保同一用户颜色一致\r\n      const index = typeof id === 'number' ? id % colors.length : 0\r\n      return colors[index]\r\n    }\r\n    \r\n    // 格式化消息时间\r\n    const formatMessageTime = (timestamp) => {\r\n      if (!timestamp) return ''\r\n      \r\n      const date = new Date(timestamp)\r\n      const now = new Date()\r\n      const diff = now - date\r\n      \r\n      // 今天内的消息显示时间\r\n      if (diff < 24 * 60 * 60 * 1000) {\r\n        const hours = date.getHours().toString().padStart(2, '0')\r\n        const minutes = date.getMinutes().toString().padStart(2, '0')\r\n        return `${hours}:${minutes}`\r\n      }\r\n      \r\n      // 一周内的消息显示星期几\r\n      if (diff < 7 * 24 * 60 * 60 * 1000) {\r\n        const days = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n        return days[date.getDay()]\r\n      }\r\n      \r\n      // 更早的消息显示日期\r\n      return `${date.getMonth() + 1}月${date.getDate()}日`\r\n    }\r\n    \r\n    // 格式化日期\r\n    const formatDate = (timestamp) => {\r\n      if (!timestamp) return ''\r\n      \r\n      const date = new Date(timestamp)\r\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`\r\n    }\r\n    \r\n    // 格式化文件大小\r\n    const formatFileSize = (sizeInKB) => {\r\n      if (sizeInKB < 1024) {\r\n        return `${sizeInKB} KB`\r\n      } else {\r\n        return `${(sizeInKB / 1024).toFixed(2)} MB`\r\n      }\r\n    }\r\n    \r\n    // 获取状态文字\r\n    const getStatusText = (status) => {\r\n      const statusMap = {\r\n        'online': '在线',\r\n        'offline': '离线',\r\n        'busy': '忙碌',\r\n        'away': '离开'\r\n      }\r\n      return statusMap[status] || status\r\n    }\r\n    \r\n    // 滚动到底部\r\n    const scrollToBottom = () => {\r\n      if (messageContainer.value) {\r\n        messageContainer.value.scrollTop = messageContainer.value.scrollHeight\r\n      }\r\n    }\r\n    \r\n    // 初始化\r\n    onMounted(() => {\r\n      loadChatSessions()\r\n    })\r\n    \r\n    return {\r\n      searchQuery,\r\n      activeTab,\r\n      selectedContact,\r\n      tabs,\r\n      contacts,\r\n      currentContact,\r\n      filteredContacts,\r\n      messages,\r\n      messageInput,\r\n      messageContainer,\r\n      fileInput,\r\n      imageInput,\r\n      currentUser,\r\n      knowledgeDialogVisible,\r\n      knowledgeLoading,\r\n      knowledgeList,\r\n      // 图标\r\n      Search,\r\n      Phone,\r\n      VideoCamera,\r\n      InfoFilled,\r\n      Document,\r\n      PictureFilled,\r\n      FolderOpened,\r\n      Microphone,\r\n      Position,\r\n      ChatDotSquare,\r\n      Reading,\r\n      UserFilled,\r\n      ChatLineSquare,\r\n      // 方法\r\n      sendMessage,\r\n      getStatusText,\r\n      selectContact,\r\n      openFileUpload,\r\n      openImageUpload,\r\n      handleFileUpload,\r\n      handleImageUpload,\r\n      openKnowledgeDialog,\r\n      selectKnowledge,\r\n      shareKnowledge,\r\n      downloadFile,\r\n      viewKnowledge,\r\n      getSenderColor,\r\n      getSenderInitial,\r\n      formatMessageTime,\r\n      formatDate,\r\n      formatFileSize,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chat-container {\r\n  height: 100vh;\r\n  width: 100%;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.chat-card {\r\n  height: 100vh;\r\n  width: 100%;\r\n  border-radius: 0;\r\n  margin: 0;\r\n  box-shadow: none;\r\n}\r\n\r\n.chat-card :deep(.el-card__body) {\r\n  height: 100%;\r\n  padding: 0;\r\n}\r\n\r\n.chat-layout {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n/* 侧边栏样式 */\r\n.chat-sidebar {\r\n  width: 280px;\r\n  border-right: 1px solid #f0f0f0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #fff;\r\n  height: 100%;\r\n}\r\n\r\n.search-box {\r\n  padding: 15px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.chat-tabs {\r\n  display: flex;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.chat-tab {\r\n  flex: 1;\r\n  text-align: center;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  color: #666;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.chat-tab.active {\r\n  color: var(--el-color-primary);\r\n  border-bottom: 2px solid var(--el-color-primary);\r\n}\r\n\r\n.contacts-list {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 0;\r\n}\r\n\r\n.contact-item {\r\n  display: flex;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.contact-item:hover {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.contact-item.active {\r\n  background-color: #f0f7ff;\r\n}\r\n\r\n.contact-avatar {\r\n  position: relative;\r\n  margin-right: 12px;\r\n}\r\n\r\n.avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n\r\n.avatar.small {\r\n  width: 32px;\r\n  height: 32px;\r\n  font-size: 12px;\r\n}\r\n\r\n.avatar-initial {\r\n  font-size: 16px;\r\n}\r\n\r\n.contact-status {\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  border: 2px solid white;\r\n}\r\n\r\n.status-online {\r\n  background-color: #28a745;\r\n}\r\n\r\n.status-offline {\r\n  background-color: #6c757d;\r\n}\r\n\r\n.status-busy {\r\n  background-color: #dc3545;\r\n}\r\n\r\n.status-away {\r\n  background-color: #fd7e14;\r\n}\r\n\r\n.contact-info {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.contact-name {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.contact-name span {\r\n  font-weight: 500;\r\n}\r\n\r\n.time {\r\n  font-size: 12px;\r\n  color: #999;\r\n}\r\n\r\n.contact-message {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #666;\r\n  font-size: 13px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.message-badge {\r\n  margin-left: 5px;\r\n}\r\n\r\n/* 聊天内容样式 */\r\n.chat-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #f5f7fa;\r\n  height: 100%;\r\n}\r\n\r\n.chat-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  background-color: #fff;\r\n}\r\n\r\n.chat-header .contact-info {\r\n  margin-right: auto;\r\n}\r\n\r\n.chat-header h6 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n}\r\n\r\n.chat-header p {\r\n  margin: 0;\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.chat-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.chat-messages {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n}\r\n\r\n.message {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.message-container {\r\n  display: flex;\r\n}\r\n\r\n.message-sent .message-container {\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.message-avatar {\r\n  margin-right: 10px;\r\n}\r\n\r\n.message-sent .message-avatar {\r\n  margin-right: 0;\r\n  margin-left: 10px;\r\n}\r\n\r\n.message-content-wrapper {\r\n  max-width: 70%;\r\n}\r\n\r\n.message-content {\r\n  padding: 12px 15px;\r\n  border-radius: 18px;\r\n  position: relative;\r\n  word-break: break-word;\r\n}\r\n\r\n.message-content.received {\r\n  background-color: #fff;\r\n  border-top-left-radius: 4px;\r\n}\r\n\r\n.message-content.sent {\r\n  background-color: var(--el-color-primary);\r\n  color: white;\r\n  border-top-right-radius: 4px;\r\n}\r\n\r\n.message-time {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n  text-align: right;\r\n}\r\n\r\n.message-sent .message-time {\r\n  text-align: right;\r\n}\r\n\r\n.message-received .message-time {\r\n  text-align: left;\r\n}\r\n\r\n.message-image img {\r\n  max-width: 100%;\r\n  max-height: 300px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.message-file {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  padding: 8px 12px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.message-file .el-icon {\r\n  font-size: 24px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.file-size {\r\n  margin-left: 8px;\r\n  font-size: 12px;\r\n  opacity: 0.8;\r\n}\r\n\r\n.message-knowledge {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.message-knowledge .el-icon {\r\n  font-size: 24px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.knowledge-info {\r\n  flex: 1;\r\n}\r\n\r\n.knowledge-title {\r\n  font-weight: 500;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.knowledge-desc {\r\n  font-size: 12px;\r\n  opacity: 0.8;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 200px;\r\n}\r\n\r\n.chat-input {\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  border-top: 1px solid #f0f0f0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chat-tools {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.input-area {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.send-button {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.empty-chat {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #999;\r\n}\r\n\r\n.empty-illustration {\r\n  margin-bottom: 20px;\r\n  color: #ddd;\r\n}\r\n\r\n.empty-chat h4 {\r\n  margin: 0 0 10px;\r\n}\r\n\r\n.empty-chat p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.empty-contacts {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #999;\r\n}\r\n\r\n.empty-icon {\r\n  margin-bottom: 20px;\r\n  color: #ddd;\r\n}\r\n\r\n.empty-contacts h4 {\r\n  margin: 0 0 10px;\r\n}\r\n\r\n.empty-contacts p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.loading-container {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.empty-messages {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n}\r\n\r\n.loading-messages {\r\n  flex: 1;\r\n  padding: 20px;\r\n}\r\n\r\n.mt-3 {\r\n  margin-top: 15px;\r\n}\r\n</style> "],"mappings":";;;;;;;AAwTA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACvD,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAS,EAAEC,YAAW,QAAS,cAAa;AACrD,SACEC,MAAM,EAAEC,KAAK,EAAEC,WAAW,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,aAAa,EAC/DC,YAAY,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,OAAO,EAAEC,UAAU,EAAEC,cAAa,QAChF,yBAAwB;AAC/B,SACEC,eAAe,EACfC,cAAc,EACdC,eAAe,EACfC,eAAe,EACfC,gBAAgB,EAChBC,oBAAoB,EACpBC,mBAAkB,QACb,YAAW;AAClB,SAASC,gBAAe,QAAS,iBAAgB;AAEjD,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAI1B,QAAQ,CAAC;IACvB,MAAM2B,WAAU,GAAI9B,QAAQ,CAAC,MAAM6B,KAAK,CAACE,OAAO,CAACC,IAAI;IAErD,MAAMC,WAAU,GAAIlC,GAAG,CAAC,EAAE;IAC1B,MAAMmC,SAAQ,GAAInC,GAAG,CAAC,CAAC;IACvB,MAAMoC,eAAc,GAAIpC,GAAG,CAAC,IAAI;IAChC,MAAMqC,YAAW,GAAIrC,GAAG,CAAC,EAAE;IAC3B,MAAMsC,gBAAe,GAAItC,GAAG,CAAC,IAAI;IACjC,MAAMuC,SAAQ,GAAIvC,GAAG,CAAC,IAAI;IAC1B,MAAMwC,UAAS,GAAIxC,GAAG,CAAC,IAAI;IAC3B,MAAMyC,QAAO,GAAIzC,GAAG,CAAC,EAAE;IACvB,MAAM0C,OAAM,GAAI1C,GAAG,CAAC,KAAK;IACzB,MAAM2C,YAAW,GAAI3C,GAAG,CAAC,EAAE;IAC3B,MAAM4C,aAAY,GAAI5C,GAAG,CAAC,IAAI;;IAE9B;IACA,MAAM6C,sBAAqB,GAAI7C,GAAG,CAAC,KAAK;IACxC,MAAM8C,gBAAe,GAAI9C,GAAG,CAAC,KAAK;IAClC,MAAM+C,aAAY,GAAI/C,GAAG,CAAC,EAAE;IAC5B,MAAMgD,iBAAgB,GAAIhD,GAAG,CAAC,IAAI;;IAElC;IACA,MAAMiD,IAAG,GAAIjD,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC;;IAErC;IACA,MAAMkD,QAAO,GAAIlD,GAAG,CAAC,EAAE;;IAEvB;IACA,MAAMmD,cAAa,GAAIlD,QAAQ,CAAC,MAAM;MACpC,IAAImC,eAAe,CAACgB,KAAI,KAAM,IAAI,EAAE,OAAO,CAAC;MAC5C,OAAOF,QAAQ,CAACE,KAAK,CAACC,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACC,EAAC,KAAMnB,eAAe,CAACgB,KAAK,KAAK,CAAC;IACtE,CAAC;;IAED;IACA,MAAMI,gBAAe,GAAIvD,QAAQ,CAAC,MAAM;MACtC,IAAI,CAACiC,WAAW,CAACkB,KAAK,EAAE,OAAOF,QAAQ,CAACE,KAAI;MAC5C,OAAOF,QAAQ,CAACE,KAAK,CAACK,MAAM,CAACC,OAAM,IACjCA,OAAO,CAAC9B,IAAI,CAAC+B,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,WAAW,CAACkB,KAAK,CAACO,WAAW,CAAC,CAAC,CACrE;IACF,CAAC;;IAED;IACA,MAAME,gBAAe,GAAI,MAAAA,CAAA,KAAY;MACnC,IAAI;QACFnB,OAAO,CAACU,KAAI,GAAI,IAAG;QACnB,MAAM;UAAEU;QAAK,IAAI,MAAM1C,eAAe,CAAC;;QAEvC;QACAuB,YAAY,CAACS,KAAI,GAAIU,IAAG;;QAExB;QACAZ,QAAQ,CAACE,KAAI,GAAIU,IAAI,CAACC,GAAG,CAACC,OAAM,IAAK;UACnC;UACA,IAAIC,gBAAe,GAAID,OAAO,CAACE,YAAY,CAACb,IAAI,CAC9Cc,CAAA,IAAKA,CAAC,CAAClC,IAAI,CAACsB,EAAC,KAAMxB,WAAW,CAACqB,KAAK,CAACG,EACvC;;UAEA;UACA,IAAIS,OAAO,CAACI,QAAQ,EAAE;YACpB,OAAO;cACLb,EAAE,EAAES,OAAO,CAACT,EAAE;cACd3B,IAAI,EAAEoC,OAAO,CAACK,KAAI,IAAK,IAAI;cAC3BC,OAAO,EAAE,CAACN,OAAO,CAACK,KAAI,IAAK,IAAI,EAAE,CAAC,CAAC;cACnCE,MAAM,EAAE,EAAE;cACVC,KAAK,EAAEC,cAAc,CAACT,OAAO,CAACT,EAAE,CAAC;cACjCmB,MAAM,EAAE,QAAQ;cAChBC,WAAW,EAAEX,OAAO,CAACY,YAAW,GAAIZ,OAAO,CAACY,YAAY,CAACC,OAAM,GAAI,EAAE;cACrEC,QAAQ,EAAEd,OAAO,CAACY,YAAW,GAAIG,iBAAiB,CAACf,OAAO,CAACY,YAAY,CAACI,UAAU,IAAID,iBAAiB,CAACf,OAAO,CAACiB,UAAU,CAAC;cAC3HC,MAAM,EAAElB,OAAO,CAACmB,YAAY;cAC5BC,OAAO,EAAE;YACX;UACF;;UAEA;UACA,IAAInB,gBAAgB,EAAE;YACpB,MAAMhC,IAAG,GAAIgC,gBAAgB,CAAChC,IAAG;YACjC,OAAO;cACLsB,EAAE,EAAES,OAAO,CAACT,EAAE;cACd3B,IAAI,EAAE,GAAGK,IAAI,CAACoD,UAAU,IAAIpD,IAAI,CAACqD,SAAS,EAAE,CAACC,IAAI,CAAC,KAAKtD,IAAI,CAACuD,QAAQ;cACpElB,OAAO,EAAE,CAACrC,IAAI,CAACoD,UAAS,IAAKpD,IAAI,CAACuD,QAAQ,EAAE,CAAC,CAAC;cAC9CjB,MAAM,EAAEtC,IAAI,CAACsC,MAAM;cACnBC,KAAK,EAAEC,cAAc,CAACxC,IAAI,CAACsB,EAAE,CAAC;cAC9BmB,MAAM,EAAE,QAAQ;cAAE;cAClBC,WAAW,EAAEX,OAAO,CAACY,YAAW,GAAIZ,OAAO,CAACY,YAAY,CAACC,OAAM,GAAI,EAAE;cACrEC,QAAQ,EAAEd,OAAO,CAACY,YAAW,GAAIG,iBAAiB,CAACf,OAAO,CAACY,YAAY,CAACI,UAAU,IAAID,iBAAiB,CAACf,OAAO,CAACiB,UAAU,CAAC;cAC3HC,MAAM,EAAElB,OAAO,CAACmB,YAAY;cAC5BC,OAAO,EAAE;YACX;UACF;;UAEA;UACA,OAAO;YACL7B,EAAE,EAAES,OAAO,CAACT,EAAE;YACd3B,IAAI,EAAEoC,OAAO,CAACK,KAAI,IAAK,IAAI;YAC3BC,OAAO,EAAE,CAACN,OAAO,CAACK,KAAI,IAAK,IAAI,EAAE,CAAC,CAAC;YACnCE,MAAM,EAAE,EAAE;YACVC,KAAK,EAAEC,cAAc,CAACT,OAAO,CAACT,EAAE,CAAC;YACjCmB,MAAM,EAAE,QAAQ;YAChBC,WAAW,EAAEX,OAAO,CAACY,YAAW,GAAIZ,OAAO,CAACY,YAAY,CAACC,OAAM,GAAI,EAAE;YACrEC,QAAQ,EAAEd,OAAO,CAACY,YAAW,GAAIG,iBAAiB,CAACf,OAAO,CAACY,YAAY,CAACI,UAAU,IAAID,iBAAiB,CAACf,OAAO,CAACiB,UAAU,CAAC;YAC3HC,MAAM,EAAElB,OAAO,CAACmB,YAAY;YAC5BC,OAAO,EAAEpB,OAAO,CAACI;UACnB;QACF,CAAC;;QAED;QACAlB,QAAQ,CAACE,KAAK,CAACqC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACT,MAAK,GAAIQ,CAAC,CAACR,MAAM;MAEnD,EAAE,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChCvF,SAAS,CAACuF,KAAK,CAAC,UAAU;MAC5B,UAAU;QACRlD,OAAO,CAACU,KAAI,GAAI,KAAI;MACtB;IACF;;IAEA;IACA,MAAM0C,gBAAe,GAAI,MAAOC,MAAM,IAAK;MACzC,IAAI;QACFrD,OAAO,CAACU,KAAI,GAAI,IAAG;QACnB,MAAM;UAAEU;QAAK,IAAI,MAAMzC,cAAc,CAAC0E,MAAM;QAC5CtD,QAAQ,CAACW,KAAI,GAAIU,IAAI,CAACrB,QAAO;QAC7BG,aAAa,CAACQ,KAAI,GAAI2C,MAAK;;QAE3B;QACA7F,QAAQ,CAAC,MAAM;UACb8F,cAAc,CAAC;QACjB,CAAC;MACH,EAAE,OAAOJ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChCvF,SAAS,CAACuF,KAAK,CAAC,UAAU;MAC5B,UAAU;QACRlD,OAAO,CAACU,KAAI,GAAI,KAAI;MACtB;IACF;;IAEA;IACA,MAAM6C,aAAY,GAAKvC,OAAO,IAAK;MACjCtB,eAAe,CAACgB,KAAI,GAAIM,OAAO,CAACH,EAAC;MACjCuC,gBAAgB,CAACpC,OAAO,CAACH,EAAE;IAC7B;;IAEA;IACA,MAAM2C,WAAU,GAAI,MAAAA,CAAA,KAAY;MAC9B,IAAI,CAAC7D,YAAY,CAACe,KAAK,CAACmC,IAAI,CAAC,KAAK,CAAC3C,aAAa,CAACQ,KAAK,EAAE;MAExD,IAAI;QACF,MAAM9B,eAAe,CAACsB,aAAa,CAACQ,KAAK,EAAEf,YAAY,CAACe,KAAK;;QAE7D;QACAf,YAAY,CAACe,KAAI,GAAI,EAAC;;QAEtB;QACA0C,gBAAgB,CAAClD,aAAa,CAACQ,KAAK;MACtC,EAAE,OAAOwC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9BvF,SAAS,CAACuF,KAAK,CAAC,QAAQ;MAC1B;IACF;;IAEA;IACA,MAAMO,cAAa,GAAIA,CAAA,KAAM;MAC3B5D,SAAS,CAACa,KAAK,CAACgD,KAAK,CAAC;IACxB;;IAEA;IACA,MAAMC,eAAc,GAAIA,CAAA,KAAM;MAC5B7D,UAAU,CAACY,KAAK,CAACgD,KAAK,CAAC;IACzB;;IAEA;IACA,MAAME,gBAAe,GAAI,MAAOC,KAAK,IAAK;MACxC,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;MACjC,IAAI,CAACF,IAAG,IAAK,CAAC5D,aAAa,CAACQ,KAAK,EAAE;MAEnC,IAAI;QACF,MAAM7B,eAAe,CACnBqB,aAAa,CAACQ,KAAK,EACnB,SAASoD,IAAI,CAAC5E,IAAI,EAAE,EACpB4E,IACF;;QAEA;QACAV,gBAAgB,CAAClD,aAAa,CAACQ,KAAK;;QAEpC;QACAmD,KAAK,CAACE,MAAM,CAACrD,KAAI,GAAI,EAAC;MACxB,EAAE,OAAOwC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9BvF,SAAS,CAACuF,KAAK,CAAC,QAAQ;MAC1B;IACF;;IAEA;IACA,MAAMe,iBAAgB,GAAI,MAAOJ,KAAK,IAAK;MACzC,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;MACjC,IAAI,CAACF,IAAG,IAAK,CAAC5D,aAAa,CAACQ,KAAK,EAAE;MAEnC,IAAI;QACF,MAAM5B,gBAAgB,CACpBoB,aAAa,CAACQ,KAAK,EACnB,MAAM,EACNoD,IACF;;QAEA;QACAV,gBAAgB,CAAClD,aAAa,CAACQ,KAAK;;QAEpC;QACAmD,KAAK,CAACE,MAAM,CAACrD,KAAI,GAAI,EAAC;MACxB,EAAE,OAAOwC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9BvF,SAAS,CAACuF,KAAK,CAAC,QAAQ;MAC1B;IACF;;IAEA;IACA,MAAMgB,mBAAkB,GAAI,MAAAA,CAAA,KAAY;MACtC/D,sBAAsB,CAACO,KAAI,GAAI,IAAG;MAClC,MAAMyD,iBAAiB,CAAC;IAC1B;;IAEA;IACA,MAAMA,iBAAgB,GAAI,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF/D,gBAAgB,CAACM,KAAI,GAAI,IAAG;QAC5B,MAAM;UAAEU;QAAK,IAAI,MAAMnC,gBAAgB,CAAC;QACxCoB,aAAa,CAACK,KAAI,GAAIU,IAAG;MAC3B,EAAE,OAAO8B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK;QACjCvF,SAAS,CAACuF,KAAK,CAAC,WAAW;MAC7B,UAAU;QACR9C,gBAAgB,CAACM,KAAI,GAAI,KAAI;MAC/B;IACF;;IAEA;IACA,MAAM0D,eAAc,GAAKC,GAAG,IAAK;MAC/B/D,iBAAiB,CAACI,KAAI,GAAI2D,GAAE;IAC9B;;IAEA;IACA,MAAMC,cAAa,GAAI,MAAOC,SAAS,IAAK;MAC1C,IAAI,CAACrE,aAAa,CAACQ,KAAK,EAAE;MAE1B,IAAI;QACF,MAAM3B,oBAAoB,CACxBmB,aAAa,CAACQ,KAAK,EACnB,YAAY6D,SAAS,CAAC5C,KAAK,EAAE,EAC7B4C,SAAS,CAAC1D,EACZ;;QAEA;QACAV,sBAAsB,CAACO,KAAI,GAAI,KAAI;;QAEnC;QACA0C,gBAAgB,CAAClD,aAAa,CAACQ,KAAK;MACtC,EAAE,OAAOwC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK;QACjCvF,SAAS,CAACuF,KAAK,CAAC,WAAW;MAC7B;IACF;;IAEA;IACA,MAAMsB,YAAW,GAAI,MAAOC,OAAO,IAAK;MACtC,IAAI;QACF,MAAMC,QAAO,GAAI,MAAM1F,mBAAmB,CAACyF,OAAO,CAAC5D,EAAE;;QAErD;QACA,MAAM8D,GAAE,GAAIC,MAAM,CAACC,GAAG,CAACC,eAAe,CAAC,IAAIC,IAAI,CAAC,CAACL,QAAQ,CAACtD,IAAI,CAAC,CAAC;QAChE,MAAM4D,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG;QACvCF,IAAI,CAACG,IAAG,GAAIR,GAAE;QACdK,IAAI,CAACI,YAAY,CAAC,UAAU,EAAEX,OAAO,CAACY,SAAQ,IAAK,UAAU;QAC7DJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI;QAC9BA,IAAI,CAACtB,KAAK,CAAC;QACXuB,QAAQ,CAACK,IAAI,CAACE,WAAW,CAACR,IAAI;MAChC,EAAE,OAAO9B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;QAC9BvF,SAAS,CAACuF,KAAK,CAAC,QAAQ;MAC1B;IACF;;IAEA;IACA,MAAMuC,aAAY,GAAKhB,OAAO,IAAK;MACjC,IAAIA,OAAO,CAACiB,gBAAgB,EAAE;QAC5B;QACA9H,YAAY,CAAC+H,KAAK,CAChB,OAAOlB,OAAO,CAACiB,gBAAgB,CAAC/D,KAAK,WAAW8C,OAAO,CAACiB,gBAAgB,CAACE,WAAU,IAAK,GAAG,EAAE,EAC7F,OAAO,EACP;UACEC,wBAAwB,EAAE,IAAI;UAC9BC,iBAAiB,EAAE;QACrB,CACF;MACF;IACF;;IAEA;IACA,MAAMC,cAAa,GAAKC,MAAM,IAAK;MACjC,OAAOjE,cAAc,CAACiE,MAAM,CAACnF,EAAE;IACjC;;IAEA;IACA,MAAMoF,gBAAe,GAAKD,MAAM,IAAK;MACnC,OAAO,CAACA,MAAM,CAACrD,UAAS,IAAKqD,MAAM,CAAClD,QAAQ,EAAE,CAAC;IACjD;;IAEA;IACA,MAAMf,cAAa,GAAKlB,EAAE,IAAK;MAC7B,MAAMqF,MAAK,GAAI,CACb,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC1C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAQ,CAC3C;;MAEA;MACA,MAAMC,KAAI,GAAI,OAAOtF,EAAC,KAAM,QAAO,GAAIA,EAAC,GAAIqF,MAAM,CAACE,MAAK,GAAI;MAC5D,OAAOF,MAAM,CAACC,KAAK;IACrB;;IAEA;IACA,MAAM9D,iBAAgB,GAAKgE,SAAS,IAAK;MACvC,IAAI,CAACA,SAAS,EAAE,OAAO,EAAC;MAExB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAS;MAC/B,MAAMG,GAAE,GAAI,IAAID,IAAI,CAAC;MACrB,MAAME,IAAG,GAAID,GAAE,GAAIF,IAAG;;MAEtB;MACA,IAAIG,IAAG,GAAI,EAAC,GAAI,EAAC,GAAI,EAAC,GAAI,IAAI,EAAE;QAC9B,MAAMC,KAAI,GAAIJ,IAAI,CAACK,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG;QACxD,MAAMC,OAAM,GAAIR,IAAI,CAACS,UAAU,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG;QAC5D,OAAO,GAAGH,KAAK,IAAII,OAAO,EAAC;MAC7B;;MAEA;MACA,IAAIL,IAAG,GAAI,IAAI,EAAC,GAAI,EAAC,GAAI,EAAC,GAAI,IAAI,EAAE;QAClC,MAAMO,IAAG,GAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;QACtD,OAAOA,IAAI,CAACV,IAAI,CAACW,MAAM,CAAC,CAAC;MAC3B;;MAEA;MACA,OAAO,GAAGX,IAAI,CAACY,QAAQ,CAAC,IAAI,CAAC,IAAIZ,IAAI,CAACa,OAAO,CAAC,CAAC,GAAE;IACnD;;IAEA;IACA,MAAMC,UAAS,GAAKf,SAAS,IAAK;MAChC,IAAI,CAACA,SAAS,EAAE,OAAO,EAAC;MAExB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAS;MAC/B,OAAO,GAAGC,IAAI,CAACe,WAAW,CAAC,CAAC,IAAI,CAACf,IAAI,CAACY,QAAQ,CAAC,IAAI,CAAC,EAAEN,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIP,IAAI,CAACa,OAAO,CAAC,CAAC,CAACP,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC;IAClI;;IAEA;IACA,MAAMS,cAAa,GAAKC,QAAQ,IAAK;MACnC,IAAIA,QAAO,GAAI,IAAI,EAAE;QACnB,OAAO,GAAGA,QAAQ,KAAI;MACxB,OAAO;QACL,OAAO,GAAG,CAACA,QAAO,GAAI,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,KAAI;MAC5C;IACF;;IAEA;IACA,MAAMC,aAAY,GAAKzF,MAAM,IAAK;MAChC,MAAM0F,SAAQ,GAAI;QAChB,QAAQ,EAAE,IAAI;QACd,SAAS,EAAE,IAAI;QACf,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE;MACV;MACA,OAAOA,SAAS,CAAC1F,MAAM,KAAKA,MAAK;IACnC;;IAEA;IACA,MAAMsB,cAAa,GAAIA,CAAA,KAAM;MAC3B,IAAI1D,gBAAgB,CAACc,KAAK,EAAE;QAC1Bd,gBAAgB,CAACc,KAAK,CAACiH,SAAQ,GAAI/H,gBAAgB,CAACc,KAAK,CAACkH,YAAW;MACvE;IACF;;IAEA;IACAnK,SAAS,CAAC,MAAM;MACd0D,gBAAgB,CAAC;IACnB,CAAC;IAED,OAAO;MACL3B,WAAW;MACXC,SAAS;MACTC,eAAe;MACfa,IAAI;MACJC,QAAQ;MACRC,cAAc;MACdK,gBAAgB;MAChBf,QAAQ;MACRJ,YAAY;MACZC,gBAAgB;MAChBC,SAAS;MACTC,UAAU;MACVT,WAAW;MACXc,sBAAsB;MACtBC,gBAAgB;MAChBC,aAAa;MACb;MACAxC,MAAM;MACNC,KAAK;MACLC,WAAW;MACXC,UAAU;MACVC,QAAQ;MACRC,aAAa;MACbC,YAAY;MACZC,UAAU;MACVC,QAAQ;MACRC,aAAa;MACbC,OAAO;MACPC,UAAU;MACVC,cAAc;MACd;MACA+E,WAAW;MACXiE,aAAa;MACblE,aAAa;MACbE,cAAc;MACdE,eAAe;MACfC,gBAAgB;MAChBK,iBAAiB;MACjBC,mBAAmB;MACnBE,eAAe;MACfE,cAAc;MACdE,YAAY;MACZiB,aAAa;MACbM,cAAc;MACdE,gBAAgB;MAChB5D,iBAAiB;MACjB+E,UAAU;MACVE;IACF;EACF;AACF","ignoreList":[]}]}