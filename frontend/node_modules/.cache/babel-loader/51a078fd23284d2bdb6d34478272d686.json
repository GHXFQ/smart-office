{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\Index.vue?vue&type=template&id=af3d4ef2&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\Index.vue","mtime":1751010083910},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50IGFzIF9yZXNvbHZlRHluYW1pY0NvbXBvbmVudCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMsIG5vcm1hbGl6ZVN0eWxlIGFzIF9ub3JtYWxpemVTdHlsZSwgd2l0aEtleXMgYXMgX3dpdGhLZXlzIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIm9wZW53ZWJ1aS1jaGF0LXJvb3QiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJvcGVud2VidWktY2hhdC13aW5kb3ciCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJvcGVud2VidWktY2hhdC1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJvcGVud2VidWktY2hhdC1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJvcGVud2VidWktY2hhdC1ib2R5IiwKICByZWY6ICJjaGF0Qm9keSIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJvcGVud2VidWktYXZhdGFyIGFpLWF2YXRhciBsZWZ0LWF2YXRhciIKfTsKY29uc3QgX2hvaXN0ZWRfNyA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJvcGVud2VidWktYXZhdGFyIHVzZXItYXZhdGFyIHJpZ2h0LWF2YXRhciIKfTsKY29uc3QgX2hvaXN0ZWRfOCA9IFsic3JjIl07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAga2V5OiAxLAogIHZpZXdCb3g6ICIwIDAgNDAgNDAiLAogIHdpZHRoOiAiMzYiLAogIGhlaWdodDogIjM2Igp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogIm9wZW53ZWJ1aS1tc2ctYnViYmxlIgp9Owpjb25zdCBfaG9pc3RlZF8xMSA9IHsKICBrZXk6IDAKfTsKY29uc3QgX2hvaXN0ZWRfMTIgPSBbImlubmVySFRNTCJdOwpjb25zdCBfaG9pc3RlZF8xMyA9IHsKICBrZXk6IDIsCiAgY2xhc3M6ICJvcGVud2VidWktY3Vyc29yIgp9Owpjb25zdCBfaG9pc3RlZF8xNCA9IHsKICBrZXk6IDMsCiAgY2xhc3M6ICJzb3VyY2UtdGFnIGtub3dsZWRnZS1iYXNlLXRhZyIKfTsKY29uc3QgX2hvaXN0ZWRfMTUgPSB7CiAga2V5OiA0LAogIGNsYXNzOiAic291cmNlLXRhZyBnZW5lcmFsLWFpLXRhZyIKfTsKY29uc3QgX2hvaXN0ZWRfMTYgPSBbImRhdGEtZXZlbnQtaWQiXTsKY29uc3QgX2hvaXN0ZWRfMTcgPSB7CiAgY2xhc3M6ICJjYXJkLWljb24td3JhcHBlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTggPSB7CiAgY2xhc3M6ICJjYXJkLWNvbnRlbnQtd3JhcHBlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTkgPSB7CiAgY2xhc3M6ICJjYXJkLXRpdGxlIgp9Owpjb25zdCBfaG9pc3RlZF8yMCA9IFsiaW5uZXJIVE1MIl07CmNvbnN0IF9ob2lzdGVkXzIxID0gewogIGtleTogMCwKICBjbGFzczogImNhcmQtYWN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfMjIgPSB7CiAga2V5OiAyLAogIGNsYXNzOiAiZmlsZS1idWJibGUtbmVzdCBmaWxlLWJ1YmJsZS12ZXJ0aWNhbCIKfTsKY29uc3QgX2hvaXN0ZWRfMjMgPSB7CiAgY2xhc3M6ICJmaWxlLWljb24tYXJlYSIKfTsKY29uc3QgX2hvaXN0ZWRfMjQgPSB7CiAga2V5OiAwLAogIHNyYzogImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9maWxlLWljb25zL2ljb25zL3N2Zy9jc3Yuc3ZnIiwKICBjbGFzczogImZpbGUtaWNvbi1pbWciCn07CmNvbnN0IF9ob2lzdGVkXzI1ID0gewogIGNsYXNzOiAiZmlsZS1pbmZvLWFyZWEiCn07CmNvbnN0IF9ob2lzdGVkXzI2ID0gewogIGNsYXNzOiAiZmlsZS1uYW1lIgp9Owpjb25zdCBfaG9pc3RlZF8yNyA9IHsKICBjbGFzczogImZpbGUtbWV0YSIKfTsKY29uc3QgX2hvaXN0ZWRfMjggPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZmlsZS1kZXNjLXRleHQiCn07CmNvbnN0IF9ob2lzdGVkXzI5ID0gewogIGNsYXNzOiAicmlnaHQtcGFuZWwtaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF8zMCA9IHsKICBjbGFzczogInJpZ2h0LXBhbmVsLW1vZGUtY29udHJvbHMiCn07CmNvbnN0IF9ob2lzdGVkXzMxID0gewogIGNsYXNzOiAiaGlzdG9yeS1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzMyID0gewogIGNsYXNzOiAiaGlzdG9yeS1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzMzID0gewogIGNsYXNzOiAiaGlzdG9yeS1saXN0Igp9Owpjb25zdCBfaG9pc3RlZF8zNCA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF8zNSA9IHsKICBjbGFzczogImhpc3RvcnktaXRlbS1pY29uIgp9Owpjb25zdCBfaG9pc3RlZF8zNiA9IHsKICBjbGFzczogImhpc3RvcnktaXRlbS1pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF8zNyA9IHsKICBjbGFzczogImhpc3RvcnktaXRlbS10aXRsZSIKfTsKY29uc3QgX2hvaXN0ZWRfMzggPSB7CiAgY2xhc3M6ICJoaXN0b3J5LWl0ZW0tdGltZSIKfTsKY29uc3QgX2hvaXN0ZWRfMzkgPSB7CiAgY2xhc3M6ICJoaXN0b3J5LWl0ZW0tYWN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfNDAgPSBbIm9uQ2xpY2siXTsKY29uc3QgX2hvaXN0ZWRfNDEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiaGlzdG9yeS1lbXB0eSIKfTsKY29uc3QgX2hvaXN0ZWRfNDIgPSB7CiAgY2xhc3M6ICJvcGVud2VidWktY2hhdC1mb290ZXIiCn07CmNvbnN0IF9ob2lzdGVkXzQzID0gewogIGtleTogMCwKICBjbGFzczogIm9wZW53ZWJ1aS1maWxlLXByZXZpZXctYmFyIgp9Owpjb25zdCBfaG9pc3RlZF80NCA9IHsKICBjbGFzczogIm9wZW53ZWJ1aS1maWxlLXRodW1iIgp9Owpjb25zdCBfaG9pc3RlZF80NSA9IFsic3JjIl07CmNvbnN0IF9ob2lzdGVkXzQ2ID0gewogIGNsYXNzOiAib3BlbndlYnVpLWZpbGUtaW5mbyIKfTsKY29uc3QgX2hvaXN0ZWRfNDcgPSBbInRpdGxlIl07CmNvbnN0IF9ob2lzdGVkXzQ4ID0gewogIGNsYXNzOiAib3BlbndlYnVpLWZpbGUtbWV0YSIKfTsKY29uc3QgX2hvaXN0ZWRfNDkgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAib3BlbndlYnVpLWZpbGUtc3RhdHVzIGNvbXBsZXRlZCIKfTsKY29uc3QgX2hvaXN0ZWRfNTAgPSB7CiAgY2xhc3M6ICJvcGVud2VidWktaW5wdXQtYXJlYSIKfTsKY29uc3QgX2hvaXN0ZWRfNTEgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAib3BlbndlYnVpLW9wdGlvbnMtYXJlYSIKfTsKY29uc3QgX2hvaXN0ZWRfNTIgPSB7CiAgY2xhc3M6ICJkaWFsb2ctZm9vdGVyIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfRGVsZXRlID0gX3Jlc29sdmVDb21wb25lbnQoIkRlbGV0ZSIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfaWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pY29uIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CiAgY29uc3QgX2NvbXBvbmVudF9EYXRhQW5hbHlzaXMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRGF0YUFuYWx5c2lzIik7CiAgY29uc3QgX2NvbXBvbmVudF9DcHUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQ3B1Iik7CiAgY29uc3QgX2NvbXBvbmVudF9FZGl0UGVuID0gX3Jlc29sdmVDb21wb25lbnQoIkVkaXRQZW4iKTsKICBjb25zdCBfY29tcG9uZW50X0RvY3VtZW50ID0gX3Jlc29sdmVDb21wb25lbnQoIkRvY3VtZW50Iik7CiAgY29uc3QgX2NvbXBvbmVudF9NYWdpY1N0aWNrID0gX3Jlc29sdmVDb21wb25lbnQoIk1hZ2ljU3RpY2siKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3JhZGlvX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1yYWRpby1idXR0b24iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3JhZGlvX2dyb3VwID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXJhZGlvLWdyb3VwIik7CiAgY29uc3QgX2NvbXBvbmVudF9FeHBhbmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRXhwYW5kIik7CiAgY29uc3QgX2NvbXBvbmVudF9Gb2xkID0gX3Jlc29sdmVDb21wb25lbnQoIkZvbGQiKTsKICBjb25zdCBfY29tcG9uZW50X0NoYXRMaW5lU3F1YXJlID0gX3Jlc29sdmVDb21wb25lbnQoIkNoYXRMaW5lU3F1YXJlIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9wcm9ncmVzcyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1wcm9ncmVzcyIpOwogIGNvbnN0IF9jb21wb25lbnRfQ2hlY2sgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQ2hlY2siKTsKICBjb25zdCBfY29tcG9uZW50X0Nsb3NlID0gX3Jlc29sdmVDb21wb25lbnQoIkNsb3NlIik7CiAgY29uc3QgX2NvbXBvbmVudF9VcGxvYWRGaWxsZWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVXBsb2FkRmlsbGVkIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF90b29sdGlwID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRvb2x0aXAiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9kYXRlX3BpY2tlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1kYXRlLXBpY2tlciIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfb3B0aW9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLW9wdGlvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfc2VsZWN0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXNlbGVjdCIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9kaWFsb2cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGlhbG9nIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NhY2hlWzE2XSB8fCAoX2NhY2hlWzE2XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICBjbGFzczogIm9wZW53ZWJ1aS10aXRsZSIKICB9LCAi5pm65oWn5Yqe5YWs5Yqp5omLIiwgLTEpKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICB0eXBlOiAibGluayIsCiAgICBzaXplOiAic21hbGwiLAogICAgb25DbGljazogJHNldHVwLmNsZWFyQ2hhdCwKICAgIGNsYXNzOiAiY2xlYXItY2hhdC1idG4iCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0RlbGV0ZSldKSwKICAgICAgXzogMQogICAgfSksIF9jYWNoZVsxNV0gfHwgKF9jYWNoZVsxNV0gPSBfY3JlYXRlVGV4dFZOb2RlKCIg5paw5a+56K+dICIpKV0pLAogICAgXzogMQogIH0sIDgsIFsib25DbGljayJdKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLm1lc3NhZ2VzLCAobXNnLCBpZHgpID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAga2V5OiBpZHgsCiAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWydvcGVud2VidWktbXNnJywgbXNnLnJvbGVdKQogICAgfSwgW21zZy5yb2xlID09PSAnYXNzaXN0YW50JyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzYsIF9jYWNoZVsxN10gfHwgKF9jYWNoZVsxN10gPSBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3ZnIiwgewogICAgICB2aWV3Qm94OiAiMCAwIDQwIDQwIiwKICAgICAgd2lkdGg6ICIzNiIsCiAgICAgIGhlaWdodDogIjM2IgogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImNpcmNsZSIsIHsKICAgICAgY3g6ICIyMCIsCiAgICAgIGN5OiAiMjAiLAogICAgICByOiAiMjAiLAogICAgICBmaWxsOiAiIzJmNTRlYiIKICAgIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZXh0IiwgewogICAgICB4OiAiNTAlIiwKICAgICAgeTogIjU1JSIsCiAgICAgICJ0ZXh0LWFuY2hvciI6ICJtaWRkbGUiLAogICAgICBmaWxsOiAiI2ZmZiIsCiAgICAgICJmb250LXNpemUiOiAiMjAiLAogICAgICAiZm9udC1mYW1pbHkiOiAiQXJpYWwiLAogICAgICBkeTogIi4zZW0iCiAgICB9LCAi8J+kliIpXSwgLTEpXSkpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBtc2cucm9sZSA9PT0gJ3VzZXInID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNywgWyRzZXR1cC51c2VyQXZhdGFyVXJsID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiaW1nIiwgewogICAgICBrZXk6IDAsCiAgICAgIHNyYzogJHNldHVwLnVzZXJBdmF0YXJVcmwsCiAgICAgIGNsYXNzOiAidXNlci1hdmF0YXItaW1nIiwKICAgICAgYWx0OiAi55So5oi35aS05YOPIiwKICAgICAgb25FcnJvcjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoLi4uYXJncykgPT4gJHNldHVwLmhhbmRsZUF2YXRhckVycm9yICYmICRzZXR1cC5oYW5kbGVBdmF0YXJFcnJvciguLi5hcmdzKSkKICAgIH0sIG51bGwsIDQwLCBfaG9pc3RlZF84KSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzdmciLCBfaG9pc3RlZF85LCBfY2FjaGVbMThdIHx8IChfY2FjaGVbMThdID0gW19jcmVhdGVFbGVtZW50Vk5vZGUoImNpcmNsZSIsIHsKICAgICAgY3g6ICIyMCIsCiAgICAgIGN5OiAiMjAiLAogICAgICByOiAiMjAiLAogICAgICBmaWxsOiAiI2JiYiIKICAgIH0sIG51bGwsIC0xKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGV4dCIsIHsKICAgICAgeDogIjUwJSIsCiAgICAgIHk6ICI1NSUiLAogICAgICAidGV4dC1hbmNob3IiOiAibWlkZGxlIiwKICAgICAgZmlsbDogIiNmZmYiLAogICAgICAiZm9udC1zaXplIjogIjIwIiwKICAgICAgImZvbnQtZmFtaWx5IjogIkFyaWFsIiwKICAgICAgZHk6ICIuM2VtIgogICAgfSwgIvCfp5EiLCAtMSldKSkpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbbXNnLnR5cGUgPT09ICd0ZXh0JyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCB7CiAgICAgIGtleTogMAogICAgfSwgW21zZy5yb2xlID09PSAndXNlcicgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfMTEsIF90b0Rpc3BsYXlTdHJpbmcobXNnLmNvbnRlbnQpLCAxKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgewogICAgICBrZXk6IDEsCiAgICAgIGlubmVySFRNTDogbXNnLmNvbnRlbnQKICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzEyKSksIG1zZy5zdHJlYW1pbmcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfMTMpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBtc2cuc291cmNlID09PSAna25vd2xlZGdlX2Jhc2UnICYmIG1zZy5yb2xlID09PSAnYXNzaXN0YW50JyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzE0LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRGF0YUFuYWx5c2lzKV0pLAogICAgICBfOiAxCiAgICB9KSwgX2NhY2hlWzE5XSB8fCAoX2NhY2hlWzE5XSA9IF9jcmVhdGVUZXh0Vk5vZGUoIiDnn6Xor4blupMgIikpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIG1zZy5zb3VyY2UgPT09ICdnZW5lcmFsX2FpJyAmJiBtc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xNSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0NwdSldKSwKICAgICAgXzogMQogICAgfSksIF9jYWNoZVsyMF0gfHwgKF9jYWNoZVsyMF0gPSBfY3JlYXRlVGV4dFZOb2RlKCIgQUnlpKfmqKHlnosgIikpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldLCA2NCkpIDogbXNnLnR5cGUgPT09ICdjYXJkJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAga2V5OiAxLAogICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsib3BlbndlYnVpLWNhcmQtbWVzc2FnZSIsICRzZXR1cC5nZXRDYXJkQ2xhc3MobXNnLnN0YXR1cyldKSwKICAgICAgImRhdGEtZXZlbnQtaWQiOiBtc2cuZXZlbnRfaWQKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWyhfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoJHNldHVwLmdldENhcmRJY29uKG1zZy5zdGF0dXMpKSkpXSksCiAgICAgIF86IDIKICAgIH0sIDEwMjQpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE4LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTksIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmdldENhcmRUaXRsZShtc2cuc3RhdHVzKSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgIGNsYXNzOiAiY2FyZC1ib2R5IiwKICAgICAgaW5uZXJIVE1MOiBtc2cuY29udGVudAogICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMjApLCBtc2cuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgbXNnLmV2ZW50X2lkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMjEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgb25DbGljazogJGV2ZW50ID0+ICRzZXR1cC5lZGl0RXZlbnQobXNnKSwKICAgICAgcm91bmQ6ICIiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0VkaXRQZW4pXSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NhY2hlWzIxXSB8fCAoX2NhY2hlWzIxXSA9IF9jcmVhdGVUZXh0Vk5vZGUoIiDnvJbovpEgIikpXSksCiAgICAgIF86IDIKICAgIH0sIDEwMzIsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICBzaXplOiAic21hbGwiLAogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLmRlbGV0ZUV2ZW50RnJvbUNhcmQobXNnLmV2ZW50X2lkKSwKICAgICAgcm91bmQ6ICIiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0RlbGV0ZSldKSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY2FjaGVbMjJdIHx8IChfY2FjaGVbMjJdID0gX2NyZWF0ZVRleHRWTm9kZSgiIOWIoOmZpCAiKSldKSwKICAgICAgXzogMgogICAgfSwgMTAzMiwgWyJvbkNsaWNrIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldKV0sIDEwLCBfaG9pc3RlZF8xNikpIDogbXNnLnR5cGUgPT09ICdmaWxlJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzIyLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChtc2cuZmlsZXMsIGZpbGUgPT4gewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAga2V5OiBmaWxlLm5hbWUgKyBmaWxlLnNpemUsCiAgICAgICAgY2xhc3M6ICJmaWxlLW1lc3NhZ2UtY2FyZCIKICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIzLCBbZmlsZS5leHQgPT09ICdjc3YnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiaW1nIiwgX2hvaXN0ZWRfMjQpKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICBrZXk6IDEKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Eb2N1bWVudCldKSwKICAgICAgICBfOiAxCiAgICAgIH0pKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI2LCBfdG9EaXNwbGF5U3RyaW5nKGZpbGUubmFtZSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yNywgX3RvRGlzcGxheVN0cmluZyhmaWxlLmV4dC50b1VwcGVyQ2FzZSgpKSArICIgwrcgIiArIF90b0Rpc3BsYXlTdHJpbmcoZmlsZS5zaXplKSwgMSldKV0pOwogICAgfSksIDEyOCkpLCBtc2cuY29udGVudCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzI4LCBfdG9EaXNwbGF5U3RyaW5nKG1zZy5jb250ZW50KSwgMSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pXSwgMik7CiAgfSksIDEyOCkpXSwgNTEyKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbIm9wZW53ZWJ1aS1yaWdodC1wYW5lbCIsIHsKICAgICAgJ2NvbGxhcHNlZCc6ICRzZXR1cC5yaWdodFBhbmVsQ29sbGFwc2VkCiAgICB9XSkKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3JhZGlvX2dyb3VwLCB7CiAgICBtb2RlbFZhbHVlOiAkc2V0dXAuY2hhdE1vZGUsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICRzZXR1cC5jaGF0TW9kZSA9ICRldmVudCksCiAgICBzaXplOiAiZGVmYXVsdCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcmFkaW9fYnV0dG9uLCB7CiAgICAgIGxhYmVsOiAiYWdlbnQiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01hZ2ljU3RpY2spXSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NhY2hlWzIzXSB8fCAoX2NhY2hlWzIzXSA9IF9jcmVhdGVUZXh0Vk5vZGUoIiBBSeWKqeaJiyAiKSldKSwKICAgICAgXzogMQogICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3JhZGlvX2J1dHRvbiwgewogICAgICBsYWJlbDogImtub3dsZWRnZV9iYXNlIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9EYXRhQW5hbHlzaXMpXSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NhY2hlWzI0XSB8fCAoX2NhY2hlWzI0XSA9IF9jcmVhdGVUZXh0Vk5vZGUoIiDnn6Xor4blupMgIikpXSksCiAgICAgIF86IDEKICAgIH0pXSksCiAgICBfOiAxCiAgfSwgOCwgWyJtb2RlbFZhbHVlIl0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgY2lyY2xlOiAiIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gJGV2ZW50ID0+ICRzZXR1cC5yaWdodFBhbmVsQ29sbGFwc2VkID0gISRzZXR1cC5yaWdodFBhbmVsQ29sbGFwc2VkKSwKICAgIHRpdGxlOiAkc2V0dXAucmlnaHRQYW5lbENvbGxhcHNlZCA/ICflsZXlvIAnIDogJ+aUtui1tycsCiAgICBjbGFzczogImNvbGxhcHNlLWJ1dHRvbiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICBzaXplOiAxNgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbISRzZXR1cC5yaWdodFBhbmVsQ29sbGFwc2VkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfRXhwYW5kLCB7CiAgICAgICAga2V5OiAwCiAgICAgIH0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0ZvbGQsIHsKICAgICAgICBrZXk6IDEKICAgICAgfSkpXSksCiAgICAgIF86IDEKICAgIH0pXSksCiAgICBfOiAxCiAgfSwgOCwgWyJ0aXRsZSJdKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMyLCBbX2NhY2hlWzI2XSB8fCAoX2NhY2hlWzI2XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgewogICAgY2xhc3M6ICJoaXN0b3J5LXRpdGxlIgogIH0sICLljoblj7LorrDlvZUiLCAtMSkpLCAkc2V0dXAuY2hhdFNlc3Npb25zLmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgIGtleTogMCwKICAgIHRleHQ6ICIiLAogICAgc2l6ZTogInNtYWxsIiwKICAgIGNsYXNzOiAiY2xlYXItYWxsLWJ0biIsCiAgICBvbkNsaWNrOiAkc2V0dXAuY29uZmlybUNsZWFyQWxsSGlzdG9yeQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyNV0gfHwgKF9jYWNoZVsyNV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgiIOa4heepuiAiKV0pKSwKICAgIF86IDEKICB9LCA4LCBbIm9uQ2xpY2siXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzMsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5jaGF0U2Vzc2lvbnMsIChzZXNzaW9uLCBpbmRleCkgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBrZXk6IHNlc3Npb24uaWQsCiAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJoaXN0b3J5LWl0ZW0iLCB7CiAgICAgICAgJ2FjdGl2ZSc6IHNlc3Npb24uaWQgPT09ICRzZXR1cC5jaGF0SWQKICAgICAgfV0pCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICBjbGFzczogImhpc3RvcnktaXRlbS1jb250ZW50IiwKICAgICAgb25DbGljazogJGV2ZW50ID0+ICRzZXR1cC5zd2l0Y2hDaGF0U2Vzc2lvbihzZXNzaW9uLmlkKQogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM1LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2hhdExpbmVTcXVhcmUpXSksCiAgICAgIF86IDEKICAgIH0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM2LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzcsIF90b0Rpc3BsYXlTdHJpbmcoc2Vzc2lvbi50aXRsZSB8fCBg5a+56K+dICR7aW5kZXggKyAxfWApLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzgsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmZvcm1hdFRpbWUoc2Vzc2lvbi5jcmVhdGVkX2F0KSksIDEpXSldLCA4LCBfaG9pc3RlZF8zNCksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM5LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICBjbGFzczogImRlbGV0ZS1idG4td3JhcHBlciIsCiAgICAgIG9uQ2xpY2s6IF93aXRoTW9kaWZpZXJzKCRldmVudCA9PiAkc2V0dXAuZGVsZXRlU2Vzc2lvbihzZXNzaW9uLmlkKSwgWyJzdG9wIl0pCiAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICBjbGFzczogImRlbGV0ZS1pY29uIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRGVsZXRlKV0pLAogICAgICBfOiAxCiAgICB9KV0sIDgsIF9ob2lzdGVkXzQwKV0pXSwgMik7CiAgfSksIDEyOCkpLCAkc2V0dXAuY2hhdFNlc3Npb25zLmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzQxLCAiIOaaguaXoOWOhuWPsuiusOW9lSAiKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pXSldLCAyKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80MiwgWyRzZXR1cC5zZWxlY3RlZEZpbGVzLmxlbmd0aCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzQzLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuc2VsZWN0ZWRGaWxlcywgKGZpbGUsIGlkeCkgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBrZXk6IGZpbGUuaWQsCiAgICAgIGNsYXNzOiAib3BlbndlYnVpLWZpbGUtY2FyZCIKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80NCwgW2ZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImltZyIsIHsKICAgICAga2V5OiAwLAogICAgICBzcmM6IGZpbGUudXJsLAogICAgICBjbGFzczogIm9wZW53ZWJ1aS1maWxlLWltZyIKICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzQ1KSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogMSwKICAgICAgY2xhc3M6ICJvcGVud2VidWktZmlsZS1pY29uIiwKICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgICAgYmFja2dyb3VuZDogZmlsZS5iZwogICAgICB9KQogICAgfSwgW2ZpbGUuZXh0ID09PSAncGRmJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAga2V5OiAwCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Eb2N1bWVudCldKSwKICAgICAgXzogMQogICAgfSkpIDogZmlsZS5leHQgPT09ICdjc3YnIHx8IGZpbGUuZXh0ID09PSAneGxzJyB8fCBmaWxlLmV4dCA9PT0gJ3hsc3gnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICBrZXk6IDEKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0RvY3VtZW50KV0pLAogICAgICBfOiAxCiAgICB9KSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgIGtleTogMgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRG9jdW1lbnQpXSksCiAgICAgIF86IDEKICAgIH0pKV0sIDQpKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80NiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgY2xhc3M6ICJvcGVud2VidWktZmlsZS1uYW1lIiwKICAgICAgdGl0bGU6IGZpbGUubmFtZQogICAgfSwgX3RvRGlzcGxheVN0cmluZyhmaWxlLm5hbWUpLCA5LCBfaG9pc3RlZF80NyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ4LCBfdG9EaXNwbGF5U3RyaW5nKGZpbGUubGFiZWwpICsgIiDCtyAiICsgX3RvRGlzcGxheVN0cmluZyhmaWxlLnNpemUpLCAxKSwgZmlsZS5zdGF0dXMgIT09ICdjb21wbGV0ZWQnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfcHJvZ3Jlc3MsIHsKICAgICAga2V5OiAwLAogICAgICBwZXJjZW50YWdlOiBmaWxlLnByb2dyZXNzLAogICAgICBzdGF0dXM6IGZpbGUuc3RhdHVzID09PSAnZmFpbGVkJyA/ICdleGNlcHRpb24nIDogJycsCiAgICAgICJzdHJva2Utd2lkdGgiOiA0LAogICAgICBjbGFzczogIm9wZW53ZWJ1aS1maWxlLXByb2dyZXNzIgogICAgfSwgbnVsbCwgOCwgWyJwZXJjZW50YWdlIiwgInN0YXR1cyJdKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF80OSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0NoZWNrKV0pLAogICAgICBfOiAxCiAgICB9KSwgX2NhY2hlWzI3XSB8fCAoX2NhY2hlWzI3XSA9IF9jcmVhdGVUZXh0Vk5vZGUoIiDlpITnkIblrozmiJAgIikpXSkpXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgY2xhc3M6ICJvcGVud2VidWktZmlsZS1yZW1vdmUiLAogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLnJlbW92ZUZpbGUoaWR4KQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQ2xvc2UpXSksCiAgICAgIF86IDIKICAgIH0sIDEwMzIsIFsib25DbGljayJdKV0pOwogIH0pLCAxMjgpKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81MCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgdHlwZTogImZpbGUiLAogICAgcmVmOiAiZmlsZUlucHV0IiwKICAgIHN0eWxlOiB7CiAgICAgICJkaXNwbGF5IjogIm5vbmUiCiAgICB9LAogICAgb25DaGFuZ2U6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC5oYW5kbGVGaWxlVXBsb2FkICYmICRzZXR1cC5oYW5kbGVGaWxlVXBsb2FkKC4uLmFyZ3MpKSwKICAgIG11bHRpcGxlOiAiIiwKICAgIGFjY2VwdDogIi50eHQsLnBkZiwuZG9jLC5kb2N4LC5tZCwueGxzLC54bHN4LC5jc3YsLmpwZywuanBlZywucG5nLC5naWYsLmJtcCwud2VicCwuc3ZnLC50aWZmIgogIH0sIG51bGwsIDU0NCksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3Rvb2x0aXAsIHsKICAgIGNvbnRlbnQ6ICLmlofmoaM6IHR4dCwgcGRmLCBkb2MsIGRvY3gsIG1kXG7ooajmoLw6IHhscywgeGxzeCwgY3N2XG7lm77niYc6IGpwZywganBlZywgcG5nLCBnaWYsIGJtcCwgd2VicCwgc3ZnLCB0aWZmIiwKICAgIHBsYWNlbWVudDogInRvcCIsCiAgICAicG9wcGVyLWNsYXNzIjogIm9wZW53ZWJ1aS11cGxvYWQtdG9vbHRpcCIsCiAgICAib3Blbi1kZWxheSI6IDIwMAogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgY2xhc3M6ICJvcGVud2VidWktdXBsb2FkLWJ0biIsCiAgICAgIG9uQ2xpY2s6ICRzZXR1cC50cmlnZ2VyRmlsZUlucHV0LAogICAgICB0aXRsZTogIuS4iuS8oOaWh+S7ti/lm77niYciLAogICAgICBkaXNhYmxlZDogJHNldHVwLmxvYWRpbmcKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfVXBsb2FkRmlsbGVkKV0pLAogICAgICAgIF86IDEKICAgICAgfSldKSwKICAgICAgXzogMQogICAgfSwgOCwgWyJvbkNsaWNrIiwgImRpc2FibGVkIl0pXSksCiAgICBfOiAxCiAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICBtb2RlbFZhbHVlOiAkc2V0dXAuaW5wdXQsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gJGV2ZW50ID0+ICRzZXR1cC5pbnB1dCA9ICRldmVudCksCiAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaCqOeahOmXrumimC4uLiIsCiAgICBvbktleXVwOiBfd2l0aEtleXMoJHNldHVwLnNlbmRNc2csIFsiZW50ZXIiXSksCiAgICBjbGFzczogIm9wZW53ZWJ1aS1pbnB1dCIsCiAgICBkaXNhYmxlZDogJHNldHVwLmxvYWRpbmcgfHwgJHNldHVwLnByb2Nlc3NpbmdGaWxlcwogIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSIsICJvbktleXVwIiwgImRpc2FibGVkIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIG9uQ2xpY2s6ICRzZXR1cC5zZW5kTXNnLAogICAgY2xhc3M6ICJvcGVud2VidWktc2VuZC1idG4iLAogICAgbG9hZGluZzogJHNldHVwLmxvYWRpbmcsCiAgICBkaXNhYmxlZDogJHNldHVwLnByb2Nlc3NpbmdGaWxlcwogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmxvYWRpbmcgPyAn55Sf5oiQ5LitJyA6ICRzZXR1cC5wcm9jZXNzaW5nRmlsZXMgPyAn5aSE55CG5LitJyA6ICflj5HpgIEnKSwgMSldKSwKICAgIF86IDEKICB9LCA4LCBbIm9uQ2xpY2siLCAibG9hZGluZyIsICJkaXNhYmxlZCJdKV0pLCAkc2V0dXAuY2hhdE1vZGUgPT09ICdrbm93bGVkZ2VfYmFzZScgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF81MSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3JhZGlvX2dyb3VwLCB7CiAgICBtb2RlbFZhbHVlOiAkc2V0dXAuc2VhcmNoTWV0aG9kLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9ICRldmVudCA9PiAkc2V0dXAuc2VhcmNoTWV0aG9kID0gJGV2ZW50KSwKICAgIHNpemU6ICJzbWFsbCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcmFkaW9fYnV0dG9uLCB7CiAgICAgIGxhYmVsOiAiYmFzaWMiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyOF0gfHwgKF9jYWNoZVsyOF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5Z+656GA5qOA57SiIildKSksCiAgICAgIF86IDEKICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9yYWRpb19idXR0b24sIHsKICAgICAgbGFiZWw6ICJsb2NhbCIKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzI5XSB8fCAoX2NhY2hlWzI5XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlpI3mnYLmo4DntKIiKV0pKSwKICAgICAgXzogMQogICAgfSldKSwKICAgIF86IDEKICB9LCA4LCBbIm1vZGVsVmFsdWUiXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgX2NhY2hlWzMwXSB8fCAoX2NhY2hlWzMwXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAib3BlbndlYnVpLWZvb3Rlci1oaW50IgogIH0sICIg5pSv5oyB5paH5qGj44CB6KGo5qC844CB5Zu+54mH562J5aSa56eN5qC85byP5paH5Lu2ICIsIC0xKSldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kaWFsb2csIHsKICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5lZGl0RXZlbnREaWFsb2dWaXNpYmxlLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTRdIHx8IChfY2FjaGVbMTRdID0gJGV2ZW50ID0+ICRzZXR1cC5lZGl0RXZlbnREaWFsb2dWaXNpYmxlID0gJGV2ZW50KSwKICAgIHRpdGxlOiAi57yW6L6R5pel56iLIiwKICAgIHdpZHRoOiAiNTAwcHgiLAogICAgY2xhc3M6ICJjYWxlbmRhci1kaWFsb2ciLAogICAgImFwcGVuZC10by1ib2R5IjogdHJ1ZSwKICAgICJkZXN0cm95LW9uLWNsb3NlIjogdHJ1ZSwKICAgICJjbG9zZS1vbi1jbGljay1tb2RhbCI6IGZhbHNlCiAgfSwgewogICAgZm9vdGVyOiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNTIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgb25DbGljazogX2NhY2hlWzEzXSB8fCAoX2NhY2hlWzEzXSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdEV2ZW50RGlhbG9nVmlzaWJsZSA9IGZhbHNlKQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMzFdIHx8IChfY2FjaGVbMzFdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWPlua2iCIpXSkpLAogICAgICBfOiAxCiAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgb25DbGljazogJHNldHVwLnNhdmVFZGl0RXZlbnQKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzMyXSB8fCAoX2NhY2hlWzMyXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLnoa7lrpoiKV0pKSwKICAgICAgXzogMQogICAgfSwgOCwgWyJvbkNsaWNrIl0pXSldKSwKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFskc2V0dXAuZWRpdGluZ0V2ZW50ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZm9ybSwgewogICAgICBrZXk6IDAsCiAgICAgIG1vZGVsOiAkc2V0dXAuZWRpdGluZ0V2ZW50LAogICAgICAibGFiZWwtd2lkdGgiOiAiODBweCIKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5qCH6aKYIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZWRpdGluZ0V2ZW50LnRpdGxlLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdGluZ0V2ZW50LnRpdGxlID0gJGV2ZW50KSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5pel56iL5qCH6aKYIgogICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgIF86IDEKICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5byA5aeL5pe26Ze0IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RhdGVfcGlja2VyLCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZWRpdGluZ0V2ZW50LnN0YXJ0LAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbN10gfHwgKF9jYWNoZVs3XSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdGluZ0V2ZW50LnN0YXJ0ID0gJGV2ZW50KSwKICAgICAgICAgIHR5cGU6ICJkYXRldGltZSIsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIumAieaLqeW8gOWni+aXtumXtCIsCiAgICAgICAgICBmb3JtYXQ6ICJZWVlZLU1NLUREIEhIOm1tIiwKICAgICAgICAgICJ2YWx1ZS1mb3JtYXQiOiAiWVlZWS1NTS1ERCBISDptbSIKICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIue7k+adn+aXtumXtCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kYXRlX3BpY2tlciwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmVkaXRpbmdFdmVudC5lbmQsCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs4XSB8fCAoX2NhY2hlWzhdID0gJGV2ZW50ID0+ICRzZXR1cC5lZGl0aW5nRXZlbnQuZW5kID0gJGV2ZW50KSwKICAgICAgICAgIHR5cGU6ICJkYXRldGltZSIsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIumAieaLqee7k+adn+aXtumXtCIsCiAgICAgICAgICBmb3JtYXQ6ICJZWVlZLU1NLUREIEhIOm1tIiwKICAgICAgICAgICJ2YWx1ZS1mb3JtYXQiOiAiWVlZWS1NTS1ERCBISDptbSIKICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuWcsOeCuSIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmVkaXRpbmdFdmVudC5sb2NhdGlvbiwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzldIHx8IChfY2FjaGVbOV0gPSAkZXZlbnQgPT4gJHNldHVwLmVkaXRpbmdFdmVudC5sb2NhdGlvbiA9ICRldmVudCksCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWcsOeCuSIKICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuexu+WeiyIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5lZGl0aW5nRXZlbnQudHlwZSwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzEwXSB8fCAoX2NhY2hlWzEwXSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdGluZ0V2ZW50LnR5cGUgPSAkZXZlbnQpLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fpgInmi6nml6XnqIvnsbvlnosiCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICBsYWJlbDogIuS8muiuriIsCiAgICAgICAgICAgIHZhbHVlOiAiYmx1ZSIKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgICAgbGFiZWw6ICLlh7rlt64iLAogICAgICAgICAgICB2YWx1ZTogIm9yYW5nZSIKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgICAgbGFiZWw6ICLlgYfmnJ8iLAogICAgICAgICAgICB2YWx1ZTogImdyZWVuIgogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICBsYWJlbDogIuaIquatouaXpeacnyIsCiAgICAgICAgICAgIHZhbHVlOiAicmVkIgogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICBsYWJlbDogIuWFtuS7liIsCiAgICAgICAgICAgIHZhbHVlOiAicHVycGxlIgogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDEKICAgICAgICB9LCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuaPkOmGkiIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5lZGl0aW5nRXZlbnQucmVtaW5kZXIsCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxMV0gfHwgKF9jYWNoZVsxMV0gPSAkZXZlbnQgPT4gJHNldHVwLmVkaXRpbmdFdmVudC5yZW1pbmRlciA9ICRldmVudCksCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+mAieaLqeaPkOmGkuaXtumXtCIKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgIGxhYmVsOiAi5LiN5o+Q6YaSIiwKICAgICAgICAgICAgdmFsdWU6ICJub25lIgogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICBsYWJlbDogIjEw5YiG6ZKf5YmNIiwKICAgICAgICAgICAgdmFsdWU6ICIxMG1pbiIKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgICAgbGFiZWw6ICIzMOWIhumSn+WJjSIsCiAgICAgICAgICAgIHZhbHVlOiAiMzBtaW4iCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgIGxhYmVsOiAiMeWwj+aXtuWJjSIsCiAgICAgICAgICAgIHZhbHVlOiAiMWhvdXIiCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgIGxhYmVsOiAiMeWkqeWJjSIsCiAgICAgICAgICAgIHZhbHVlOiAiMWRheSIKICAgICAgICAgIH0pXSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSwgOCwgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLlpIfms6giCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5lZGl0aW5nRXZlbnQuZGVzY3JpcHRpb24sCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxMl0gfHwgKF9jYWNoZVsxMl0gPSAkZXZlbnQgPT4gJHNldHVwLmVkaXRpbmdFdmVudC5kZXNjcmlwdGlvbiA9ICRldmVudCksCiAgICAgICAgICB0eXBlOiAidGV4dGFyZWEiLAogICAgICAgICAgcm93czogMywKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5aSH5rOo5L+h5oGvIgogICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgIF86IDEKICAgICAgfSldKSwKICAgICAgXzogMQogICAgfSwgOCwgWyJtb2RlbCJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pLAogICAgXzogMQogIH0sIDgsIFsibW9kZWxWYWx1ZSJdKV0pOwp9"},{"version":3,"names":["class","ref","viewBox","width","height","src","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","type","size","onClick","$setup","clearChat","_component_el_icon","_component_Delete","_hoisted_4","_hoisted_5","_Fragment","_renderList","messages","msg","idx","key","_normalizeClass","role","_hoisted_6","_cache","cx","cy","r","fill","x","y","dy","_hoisted_7","userAvatarUrl","alt","onError","args","handleAvatarError","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","content","innerHTML","streaming","_hoisted_13","source","_hoisted_14","_component_DataAnalysis","_hoisted_15","_component_Cpu","getCardClass","status","event_id","_hoisted_17","_createBlock","_resolveDynamicComponent","getCardIcon","_hoisted_18","_hoisted_19","getCardTitle","_hoisted_21","$event","editEvent","round","_component_EditPen","deleteEventFromCard","_hoisted_22","files","file","name","_hoisted_23","ext","_hoisted_24","_component_Document","_hoisted_25","_hoisted_26","_hoisted_27","toUpperCase","_hoisted_28","rightPanelCollapsed","_hoisted_29","_hoisted_30","_component_el_radio_group","chatMode","_component_el_radio_button","label","_component_MagicStick","circle","title","_component_Expand","_component_Fold","_hoisted_31","_hoisted_32","chatSessions","length","text","confirmClearAllHistory","_hoisted_33","session","index","id","chatId","switchChatSession","_hoisted_35","_component_ChatLineSquare","_hoisted_36","_hoisted_37","_hoisted_38","formatTime","created_at","_hoisted_39","_withModifiers","deleteSession","_hoisted_41","_hoisted_42","selectedFiles","_hoisted_43","_hoisted_44","startsWith","url","style","_normalizeStyle","background","bg","_hoisted_46","_hoisted_47","_hoisted_48","_component_el_progress","percentage","progress","_hoisted_49","_component_Check","removeFile","_component_Close","_hoisted_50","onChange","handleFileUpload","multiple","accept","_component_el_tooltip","placement","triggerFileInput","disabled","loading","_component_UploadFilled","_component_el_input","input","placeholder","onKeyup","_withKeys","sendMsg","processingFiles","_hoisted_51","searchMethod","_component_el_dialog","editEventDialogVisible","footer","_withCtx","_hoisted_52","saveEditEvent","editingEvent","_component_el_form","model","_component_el_form_item","_component_el_date_picker","start","format","end","location","_component_el_select","_component_el_option","value","reminder","description","rows"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"openwebui-chat-root\">\n    <div class=\"openwebui-chat-window\">\n      <div class=\"openwebui-chat-header\">\n        <span class=\"openwebui-title\">Êô∫ÊÖßÂäûÂÖ¨Âä©Êâã</span>\n        <el-button type=\"link\" size=\"small\" @click=\"clearChat\" class=\"clear-chat-btn\">\n          <el-icon><Delete /></el-icon> Êñ∞ÂØπËØù\n        </el-button>\n      </div>\n      \n      <div class=\"openwebui-chat-container\">\n        <div class=\"openwebui-chat-body\" ref=\"chatBody\">\n          <div v-for=\"(msg, idx) in messages\" :key=\"idx\" :class=\"['openwebui-msg', msg.role]\">\n            <template v-if=\"msg.role==='assistant'\">\n              <div class=\"openwebui-avatar ai-avatar left-avatar\">\n                <svg viewBox=\"0 0 40 40\" width=\"36\" height=\"36\"><circle cx=\"20\" cy=\"20\" r=\"20\" fill=\"#2f54eb\"/><text x=\"50%\" y=\"55%\" text-anchor=\"middle\" fill=\"#fff\" font-size=\"20\" font-family=\"Arial\" dy=\".3em\">ü§ñ</text></svg>\n              </div>\n            </template>\n            <template v-if=\"msg.role==='user'\">\n              <div class=\"openwebui-avatar user-avatar right-avatar\">\n                <img v-if=\"userAvatarUrl\" :src=\"userAvatarUrl\" class=\"user-avatar-img\" alt=\"Áî®Êà∑Â§¥ÂÉè\" @error=\"handleAvatarError\" />\n                <svg v-else viewBox=\"0 0 40 40\" width=\"36\" height=\"36\"><circle cx=\"20\" cy=\"20\" r=\"20\" fill=\"#bbb\"/><text x=\"50%\" y=\"55%\" text-anchor=\"middle\" fill=\"#fff\" font-size=\"20\" font-family=\"Arial\" dy=\".3em\">üßë</text></svg>\n              </div>\n            </template>\n            <div class=\"openwebui-msg-bubble\">\n              <template v-if=\"msg.type === 'text'\">\n                <span v-if=\"msg.role==='user'\">{{ msg.content }}</span>\n                <span v-else v-html=\"msg.content\"></span>\n                <span v-if=\"msg.streaming\" class=\"openwebui-cursor\"></span>\n                <div v-if=\"msg.source === 'knowledge_base' && msg.role === 'assistant'\" class=\"source-tag knowledge-base-tag\">\n                  <el-icon><DataAnalysis /></el-icon> Áü•ËØÜÂ∫ì\n                </div>\n                <div v-if=\"msg.source === 'general_ai' && msg.role === 'assistant'\" class=\"source-tag general-ai-tag\">\n                  <el-icon><Cpu /></el-icon> AIÂ§ßÊ®°Âûã\n                </div>\n              </template>\n              <!-- Âç°ÁâáÁ±ªÂûãÊ∂àÊÅØÊ∏≤ÊüìÔºàÂ∑≤‰øÆÊîπÔºâ -->\n              <template v-else-if=\"msg.type === 'card'\">\n                <div class=\"openwebui-card-message\" :class=\"getCardClass(msg.status)\" :data-event-id=\"msg.event_id\">\n                  <div class=\"card-icon-wrapper\">\n                    <el-icon><component :is=\"getCardIcon(msg.status)\" /></el-icon>\n                  </div>\n                  <div class=\"card-content-wrapper\">\n                    <div class=\"card-title\">{{ getCardTitle(msg.status) }}</div>\n                    <div class=\"card-body\" v-html=\"msg.content\"></div>\n                    <!-- Êñ∞Â¢ûÔºöÂç°ÁâáÊìç‰ΩúÊåâÈíÆ -->\n                    <div v-if=\"msg.status === 'success' && msg.event_id\" class=\"card-actions\">\n                        <el-button size=\"small\" @click=\"editEvent(msg)\" round>\n                          <el-icon><EditPen /></el-icon> ÁºñËæë\n                        </el-button>\n                        <el-button type=\"danger\" size=\"small\" @click=\"deleteEventFromCard(msg.event_id)\" round>\n                          <el-icon><Delete /></el-icon> Âà†Èô§\n                        </el-button>\n                    </div>\n                  </div>\n                </div>\n              </template>\n              <template v-else-if=\"msg.type === 'file'\">\n                <div class=\"file-bubble-nest file-bubble-vertical\">\n                  <div v-for=\"file in msg.files\" :key=\"file.name + file.size\" class=\"file-message-card\">\n                    <div class=\"file-icon-area\">\n                      <img v-if=\"file.ext==='csv'\" src=\"https://cdn.jsdelivr.net/gh/file-icons/icons/svg/csv.svg\" class=\"file-icon-img\" />\n                      <el-icon v-else><Document /></el-icon>\n                    </div>\n                    <div class=\"file-info-area\">\n                      <div class=\"file-name\">{{ file.name }}</div>\n                      <div class=\"file-meta\">{{ file.ext.toUpperCase() }} ¬∑ {{ file.size }}</div>\n                    </div>\n                  </div>\n                  <div class=\"file-desc-text\" v-if=\"msg.content\">{{ msg.content }}</div>\n                </div>\n              </template>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Âè≥‰æßÈù¢Êùø - ÂåÖÂê´Ê®°ÂºèÂàáÊç¢ÂíåÂéÜÂè≤ËÆ∞ÂΩï -->\n        <div class=\"openwebui-right-panel\" :class=\"{'collapsed': rightPanelCollapsed}\">\n          <div class=\"right-panel-header\">\n            <!-- Ê®°ÂºèÂàáÊç¢ÊåâÈíÆ -->\n            <div class=\"right-panel-mode-controls\">\n              <el-radio-group v-model=\"chatMode\" size=\"default\">\n                <el-radio-button label=\"agent\">\n                  <el-icon><MagicStick /></el-icon> AIÂä©Êâã\n                </el-radio-button>\n                <el-radio-button label=\"knowledge_base\">\n                  <el-icon><DataAnalysis /></el-icon> Áü•ËØÜÂ∫ì\n                </el-radio-button>\n              </el-radio-group>\n            </div>\n            \n            <!-- Â±ïÂºÄ/Êî∂Ëµ∑ÊåâÈíÆ -->\n            <el-button \n              circle\n              @click=\"rightPanelCollapsed = !rightPanelCollapsed\"\n              :title=\"rightPanelCollapsed ? 'Â±ïÂºÄ' : 'Êî∂Ëµ∑'\"\n              class=\"collapse-button\"\n            >\n              <el-icon :size=\"16\">\n                <Expand v-if=\"!rightPanelCollapsed\" />\n                <Fold v-else />\n              </el-icon>\n            </el-button>\n          </div>\n          \n          <!-- ÂéÜÂè≤ËÆ∞ÂΩïÂÜÖÂÆπ -->\n          <div class=\"history-container\">\n            <div class=\"history-header\">\n              <h3 class=\"history-title\">ÂéÜÂè≤ËÆ∞ÂΩï</h3>\n              <el-button \n                v-if=\"chatSessions.length > 0\"\n                text\n                size=\"small\" \n                class=\"clear-all-btn\"\n                @click=\"confirmClearAllHistory\"\n              >\n                Ê∏ÖÁ©∫\n              </el-button>\n            </div>\n            \n            <div class=\"history-list\">\n              <div \n                v-for=\"(session, index) in chatSessions\" \n                :key=\"session.id\"\n                class=\"history-item\"\n                :class=\"{'active': session.id === chatId}\"\n              >\n                <div class=\"history-item-content\" @click=\"switchChatSession(session.id)\">\n                  <div class=\"history-item-icon\">\n                    <el-icon><ChatLineSquare /></el-icon>\n                  </div>\n                  <div class=\"history-item-info\">\n                    <div class=\"history-item-title\">{{ session.title || `ÂØπËØù ${index + 1}` }}</div>\n                    <div class=\"history-item-time\">{{ formatTime(session.created_at) }}</div>\n                  </div>\n                </div>\n                <div class=\"history-item-actions\">\n                  <div class=\"delete-btn-wrapper\" @click.stop=\"deleteSession(session.id)\">\n                    <el-icon class=\"delete-icon\"><Delete /></el-icon>\n                  </div>\n                </div>\n              </div>\n              <div v-if=\"chatSessions.length === 0\" class=\"history-empty\">\n                ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"openwebui-chat-footer\">\n        <!-- È¢ÑËßàÂå∫ÊîæÂú®footerÈ°∂ÈÉ® -->\n        <div v-if=\"selectedFiles.length\" class=\"openwebui-file-preview-bar\">\n          <div v-for=\"(file, idx) in selectedFiles\" :key=\"file.id\" class=\"openwebui-file-card\">\n            <div class=\"openwebui-file-thumb\">\n              <img v-if=\"file.type.startsWith('image/')\" :src=\"file.url\" class=\"openwebui-file-img\" />\n              <div v-else class=\"openwebui-file-icon\" :style=\"{background: file.bg}\">\n                <el-icon v-if=\"file.ext==='pdf'\"><Document /></el-icon>\n                <el-icon v-else-if=\"file.ext==='csv' || file.ext==='xls' || file.ext==='xlsx'\"><Document /></el-icon>\n                <el-icon v-else><Document /></el-icon>\n              </div>\n            </div>\n            <div class=\"openwebui-file-info\">\n              <div class=\"openwebui-file-name\" :title=\"file.name\">{{ file.name }}</div>\n              <div class=\"openwebui-file-meta\">{{ file.label }} ¬∑ {{ file.size }}</div>\n              <!-- Ê∑ªÂä†ËøõÂ∫¶Êù°ÊòæÁ§∫ -->\n              <el-progress \n                v-if=\"file.status !== 'completed'\" \n                :percentage=\"file.progress\" \n                :status=\"file.status === 'failed' ? 'exception' : ''\" \n                :stroke-width=\"4\"\n                class=\"openwebui-file-progress\" />\n              <div v-else class=\"openwebui-file-status completed\">\n                <el-icon><Check /></el-icon> Â§ÑÁêÜÂÆåÊàê\n              </div>\n            </div>\n            <el-icon class=\"openwebui-file-remove\" @click=\"removeFile(idx)\"><Close /></el-icon>\n          </div>\n        </div>\n        <!-- ËæìÂÖ•Âå∫ -->\n        <div class=\"openwebui-input-area\">\n          <input type=\"file\" ref=\"fileInput\" style=\"display:none\" @change=\"handleFileUpload\" multiple \n               accept=\".txt,.pdf,.doc,.docx,.md,.xls,.xlsx,.csv,.jpg,.jpeg,.png,.gif,.bmp,.webp,.svg,.tiff\" />\n          <el-tooltip\n            content=\"ÊñáÊ°£: txt, pdf, doc, docx, md&#10;Ë°®Ê†º: xls, xlsx, csv&#10;ÂõæÁâá: jpg, jpeg, png, gif, bmp, webp, svg, tiff\"\n            placement=\"top\"\n            popper-class=\"openwebui-upload-tooltip\"\n            :open-delay=\"200\"\n          >\n            <el-button class=\"openwebui-upload-btn\" @click=\"triggerFileInput\" title=\"‰∏ä‰º†Êñá‰ª∂/ÂõæÁâá\" :disabled=\"loading\">\n              <el-icon><UploadFilled /></el-icon>\n            </el-button>\n          </el-tooltip>\n          <el-input\n            v-model=\"input\"\n            placeholder=\"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈóÆÈ¢ò...\"\n            @keyup.enter=\"sendMsg\"\n            class=\"openwebui-input\"\n            :disabled=\"loading || processingFiles\"\n          />\n          <el-button type=\"primary\" @click=\"sendMsg\" class=\"openwebui-send-btn\" :loading=\"loading\" :disabled=\"processingFiles\">\n            {{ loading ? 'ÁîüÊàê‰∏≠' : (processingFiles ? 'Â§ÑÁêÜ‰∏≠' : 'ÂèëÈÄÅ') }}\n          </el-button>\n        </div>\n        <div class=\"openwebui-options-area\" v-if=\"chatMode === 'knowledge_base'\">\n            <el-radio-group v-model=\"searchMethod\" size=\"small\">\n              <el-radio-button label=\"basic\">Âü∫Á°ÄÊ£ÄÁ¥¢</el-radio-button>\n              <el-radio-button label=\"local\">Â§çÊùÇÊ£ÄÁ¥¢</el-radio-button>\n            </el-radio-group>\n        </div>\n        <div class=\"openwebui-footer-hint\">\n          ÊîØÊåÅÊñáÊ°£„ÄÅË°®Ê†º„ÄÅÂõæÁâáÁ≠âÂ§öÁßçÊ†ºÂºèÊñá‰ª∂\n        </div>\n      </div>\n    </div>\n\n    <!-- Êñ∞Â¢ûÔºöÁºñËæëÊó•Á®ãÂØπËØùÊ°Ü -->\n    <el-dialog\n      v-model=\"editEventDialogVisible\"\n      title=\"ÁºñËæëÊó•Á®ã\"\n      width=\"500px\"\n      class=\"calendar-dialog\"\n      :append-to-body=\"true\"\n      :destroy-on-close=\"true\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form :model=\"editingEvent\" label-width=\"80px\" v-if=\"editingEvent\">\n        <el-form-item label=\"Ê†áÈ¢ò\">\n          <el-input v-model=\"editingEvent.title\" placeholder=\"ËØ∑ËæìÂÖ•Êó•Á®ãÊ†áÈ¢ò\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"ÂºÄÂßãÊó∂Èó¥\">\n          <el-date-picker\n            v-model=\"editingEvent.start\"\n            type=\"datetime\"\n            placeholder=\"ÈÄâÊã©ÂºÄÂßãÊó∂Èó¥\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"ÁªìÊùüÊó∂Èó¥\">\n          <el-date-picker\n            v-model=\"editingEvent.end\"\n            type=\"datetime\"\n            placeholder=\"ÈÄâÊã©ÁªìÊùüÊó∂Èó¥\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"Âú∞ÁÇπ\">\n          <el-input v-model=\"editingEvent.location\" placeholder=\"ËØ∑ËæìÂÖ•Âú∞ÁÇπ\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Á±ªÂûã\">\n          <el-select v-model=\"editingEvent.type\" placeholder=\"ËØ∑ÈÄâÊã©Êó•Á®ãÁ±ªÂûã\">\n            <el-option label=\"‰ºöËÆÆ\" value=\"blue\"></el-option>\n            <el-option label=\"Âá∫Â∑Æ\" value=\"orange\"></el-option>\n            <el-option label=\"ÂÅáÊúü\" value=\"green\"></el-option>\n            <el-option label=\"Êà™Ê≠¢Êó•Êúü\" value=\"red\"></el-option>\n            <el-option label=\"ÂÖ∂‰ªñ\" value=\"purple\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"ÊèêÈÜí\">\n          <el-select v-model=\"editingEvent.reminder\" placeholder=\"ËØ∑ÈÄâÊã©ÊèêÈÜíÊó∂Èó¥\">\n            <el-option label=\"‰∏çÊèêÈÜí\" value=\"none\"></el-option>\n            <el-option label=\"10ÂàÜÈíüÂâç\" value=\"10min\"></el-option>\n            <el-option label=\"30ÂàÜÈíüÂâç\" value=\"30min\"></el-option>\n            <el-option label=\"1Â∞èÊó∂Ââç\" value=\"1hour\"></el-option>\n            <el-option label=\"1Â§©Ââç\" value=\"1day\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Â§áÊ≥®\">\n          <el-input \n            v-model=\"editingEvent.description\" \n            type=\"textarea\" \n            :rows=\"3\"\n            placeholder=\"ËØ∑ËæìÂÖ•Â§áÊ≥®‰ø°ÊÅØ\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"editEventDialogVisible = false\">ÂèñÊ∂à</el-button>\n          <el-button type=\"primary\" @click=\"saveEditEvent\">Á°ÆÂÆö</el-button>\n        </div>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, nextTick, computed, onMounted, watch } from 'vue'\nimport { UploadFilled, Document, Close, Check, Delete, DataAnalysis, Cpu, MagicStick, ChatLineSquare, Fold, Expand, \n  Calendar, ChatDotRound, Collection, DocumentCopy, Grid, Connection, CircleCheckFilled, InfoFilled, CircleCloseFilled, WarningFilled, EditPen } from '@element-plus/icons-vue'\nimport request from '@/utils/request'\nimport { marked } from 'marked'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { aiChatWithDocumentsStream, getAIChatSessions, getAIChatSession, deleteAIChatSession } from '@/api/ai'\nimport { deleteCalendarEvent } from '@/api/calendar' // Êñ∞Â¢ûÂØºÂÖ•\nimport { getCurrentInstance } from 'vue';\nimport { getCalendarEvent, updateEvent } from '@/api/calendar' // Êñ∞Â¢ûÂØºÂÖ•\n\nfunction formatSize(size) {\n  if (size < 1024) return size + 'B';\n  if (size < 1024*1024) return (size/1024).toFixed(1) + 'KB';\n  return (size/1024/1024).toFixed(1) + 'MB';\n}\nfunction getExt(name) {\n  const arr = name.split('.');\n  return arr.length > 1 ? arr[arr.length-1].toLowerCase() : '';\n}\nfunction getFileLabel(type, ext) {\n  const ext_lower = ext.toLowerCase();\n  if (type.startsWith('image/')) return 'ÂõæÁâá';\n  if (ext_lower === 'pdf') return 'PDF';\n  if (['csv','xls','xlsx'].includes(ext_lower)) return 'Ë°®Ê†º';\n  if (['doc','docx'].includes(ext_lower)) return 'ÊñáÊ°£';\n  if (ext_lower === 'md') return 'Markdown';\n  if (ext_lower === 'txt') return 'ÊñáÊú¨';\n  return ext_lower.toUpperCase();\n}\nfunction getFileBg(ext) {\n  const ext_lower = ext.toLowerCase();\n  if (ext_lower === 'pdf') return '#f87171'; // Á∫¢Ëâ≤\n  if (['csv','xls','xlsx'].includes(ext_lower)) return '#34d399'; // ÁªøËâ≤\n  if (['doc','docx'].includes(ext_lower)) return '#60a5fa'; // ËìùËâ≤\n  if (ext_lower === 'md') return '#a78bfa'; // Á¥´Ëâ≤\n  if (ext_lower === 'txt') return '#fbbf24'; // ÈªÑËâ≤\n  return '#a5b4fc'; // ÈªòËÆ§Ê∑°Á¥´Ëâ≤\n}\nfunction escapeHtml(html) {\n  return html.replace(/[&<>\"']/g, function(m) {\n    return ({\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    })[m];\n  });\n}\n\n// Ê†ºÂºèÂåñÊó•ÊúüÊó∂Èó¥\nfunction formatTime(dateTimeStr) {\n  if (!dateTimeStr) return '';\n  const date = new Date(dateTimeStr);\n  return `${date.getMonth() + 1}Êúà${date.getDate()}Êó• ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n}\n\nexport default {\n  name: 'Dashboard',\n  components: {\n    UploadFilled, Document, Close, Check, Delete, DataAnalysis, Cpu, MagicStick, ChatLineSquare, Fold, Expand,\n    Calendar, ChatDotRound, Collection, DocumentCopy, Grid, Connection, CircleCheckFilled, InfoFilled, CircleCloseFilled, WarningFilled, EditPen\n  },\n  setup() {\n    const { proxy } = getCurrentInstance();\n    const userAvatarUrl = ref(proxy.$store.state.user.avatar)\n    const handleAvatarError = () => {\n      userAvatarUrl.value = ''; // Âä†ËΩΩÂ§±Ë¥•Êó∂Ê∏ÖÁ©∫Ôºå‰ºöÊòæÁ§∫ÈªòËÆ§SVG\n    };\n    \n    const input = ref('')\n    const messages = ref([\n      { \n        role: 'assistant', \n        content: `<div class=\"welcome-message\">\n          <h3>Ê¨¢ËøéÊù•Âà∞Êô∫Ë°åËàüÂπ≥Âè∞</h3>\n          <div class=\"platform-intro\">\n            <p>Êô∫Ë°åËàüÂπ≥Âè∞ÊòØ‰∏ÄÁ´ôÂºèÂçè‰ΩúÂäûÂÖ¨Ëß£ÂÜ≥ÊñπÊ°àÔºåÈõÜÈ°πÁõÆÁÆ°ÁêÜ„ÄÅÊñáÊ°£Âçè‰Ωú„ÄÅÊó•Á®ãÂÆâÊéí„ÄÅÂç≥Êó∂Ê≤üÈÄö‰∫é‰∏Ä‰Ωì„ÄÇÊú¨Âπ≥Âè∞ÈÄöËøáÊï¥ÂêàÂÖàËøõÁöÑAIÊäÄÊúØ‰∏é‰º†ÁªüÂäûÂÖ¨ÊµÅÁ®ãÔºå‰∏∫‰ºÅ‰∏öÊèê‰æõÂÖ®Êñπ‰ΩçÁöÑÊô∫ËÉΩÂåñÂäûÂÖ¨‰ΩìÈ™åÔºåÂÆûÁé∞‰ª•‰∏ãÊ†∏ÂøÉ‰ºòÂäøÔºö</p>\n            \n            <ul class=\"platform-features\">\n              <li><span class=\"feature-highlight\">Êô∫ËÉΩÂÜ≥Á≠ñÊîØÊåÅ</span> - Âü∫‰∫éÂ§ßÊï∞ÊçÆÂàÜÊûêÂíåÊú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÔºåÂØπ‰∏öÂä°Êï∞ÊçÆËøõË°åÊ∑±Â∫¶ÊåñÊéòÔºå‰∏∫ÁÆ°ÁêÜÂ±ÇÊèê‰æõÁ≤æÂáÜÁöÑÂÜ≥Á≠ñ‰æùÊçÆ</li>\n              <li><span class=\"feature-highlight\">È´òÊïàÂçèÂêåÂ∑•‰Ωú</span> - ÊâìÁ†¥ÈÉ®Èó®Â£ÅÂûíÔºåÂÆûÁé∞‰ø°ÊÅØÂÖ±‰∫´ÂíåÊó†ÁºùÂçè‰ΩúÔºåÊòæËëóÊèêÂçáÂõ¢ÈòüÊï¥‰ΩìÂ∑•‰ΩúÊïàÁéá</li>\n              <li><span class=\"feature-highlight\">Ëá™Âä®ÂåñÂ∑•‰ΩúÊµÅ</span> - ÁÆÄÂåñÁπÅÁêêÊµÅÁ®ãÔºåÂáèÂ∞ëÊâãÂä®Êìç‰ΩúÔºåËÆ©ÂëòÂ∑•‰∏ìÊ≥®‰∫éÊõ¥ÂÖ∑ÂàõÈÄ†ÊÄßÂíå‰ª∑ÂÄºÁöÑÂ∑•‰ΩúÂÜÖÂÆπ</li>\n              <li><span class=\"feature-highlight\">ÂÆâÂÖ®ÂèØÈù†‰øùÈöú</span> - ÈááÁî®Â§öÂ±ÇÊ¨°ÂÆâÂÖ®Èò≤Êä§Êú∫Âà∂ÔºåÁ°Æ‰øù‰ºÅ‰∏öÊï∞ÊçÆÂÆâÂÖ®Âíå‰ø°ÊÅØ‰øùÂØÜ</li>\n            </ul>\n            \n            <p>ÈÄöËøáÊô∫Ë°åËàüÂπ≥Âè∞Ôºå‰ºÅ‰∏öÂèØ‰ª•ÊûÑÂª∫Êõ¥Âä†ÊïèÊç∑„ÄÅÈ´òÊïà„ÄÅÊô∫ËÉΩÁöÑÁé∞‰ª£ÂåñÂäûÂÖ¨ÁéØÂ¢ÉÔºåÂÖ®Èù¢ÊèêÂçáÁªÑÁªáËøêËê•ÊïàËÉΩÂíåÂëòÂ∑•Â∑•‰Ωú‰ΩìÈ™å„ÄÇ</p>\n          </div>\n          <p>ÈÄâÊã©‰ª•‰∏ãÂäüËÉΩÊ®°ÂùóÔºåÊàñÁõ¥Êé•ÂêëÊàëÊèêÈóÆÔºåÊàëÂ∞Ü‰∏∫ÊÇ®Êèê‰æõÊô∫ËÉΩÂä©ÊâãÊúçÂä°„ÄÇ</p>\n          <div class=\"quick-nav-cards\">\n            <div class=\"nav-card\" onclick=\"window.location.href='/project'\">\n              <div class=\"nav-card-icon\">\n                <i class=\"bi bi-kanban\"></i>\n              </div>\n              <div class=\"nav-card-content\">\n                <div class=\"nav-card-title\">È°πÁõÆÂçè‰Ωú</div>\n                <div class=\"nav-card-desc\">‰ªªÂä°ÂàÜÈÖç„ÄÅËøõÂ∫¶Ë∑üË∏™„ÄÅÂõ¢ÈòüÂçè‰Ωú</div>\n              </div>\n              <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n            </div>\n            <div class=\"nav-card\" onclick=\"window.location.href='/calendar'\">\n              <div class=\"nav-card-icon\">\n                <i class=\"bi bi-calendar-week\"></i>\n              </div>\n              <div class=\"nav-card-content\">\n                <div class=\"nav-card-title\">Êó•Á®ãÂÆâÊéí</div>\n                <div class=\"nav-card-desc\">‰ºöËÆÆÈ¢ÑÁ∫¶„ÄÅÊó•Á®ãÊèêÈÜí„ÄÅÊó∂Èó¥ÁÆ°ÁêÜ</div>\n              </div>\n              <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n            </div>\n            <div class=\"nav-card\" onclick=\"window.location.href='/chat'\">\n              <div class=\"nav-card-icon\">\n                <i class=\"bi bi-chat-dots\"></i>\n              </div>\n              <div class=\"nav-card-content\">\n                <div class=\"nav-card-title\">Âç≥Êó∂Ê≤üÈÄö</div>\n                <div class=\"nav-card-desc\">Âõ¢ÈòüËÅäÂ§©„ÄÅËßÜÈ¢ë‰ºöËÆÆ„ÄÅÊ∂àÊÅØÈÄöÁü•</div>\n              </div>\n              <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n            </div>\n            <div class=\"nav-card\" onclick=\"window.location.href='/smartdoc'\">\n              <div class=\"nav-card-icon\">\n                <i class=\"bi bi-file-earmark-text\"></i>\n              </div>\n              <div class=\"nav-card-content\">\n                <div class=\"nav-card-title\">ÊñáÊ°£Â§ÑÁêÜ</div>\n                <div class=\"nav-card-desc\">Êô∫ËÉΩÂàõÂª∫„ÄÅÁºñËæë„ÄÅÁÆ°ÁêÜÂêÑÁ±ªÊñáÊ°£</div>\n              </div>\n              <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n            </div>\n            <div class=\"nav-card\" onclick=\"window.location.href='/knowledge'\">\n              <div class=\"nav-card-icon\">\n                <i class=\"bi bi-book\"></i>\n              </div>\n              <div class=\"nav-card-content\">\n                <div class=\"nav-card-title\">Áü•ËØÜÂ∫ì</div>\n                <div class=\"nav-card-desc\">Âõ¢ÈòüÁü•ËØÜÂÖ±‰∫´„ÄÅÊ£ÄÁ¥¢„ÄÅÂ≠òÂÇ®Âπ≥Âè∞</div>\n              </div>\n              <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n            </div>\n            <div class=\"nav-card\" onclick=\"window.location.href='/contract'\">\n              <div class=\"nav-card-icon\">\n                <i class=\"bi bi-file-earmark-ruled\"></i>\n              </div>\n              <div class=\"nav-card-content\">\n                <div class=\"nav-card-title\">Êô∫ËÉΩÂêàÂêå</div>\n                <div class=\"nav-card-desc\">ÂêàÂêåÁîüÊàê„ÄÅÂÆ°Ê†∏„ÄÅÁ≠æÁΩ≤ÂíåÁÆ°ÁêÜ</div>\n              </div>\n              <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n            </div>\n          </div>\n        </div>`, \n        rawContent: 'ÊÇ®Â•ΩÔºåÊàëÊòØÊÇ®ÁöÑAIÂä©ÊâãÔºåÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÊÇ®Ôºü',\n        type: 'text' \n      }\n    ])\n    const chatBody = ref(null)\n    const fileInput = ref(null)\n    const selectedFiles = ref([])\n    const loading = ref(false)\n    const processingFiles = computed(() => {\n      return selectedFiles.value.some(file => file.status !== 'completed' && file.status !== 'failed');\n    })\n    const chatId = ref(null) // Â≠òÂÇ®ÂΩìÂâçËÅäÂ§©IDÔºåÁî®‰∫éÁª¥ÊåÅÂØπËØù‰∏ä‰∏ãÊñá\n    const showContextBar = computed(() => chatId.value !== null)\n    const searchMethod = ref('basic') // Êñ∞Â¢ûÔºöÊêúÁ¥¢ÊñπÊ≥ï, ÈªòËÆ§‰∏∫basic\n    const chatMode = ref('agent') // agent Êàñ knowledge_base\n    const retrievalScope = ref('local') // 'local' Êàñ 'basic'\n    \n    // Ê∑ªÂä†ÂèòÈáèÊù•Â≠òÂÇ®ÂΩìÂâçËØ∑Ê±ÇÁöÑÊéßÂà∂Âô®\n    const currentRequestController = ref(null);\n    \n    // Âè≥‰æßÈù¢ÊùøÁõ∏ÂÖ≥Áä∂ÊÄÅ\n    const rightPanelCollapsed = ref(false);\n    const chatSessions = ref([]);\n    \n    // ÁºñËæëÂØπËØùÊ°ÜÁõ∏ÂÖ≥Áä∂ÊÄÅ\n    const editEventDialogVisible = ref(false);\n    const editingEvent = ref(null);\n    const currentEditingMessage = ref(null);\n    \n    // Ëé∑Âèñ emitter ÂÆû‰æã\n    const emitter = proxy.emitter;\n    \n    // Ëé∑ÂèñËÅäÂ§©‰ºöËØùÂàóË°®\n    const fetchChatSessions = async () => {\n      try {\n        const res = await getAIChatSessions();\n        if (res.data && Array.isArray(res.data)) {\n          chatSessions.value = res.data;\n        } else if (res.data && res.data.results && Array.isArray(res.data.results)) {\n          chatSessions.value = res.data.results;\n        }\n        return chatSessions.value;\n      } catch (error) {\n        console.error('Ëé∑ÂèñËÅäÂ§©‰ºöËØùÂàóË°®Â§±Ë¥•:', error);\n        chatSessions.value = [];\n        return [];\n      }\n    };\n    \n    // ÂàáÊç¢ËÅäÂ§©‰ºöËØù\n    const switchChatSession = async (sessionId) => {\n      if (sessionId === chatId.value) return;\n      \n      try {\n        loading.value = true;\n        const res = await getAIChatSession(sessionId);\n        if (res.data) {\n          chatId.value = sessionId;\n          // Âä†ËΩΩËÅäÂ§©ÂéÜÂè≤\n          if (res.data.messages && Array.isArray(res.data.messages)) {\n            messages.value = res.data.messages.map(msg => {\n              return {\n                role: msg.role,\n                content: msg.content,\n                rawContent: msg.content,\n                type: msg.type || 'text',\n                source: msg.role === 'user' ? '' : (msg.source || (msg.role === 'assistant' ? 'general_ai' : '')) // Á°Æ‰øùÁî®Êà∑Ê∂àÊÅØÊ≤°ÊúâsourceÂ±ûÊÄß\n              }\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñËÅäÂ§©‰ºöËØùËØ¶ÊÉÖÂ§±Ë¥•:', error);\n        ElMessage.error('ÂàáÊç¢ËÅäÂ§©‰ºöËØùÂ§±Ë¥•');\n        \n        // Â¶ÇÊûúÂàáÊç¢Â§±Ë¥•ÔºåÊ£ÄÊü•ÂΩìÂâç‰ºöËØùÂàóË°®‰∏≠ÊòØÂê¶ËøòÊúâËøô‰∏™‰ºöËØù\n        const sessionExists = chatSessions.value.some(session => session.id === sessionId);\n        if (!sessionExists) {\n          // Â¶ÇÊûú‰ºöËØùÂ∑≤‰∏çÂ≠òÂú®ÔºåÂ∞ùËØïÂàáÊç¢Âà∞Á¨¨‰∏Ä‰∏™ÂèØÁî®‰ºöËØùÊàñÂàõÂª∫Êñ∞‰ºöËØù\n          if (chatSessions.value.length > 0) {\n            await switchChatSession(chatSessions.value[0].id);\n          } else {\n            clearChat();\n          }\n        }\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // ÁõëÂê¨ËÅäÂ§©IDÂèòÂåñÔºåÊõ¥Êñ∞‰ºöËØùÂàóË°®\n    watch(chatId, (newChatId) => {\n      if (newChatId) {\n        fetchChatSessions();\n      }\n    });\n\n    // Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\n    const getUserInfo = async () => {\n      try {\n        const res = await request({\n          url: '/api/auth/users/me/',\n          method: 'get'\n        })\n        console.log('Áî®Êà∑‰ø°ÊÅØÂÆåÊï¥ÂìçÂ∫î:', res)\n\n        // Â∞ùËØï‰ªéÂìçÂ∫îÁöÑ‰∏çÂêå‰ΩçÁΩÆËé∑ÂèñÂ§¥ÂÉèURL\n        let avatarUrl = null\n        if (res.data && res.data.data && res.data.data.avatar) {\n          avatarUrl = res.data.data.avatar\n        } else if (res.data && res.data.avatar) {\n          avatarUrl = res.data.avatar\n        } else if (res.data) {\n          // ÈÅçÂéÜres.dataÊü•ÊâæavatarÂ≠óÊÆµ\n          const findAvatar = (obj) => {\n            if (!obj || typeof obj !== 'object') return null\n            \n            if ('avatar' in obj) return obj.avatar\n            \n            // ÈÄíÂΩíÊêúÁ¥¢ÊâÄÊúâÂ≠êÂØπË±°\n            for (const key in obj) {\n              if (typeof obj[key] === 'object') {\n                const result = findAvatar(obj[key])\n                if (result) return result\n              }\n            }\n            return null\n          }\n          \n          avatarUrl = findAvatar(res.data)\n        }\n\n        console.log('ÊâæÂà∞ÁöÑÂ§¥ÂÉèURL:', avatarUrl)\n        \n        if (avatarUrl) {\n          // Â¶ÇÊûúÊòØÁõ∏ÂØπË∑ØÂæÑÔºåÊ∑ªÂä†Âü∫Á°ÄURL\n          if (!avatarUrl.startsWith('http') && !avatarUrl.startsWith('data:')) {\n            // Á°Æ‰øùÂ™í‰ΩìURLÊ≠£Á°ÆÊãºÊé•\n            const baseUrl = window.location.origin\n            if (avatarUrl.startsWith('/')) {\n              userAvatarUrl.value = `${baseUrl}${avatarUrl}`\n            } else {\n              userAvatarUrl.value = `${baseUrl}/${avatarUrl}`\n            }\n          } else {\n            userAvatarUrl.value = avatarUrl\n          }\n          console.log('Â§ÑÁêÜÂêéÁöÑÁî®Êà∑Â§¥ÂÉèURL:', userAvatarUrl.value)\n        } else {\n          console.log('Áî®Êà∑‰ø°ÊÅØ‰∏≠Ê≤°ÊúâÊâæÂà∞Â§¥ÂÉè:', res.data)\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•:', error)\n      }\n    }\n    \n    const scrollToBottom = () => {\n      nextTick(() => {\n        if (chatBody.value) chatBody.value.scrollTop = chatBody.value.scrollHeight\n      })\n    }\n    \n    const uploadFileAndGetId = async (file) => {\n      const formData = new FormData()\n      formData.append('file', file.rawFile)\n      try {\n        // Ê†áËÆ∞Êñá‰ª∂‰∏∫‰∏ä‰º†‰∏≠\n        file.progress = 0;\n        file.status = 'pending';\n        let smoothTimer = null;\n        let lastProgress = 0;\n        let uploadFinished = false;\n        const res = await request({\n          url: '/api/ai/documents/upload/',\n          method: 'post',\n          data: formData,\n          onUploadProgress: (progressEvent) => {\n            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n            if (percentCompleted < 100) {\n              file.progress = percentCompleted;\n              lastProgress = percentCompleted;\n            } else {\n              // ‰∏ä‰º†Áû¨Èó¥ÂÆåÊàêÔºåÂπ≥ÊªëÈÄíÂ¢ûÂà∞95%\n              if (!uploadFinished) {\n                uploadFinished = true;\n                let fakeProgress = lastProgress;\n                smoothTimer = setInterval(() => {\n                  fakeProgress += 3;\n                  if (fakeProgress >= 95) {\n                    fakeProgress = 95;\n                    clearInterval(smoothTimer);\n                  }\n                  file.progress = fakeProgress;\n                }, 20);\n              }\n            }\n          }\n        })\n        // ‰∏ä‰º†ÂÆåÊàêÂêéÔºåÁä∂ÊÄÅÊîπ‰∏∫Â§ÑÁêÜ‰∏≠Ôºå‰∏çÈáçÁΩÆËøõÂ∫¶Êù°\n        if (smoothTimer) clearInterval(smoothTimer);\n        if (file.progress < 95) file.progress = 95;\n        file.status = 'processing';\n        file.documentId = res.data.id;\n        pollDocumentStatus(file);\n        return res.data.id;\n      } catch (error) {\n        file.status = 'failed';\n        console.error('Êñá‰ª∂‰∏ä‰º†Â§±Ë¥•:', error);\n        throw new Error(`‰∏ä‰º†Êñá‰ª∂ ${file.name} Â§±Ë¥•: ${error.message || 'ÊúçÂä°Âô®ÈîôËØØ'}`);\n      }\n    }\n    \n    // ËΩÆËØ¢ÊñáÊ°£Â§ÑÁêÜÁä∂ÊÄÅ\n    const pollDocumentStatus = async (file, interval = 1000) => {\n      if (!file.documentId) return;\n      \n      try {\n        const res = await request({\n          url: `/api/ai/documents/${file.documentId}/`,\n          method: 'get'\n        });\n        \n        if (res.data.status === 'completed') {\n          file.progress = 100;\n          file.status = 'completed';\n          return;\n        } else if (res.data.status === 'failed') {\n          file.status = 'failed';\n          file.progress = 0;\n          return;\n        } else if (res.data.status === 'processing') {\n          // Â§ÑÁêÜ‰∏≠ÔºåÂ¢ûÂä†ËøõÂ∫¶Ôºà‰ªÖÂú®Â∞è‰∫é95Êó∂ÈÄíÂ¢ûÔºâ\n          if (file.progress < 95) {\n            file.progress = Math.min(file.progress + 5, 95);\n          }\n        }\n        \n        // ÁªßÁª≠ËΩÆËØ¢\n        setTimeout(() => pollDocumentStatus(file, interval), interval);\n      } catch (e) {\n        // Âá∫ÈîôÊó∂ÔºåÁªßÁª≠ËΩÆËØ¢Ôºå‰ΩÜ‰∏çÊõ¥Êñ∞ËøõÂ∫¶\n        setTimeout(() => pollDocumentStatus(file, interval), interval);\n      }\n    }\n    \n    const clearChat = () => {\n      // Ê∏ÖÁ©∫ÂØπËØùÂéÜÂè≤ÔºåÂºÄÂßãÊñ∞ÁöÑÂØπËØù\n      chatId.value = null;\n      \n      // ÈáçÁΩÆÊ∂àÊÅØÂàóË°®ÔºåÂè™‰øùÁïôÊ¨¢ËøéÊ∂àÊÅØ\n      messages.value = [\n        { \n          role: 'assistant', \n          content: `<div class=\"welcome-message\">\n            <h3>Ê¨¢ËøéÊù•Âà∞Êô∫ÊÖßÂäûÂÖ¨Âπ≥Âè∞</h3>\n            <div class=\"platform-intro\">\n              <p>Êô∫ÊÖßÂäûÂÖ¨Âπ≥Âè∞ÊòØ‰∏ÄÁ´ôÂºèÂçè‰ΩúÂäûÂÖ¨Ëß£ÂÜ≥ÊñπÊ°àÔºåÈõÜÈ°πÁõÆÁÆ°ÁêÜ„ÄÅÊñáÊ°£Âçè‰Ωú„ÄÅÊó•Á®ãÂÆâÊéí„ÄÅÂç≥Êó∂Ê≤üÈÄö‰∫é‰∏Ä‰Ωì„ÄÇÊú¨Âπ≥Âè∞ÈÄöËøáÊï¥ÂêàÂÖàËøõÁöÑAIÊäÄÊúØ‰∏é‰º†ÁªüÂäûÂÖ¨ÊµÅÁ®ãÔºå‰∏∫‰ºÅ‰∏öÊèê‰æõÂÖ®Êñπ‰ΩçÁöÑÊô∫ËÉΩÂåñÂäûÂÖ¨‰ΩìÈ™åÔºåÂÆûÁé∞‰ª•‰∏ãÊ†∏ÂøÉ‰ºòÂäøÔºö</p>\n              \n              <ul class=\"platform-features\">\n                <li><span class=\"feature-highlight\">Êô∫ËÉΩÂÜ≥Á≠ñÊîØÊåÅ</span> - Âü∫‰∫éÂ§ßÊï∞ÊçÆÂàÜÊûêÂíåÊú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÔºåÂØπ‰∏öÂä°Êï∞ÊçÆËøõË°åÊ∑±Â∫¶ÊåñÊéòÔºå‰∏∫ÁÆ°ÁêÜÂ±ÇÊèê‰æõÁ≤æÂáÜÁöÑÂÜ≥Á≠ñ‰æùÊçÆ</li>\n                <li><span class=\"feature-highlight\">È´òÊïàÂçèÂêåÂ∑•‰Ωú</span> - ÊâìÁ†¥ÈÉ®Èó®Â£ÅÂûíÔºåÂÆûÁé∞‰ø°ÊÅØÂÖ±‰∫´ÂíåÊó†ÁºùÂçè‰ΩúÔºåÊòæËëóÊèêÂçáÂõ¢ÈòüÊï¥‰ΩìÂ∑•‰ΩúÊïàÁéá</li>\n                <li><span class=\"feature-highlight\">Ëá™Âä®ÂåñÂ∑•‰ΩúÊµÅ</span> - ÁÆÄÂåñÁπÅÁêêÊµÅÁ®ãÔºåÂáèÂ∞ëÊâãÂä®Êìç‰ΩúÔºåËÆ©ÂëòÂ∑•‰∏ìÊ≥®‰∫éÊõ¥ÂÖ∑ÂàõÈÄ†ÊÄßÂíå‰ª∑ÂÄºÁöÑÂ∑•‰ΩúÂÜÖÂÆπ</li>\n                <li><span class=\"feature-highlight\">ÂÆâÂÖ®ÂèØÈù†‰øùÈöú</span> - ÈááÁî®Â§öÂ±ÇÊ¨°ÂÆâÂÖ®Èò≤Êä§Êú∫Âà∂ÔºåÁ°Æ‰øù‰ºÅ‰∏öÊï∞ÊçÆÂÆâÂÖ®Âíå‰ø°ÊÅØ‰øùÂØÜ</li>\n              </ul>\n              \n              <p>ÈÄöËøáÊô∫ÊÖßÂäûÂÖ¨Âπ≥Âè∞Ôºå‰ºÅ‰∏öÂèØ‰ª•ÊûÑÂª∫Êõ¥Âä†ÊïèÊç∑„ÄÅÈ´òÊïà„ÄÅÊô∫ËÉΩÁöÑÁé∞‰ª£ÂåñÂäûÂÖ¨ÁéØÂ¢ÉÔºåÂÖ®Èù¢ÊèêÂçáÁªÑÁªáËøêËê•ÊïàËÉΩÂíåÂëòÂ∑•Â∑•‰Ωú‰ΩìÈ™å„ÄÇ</p>\n            </div>\n            <p>ÈÄâÊã©‰ª•‰∏ãÂäüËÉΩÊ®°ÂùóÔºåÊàñÁõ¥Êé•ÂêëÊàëÊèêÈóÆÔºåÊàëÂ∞Ü‰∏∫ÊÇ®Êèê‰æõÊô∫ËÉΩÂä©ÊâãÊúçÂä°„ÄÇ</p>\n            <div class=\"quick-nav-cards\">\n              <div class=\"nav-card\" onclick=\"window.location.href='/project'\">\n                <div class=\"nav-card-icon\">\n                  <i class=\"bi bi-kanban\"></i>\n                </div>\n                <div class=\"nav-card-content\">\n                  <div class=\"nav-card-title\">È°πÁõÆÂçè‰Ωú</div>\n                  <div class=\"nav-card-desc\">‰ªªÂä°ÂàÜÈÖç„ÄÅËøõÂ∫¶Ë∑üË∏™„ÄÅÂõ¢ÈòüÂçè‰Ωú</div>\n                </div>\n                <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n              </div>\n              <div class=\"nav-card\" onclick=\"window.location.href='/calendar'\">\n                <div class=\"nav-card-icon\">\n                  <i class=\"bi bi-calendar-week\"></i>\n                </div>\n                <div class=\"nav-card-content\">\n                  <div class=\"nav-card-title\">Êó•Á®ãÂÆâÊéí</div>\n                  <div class=\"nav-card-desc\">‰ºöËÆÆÈ¢ÑÁ∫¶„ÄÅÊó•Á®ãÊèêÈÜí„ÄÅÊó∂Èó¥ÁÆ°ÁêÜ</div>\n                </div>\n                <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n              </div>\n              <div class=\"nav-card\" onclick=\"window.location.href='/chat'\">\n                <div class=\"nav-card-icon\">\n                  <i class=\"bi bi-chat-dots\"></i>\n                </div>\n                <div class=\"nav-card-content\">\n                  <div class=\"nav-card-title\">Âç≥Êó∂Ê≤üÈÄö</div>\n                  <div class=\"nav-card-desc\">Âõ¢ÈòüËÅäÂ§©„ÄÅËßÜÈ¢ë‰ºöËÆÆ„ÄÅÊ∂àÊÅØÈÄöÁü•</div>\n                </div>\n                <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n              </div>\n              <div class=\"nav-card\" onclick=\"window.location.href='/smartdoc'\">\n                <div class=\"nav-card-icon\">\n                  <i class=\"bi bi-file-earmark-text\"></i>\n                </div>\n                <div class=\"nav-card-content\">\n                  <div class=\"nav-card-title\">ÊñáÊ°£Â§ÑÁêÜ</div>\n                  <div class=\"nav-card-desc\">Êô∫ËÉΩÂàõÂª∫„ÄÅÁºñËæë„ÄÅÁÆ°ÁêÜÂêÑÁ±ªÊñáÊ°£</div>\n                </div>\n                <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n              </div>\n              <div class=\"nav-card\" onclick=\"window.location.href='/knowledge'\">\n                <div class=\"nav-card-icon\">\n                  <i class=\"bi bi-book\"></i>\n                </div>\n                <div class=\"nav-card-content\">\n                  <div class=\"nav-card-title\">Áü•ËØÜÂ∫ì</div>\n                  <div class=\"nav-card-desc\">Âõ¢ÈòüÁü•ËØÜÂÖ±‰∫´„ÄÅÊ£ÄÁ¥¢„ÄÅÂ≠òÂÇ®Âπ≥Âè∞</div>\n                </div>\n                <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n              </div>\n              <div class=\"nav-card\" onclick=\"window.location.href='/contract'\">\n                <div class=\"nav-card-icon\">\n                  <i class=\"bi bi-file-earmark-ruled\"></i>\n                </div>\n                <div class=\"nav-card-content\">\n                  <div class=\"nav-card-title\">Êô∫ËÉΩÂêàÂêå</div>\n                  <div class=\"nav-card-desc\">ÂêàÂêåÁîüÊàê„ÄÅÂÆ°Ê†∏„ÄÅÁ≠æÁΩ≤ÂíåÁÆ°ÁêÜ</div>\n                </div>\n                <div class=\"nav-card-arrow\"><i class=\"nav-arrow-icon\">‚Üí</i></div>\n              </div>\n            </div>\n          </div>`, \n          rawContent: 'ÊÇ®Â•ΩÔºåÊàëÊòØÊÇ®ÁöÑAIÂä©ÊâãÔºåÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÊÇ®Ôºü',\n          type: 'text' \n        }\n      ];\n      \n      // Ê∏ÖÁ©∫ÈÄâÊã©ÁöÑÊñá‰ª∂\n      selectedFiles.value = [];\n      \n      // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü\n      input.value = '';\n      \n      // Â¶ÇÊûúÊúâÊ≠£Âú®ËøõË°åÁöÑËØ∑Ê±ÇÔºåÂèñÊ∂àÂÆÉ\n      if (currentRequestController.value) {\n        currentRequestController.value.abort();\n        currentRequestController.value = null;\n      }\n      \n      // ÈáçÁΩÆÂä†ËΩΩÁä∂ÊÄÅ\n      loading.value = false;\n      \n      // ÊªöÂä®Âà∞È°∂ÈÉ®\n      nextTick(() => {\n        if (chatBody.value) {\n          chatBody.value.scrollTop = 0;\n        }\n      });\n      \n      // Âà∑Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®\n      fetchChatSessions();\n    }\n    \n    const processBuffer = (data) => {\n        let lastMessage = messages.value[messages.value.length - 1];\n        if (!lastMessage || lastMessage.role !== 'assistant') {\n            lastMessage = { \n                role: 'assistant', \n                content: '', \n                rawContent: '', \n                type: 'text', \n                streaming: true,\n                source: chatMode.value === 'knowledge_base' ? 'knowledge_base' : 'general_ai' // Ê†πÊçÆÂΩìÂâçÊ®°ÂºèËÆæÁΩÆÈªòËÆ§source\n            };\n            messages.value.push(lastMessage);\n        }\n\n        if (data.type === 'processing_start') {\n            lastMessage.type = 'text';\n            lastMessage.content = data.content;\n            lastMessage.rawContent = data.content;\n            lastMessage.streaming = true;\n        } else if (data.type === 'text_chunk') {\n            lastMessage.type = 'text';\n            lastMessage.streaming = true;\n            if (!lastMessage.rawContent || lastMessage.rawContent === \"Ê≠£Âú®‰∏∫ÊÇ®Â§ÑÁêÜÊó•Á®ã...\") {\n              lastMessage.rawContent = '';\n            }\n            // Âú®Â∞ÜÂÜÖÂÆπÊ∑ªÂä†Âà∞rawContent‰πãÂâçËøõË°åËøáÊª§\n            const filteredContent = data.content.replace(/\\[Data: Sources \\(\\d+\\)\\]\\.?/g, '');\n            lastMessage.rawContent += filteredContent;\n            // ÊµÅÂºè‰º†ËæìÊó∂ÔºåÂÆûÊó∂ËøõË°åmarkdownËΩ¨Êç¢\n            lastMessage.content = marked.parse(lastMessage.rawContent);\n        } else if (data.type === 'final_card') {\n            lastMessage.type = 'card';\n            lastMessage.streaming = false;\n            lastMessage.content = marked.parse(data.content || '');\n            lastMessage.status = data.status || 'clarification';\n            lastMessage.event_id = data.event_id || null; // ÂÖ≥ÈîÆÔºö‰øùÂ≠òevent_id\n            \n            // Â¶ÇÊûúÊòØÊàêÂäüÂàõÂª∫Êó•Á®ãÔºåËß¶ÂèëÊó•ÂéÜÂà∑Êñ∞\n            if (data.status === 'success') {\n                emitter.emit('refreshCalendar');\n            }\n        } else if (data.type === 'error') {\n            lastMessage.type = 'card';\n            lastMessage.streaming = false;\n            lastMessage.content = data.content || 'ÂèëÁîüÊú™Áü•ÈîôËØØ„ÄÇ';\n            lastMessage.status = 'error';\n        } else if (data.type === 'update_card') {\n            // Â§ÑÁêÜÂç°ÁâáÊõ¥Êñ∞\n            const targetCard = messages.value.find(msg => \n                msg.type === 'card' && msg.event_id === data.event_id\n            );\n            \n            if (targetCard) {\n                targetCard.content = marked.parse(data.content || '');\n                targetCard.status = data.status || targetCard.status;\n            }\n        } else if (data.type === 'session_id') {\n            // Â§ÑÁêÜ‰ºöËØùIDÊ∂àÊÅØÔºåÊõ¥Êñ∞ÂΩìÂâçËÅäÂ§©ID\n            if (data.chat_id && !chatId.value) {\n                chatId.value = data.chat_id;\n                fetchChatSessions(); // ÂàõÂª∫Êñ∞‰ºöËØùÂêéÂà∑Êñ∞ÂàóË°®\n            }\n        }\n        scrollToBottom();\n    };\n\n    const sendMsg = async () => {\n      if (!input.value.trim() && selectedFiles.value.length === 0) {\n        ElMessage.warning('ËØ∑ËæìÂÖ•ÂÜÖÂÆπÊàñ‰∏ä‰º†Êñá‰ª∂');\n        return;\n      }\n      \n      if (processingFiles.value) {\n        ElMessage.warning('Êñá‰ª∂Ê≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåËØ∑Á®çÂÄôÂÜçËØï');\n        return;\n      }\n      \n      if (currentRequestController.value) {\n        currentRequestController.value.abort();\n      }\n      \n      const userMsg = { role: 'user', content: input.value, type: 'text' };\n      messages.value.push(userMsg);\n      \n      if (selectedFiles.value.length > 0) {\n        messages.value.push({\n          role: 'user',\n          content: `‰∏ä‰º†‰∫Ü${selectedFiles.value.length}‰∏™Êñá‰ª∂`,\n          type: 'file',\n          files: selectedFiles.value.map(f => ({ name: f.name, size: f.size, ext: f.ext }))\n        });\n      }\n      \n      const assistantMsg = { role: 'assistant', content: '', type: 'text', streaming: true, source: chatMode.value === 'knowledge_base' ? 'knowledge_base' : 'general_ai' };\n      messages.value.push(assistantMsg);\n      \n      const currentInput = input.value;\n      input.value = '';\n      \n      const currentDocumentIds = selectedFiles.value.map(f => f.documentId).filter(Boolean);\n      selectedFiles.value = [];\n      \n      scrollToBottom();\n      loading.value = true;\n      \n      // Ëé∑ÂèñÁî®Êà∑ÁöÑAI‰∏™ÊÄßÂåñËÆæÁΩÆ\n      let aiSettings = null;\n      try {\n        const aiSettingsResponse = await request({\n          url: '/api/settings/ai-settings',\n          method: 'get'\n        });\n        \n        if (aiSettingsResponse && aiSettingsResponse.success) {\n          aiSettings = aiSettingsResponse.data;\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñAI‰∏™ÊÄßÂåñËÆæÁΩÆÂ§±Ë¥•:', error);\n        // Âç≥‰ΩøËé∑ÂèñÂ§±Ë¥•‰πüÁªßÁª≠ËÅäÂ§©\n      }\n      \n      const requestData = {\n        message: currentInput,\n        chat_id: chatId.value,\n        document_ids: currentDocumentIds,\n        chatMode: chatMode.value,\n        method: searchMethod.value, // For knowledge base\n        ai_settings: aiSettings // Ê∑ªÂä†AI‰∏™ÊÄßÂåñËÆæÁΩÆ\n      };\n\n      // Áªü‰∏Ä‰ΩøÁî®ÊµÅÂºèËØ∑Ê±ÇÂ§ÑÁêÜÊâÄÊúâÊ®°Âºè\n      currentRequestController.value = aiChatWithDocumentsStream(\n        requestData,\n        // onChunk callback\n        (payload, newChatId) => {\n          if (newChatId && !chatId.value) {\n            chatId.value = newChatId;\n          }\n          processBuffer(payload);\n        },\n        // onComplete callback\n        (newChatId) => {\n          const lastMsg = messages.value[messages.value.length - 1];\n          if (lastMsg && lastMsg.role === 'assistant') {\n            lastMsg.streaming = false;\n          }\n          if (newChatId && !chatId.value) {\n            chatId.value = newChatId;\n            fetchChatSessions(); // ÂàõÂª∫Êñ∞‰ºöËØùÂêéÂà∑Êñ∞ÂàóË°®\n          }\n          loading.value = false;\n          currentRequestController.value = null;\n        },\n        // onError callback\n        (error) => {\n          console.error('ÊµÅÂºèËØ∑Ê±ÇÂá∫Èîô:', error);\n          const lastMsg = messages.value[messages.value.length - 1];\n          if (lastMsg && lastMsg.role === 'assistant') {\n            lastMsg.content = 'Êä±Ê≠âÔºåÂìçÂ∫îÁîüÊàêËøáÁ®ã‰∏≠Âá∫Áé∞ÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï„ÄÇ';\n            lastMsg.streaming = false;\n          }\n          loading.value = false;\n          currentRequestController.value = null;\n          ElMessage.error('ËØ∑Ê±ÇÂá∫Èîô: ' + (error.message || 'Êú™Áü•ÈîôËØØ'));\n        }\n      );\n    }\n    \n    const triggerFileInput = () => {\n      if (fileInput.value) fileInput.value.value = '';\n      fileInput.value && fileInput.value.click()\n    }\n    \n    const handleFileUpload = (e) => {\n      const files = e.target.files\n      if (!files || !files.length) return\n      \n      // ÊîØÊåÅÁöÑÊñá‰ª∂Á±ªÂûãÈÖçÁΩÆ\n      const allowedTypes = {\n        // ÊñáÊ°£Á±ªÂûã\n        'text/plain': 'txt',                          // txtÊñá‰ª∂\n        'application/pdf': 'pdf',                     // pdfÊñá‰ª∂\n        'application/msword': 'doc',                  // docÊñá‰ª∂\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'docx', // docxÊñá‰ª∂\n        'text/markdown': 'md',                        // markdownÊñá‰ª∂\n        'text/x-markdown': 'md',                      // markdownÊñá‰ª∂Âèò‰Ωì\n        \n        // Ë°®Ê†ºÁ±ªÂûã\n        'text/csv': 'csv',                            // csvÊñá‰ª∂\n        'application/csv': 'csv',                     // csvÊñá‰ª∂Âè¶‰∏ÄÁßçMIME\n        'application/vnd.ms-excel': 'xls',            // xlsÊñá‰ª∂\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'xlsx', // xlsxÊñá‰ª∂\n        \n        // ÂõæÁâáÁ±ªÂûã\n        'image/jpeg': 'jpg',                          // jpg/jpegÂõæÁâá\n        'image/png': 'png',                           // pngÂõæÁâá\n        'image/gif': 'gif',                           // gifÂõæÁâá\n        'image/bmp': 'bmp',                           // bmpÂõæÁâá\n        'image/webp': 'webp',                         // webpÂõæÁâá\n        'image/svg+xml': 'svg',                       // svgÁü¢ÈáèÂõæ\n        'image/tiff': 'tiff'                          // tiffÂõæÁâá\n      };\n      \n      // ÊòæÁ§∫ÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºèÊèêÁ§∫\n      const supportedFormats = 'ÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºè: txt, pdf, doc, docx, md, xls, xlsx, csv ÂíåÂ∏∏ËßÅÂõæÁâáÊ†ºÂºè';\n      \n      // Ê£ÄÊü•ÊØè‰∏™Êñá‰ª∂\n      const validFiles = [];\n      let hasInvalidFile = false;\n      \n      // ÊúâÊïàÁöÑÊñá‰ª∂Êâ©Â±ïÂêçÂàóË°®Ôºà‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ\n      const validExtensions = ['txt', 'pdf', 'doc', 'docx', 'md', 'xls', 'xlsx', 'csv', \n                              'jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n      \n      Array.from(files).forEach(file => {\n        const ext = getExt(file.name).toLowerCase();\n        const isValidExtension = validExtensions.includes(ext);\n        \n        // Ê£ÄÊü•MIMEÁ±ªÂûãÊàñÊâ©Â±ïÂêçÊòØÂê¶ÊúâÊïà\n        if (allowedTypes[file.type] || isValidExtension) {\n          const id = file.name + '_' + file.size + '_' + Date.now() + Math.random()\n          if (file.type.startsWith('image/')) {\n            const reader = new FileReader()\n            reader.onload = (ev) => {\n              selectedFiles.value.push({\n                id,\n                name: file.name,\n                type: file.type,\n                url: ev.target.result,\n                size: formatSize(file.size),\n                ext,\n                label: getFileLabel(file.type, ext),\n                bg: getFileBg(ext),\n                rawFile: file,\n                progress: 0,\n                status: 'ready'\n              })\n              // Ëá™Âä®‰∏ä‰º†\n              uploadFileAndGetId(selectedFiles.value[selectedFiles.value.length - 1])\n            }\n            reader.readAsDataURL(file)\n          } else {\n            const url = URL.createObjectURL(file)\n            selectedFiles.value.push({\n              id,\n              name: file.name,\n              type: file.type,\n              url,\n              size: formatSize(file.size),\n              ext,\n              label: getFileLabel(file.type, ext),\n              bg: getFileBg(ext),\n              rawFile: file,\n              progress: 0,\n              status: 'ready'\n            })\n            // Ëá™Âä®‰∏ä‰º†\n            uploadFileAndGetId(selectedFiles.value[selectedFiles.value.length - 1])\n          }\n          validFiles.push(selectedFiles.value[selectedFiles.value.length - 1])\n        } else {\n          hasInvalidFile = true;\n          ElMessage.error(`‰∏çÊîØÊåÅÁöÑÊñá‰ª∂Á±ªÂûã: ${file.name}`);\n          console.warn(`Êñá‰ª∂Á±ªÂûãÊãíÁªù: ${file.name}, MIME: ${file.type}, Êâ©Â±ïÂêç: ${ext}`);\n        }\n      })\n      \n      // Âú®Êúâ‰∏çÊîØÊåÅÊñá‰ª∂Á±ªÂûãÊó∂ÊòæÁ§∫ÊîØÊåÅÁöÑÊ†ºÂºè‰ø°ÊÅØ\n      if (hasInvalidFile) {\n        ElMessage.info(supportedFormats);\n      }\n      \n      // Â¶ÇÊûúÂÖ®ÈÉ®Êñá‰ª∂ÈÉΩÊòØÊúâÊïàÁöÑÔºåÊòæÁ§∫ÊàêÂäü‰∏ä‰º†ÊèêÁ§∫\n      if (validFiles.length > 0 && validFiles.length === files.length) {\n        ElMessage.success(`Â∑≤Ê∑ªÂä†${validFiles.length}‰∏™Êñá‰ª∂`);\n      }\n    }\n    \n    const removeFile = (idx) => {\n      selectedFiles.value.splice(idx, 1)\n    }\n\n    // markedÈÖçÁΩÆÔºöË°®Ê†ºÂ∏¶ËæπÊ°Ü+‰ª£Á†ÅÂùóÁæéÂåñ+Â§çÂà∂ÊåâÈíÆ\n    const renderer = new marked.Renderer();\n    renderer.table = function(header, body) {\n      return `<table class=\"openwebui-md-table\"><thead>${header}</thead><tbody>${body}</tbody></table>`;\n    };\n    renderer.code = function(code, infostring, escaped) {\n      const codeId = 'code-' + Math.random().toString(36).substr(2, 9);\n      let lang = (infostring || '').split(/\\s+/)[0];\n      let langLabel = lang ? lang : 'code';\n      let langClass = lang ? `language-${lang}` : '';\n      return `\n        <div class=\"openwebui-md-code-block-beauty\">\n          <div class=\"openwebui-md-code-toolbar\">\n            <span class=\"openwebui-md-code-lang\">${langLabel}</span>\n            <button class=\"openwebui-copy-btn\" data-clipboard-target=\"#${codeId}\" title=\"Â§çÂà∂‰ª£Á†Å\">Â§çÂà∂</button>\n          </div>\n          <pre class=\"openwebui-md-pre\"><code id=\"${codeId}\" class=\"${langClass}\">${escaped ? code : escapeHtml(code)}</code></pre>\n        </div>\n      `;\n    };\n    \n    // Êñ∞Â¢ûÔºöËá™ÂÆö‰πâÊâ©Â±ïÔºåÁ¶ÅÁî®Âà†Èô§Á∫øÂäüËÉΩ\n    const disableStrikethrough = {\n      walkTokens(token) {\n        if (token.type === 'del') {\n          // Â∞ÜÂà†Èô§Á∫øÔºàdelÔºâÁ±ªÂûãÁöÑtokenÊîπÂÜô‰∏∫ÊôÆÈÄöÊñáÊú¨ÔºàtextÔºâÁ±ªÂûã\n          token.type = 'text';\n          token.text = token.raw; // ‰ΩøÁî®ÂéüÂßãÊñáÊú¨Ôºå‰øùÁïô'~~'\n          delete token.tokens;\n        }\n      },\n    };\n\n    marked.use(disableStrikethrough);\n    \n    marked.setOptions({\n      breaks: true,\n      gfm: true,\n      headerIds: false,\n      mangle: false,\n      renderer\n    })\n\n    // --- Âç°ÁâáÊ†∑ÂºèËæÖÂä©ÂáΩÊï∞ (Êñ∞Â¢û) ---\n    const getCardClass = (status) => {\n      switch (status) {\n        case 'success':\n          return 'success-card';\n        case 'error':\n          return 'error-card';\n        case 'clarification':\n          return 'clarification-card';\n        case 'deleted':\n          return 'deleted-card';\n        default:\n          return '';\n      }\n    };\n    const getCardIcon = (status) => {\n      switch (status) {\n        case 'success':\n          return 'CircleCheckFilled';\n        case 'error':\n          return 'CircleCloseFilled';\n        case 'clarification':\n          return 'InfoFilled';\n        case 'deleted':\n          return 'WarningFilled';\n        default:\n          return 'InfoFilled';\n      }\n    };\n    const getCardTitle = (status) => {\n      switch (status) {\n        case 'success':\n          return 'Êó•Á®ãÊìç‰ΩúÊàêÂäü';\n        case 'error':\n          return 'Êìç‰ΩúÂ§±Ë¥•';\n        case 'clarification':\n          return 'ÈúÄË¶ÅÁ°ÆËÆ§';\n        case 'deleted':\n          return 'Êó•Á®ãÂ∑≤Âà†Èô§';\n        default:\n          return 'ÊèêÁ§∫‰ø°ÊÅØ';\n      }\n    };\n    // ------------------------------------\n    \n    // ÂØºËà™Âà∞ÂÖ∂‰ªñÊ®°Âùó\n    const navigateTo = (path) => {\n      // Ëé∑ÂèñÂΩìÂâçË∑ØÁî±Ë∑ØÂæÑ\n      const currentPath = window.location.pathname;\n      // Â¶ÇÊûúÂ∑≤ÁªèÂú®ÊåáÂÆöË∑ØÂæÑÔºå‰∏çËøõË°åË∑≥ËΩ¨\n      if (currentPath.includes(path)) return;\n      \n      // Âú®Âêå‰∏Ätab‰∏≠ÂØºËà™\n      window.location.href = `/${path}`;\n    }\n\n    // Ëøô‰∏™ÊñπÊ≥ïÂú®welcome-message‰∏≠‰ΩøÁî®\n    const navigateToModule = (path) => {\n      navigateTo(path);\n    }\n\n    // Âà†Èô§Âçï‰∏™ËÅäÂ§©‰ºöËØù\n    const deleteSession = async (sessionId) => {\n      try {\n        await ElMessageBox.confirm(\n          'Á°ÆËÆ§Ë¶ÅÂà†Èô§ËøôÊù°ÂØπËØùËÆ∞ÂΩïÂêóÔºü',\n          'ÊèêÁ§∫',\n          {\n            confirmButtonText: 'Á°ÆËÆ§',\n            cancelButtonText: 'ÂèñÊ∂à',\n            type: 'info',\n          }\n        );\n        \n        await deleteAIChatSession(sessionId);\n        \n        // Âà∑Êñ∞‰ºöËØùÂàóË°®\n        await fetchChatSessions();\n        \n        // Êó†ËÆ∫Âà†Èô§ÁöÑÊòØ‰∏çÊòØÂΩìÂâç‰ºöËØùÔºåÈÉΩÁõ¥Êé•ÂàõÂª∫Êñ∞‰ºöËØù\n        clearChat(); // Ê∏ÖÁ©∫ÂΩìÂâç‰ºöËØùÔºåÂàõÂª∫Êñ∞ÂØπËØù\n        ElMessage.success('ÂØπËØùÂ∑≤Âà†Èô§ÔºåÂ∑≤ÂàõÂª∫Êñ∞ÂØπËØù');\n      } catch (error) {\n        if (error !== 'cancel' && error !== 'close') {\n          console.error('Âà†Èô§ËÅäÂ§©‰ºöËØùÂ§±Ë¥•:', error);\n          ElMessage.error('Âà†Èô§Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\n        }\n      }\n    }\n\n    // Á°ÆËÆ§Ê∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩï\n    const confirmClearAllHistory = () => {\n      ElMessageBox.confirm(\n        'Á°ÆËÆ§Ë¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩïÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ',\n        'Ë≠¶Âëä',\n        {\n          confirmButtonText: 'Á°ÆËÆ§',\n          cancelButtonText: 'ÂèñÊ∂à',\n          type: 'warning',\n        }\n      )\n        .then(() => {\n          clearAllHistory();\n        })\n        .catch(() => {\n          // Áî®Êà∑ÂèñÊ∂àÔºå‰∏çÂÅö‰ªª‰ΩïÊìç‰Ωú\n        });\n    }\n\n    // Ê∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩï\n    const clearAllHistory = async () => {\n      try {\n        // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ\n        loading.value = true;\n        \n        for (const session of chatSessions.value) {\n          await deleteAIChatSession(session.id);\n        }\n        \n        // Ê∏ÖÁ©∫‰ºöËØùÂàóË°®\n        chatSessions.value = [];\n        \n        // Ê∏ÖÁ©∫ÂΩìÂâç‰ºöËØùÔºåÂàõÂª∫Êñ∞ÂØπËØù\n        clearChat();\n        \n        ElMessage.success('ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩïÂ∑≤Ê∏ÖÁ©∫ÔºåÂ∑≤ÂàõÂª∫Êñ∞ÂØπËØù');\n      } catch (error) {\n        console.error('Ê∏ÖÁ©∫ÂéÜÂè≤ËÆ∞ÂΩïÂ§±Ë¥•:', error);\n        ElMessage.error('Êìç‰ΩúÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\n      } finally {\n        // ÂÖ≥Èó≠Âä†ËΩΩÁä∂ÊÄÅ\n        loading.value = false;\n      }\n    }\n\n    onMounted(() => {\n      document.body.addEventListener('click', function(e) {\n        if (e.target.classList && e.target.classList.contains('openwebui-copy-btn')) {\n          const codeId = e.target.getAttribute('data-clipboard-target').replace('#', '');\n          const codeElem = document.getElementById(codeId);\n          if (codeElem) {\n            navigator.clipboard.writeText(codeElem.innerText).then(() => {\n              e.target.innerText = 'Â∑≤Â§çÂà∂';\n              setTimeout(() => { e.target.innerText = 'Â§çÂà∂'; }, 1200);\n            });\n          }\n        }\n      });\n      \n      // Ëé∑ÂèñÁî®Êà∑Â§¥ÂÉè\n      getUserInfo();\n      \n      // Ëé∑ÂèñËÅäÂ§©‰ºöËØùÂàóË°®Âπ∂ÂàùÂßãÂåñÁïåÈù¢\n      fetchChatSessions().then(() => {\n        // Â¶ÇÊûúÊ≤°ÊúâÂéÜÂè≤‰ºöËØùÔºåÁ°Æ‰øùÊòæÁ§∫Êñ∞ÂØπËØùÁïåÈù¢\n        if (chatSessions.value.length === 0) {\n          clearChat();\n        }\n      });\n      \n      // Ê∑ªÂä†È°µÈù¢Âç∏ËΩΩÊó∂ÁöÑÊ∏ÖÁêÜ\n      window.addEventListener('beforeunload', () => {\n        if (currentRequestController.value) {\n          currentRequestController.value.abort();\n        }\n      });\n    });\n\n    // ÁõëÊéßÊó•ÂéÜÂà∑Êñ∞‰∫ã‰ª∂\n    emitter.on('refreshCalendar', () => {\n      // ÂÅáËÆæÊó•ÂéÜÊúâËá™Â∑±ÁöÑÂà∑Êñ∞ÊñπÊ≥ïÔºåËøôÈáåÊàë‰ª¨Ë∞ÉÁî®ÂÆÉ\n      // Â¶ÇÊûúÊó•ÂéÜÁªÑ‰ª∂Êúâref, ÂèØ‰ª•ÊòØ this.$refs.calendar.fetchEvents();\n      // ÊàñËÄÖÂ¶ÇÊûúÂà∑Êñ∞ÈÄªËæëÂú®ÂΩìÂâçÁªÑ‰ª∂ÂÜÖÔºåÁõ¥Êé•Ë∞ÉÁî®\n      console.log('Êî∂Âà∞Êó•ÂéÜÂà∑Êñ∞‰∫ã‰ª∂ÔºåÊ≠£Âú®ÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆ...');\n      // Á§∫‰æã: findCalendarComponentAndRefresh();\n    });\n\n    // --- Êñ∞Â¢ûÔºöÂç°ÁâáÊìç‰ΩúÂáΩÊï∞ ---\n    const editEvent = async (msg) => {\n      try {\n        // Ëé∑Âèñ‰∫ã‰ª∂ËØ¶ÊÉÖ\n        const { data } = await getCalendarEvent(msg.event_id);\n        \n        // Â≠òÂÇ®ÂΩìÂâçÊ≠£Âú®ÁºñËæëÁöÑÊ∂àÊÅØÂç°Áâá\n        currentEditingMessage.value = msg;\n\n        // ËÆæÁΩÆË°®ÂçïÊï∞ÊçÆ\n        editingEvent.value = {\n          id: data.id,\n          title: data.title,\n          start: formatDateForPicker(new Date(data.start)),\n          end: formatDateForPicker(new Date(data.end)),\n          location: data.location || '',\n          description: data.description || '',\n          type: data.type || 'blue',\n          reminder: data.reminder || '30min',\n          participants: data.participants || []\n        };\n        \n        // ÊâìÂºÄÂØπËØùÊ°Ü\n        editEventDialogVisible.value = true;\n        \n      } catch (error) {\n        console.error(\"Ëé∑Âèñ‰∫ã‰ª∂ËØ¶ÊÉÖÂ§±Ë¥•:\", error);\n        ElMessage.error('Êó†Ê≥ïËé∑ÂèñÊó•Á®ãËØ¶ÊÉÖÔºåËØ∑Á®çÂêéÈáçËØï');\n      }\n    };\n\n    const saveEditEvent = async () => {\n      if (!editingEvent.value) return;\n\n      const eventData = editingEvent.value;\n      \n      // È™åËØÅÂøÖÂ°´Â≠óÊÆµ\n      if (!eventData.title || !eventData.title.trim()) {\n        ElMessage.warning('Ê†áÈ¢ò‰∏çËÉΩ‰∏∫Á©∫');\n        return;\n      }\n      \n      if (!eventData.start) {\n        ElMessage.warning('ËØ∑ÈÄâÊã©ÂºÄÂßãÊó∂Èó¥');\n        return;\n      }\n      \n      if (!eventData.end) {\n        ElMessage.warning('ËØ∑ÈÄâÊã©ÁªìÊùüÊó∂Èó¥');\n        return;\n      }\n      \n      // È™åËØÅÂºÄÂßãÊó∂Èó¥‰∏çÊôö‰∫éÁªìÊùüÊó∂Èó¥\n      const startTime = new Date(eventData.start).getTime();\n      const endTime = new Date(eventData.end).getTime();\n      if (startTime > endTime) {\n        ElMessage.warning('ÁªìÊùüÊó∂Èó¥‰∏çËÉΩÊó©‰∫éÂºÄÂßãÊó∂Èó¥');\n        return;\n      }\n      \n      try {\n        await updateEvent(eventData.id, {\n          title: eventData.title,\n          start: eventData.start,\n          end: eventData.end,\n          location: eventData.location,\n          description: eventData.description,\n          type: eventData.type,\n          reminder: eventData.reminder,\n          participants: eventData.participants\n        });\n\n        ElMessage.success('Êó•Á®ãÂ∑≤ÊàêÂäüÊõ¥Êñ∞ÔºÅ');\n        editEventDialogVisible.value = false;\n\n        // Êõ¥Êñ∞Âç°ÁâáÊòæÁ§∫\n        if (currentEditingMessage.value) {\n          updateCardDisplay(currentEditingMessage.value, eventData.title, eventData.description);\n        }\n\n        // ÈÄöÁü•Êó•ÂéÜÂà∑Êñ∞\n        emitter.emit('refreshCalendar');\n        \n        // Ê∏ÖÁêÜ\n        editingEvent.value = null;\n        currentEditingMessage.value = null;\n\n      } catch (error) {\n        console.error('Êõ¥Êñ∞‰∫ã‰ª∂Â§±Ë¥•:', error);\n        ElMessage.error('Êõ¥Êñ∞Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\n      }\n    };\n\n    const deleteEventFromCard = async (eventId) => {\n      try {\n        await ElMessageBox.confirm(\n          'ÊÇ®Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™Êó•Á®ãÂêóÔºü',\n          'Á°ÆËÆ§Âà†Èô§',\n          {\n            confirmButtonText: 'Á°ÆÂÆö',\n            cancelButtonText: 'ÂèñÊ∂à',\n            type: 'warning',\n          }\n        );\n        \n        await deleteCalendarEvent(eventId);\n        ElMessage.success('Êó•Á®ãÂ∑≤ÊàêÂäüÂà†Èô§ÔºÅ');\n        \n        // ÊâæÂà∞ÂØπÂ∫îÁöÑÊ∂àÊÅØÂç°ÁâáÂπ∂Êõ¥Êñ∞Áä∂ÊÄÅ\n        const eventMsg = messages.value.find(msg => msg.type === 'card' && msg.event_id === eventId);\n        if (eventMsg) {\n          eventMsg.content = 'ËØ•Êó•Á®ãÂ∑≤Ë¢´Âà†Èô§';\n          eventMsg.status = 'deleted';\n        }\n        \n        // ÈÄöÁü•Êó•ÂéÜÂà∑Êñ∞\n        emitter.emit('refreshCalendar');\n        \n      } catch (error) {\n        if (error === 'cancel') {\n          // Áî®Êà∑ÂèñÊ∂àÊìç‰Ωú\n          return;\n        }\n        // Â§ÑÁêÜ404ÈîôËØØ\n        if (error.response && error.response.status === 404) {\n          ElMessage.error('Êìç‰ΩúÂ§±Ë¥•ÔºöËØ•Êó•Á®ãÂ∑≤Ë¢´Âà†Èô§Êàñ‰∏çÂ≠òÂú®„ÄÇ');\n        } else {\n          console.error(\"‰ªéÂç°ÁâáÂà†Èô§Êó•Á®ãÊó∂Âá∫Èîô:\", error);\n          ElMessage.error('Âà†Èô§Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï„ÄÇ');\n        }\n      }\n    };\n    \n    // Êõ¥Êñ∞Âç°ÁâáÊòæÁ§∫\n    const updateCardDisplay = (msg, title, description) => {\n      // ÊûÑÂª∫Êñ∞ÁöÑÂç°ÁâáÂÜÖÂÆπ\n      const eventDate = new Date();\n      const dateStr = `${eventDate.getFullYear()}Âπ¥${eventDate.getMonth() + 1}Êúà${eventDate.getDate()}Êó•`;\n      let content = `Â∑≤ÊàêÂäüÊõ¥Êñ∞Êó•Á®ãÔºö**${title}**\\n\\n`;\n      content += `Êó•ÊúüÔºö${dateStr}\\n\\n`;\n      if (description) {\n        content += `ÊèèËø∞Ôºö${description}\\n\\n`;\n      }\n      content += `ÊÇ®ÂèØ‰ª•Âú®Êó•ÂéÜ‰∏≠Êü•ÁúãÂÆåÊï¥ËØ¶ÊÉÖ„ÄÇ`;\n      \n      // Êõ¥Êñ∞Âç°ÁâáÂÜÖÂÆπ\n      msg.content = marked.parse(content);\n      \n      // Á°Æ‰øùÂç°ÁâáÁä∂ÊÄÅ‰∏∫ÊàêÂäü\n      msg.status = 'success';\n      \n      // Âº∫Âà∂ÈáçÊñ∞Ê∏≤ÊüìÂç°Áâá\n      nextTick(() => {\n        const cardElement = document.querySelector(`.openwebui-card-message[data-event-id=\"${msg.event_id}\"]`);\n        if (cardElement) {\n          cardElement.classList.remove('clarification-card', 'error-card', 'deleted-card');\n          cardElement.classList.add('success-card');\n        }\n      });\n    };\n    \n    // ‰∏∫Êó•ÊúüÈÄâÊã©Âô®Ê†ºÂºèÂåñÊó•Êúü (‰øùÁïôÊ≠§ÂáΩÊï∞‰ª•ÂÖºÂÆπÂÖ∂‰ªñÂú∞ÊñπÁöÑË∞ÉÁî®)\n    const formatDateForPicker = (date) => {\n      if (!date) return '';\n      \n      try {\n        // Á°Æ‰øù‰ΩøÁî®ÊúâÊïàÁöÑDateÂØπË±°\n        let dateObj;\n        if (date instanceof Date) {\n          if (isNaN(date.getTime())) {\n            console.error('Êó†ÊïàÊó•ÊúüÂØπË±°', date);\n            dateObj = new Date(); // ‰ΩøÁî®ÂΩìÂâçÊó∂Èó¥‰Ωú‰∏∫ÂõûÈÄÄ\n          } else {\n            dateObj = date;\n          }\n        } else {\n          // Â∞ùËØïËß£ÊûêÂ≠óÁ¨¶‰∏≤Êó•Êúü\n          dateObj = new Date(date);\n          if (isNaN(dateObj.getTime())) {\n            console.error('Êó†ÊïàÊó•ÊúüÂ≠óÁ¨¶‰∏≤', date);\n            dateObj = new Date(); // ‰ΩøÁî®ÂΩìÂâçÊó∂Èó¥‰Ωú‰∏∫ÂõûÈÄÄ\n          }\n        }\n      \n        // ‰ΩøÁî®Áõ¥Êé•Ëé∑ÂèñÂπ¥ÊúàÊó•Êó∂ÂàÜÁöÑÊñπÂºèÔºå‰∏çÊ∂âÂèäÊó∂Âå∫ËΩ¨Êç¢\n        const year = dateObj.getFullYear();\n        const month = (dateObj.getMonth() + 1).toString().padStart(2, '0');\n        const day = dateObj.getDate().toString().padStart(2, '0');\n        const hours = dateObj.getHours().toString().padStart(2, '0');\n        const minutes = dateObj.getMinutes().toString().padStart(2, '0');\n        \n        const formatted = `${year}-${month}-${day} ${hours}:${minutes}`;\n        return formatted;\n      } catch (error) {\n        console.error('Êó•ÊúüÊ†ºÂºèÂåñÈîôËØØ:', error);\n        // ËøîÂõûÂΩìÂâçÊó∂Èó¥‰Ωú‰∏∫ÂõûÈÄÄÈÄâÈ°π\n        const now = new Date();\n        return `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}-${now.getDate().toString().padStart(2, '0')} ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;\n      }\n    };\n\n    return {\n      input, \n      messages, \n      sendMsg, \n      chatBody, \n      fileInput,\n      triggerFileInput, \n      handleFileUpload, \n      selectedFiles, \n      removeFile, \n      UploadFilled, \n      Document, \n      Close, \n      Check,\n      loading, \n      processingFiles,\n      clearChat,\n      showContextBar,\n      chatId,\n      userAvatarUrl,\n      handleAvatarError,\n      searchMethod,\n      chatMode,\n      retrievalScope,\n      // Âè≥‰æßÈù¢ÊùøÁõ∏ÂÖ≥\n      rightPanelCollapsed,\n      chatSessions,\n      switchChatSession,\n      formatTime,\n      navigateTo,\n      navigateToModule,\n      // ÂõæÊ†áÁªÑ‰ª∂\n      Calendar, \n      ChatDotRound, \n      Collection, \n      DocumentCopy,\n      Grid,\n      Connection,\n      deleteSession,\n      confirmClearAllHistory,\n      clearAllHistory,\n      getCardClass,\n      getCardIcon,\n      getCardTitle,\n      editEvent,\n      deleteEventFromCard,\n      editEventDialogVisible,\n      editingEvent,\n      saveEditEvent,\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.dashboard-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.openwebui-chat-root {\n  width: 100%;\n  height: 100%;\n  min-height: 0;\n  min-width: 0;\n  background: var(--bg-color);\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\n.openwebui-chat-window {\n  width: 100%;\n  height: 100%;\n  min-height: 0;\n  background: var(--bg-color);\n  border-radius: 0;\n  box-shadow: none;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  margin: 0;\n}\n\n.openwebui-chat-header {\n  height: 56px;\n  background: var(--bg-color-secondary);\n  display: flex;\n  align-items: center;\n  padding: 0 24px;\n  font-size: 18px;\n  font-weight: 600;\n  border-bottom: 1px solid var(--border-color);\n  flex-shrink: 0;\n  justify-content: space-between;\n  color: var(--text-color);\n}\n\n.header-center-controls {\n  display: flex;\n  gap: 16px;\n  align-items: center;\n}\n\n.openwebui-title {\n  color: var(--primary-color);\n}\n\n.clear-chat-btn {\n  color: var(--text-color-secondary);\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 14px;\n  font-weight: normal;\n}\n\n.clear-chat-btn:hover {\n  color: var(--primary-color);\n}\n\n.openwebui-file-preview-bar {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 12px 0 8px 0;\n  background: transparent;\n  border-bottom: none;\n  overflow-x: auto;\n  min-height: 64px;\n  z-index: 3;\n}\n\n.openwebui-file-card {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background: var(--bg-color-secondary);\n  border-radius: 14px;\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.04);\n  padding: 8px 16px 8px 8px;\n  min-width: 160px;\n  max-width: 240px;\n  position: relative;\n  color: var(--text-color);\n}\n\n.openwebui-file-thumb {\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  background: var(--bg-color-tertiary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  margin-right: 10px;\n}\n\n.openwebui-file-img {\n  width: 40px;\n  height: 40px;\n  object-fit: cover;\n  border-radius: 8px;\n}\n\n.openwebui-file-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 22px;\n}\n\n.openwebui-file-info {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.openwebui-file-name {\n  font-size: 14px;\n  color: var(--text-color);\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 120px;\n}\n\n.openwebui-file-meta {\n  font-size: 12px;\n  color: var(--text-color-secondary);\n  margin-top: 2px;\n}\n\n.openwebui-file-progress {\n  margin-top: 4px;\n  width: 100%;\n}\n\n.openwebui-file-status.completed {\n  color: var(--success-color);\n}\n\n.openwebui-file-remove {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  color: var(--text-color-tertiary);\n  font-size: 16px;\n  cursor: pointer;\n  transition: color 0.2s;\n}\n\n.openwebui-file-remove:hover {\n  color: var(--error-color);\n}\n\n.openwebui-chat-container {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n.openwebui-chat-body {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 16px 12px 16px;\n  background: var(--bg-color);\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  max-height: calc(100vh - 200px);\n  height: calc(100vh - 200px);\n  flex-shrink: 1;\n  scrollbar-width: thin;\n  width: auto;\n  transition: all 0.3s ease;\n}\n\n.openwebui-msg {\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 16px;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n\n.openwebui-msg.user {\n  flex-direction: row-reverse;\n  justify-content: flex-end;\n  align-items: flex-end;\n  margin-left: auto;\n  margin-right: 0;\n}\n\n.openwebui-msg.assistant {\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-end;\n  margin-right: auto;\n  margin-left: 0;\n}\n\n.openwebui-msg-bubble {\n  position: relative;\n  max-width: 90%;\n  padding: 12px 18px;\n  border-radius: 20px;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  box-shadow: 0 1px 2px rgba(0,0,0,0.05);\n  line-height: 1.6;\n}\n\n.openwebui-msg.user .openwebui-msg-bubble {\n  background: var(--primary-color);\n  color: #fff;\n  border-bottom-right-radius: 4px;\n  margin-right: 8px;\n  margin-left: auto;\n}\n\n.openwebui-msg.assistant .openwebui-msg-bubble {\n  background: var(--bg-color-secondary);\n  color: var(--text-color);\n  border-bottom-left-radius: 4px;\n  margin-left: 8px;\n  margin-right: auto;\n}\n\n.openwebui-avatar {\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  margin-bottom: auto;\n}\n\n.left-avatar {\n  margin-right: 8px;\n}\n\n.right-avatar {\n  margin-left: 8px;\n}\n\n.user-avatar-img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  object-fit: cover;\n  overflow: hidden;\n  display: block;\n  background-color: #f0f2f5;\n}\n\n.openwebui-user-label {\n  font-weight: bold;\n  margin-right: 4px;\n}\n\n.openwebui-ai-label {\n  font-weight: bold;\n  color: #2f54eb;\n  margin-right: 4px;\n}\n\n.openwebui-chat-footer {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding: 0 16px 12px 16px;\n  background: var(--bg-color);\n  border-top: 1px solid var(--border-color);\n  margin: 0;\n  flex-shrink: 0;\n  box-shadow: 0 -2px 16px 0 rgba(var(--primary-color-rgb),0.03);\n  z-index: 2;\n}\n\n.openwebui-input-area {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.openwebui-input {\n  flex: 1;\n  margin-right: 12px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n\n.openwebui-send-btn {\n  min-width: 72px;\n  height: 40px;\n  font-size: 16px;\n  font-weight: 500;\n  border-radius: 8px;\n}\n\n.openwebui-upload-btn {\n  margin-right: 8px;\n  font-size: 20px;\n  background: var(--bg-color-tertiary);\n  border: 1px solid var(--border-color);\n  color: var(--primary-color);\n  cursor: pointer;\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: border 0.2s, box-shadow 0.2s;\n}\n\n.openwebui-upload-btn:hover {\n  border: 1.5px solid var(--primary-color);\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.08);\n}\n\n.openwebui-img-preview {\n  max-width: 180px;\n  max-height: 120px;\n  border-radius: 8px;\n  display: block;\n  margin: 4px 0;\n  box-shadow: 0 2px 8px rgba(47,84,235,0.08);\n}\n\n.openwebui-file-link {\n  color: var(--primary-color);\n  text-decoration: underline;\n  word-break: break-all;\n}\n\n.openwebui-cursor {\n  display: inline-block;\n  width: 8px;\n  height: 16px;\n  background: var(--primary-color);\n  margin-left: 2px;\n  vertical-align: middle;\n  animation: blink 0.8s infinite;\n}\n\n@keyframes blink {\n  0% { opacity: 1; }\n  50% { opacity: 0; }\n  100% { opacity: 1; }\n}\n\n.file-bubble-nest {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.file-bubble-vertical {\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.file-message-card {\n  display: flex;\n  align-items: center;\n  background: var(--bg-color-secondary);\n  border-radius: 12px;\n  padding: 8px 16px;\n  margin-bottom: 0;\n  min-width: 180px;\n  max-width: 320px;\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.04);\n  color: var(--text-color);\n}\n\n.file-icon-area {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n}\n\n.file-icon-img {\n  width: 32px;\n  height: 32px;\n}\n\n.file-info-area {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.file-name {\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--text-color);\n  margin-bottom: 2px;\n  word-break: break-all;\n}\n\n.file-meta {\n  font-size: 12px;\n  color: var(--text-color-secondary);\n}\n\n.file-desc-text {\n  margin-top: 8px;\n  font-size: 15px;\n  color: var(--text-color);\n  background: transparent;\n  border-radius: 8px;\n  padding: 0 2px;\n  display: inline-block;\n  word-break: break-all;\n}\n\n.openwebui-context-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 24px;\n  background-color: var(--bg-color-tertiary);\n  border-bottom: 1px solid var(--border-color);\n  font-size: 14px;\n  color: var(--text-color-secondary);\n}\n\n.context-info {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.context-icon {\n  color: var(--primary-color);\n  font-size: 16px;\n}\n\n.source-tag {\n  font-size: 10px;\n  color: #888;\n  margin-top: 8px;\n  display: inline-flex;\n  align-items: center;\n  padding: 2px 6px;\n  border-radius: 4px;\n  .el-icon {\n    margin-right: 4px;\n  }\n}\n\n.knowledge-base-tag {\n  background-color: #e8f5e9; /* Light green */\n  color: #2e7d32;\n}\n\n.general-ai-tag {\n  background-color: #e3f2fd; /* Light blue */\n  color: #1565c0;\n}\n\n/* Âè≥‰æßÈù¢ÊùøÊ†∑Âºè */\n.openwebui-right-panel {\n  width: 320px;\n  height: 100%;\n  background: #f9fafb;\n  border-left: 1px solid #ebeef5;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.3s ease;\n  overflow: hidden;\n}\n\n.openwebui-right-panel.collapsed {\n  width: 50px;\n}\n\n.right-panel-header {\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid #ebeef5;\n  background-color: #fff;\n}\n\n.right-panel-mode-controls {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  overflow: hidden;\n  transition: opacity 0.3s;\n}\n\n.collapsed .right-panel-mode-controls {\n  opacity: 0;\n  width: 0;\n  pointer-events: none;\n}\n\n.collapse-button {\n  margin-left: 8px;\n  background-color: var(--bg-color);\n  border: 1px solid var(--border-color);\n  color: var(--text-color);\n  transition: all 0.2s ease;\n}\n\n.collapse-button:hover {\n  border-color: var(--primary-color);\n  color: var(--primary-color);\n  transform: scale(1.1);\n  box-shadow: 0 0 8px rgba(var(--primary-color-rgb), 0.2);\n}\n\n.collapsed .collapse-button {\n  margin-left: 0;\n}\n\n.history-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 16px 16px;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  background-color: #f9fafb;\n}\n\n.history-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  padding: 16px 0 8px;\n  border-bottom: none;\n}\n\n.history-title {\n  font-size: 15px;\n  margin: 0;\n  color: #606266;\n  transition: opacity 0.2s;\n  line-height: 1.2;\n  font-weight: 500;\n}\n\n.clear-all-btn {\n  padding: 4px 12px;\n  font-size: 12px;\n  color: #909399;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  border-radius: 4px;\n}\n\n.clear-all-btn:hover {\n  background-color: #f0f0f0;\n  color: #f56c6c;\n}\n\n.history-list {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 0 4px;\n}\n\n.history-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-radius: 18px;\n  background: #fff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  overflow: hidden;\n  margin-bottom: 8px;\n  border: 1px solid #f0f0f0;\n  box-shadow: none;\n}\n\n.history-item:hover {\n  background: #f9fafb;\n  border-color: #e8e8e8;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.03);\n}\n\n.history-item.active {\n  background: var(--primary-color);\n  color: white;\n  border-color: var(--primary-color);\n}\n\n.history-item-content {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  overflow: hidden;\n  min-width: 0;\n}\n\n.history-item-icon {\n  min-width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  background-color: #eef5ff;\n  margin-right: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #409EFF;\n  font-size: 14px;\n}\n\n.history-item.active .history-item-icon {\n  background-color: rgba(255, 255, 255, 0.2);\n  color: white;\n}\n\n.history-item-info {\n  flex: 1;\n  min-width: 0;\n  overflow: hidden;\n}\n\n.history-item-title {\n  font-size: 14.5px;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 4px;\n  color: #333;\n}\n\n.history-item-time {\n  font-size: 12px;\n  color: #909399;\n}\n\n.history-item.active .history-item-time {\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.history-item-actions {\n  opacity: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 8px;\n}\n\n.delete-btn-wrapper {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: rgba(245, 108, 108, 0.08);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border: none;\n}\n\n.delete-btn-wrapper:hover {\n  background-color: rgba(245, 108, 108, 0.15);\n}\n\n.delete-icon {\n  font-size: 17px;\n  color: #f56c6c;\n  transition: all 0.2s ease;\n}\n\n.history-empty {\n  text-align: center;\n  padding: 30px 0;\n  color: #909399;\n  font-size: 14px;\n  font-style: normal;\n}\n\n.collapsed .history-item {\n  justify-content: center;\n  padding: 10px 0;\n}\n\n.collapsed .history-item-icon {\n  margin-right: 0;\n}\n\n.collapsed .history-item-info,\n.collapsed .history-item-actions {\n  display: none;\n}\n\n.collapsed .history-title {\n  opacity: 0;\n  height: 0;\n  margin: 0;\n  padding: 0;\n}\n\n.collapsed .history-container {\n  display: none;\n}\n\n.collapsed .right-panel-header {\n  justify-content: center;\n  padding-left: 0;\n  padding-right: 0;\n  border-bottom-color: transparent;\n}\n\n/* Êñ∞Â¢ûÂç°ÁâáÊ∂àÊÅØÊ†∑Âºè */\n.openwebui-card-message {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 8px; /* ÂáèÂ∞èÂÜÖËæπË∑ùÔºåËÆ©Âç°ÁâáÊõ¥Á¥ßÂáë */\n  width: 100%; /* Á°Æ‰øùÂç°ÁâáÂ°´Êª°Ê∞îÊ≥° */\n}\n\n.card-icon-wrapper {\n  font-size: 24px;\n  margin-top: 2px;\n}\n\n.card-content-wrapper {\n  flex: 1;\n  text-align: left;\n}\n\n.card-title {\n  font-weight: bold;\n  font-size: 16px;\n  margin-bottom: 4px;\n}\n\n.card-body {\n  font-size: 14px;\n  line-height: 1.5;\n  // Á°Æ‰øùÊç¢Ë°åÁ¨¶ÁîüÊïà\n  white-space: pre-wrap;\n  :deep(p) {\n    margin: 0;\n  }\n}\n\n/* Êñ∞Â¢ûÔºöÂç°ÁâáÊìç‰ΩúÂå∫ÂüüÊ†∑Âºè */\n.card-actions {\n  margin-top: 12px;\n  padding-top: 10px;\n  border-top: 1px solid var(--border-color);\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n/* Ê†πÊçÆÁä∂ÊÄÅËÆæÁΩÆ‰∏çÂêåÈ¢úËâ≤ */\n.success-card .card-icon-wrapper {\n  color: #67c23a; /* Element Plus ÊàêÂäüËâ≤ */\n}\n.success-card .card-title {\n  color: #67c23a;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .success-card {\n  border-left: 4px solid #67c23a;\n}\n\n.clarification-card .card-icon-wrapper {\n  color: #e6a23c; /* Element Plus Ë≠¶ÂëäËâ≤ */\n}\n.clarification-card .card-title {\n  color: #e6a23c;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .clarification-card {\n  border-left: 4px solid #e6a23c;\n}\n\n.error-card .card-icon-wrapper {\n  color: #f56c6c; /* Element Plus Âç±Èô©Ëâ≤ */\n}\n.error-card .card-title {\n  color: #f56c6c;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .error-card {\n  border-left: 4px solid #f56c6c;\n}\n\n.deleted-card .card-icon-wrapper {\n  color: #909399; /* Element Plus ÁÅ∞Ëâ≤ */\n}\n.deleted-card .card-title {\n  color: #909399;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .deleted-card {\n  border-left: 4px solid #909399;\n}\n</style>\n\n<style>\n.openwebui-md-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin: 8px 0;\n  background: var(--bg-color-secondary);\n  font-size: 15px;\n}\n.openwebui-md-table th, .openwebui-md-table td {\n  border: 1px solid var(--border-color);\n  padding: 6px 12px;\n  text-align: left;\n  color: var(--text-color);\n  background: var(--bg-color-secondary);\n}\n.openwebui-md-table th {\n  background: var(--bg-color-tertiary);\n  font-weight: 600;\n  color: var(--text-color-secondary);\n}\n/* ‰ª£Á†ÅÂùóÁæéÂåñÂíåÂ§çÂà∂ÊåâÈíÆ */\n.openwebui-md-code-block-beauty {\n  position: relative;\n  background: var(--bg-color-tertiary);\n  border-radius: 12px;\n  margin: 18px 0;\n  box-shadow: 0 4px 16px var(--shadow-color);\n  overflow: hidden;\n  border: 1px solid var(--border-color);\n}\n.openwebui-md-code-toolbar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: var(--bg-color-secondary);\n  border-bottom: 1px solid var(--border-color);\n  height: 36px;\n  padding: 0 14px;\n}\n.openwebui-md-code-lang {\n  font-size: 13px;\n  color: var(--text-color-tertiary);\n  font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', monospace;\n  user-select: none;\n}\n.openwebui-copy-btn {\n  background: var(--bg-color-tertiary);\n  border: 1px solid var(--border-color);\n  color: var(--primary-color);\n  border-radius: 6px;\n  font-size: 13px;\n  padding: 2px 12px;\n  cursor: pointer;\n  z-index: 2;\n  transition: background 0.2s, border 0.2s, color 0.2s;\n  outline: none;\n  margin-left: 8px;\n}\n.openwebui-copy-btn:hover {\n  background: var(--primary-color);\n  color: #fff;\n  border: 1px solid var(--primary-color);\n}\n.openwebui-md-pre {\n  margin: 0;\n  padding: 16px 18px;\n  background: var(--bg-color-tertiary);\n  border-radius: 0 0 12px 12px;\n  overflow-x: auto;\n  font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', monospace;\n  font-size: 15px;\n  line-height: 1.7;\n  color: var(--text-color);\n  min-height: 40px;\n}\n@media (max-width: 600px) {\n  .openwebui-md-pre {\n    font-size: 13px;\n    padding: 12px 6px;\n  }\n  .openwebui-md-code-block-beauty {\n    margin: 12px 0;\n  }\n}\n</style>\n\n<style>\n.openwebui-footer-hint {\n  font-size: 12px;\n  color: var(--text-color-secondary);\n  text-align: center;\n  padding-top: 8px;\n  user-select: none;\n  width: 100%;\n}\n</style>\n\n<style>\n.openwebui-upload-tooltip {\n  max-width: 300px !important;\n  background: var(--bg-color-secondary) !important;\n  color: var(--text-color) !important;\n  border: 1px solid var(--primary-color) !important;\n  border-radius: 8px !important;\n  box-shadow: 0 4px 12px rgba(var(--primary-color-rgb), 0.2) !important;\n  padding: 10px 14px !important;\n  font-size: 13px !important;\n  line-height: 1.6 !important;\n  white-space: pre-wrap; /* For newline in content */\n}\n\n.openwebui-upload-tooltip .el-popper__arrow::before {\n  border-color: var(--primary-color) !important;\n  background: var(--bg-color-secondary) !important;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.openwebui-options-area {\n  display: flex;\n  justify-content: center;\n  padding-top: 8px;\n}\n</style>\n\n<style>\n/* ÂØºËà™Âç°ÁâáÊ†∑Âºè */\n.welcome-message {\n  margin-bottom: 24px;\n  padding: 8px;\n  border-radius: 12px;\n  background-color: #f9fbff;\n}\n\n.welcome-message h3 {\n  margin-bottom: 12px;\n  font-size: 22px;\n  font-weight: 600;\n  color: #303133;\n  text-align: center;\n}\n\n.platform-intro {\n  background-color: #f0f7ff;\n  border-radius: 8px;\n  padding: 12px 16px;\n  margin-bottom: 18px;\n  border-left: 4px solid #409EFF;\n}\n\n.platform-intro p {\n  margin: 0;\n  color: #454b54;\n  font-size: 14.5px;\n  line-height: 1.6;\n  text-align: left;\n}\n\n.welcome-message p {\n  margin-bottom: 22px;\n  color: #606266;\n  font-size: 15px;\n  text-align: center;\n}\n\n.quick-nav-cards {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 16px;\n  margin-top: 15px;\n}\n\n.nav-card {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 16px;\n  background-color: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #ebeef5;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\n  position: relative;\n  overflow: hidden;\n}\n\n.nav-card:hover {\n  background-color: #f0f7ff;\n  border-color: #d0e3ff;\n  transform: translateY(-3px);\n  box-shadow: 0 6px 16px rgba(0,0,0,0.1);\n}\n\n.nav-card:hover .nav-card-arrow {\n  opacity: 1;\n  transform: translateX(0);\n}\n\n.nav-card-icon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 46px;\n  height: 46px;\n  font-size: 22px;\n  margin-right: 12px;\n  color: #ffffff;\n  background-color: #409EFF;\n  border-radius: 10px;\n  box-shadow: 0 2px 6px rgba(64, 158, 255, 0.25);\n  transition: all 0.3s ease;\n}\n\n.nav-card:hover .nav-card-icon {\n  transform: scale(1.1);\n}\n\n.nav-card-icon .el-icon,\n.nav-card-icon .bi {\n  font-size: 22px;\n}\n\n.nav-card:nth-child(2) .nav-card-icon {\n  background-color: #67C23A;\n  box-shadow: 0 2px 6px rgba(103, 194, 58, 0.25);\n}\n\n.nav-card:nth-child(3) .nav-card-icon {\n  background-color: #E6A23C;\n  box-shadow: 0 2px 6px rgba(230, 162, 60, 0.25);\n}\n\n.nav-card:nth-child(4) .nav-card-icon {\n  background-color: #F56C6C;\n  box-shadow: 0 2px 6px rgba(245, 108, 108, 0.25);\n}\n\n.nav-card:nth-child(5) .nav-card-icon {\n  background-color: #909399;\n  box-shadow: 0 2px 6px rgba(144, 147, 153, 0.25);\n}\n\n.nav-card:nth-child(6) .nav-card-icon {\n  background-color: #9c27b0;\n  box-shadow: 0 2px 6px rgba(156, 39, 176, 0.25);\n}\n\n.nav-card-content {\n  flex: 1;\n}\n\n.nav-card-title {\n  font-weight: 600;\n  font-size: 15px;\n  margin-bottom: 4px;\n  color: #303133;\n}\n\n.nav-card-desc {\n  font-size: 12px;\n  color: #909399;\n  line-height: 1.4;\n}\n\n.nav-card-arrow {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transform: translateX(10px);\n  transition: all 0.3s ease;\n  color: #409EFF;\n  font-weight: bold;\n  font-size: 18px;\n  margin-left: 5px;\n}\n\n.nav-arrow-icon {\n  font-style: normal;\n}\n\n/* ÂìçÂ∫îÂºèÂ∏ÉÂ±Ä */\n@media (max-width: 768px) {\n  .quick-nav-cards {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 12px;\n  }\n  \n  .nav-card {\n    padding: 12px;\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .nav-card-icon {\n    margin-right: 0;\n    margin-bottom: 10px;\n    width: 42px;\n    height: 42px;\n  }\n  \n  .nav-card-title {\n    margin-bottom: 4px;\n  }\n  \n  .nav-card-arrow {\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    font-size: 14px;\n  }\n}\n\n@media (max-width: 480px) {\n  .welcome-message h3 {\n    font-size: 18px;\n  }\n  \n  .welcome-message p {\n    font-size: 14px;\n    margin-bottom: 16px;\n  }\n  \n  .quick-nav-cards {\n    grid-template-columns: 1fr;\n    gap: 10px;\n  }\n  \n  .nav-card {\n    flex-direction: row;\n    text-align: left;\n    padding: 12px;\n  }\n  \n  .nav-card-icon {\n    margin-right: 12px;\n    margin-bottom: 0;\n  }\n}\n\n/* Êõ¥Êñ∞Âπ≥Âè∞‰ªãÁªçÊ†∑Âºè */\n.platform-intro {\n  background-color: #f0f7ff;\n  border-radius: 12px;\n  padding: 16px 20px;\n  margin-bottom: 22px;\n  border-left: 4px solid #409EFF;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n.platform-intro p {\n  margin: 0 0 12px;\n  color: #454b54;\n  font-size: 14.5px;\n  line-height: 1.6;\n  text-align: left;\n}\n\n.platform-intro p:last-child {\n  margin-bottom: 0;\n  font-style: italic;\n  color: #606266;\n}\n\n.platform-features {\n  padding-left: 18px;\n  margin: 12px 0 14px;\n  list-style-type: none;\n}\n\n.platform-features li {\n  position: relative;\n  padding-left: 8px;\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: #454b54;\n  line-height: 1.5;\n}\n\n.platform-features li::before {\n  content: \"‚Ä¢\";\n  position: absolute;\n  left: -12px;\n  color: #409EFF;\n  font-weight: bold;\n}\n\n.feature-highlight {\n  font-weight: 600;\n  color: #303133;\n}\n\n/* ‰øÆÊîπ‰∏Ä‰∏ãwelcome-messageÊ†∑Âºè */\n.welcome-message h3 {\n  margin-bottom: 16px;\n  font-size: 22px;\n  font-weight: 600;\n  color: #303133;\n  text-align: center;\n}\n\n.welcome-message > p {\n  margin-bottom: 22px;\n  color: #606266;\n  font-size: 15px;\n  text-align: center;\n}\n</style> \n\n<!-- Ê∑ªÂä†‰∫ã‰ª∂ÁºñËæëË°®ÂçïÊ†∑Âºè -->\n<style>\n.event-edit-dialog .el-message-box__input {\n  padding: 0;\n}\n\n.event-edit-dialog .el-message-box__input input {\n  display: none;\n}\n\n.event-edit-form {\n  padding: 10px 0;\n}\n\n.event-edit-form .form-group {\n  margin-bottom: 15px;\n}\n\n.event-edit-form label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: var(--text-color);\n}\n\n.event-edit-form .form-control {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n  font-size: 14px;\n  transition: border-color 0.2s;\n}\n\n.event-edit-form .form-control:focus {\n  border-color: var(--primary-color);\n  outline: none;\n}\n\n.event-edit-form textarea.form-control {\n  min-height: 80px;\n  resize: vertical;\n}\n\n.event-edit-form select.form-control {\n  appearance: auto;\n  height: 38px;\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\");\n  background-position: right 0.5rem center;\n  background-repeat: no-repeat;\n  background-size: 1.5em 1.5em;\n  padding-right: 2.5rem;\n  -webkit-print-color-adjust: exact;\n  print-color-adjust: exact;\n}\n\n/* Â¢ûÂä†ÂØπËØùÊ°ÜÂÆΩÂ∫¶ */\n.event-edit-dialog .el-message-box {\n  width: 400px;\n  max-width: 95vw;\n}\n\n/* ÊöóËâ≤‰∏ªÈ¢òÈÄÇÈÖç */\nbody[data-theme=\"dark\"] .event-edit-form .form-control {\n  background-color: var(--bg-color-secondary);\n  border-color: var(--border-color);\n  color: var(--text-color);\n}\n\nbody[data-theme=\"dark\"] .event-edit-form label {\n  color: var(--text-color-secondary);\n}\n\n/* ‰øÆÂ§çdatetime-localËæìÂÖ•Ê°ÜÊ†∑Âºè */\n.event-edit-form input[type=\"datetime-local\"] {\n  padding-right: 0.75rem;\n}\n\n/* Á°Æ‰øùË°®ÂçïÂú®‰∏çÂêåÊµèËßàÂô®‰∏≠Ê≠£Â∏∏ÊòæÁ§∫ */\n@supports (-moz-appearance: none) {\n  .event-edit-form select.form-control {\n    padding-right: 2rem;\n    background-image: none;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n// ... existing code ...\n\n/* Âç°ÁâáÊ∂àÊÅØÊ†∑Âºè */\n.openwebui-card-message {\n  padding: 12px;\n  border-radius: 8px;\n  background-color: var(--bg-color-secondary);\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.openwebui-card-message:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.card-icon-wrapper {\n  margin-right: 12px;\n  font-size: 20px;\n  padding-top: 2px;\n}\n\n.card-content-wrapper {\n  flex: 1;\n}\n\n.card-title {\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.card-body {\n  font-size: 14px;\n  color: var(--text-color);\n  line-height: 1.5;\n}\n\n.card-actions {\n  margin-top: 12px;\n  display: flex;\n  gap: 8px;\n}\n\n/* Ê†πÊçÆÁä∂ÊÄÅËÆæÁΩÆ‰∏çÂêåÈ¢úËâ≤ */\n.success-card .card-icon-wrapper {\n  color: #67c23a; /* Element Plus ÊàêÂäüËâ≤ */\n}\n.success-card .card-title {\n  color: #67c23a;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .success-card {\n  border-left: 4px solid #67c23a;\n}\n\n.clarification-card .card-icon-wrapper {\n  color: #e6a23c; /* Element Plus Ë≠¶ÂëäËâ≤ */\n}\n.clarification-card .card-title {\n  color: #e6a23c;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .clarification-card {\n  border-left: 4px solid #e6a23c;\n}\n\n.error-card .card-icon-wrapper {\n  color: #f56c6c; /* Element Plus Âç±Èô©Ëâ≤ */\n}\n.error-card .card-title {\n  color: #f56c6c;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .error-card {\n  border-left: 4px solid #f56c6c;\n}\n\n.deleted-card .card-icon-wrapper {\n  color: #909399; /* Element Plus ÁÅ∞Ëâ≤ */\n}\n.deleted-card .card-title {\n  color: #909399;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble .deleted-card {\n  border-left: 4px solid #909399;\n}\n</style>\n\n<!-- Ê∑ªÂä†‰∫ã‰ª∂ÁºñËæëË°®ÂçïÊ†∑Âºè -->\n<style>\n.event-edit-dialog .el-message-box__input {\n  padding: 0;\n}\n\n.event-edit-dialog .el-message-box__input input {\n  display: none;\n}\n\n.event-edit-form {\n  padding: 10px 0;\n}\n\n.event-edit-form .form-group {\n  margin-bottom: 15px;\n}\n\n.event-edit-form label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: var(--text-color);\n}\n\n.event-edit-form .form-control {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n  font-size: 14px;\n  transition: border-color 0.2s;\n}\n\n.event-edit-form .form-control:focus {\n  border-color: var(--primary-color);\n  outline: none;\n}\n\n.event-edit-form textarea.form-control {\n  min-height: 80px;\n  resize: vertical;\n}\n\n.event-edit-form select.form-control {\n  appearance: auto;\n}\n</style>\n\n<style>\n/* Á°Æ‰øù el-dialog Âú®ÊöóÈªëÊ®°Âºè‰∏ãÊ†∑ÂºèÊ≠£Á°Æ */\n.calendar-dialog .el-dialog {\n  background-color: var(--bg-color);\n}\n.calendar-dialog .el-dialog__title {\n  color: var(--text-color);\n}\n.calendar-dialog .el-dialog__header {\n  border-bottom: 1px solid var(--border-color);\n}\n.calendar-dialog .el-dialog__body {\n  background-color: var(--bg-color);\n  color: var(--text-color);\n}\n.calendar-dialog .el-dialog__footer {\n  border-top: 1px solid var(--border-color);\n}\n.calendar-dialog .el-form-item__label {\n  color: var(--text-color);\n}\n.calendar-dialog .el-input__wrapper,\n.calendar-dialog .el-textarea__inner {\n  background-color: var(--bg-color-secondary) !important;\n  box-shadow: none !important;\n  border: 1px solid var(--border-color);\n  color: var(--text-color);\n}\n.calendar-dialog .el-input__inner {\n  color: var(--text-color) !important;\n}\n\n/* ÁßªÈô§ÊóßÁöÑ„ÄÅ‰∏çÂÜçÈúÄË¶ÅÁöÑCSS */\n.event-edit-dialog .el-message-box__input {\n  display: none;\n}\n.event-edit-form {\n  display: none;\n}\n</style>"],"mappings":"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","ignoreList":[]}]}