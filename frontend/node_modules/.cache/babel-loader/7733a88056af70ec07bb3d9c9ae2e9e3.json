{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\quill\\ui\\tooltip.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\quill\\ui\\tooltip.js","mtime":1751792162346},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Y29uc3QgaXNTY3JvbGxhYmxlID0gZWwgPT4gewogIGNvbnN0IHsKICAgIG92ZXJmbG93WQogIH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTsKICByZXR1cm4gb3ZlcmZsb3dZICE9PSAndmlzaWJsZScgJiYgb3ZlcmZsb3dZICE9PSAnY2xpcCc7Cn07CmNsYXNzIFRvb2x0aXAgewogIGNvbnN0cnVjdG9yKHF1aWxsLCBib3VuZHNDb250YWluZXIpIHsKICAgIHRoaXMucXVpbGwgPSBxdWlsbDsKICAgIHRoaXMuYm91bmRzQ29udGFpbmVyID0gYm91bmRzQ29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHk7CiAgICB0aGlzLnJvb3QgPSBxdWlsbC5hZGRDb250YWluZXIoJ3FsLXRvb2x0aXAnKTsKICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgIHRoaXMucm9vdC5pbm5lckhUTUwgPSB0aGlzLmNvbnN0cnVjdG9yLlRFTVBMQVRFOwogICAgaWYgKGlzU2Nyb2xsYWJsZSh0aGlzLnF1aWxsLnJvb3QpKSB7CiAgICAgIHRoaXMucXVpbGwucm9vdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7CiAgICAgICAgdGhpcy5yb290LnN0eWxlLm1hcmdpblRvcCA9IGAkey0xICogdGhpcy5xdWlsbC5yb290LnNjcm9sbFRvcH1weGA7CiAgICAgIH0pOwogICAgfQogICAgdGhpcy5oaWRlKCk7CiAgfQogIGhpZGUoKSB7CiAgICB0aGlzLnJvb3QuY2xhc3NMaXN0LmFkZCgncWwtaGlkZGVuJyk7CiAgfQogIHBvc2l0aW9uKHJlZmVyZW5jZSkgewogICAgY29uc3QgbGVmdCA9IHJlZmVyZW5jZS5sZWZ0ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIHRoaXMucm9vdC5vZmZzZXRXaWR0aCAvIDI7CiAgICAvLyByb290LnNjcm9sbFRvcCBzaG91bGQgYmUgMCBpZiBzY3JvbGxDb250YWluZXIgIT09IHJvb3QKICAgIGNvbnN0IHRvcCA9IHJlZmVyZW5jZS5ib3R0b20gKyB0aGlzLnF1aWxsLnJvb3Quc2Nyb2xsVG9wOwogICAgdGhpcy5yb290LnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDsKICAgIHRoaXMucm9vdC5zdHlsZS50b3AgPSBgJHt0b3B9cHhgOwogICAgdGhpcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoJ3FsLWZsaXAnKTsKICAgIGNvbnN0IGNvbnRhaW5lckJvdW5kcyA9IHRoaXMuYm91bmRzQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgY29uc3Qgcm9vdEJvdW5kcyA9IHRoaXMucm9vdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIGxldCBzaGlmdCA9IDA7CiAgICBpZiAocm9vdEJvdW5kcy5yaWdodCA+IGNvbnRhaW5lckJvdW5kcy5yaWdodCkgewogICAgICBzaGlmdCA9IGNvbnRhaW5lckJvdW5kcy5yaWdodCAtIHJvb3RCb3VuZHMucmlnaHQ7CiAgICAgIHRoaXMucm9vdC5zdHlsZS5sZWZ0ID0gYCR7bGVmdCArIHNoaWZ0fXB4YDsKICAgIH0KICAgIGlmIChyb290Qm91bmRzLmxlZnQgPCBjb250YWluZXJCb3VuZHMubGVmdCkgewogICAgICBzaGlmdCA9IGNvbnRhaW5lckJvdW5kcy5sZWZ0IC0gcm9vdEJvdW5kcy5sZWZ0OwogICAgICB0aGlzLnJvb3Quc3R5bGUubGVmdCA9IGAke2xlZnQgKyBzaGlmdH1weGA7CiAgICB9CiAgICBpZiAocm9vdEJvdW5kcy5ib3R0b20gPiBjb250YWluZXJCb3VuZHMuYm90dG9tKSB7CiAgICAgIGNvbnN0IGhlaWdodCA9IHJvb3RCb3VuZHMuYm90dG9tIC0gcm9vdEJvdW5kcy50b3A7CiAgICAgIGNvbnN0IHZlcnRpY2FsU2hpZnQgPSByZWZlcmVuY2UuYm90dG9tIC0gcmVmZXJlbmNlLnRvcCArIGhlaWdodDsKICAgICAgdGhpcy5yb290LnN0eWxlLnRvcCA9IGAke3RvcCAtIHZlcnRpY2FsU2hpZnR9cHhgOwogICAgICB0aGlzLnJvb3QuY2xhc3NMaXN0LmFkZCgncWwtZmxpcCcpOwogICAgfQogICAgcmV0dXJuIHNoaWZ0OwogIH0KICBzaG93KCkgewogICAgdGhpcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoJ3FsLWVkaXRpbmcnKTsKICAgIHRoaXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKCdxbC1oaWRkZW4nKTsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDs="},{"version":3,"names":["isScrollable","el","overflowY","getComputedStyle","Tooltip","constructor","quill","boundsContainer","document","body","root","addContainer","innerHTML","TEMPLATE","addEventListener","style","marginTop","scrollTop","hide","classList","add","position","reference","left","width","offsetWidth","top","bottom","remove","containerBounds","getBoundingClientRect","rootBounds","shift","right","height","verticalShift","show"],"sources":["../../src/ui/tooltip.ts"],"sourcesContent":["import type Quill from '../core.js';\nimport type { Bounds } from '../core/selection.js';\n\nconst isScrollable = (el: Element) => {\n  const { overflowY } = getComputedStyle(el, null);\n  return overflowY !== 'visible' && overflowY !== 'clip';\n};\n\nclass Tooltip {\n  quill: Quill;\n  boundsContainer: HTMLElement;\n  root: HTMLDivElement;\n\n  constructor(quill: Quill, boundsContainer?: HTMLElement) {\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    // @ts-expect-error\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (isScrollable(this.quill.root)) {\n      this.quill.root.addEventListener('scroll', () => {\n        this.root.style.marginTop = `${-1 * this.quill.root.scrollTop}px`;\n      });\n    }\n    this.hide();\n  }\n\n  hide() {\n    this.root.classList.add('ql-hidden');\n  }\n\n  position(reference: Bounds) {\n    const left =\n      reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n    // root.scrollTop should be 0 if scrollContainer !== root\n    const top = reference.bottom + this.quill.root.scrollTop;\n    this.root.style.left = `${left}px`;\n    this.root.style.top = `${top}px`;\n    this.root.classList.remove('ql-flip');\n    const containerBounds = this.boundsContainer.getBoundingClientRect();\n    const rootBounds = this.root.getBoundingClientRect();\n    let shift = 0;\n    if (rootBounds.right > containerBounds.right) {\n      shift = containerBounds.right - rootBounds.right;\n      this.root.style.left = `${left + shift}px`;\n    }\n    if (rootBounds.left < containerBounds.left) {\n      shift = containerBounds.left - rootBounds.left;\n      this.root.style.left = `${left + shift}px`;\n    }\n    if (rootBounds.bottom > containerBounds.bottom) {\n      const height = rootBounds.bottom - rootBounds.top;\n      const verticalShift = reference.bottom - reference.top + height;\n      this.root.style.top = `${top - verticalShift}px`;\n      this.root.classList.add('ql-flip');\n    }\n    return shift;\n  }\n\n  show() {\n    this.root.classList.remove('ql-editing');\n    this.root.classList.remove('ql-hidden');\n  }\n}\n\nexport default Tooltip;\n"],"mappings":"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","ignoreList":[]}]}