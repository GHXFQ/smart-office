{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\profile\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\profile\\index.vue","mtime":1747306714455},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgcmVhY3RpdmUsIGNvbXB1dGVkLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSwgdXBkYXRlVXNlclByb2ZpbGUsIGNoYW5nZVBhc3N3b3JkIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGdldERlcGFydG1lbnRMaXN0IH0gZnJvbSAnQC9hcGkvZGVwYXJ0bWVudCc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogJ1VzZXJQcm9maWxlJywKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGNvbnN0IHByb2ZpbGVGb3JtID0gcmVmKG51bGwpOwogICAgY29uc3QgcGFzc3dvcmRGb3JtUmVmID0gcmVmKG51bGwpOwoKICAgIC8vIOihqOWNleaVsOaNrgogICAgY29uc3QgZm9ybSA9IHJlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwaG9uZTogJycsCiAgICAgIHBvc2l0aW9uOiAnJywKICAgICAgZGVwYXJ0bWVudF9pZDogJycsCiAgICAgIGRlcGFydG1lbnQ6ICcnLAogICAgICBhdmF0YXI6ICcnLAogICAgICBiaW86ICcnCiAgICB9KTsKCiAgICAvLyDlr4bnoIHkv67mlLnooajljZUKICAgIGNvbnN0IHBhc3N3b3JkRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgb2xkX3Bhc3N3b3JkOiAnJywKICAgICAgbmV3X3Bhc3N3b3JkOiAnJywKICAgICAgY29uZmlybV9wYXNzd29yZDogJycKICAgIH0pOwoKICAgIC8vIOmhtemdoueKtuaAgQogICAgY29uc3QgbG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBwYXNzd29yZExvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZGlhbG9nVmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBkZXBhcnRtZW50cyA9IHJlZihbXSk7CiAgICBjb25zdCBhbGVydFZpc2libGUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgYWxlcnRNZXNzYWdlID0gcmVmKCcnKTsKICAgIGNvbnN0IGFsZXJ0VHlwZSA9IHJlZignc3VjY2VzcycpOwoKICAgIC8vIOiOt+WPlueUqOaIt+S/oeaBrwogICAgY29uc3QgdXNlckluZm8gPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvKTsKCiAgICAvLyDorqHnrpfnlKjmiLflkI3pppblrZfmr43vvIjnlKjkuo7ml6DlpLTlg4/ml7bmmL7npLrvvIkKICAgIGNvbnN0IHVzZXJJbml0aWFsID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoZm9ybS5uYW1lKSB7CiAgICAgICAgcmV0dXJuIGZvcm0ubmFtZS5jaGFyQXQoMCk7CiAgICAgIH0gZWxzZSBpZiAoZm9ybS51c2VybmFtZSkgewogICAgICAgIHJldHVybiBmb3JtLnVzZXJuYW1lLmNoYXJBdCgwKTsKICAgICAgfQogICAgICByZXR1cm4gJ+eUqCc7CiAgICB9KTsKCiAgICAvLyDooajljZXpqozor4Hop4TliJkKICAgIGNvbnN0IHJ1bGVzID0gewogICAgICBuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlp5PlkI0nLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgZW1haWw6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUteWtkOmCrueusScsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnZW1haWwnLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTnlLXlrZDpgq7nrrHmoLzlvI8nLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgcGhvbmU6IFt7CiAgICAgICAgcGF0dGVybjogL14xWzMtOV1cZHs5fSQvLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7fnoIEnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XQogICAgfTsKCiAgICAvLyDlr4bnoIHpqozor4Hop4TliJkKICAgIGNvbnN0IHBhc3N3b3JkUnVsZXMgPSB7CiAgICAgIG9sZF9wYXNzd29yZDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5b2T5YmN5a+G56CBJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIG5ld19wYXNzd29yZDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paw5a+G56CBJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIG1pbjogNiwKICAgICAgICBtZXNzYWdlOiAn5a+G56CB6ZW/5bqm6Iez5bCR5Li6NuS4quWtl+espicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBjb25maXJtX3Bhc3N3b3JkOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7flho3mrKHovpPlhaXmlrDlr4bnoIEnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICBpZiAodmFsdWUgIT09IHBhc3N3b3JkRm9ybS5uZXdfcGFzc3dvcmQpIHsKICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfkuKTmrKHovpPlhaXnmoTlr4bnoIHkuI3kuIDoh7QnKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dCiAgICB9OwoKICAgIC8vIOS4iuS8oOebuOWFswogICAgY29uc3QgdXBsb2FkVXJsID0gYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSX0vYXBpL3VzZXIvYXZhdGFyL2A7CiAgICBjb25zdCB1cGxvYWRIZWFkZXJzID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gewogICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdG9yZS5zdGF0ZS51c2VyLnRva2VufWAKICAgICAgfTsKICAgIH0pOwoKICAgIC8vIOmhtemdouWIneWni+WMlgogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgZmV0Y2hVc2VyUHJvZmlsZSgpOwogICAgICBmZXRjaERlcGFydG1lbnRzKCk7CiAgICB9KTsKCiAgICAvLyDojrflj5bnlKjmiLfotYTmlpkKICAgIGNvbnN0IGZldGNoVXNlclByb2ZpbGUgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBnZXRVc2VyUHJvZmlsZSgpOwogICAgICAgIE9iamVjdC5hc3NpZ24oZm9ybSwgZGF0YSk7CgogICAgICAgIC8vIOWkhOeQhumDqOmXqOWQjeensOaYvuekugogICAgICAgIGlmIChkYXRhLmRlcGFydG1lbnQpIHsKICAgICAgICAgIGZvcm0uZGVwYXJ0bWVudCA9IGRhdGEuZGVwYXJ0bWVudC5uYW1lOwogICAgICAgICAgZm9ybS5kZXBhcnRtZW50X2lkID0gZGF0YS5kZXBhcnRtZW50LmlkOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bnlKjmiLfotYTmlpnlpLHotKUnLCBlcnJvcik7CiAgICAgICAgc2hvd0FsZXJ0KCfojrflj5bnlKjmiLfotYTmlpnlpLHotKUnLCAnZXJyb3InKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDojrflj5bpg6jpl6jliJfooagKICAgIGNvbnN0IGZldGNoRGVwYXJ0bWVudHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBnZXREZXBhcnRtZW50TGlzdCgpOwogICAgICAgIGRlcGFydG1lbnRzLnZhbHVlID0gZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bpg6jpl6jliJfooajlpLHotKUnLCBlcnJvcik7CiAgICAgIH0KICAgIH07CgogICAgLy8g5o+Q5Lqk6KGo5Y2VCiAgICBjb25zdCBzdWJtaXRGb3JtID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoIXByb2ZpbGVGb3JtLnZhbHVlKSByZXR1cm47CiAgICAgIGF3YWl0IHByb2ZpbGVGb3JtLnZhbHVlLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYXdhaXQgdXBkYXRlVXNlclByb2ZpbGUoZm9ybSk7CiAgICAgICAgICAgIHNob3dBbGVydCgn5Liq5Lq65L+h5oGv5bey5pu05pawJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgLy8g5pu05pawIFZ1ZXgg5Lit55qE55So5oi35L+h5oGvCiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldFVzZXJJbmZvJyk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmm7TmlrDkuKrkurrkv6Hmga/lpLHotKUnLCBlcnJvcik7CiAgICAgICAgICAgIHNob3dBbGVydCgn5pu05paw5Liq5Lq65L+h5oGv5aSx6LSlJywgJ2Vycm9yJyk7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgLy8g5aS05YOP5LiK5Lyg5YmN55qE5aSE55CGCiAgICBjb25zdCBiZWZvcmVBdmF0YXJVcGxvYWQgPSBmaWxlID0+IHsKICAgICAgY29uc3QgaXNJbWFnZSA9IGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKTsKICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwogICAgICBpZiAoIWlzSW1hZ2UpIHsKICAgICAgICBzaG93QWxlcnQoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYr+WbvueJh+agvOW8jyEnLCAnd2FybmluZycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIWlzTHQyTSkgewogICAgICAgIHNob3dBbGVydCgn5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnLCAnd2FybmluZycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CgogICAgLy8g5aS05YOP5LiK5Lyg5oiQ5Yqf55qE5aSE55CGCiAgICBjb25zdCBoYW5kbGVBdmF0YXJTdWNjZXNzID0gcmVzID0+IHsKICAgICAgZm9ybS5hdmF0YXIgPSByZXMuZGF0YS5hdmF0YXI7CiAgICAgIHNob3dBbGVydCgn5aS05YOP5LiK5Lyg5oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgLy8g5pu05pawIFZ1ZXgg5Lit55qE55So5oi35L+h5oGvCiAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldFVzZXJJbmZvJyk7CiAgICB9OwoKICAgIC8vIOaYvuekuuS/ruaUueWvhueggeWvueivneahhgogICAgY29uc3Qgc2hvd0NoYW5nZVBhc3N3b3JkRGlhbG9nID0gKCkgPT4gewogICAgICBkaWFsb2dWaXNpYmxlLnZhbHVlID0gdHJ1ZTsKICAgICAgLy8g6YeN572u5a+G56CB6KGo5Y2VCiAgICAgIGlmIChwYXNzd29yZEZvcm1SZWYudmFsdWUpIHsKICAgICAgICBwYXNzd29yZEZvcm1SZWYudmFsdWUucmVzZXRGaWVsZHMoKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDkv67mlLnlr4bnoIEKICAgIGNvbnN0IGNoYW5nZVBhc3N3b3JkID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoIXBhc3N3b3JkRm9ybVJlZi52YWx1ZSkgcmV0dXJuOwogICAgICBhd2FpdCBwYXNzd29yZEZvcm1SZWYudmFsdWUudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcGFzc3dvcmRMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGF3YWl0IGNoYW5nZVBhc3N3b3JkKHsKICAgICAgICAgICAgICBvbGRfcGFzc3dvcmQ6IHBhc3N3b3JkRm9ybS5vbGRfcGFzc3dvcmQsCiAgICAgICAgICAgICAgbmV3X3Bhc3N3b3JkOiBwYXNzd29yZEZvcm0ubmV3X3Bhc3N3b3JkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkaWFsb2dWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgIHNob3dBbGVydCgn5a+G56CB5L+u5pS55oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UsIF9lcnJvciRyZXNwb25zZSRkYXRhOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCflr4bnoIHkv67mlLnlpLHotKUnLCBlcnJvcik7CiAgICAgICAgICAgIHNob3dBbGVydCgoKF9lcnJvciRyZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyb3IkcmVzcG9uc2UkZGF0YSA9IF9lcnJvciRyZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlJGRhdGEubWVzc2FnZSkgfHwgJ+WvhueggeS/ruaUueWksei0pScsICdlcnJvcicpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgcGFzc3dvcmRMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgLy8g5pi+56S65o+Q56S65raI5oGvCiAgICBjb25zdCBzaG93QWxlcnQgPSAobWVzc2FnZSwgdHlwZSA9ICdzdWNjZXNzJykgPT4gewogICAgICBhbGVydE1lc3NhZ2UudmFsdWUgPSBtZXNzYWdlOwogICAgICBhbGVydFR5cGUudmFsdWUgPSB0eXBlOwogICAgICBhbGVydFZpc2libGUudmFsdWUgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBhbGVydFZpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgfSwgMzAwMCk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgZm9ybSwKICAgICAgcnVsZXMsCiAgICAgIGxvYWRpbmcsCiAgICAgIHVzZXJJbmZvLAogICAgICB1c2VySW5pdGlhbCwKICAgICAgcHJvZmlsZUZvcm0sCiAgICAgIGRlcGFydG1lbnRzLAogICAgICB1cGxvYWRVcmwsCiAgICAgIHVwbG9hZEhlYWRlcnMsCiAgICAgIGJlZm9yZUF2YXRhclVwbG9hZCwKICAgICAgaGFuZGxlQXZhdGFyU3VjY2VzcywKICAgICAgc3VibWl0Rm9ybSwKICAgICAgLy8g5a+G56CB55u45YWzCiAgICAgIHBhc3N3b3JkRm9ybSwKICAgICAgcGFzc3dvcmRGb3JtUmVmLAogICAgICBwYXNzd29yZFJ1bGVzLAogICAgICBwYXNzd29yZExvYWRpbmcsCiAgICAgIGRpYWxvZ1Zpc2libGUsCiAgICAgIHNob3dDaGFuZ2VQYXNzd29yZERpYWxvZywKICAgICAgY2hhbmdlUGFzc3dvcmQsCiAgICAgIC8vIOa2iOaBr+aPkOekugogICAgICBhbGVydFZpc2libGUsCiAgICAgIGFsZXJ0TWVzc2FnZSwKICAgICAgYWxlcnRUeXBlCiAgICB9OwogIH0KfSk7"},{"version":3,"names":["defineComponent","ref","reactive","computed","onMounted","useStore","getUserProfile","updateUserProfile","changePassword","getDepartmentList","name","setup","store","profileForm","passwordFormRef","form","username","email","phone","position","department_id","department","avatar","bio","passwordForm","old_password","new_password","confirm_password","loading","passwordLoading","dialogVisible","departments","alertVisible","alertMessage","alertType","userInfo","state","user","userInitial","charAt","rules","required","message","trigger","type","pattern","passwordRules","min","validator","rule","value","callback","Error","uploadUrl","process","env","VUE_APP_BASE_API","uploadHeaders","Authorization","token","fetchUserProfile","fetchDepartments","data","Object","assign","id","error","console","showAlert","submitForm","validate","valid","dispatch","beforeAvatarUpload","file","isImage","startsWith","isLt2M","size","handleAvatarSuccess","res","showChangePasswordDialog","resetFields","_error$response","_error$response$data","response","setTimeout"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\profile\\index.vue"],"sourcesContent":["<template>\r\n  <div class=\"profile-container\">\r\n    <el-card class=\"profile-card\">\r\n      <div class=\"profile-header\">\r\n        <h2><i class=\"el-icon-user me-2\"></i>个人中心</h2>\r\n        <p class=\"text-muted\">查看和管理您的个人信息。</p>\r\n      </div>\r\n\r\n      <!-- 消息提示区域 -->\r\n      <el-alert\r\n        v-if=\"alertVisible\"\r\n        :title=\"alertMessage\"\r\n        :type=\"alertType\"\r\n        show-icon\r\n        @close=\"alertVisible = false\"\r\n        class=\"mb-4\"\r\n      />\r\n\r\n      <div class=\"profile-content\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :xs=\"24\" :sm=\"8\" :md=\"6\" class=\"text-center\">\r\n            <div class=\"profile-avatar mb-3\">\r\n              <el-avatar \r\n                :size=\"120\" \r\n                :src=\"form.avatar\" \r\n                v-if=\"form.avatar\">\r\n              </el-avatar>\r\n              <el-avatar \r\n                :size=\"120\" \r\n                v-else \r\n                class=\"default-avatar\">\r\n                {{ userInitial }}\r\n              </el-avatar>\r\n            </div>\r\n            <h5>{{ form.name || userInfo.username }}</h5>\r\n            <p class=\"text-muted\">{{ form.department }} / {{ form.position }}</p>\r\n            \r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"uploadUrl\"\r\n              :headers=\"uploadHeaders\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleAvatarSuccess\"\r\n              :before-upload=\"beforeAvatarUpload\">\r\n              <el-button size=\"small\" type=\"primary\" icon=\"el-icon-edit\">\r\n                编辑头像\r\n              </el-button>\r\n            </el-upload>\r\n          </el-col>\r\n          \r\n          <el-col :xs=\"24\" :sm=\"16\" :md=\"18\">\r\n            <h4>基本信息</h4>\r\n            <el-divider />\r\n            \r\n            <el-form \r\n              ref=\"profileForm\" \r\n              :model=\"form\" \r\n              :rules=\"rules\" \r\n              label-width=\"100px\"\r\n              label-position=\"left\">\r\n              \r\n              <el-form-item label=\"用户名\" prop=\"username\">\r\n                <el-input v-model=\"form.username\" disabled></el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"姓名\" prop=\"name\">\r\n                <el-input v-model=\"form.name\"></el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"电子邮箱\" prop=\"email\">\r\n                <el-input v-model=\"form.email\"></el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"电话号码\" prop=\"phone\">\r\n                <el-input v-model=\"form.phone\"></el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"职位\" prop=\"position\">\r\n                <el-input v-model=\"form.position\"></el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"部门\" prop=\"department\">\r\n                <el-select v-model=\"form.department_id\" placeholder=\"请选择部门\" style=\"width: 100%\">\r\n                  <el-option\r\n                    v-for=\"item in departments\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.id\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              \r\n              <el-form-item label=\"个人简介\" prop=\"bio\">\r\n                <el-input type=\"textarea\" v-model=\"form.bio\" :rows=\"3\"></el-input>\r\n              </el-form-item>\r\n              \r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submitForm\" :loading=\"loading\">\r\n                  保存更改\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n\r\n            <h4 class=\"mt-5\">账户安全</h4>\r\n            <el-divider />\r\n            \r\n            <div class=\"security-options\">\r\n              <div class=\"security-item\">\r\n                <span>登录密码</span>\r\n                <el-button size=\"small\" @click=\"showChangePasswordDialog\">修改密码</el-button>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-card>\r\n    \r\n    <!-- 修改密码对话框 -->\r\n    <el-dialog\r\n      title=\"修改密码\"\r\n      v-model=\"dialogVisible\"\r\n      width=\"30%\">\r\n      <el-form\r\n        ref=\"passwordForm\"\r\n        :model=\"passwordForm\"\r\n        :rules=\"passwordRules\"\r\n        label-width=\"100px\">\r\n        <el-form-item label=\"当前密码\" prop=\"old_password\">\r\n          <el-input\r\n            v-model=\"passwordForm.old_password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入当前密码\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\" prop=\"new_password\">\r\n          <el-input\r\n            v-model=\"passwordForm.new_password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入新密码\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认密码\" prop=\"confirm_password\">\r\n          <el-input\r\n            v-model=\"passwordForm.confirm_password\"\r\n            type=\"password\"\r\n            placeholder=\"请再次输入新密码\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"changePassword\" :loading=\"passwordLoading\">\r\n            确认\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, reactive, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { getUserProfile, updateUserProfile, changePassword } from '@/api/user'\r\nimport { getDepartmentList } from '@/api/department'\r\n\r\nexport default defineComponent({\r\n  name: 'UserProfile',\r\n  \r\n  setup() {\r\n    const store = useStore()\r\n    const profileForm = ref(null)\r\n    const passwordFormRef = ref(null)\r\n    \r\n    // 表单数据\r\n    const form = reactive({\r\n      username: '',\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      position: '',\r\n      department_id: '',\r\n      department: '',\r\n      avatar: '',\r\n      bio: ''\r\n    })\r\n    \r\n    // 密码修改表单\r\n    const passwordForm = reactive({\r\n      old_password: '',\r\n      new_password: '',\r\n      confirm_password: ''\r\n    })\r\n    \r\n    // 页面状态\r\n    const loading = ref(false)\r\n    const passwordLoading = ref(false)\r\n    const dialogVisible = ref(false)\r\n    const departments = ref([])\r\n    const alertVisible = ref(false)\r\n    const alertMessage = ref('')\r\n    const alertType = ref('success')\r\n    \r\n    // 获取用户信息\r\n    const userInfo = computed(() => store.state.user.userInfo)\r\n    \r\n    // 计算用户名首字母（用于无头像时显示）\r\n    const userInitial = computed(() => {\r\n      if (form.name) {\r\n        return form.name.charAt(0)\r\n      } else if (form.username) {\r\n        return form.username.charAt(0)\r\n      }\r\n      return '用'\r\n    })\r\n    \r\n    // 表单验证规则\r\n    const rules = {\r\n      name: [\r\n        { required: true, message: '请输入姓名', trigger: 'blur' }\r\n      ],\r\n      email: [\r\n        { required: true, message: '请输入电子邮箱', trigger: 'blur' },\r\n        { type: 'email', message: '请输入正确的电子邮箱格式', trigger: 'blur' }\r\n      ],\r\n      phone: [\r\n        { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // 密码验证规则\r\n    const passwordRules = {\r\n      old_password: [\r\n        { required: true, message: '请输入当前密码', trigger: 'blur' }\r\n      ],\r\n      new_password: [\r\n        { required: true, message: '请输入新密码', trigger: 'blur' },\r\n        { min: 6, message: '密码长度至少为6个字符', trigger: 'blur' }\r\n      ],\r\n      confirm_password: [\r\n        { required: true, message: '请再次输入新密码', trigger: 'blur' },\r\n        {\r\n          validator: (rule, value, callback) => {\r\n            if (value !== passwordForm.new_password) {\r\n              callback(new Error('两次输入的密码不一致'))\r\n            } else {\r\n              callback()\r\n            }\r\n          },\r\n          trigger: 'blur'\r\n        }\r\n      ]\r\n    }\r\n    \r\n    // 上传相关\r\n    const uploadUrl = `${process.env.VUE_APP_BASE_API}/api/user/avatar/`\r\n    const uploadHeaders = computed(() => {\r\n      return { Authorization: `Bearer ${store.state.user.token}` }\r\n    })\r\n    \r\n    // 页面初始化\r\n    onMounted(() => {\r\n      fetchUserProfile()\r\n      fetchDepartments()\r\n    })\r\n    \r\n    // 获取用户资料\r\n    const fetchUserProfile = async () => {\r\n      try {\r\n        const { data } = await getUserProfile()\r\n        Object.assign(form, data)\r\n        \r\n        // 处理部门名称显示\r\n        if (data.department) {\r\n          form.department = data.department.name\r\n          form.department_id = data.department.id\r\n        }\r\n      } catch (error) {\r\n        console.error('获取用户资料失败', error)\r\n        showAlert('获取用户资料失败', 'error')\r\n      }\r\n    }\r\n    \r\n    // 获取部门列表\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const { data } = await getDepartmentList()\r\n        departments.value = data\r\n      } catch (error) {\r\n        console.error('获取部门列表失败', error)\r\n      }\r\n    }\r\n    \r\n    // 提交表单\r\n    const submitForm = async () => {\r\n      if (!profileForm.value) return\r\n      \r\n      await profileForm.value.validate(async (valid) => {\r\n        if (valid) {\r\n          loading.value = true\r\n          try {\r\n            await updateUserProfile(form)\r\n            showAlert('个人信息已更新', 'success')\r\n            // 更新 Vuex 中的用户信息\r\n            store.dispatch('user/getUserInfo')\r\n          } catch (error) {\r\n            console.error('更新个人信息失败', error)\r\n            showAlert('更新个人信息失败', 'error')\r\n          } finally {\r\n            loading.value = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 头像上传前的处理\r\n    const beforeAvatarUpload = (file) => {\r\n      const isImage = file.type.startsWith('image/')\r\n      const isLt2M = file.size / 1024 / 1024 < 2\r\n      \r\n      if (!isImage) {\r\n        showAlert('上传头像图片只能是图片格式!', 'warning')\r\n        return false\r\n      }\r\n      if (!isLt2M) {\r\n        showAlert('上传头像图片大小不能超过 2MB!', 'warning')\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n    \r\n    // 头像上传成功的处理\r\n    const handleAvatarSuccess = (res) => {\r\n      form.avatar = res.data.avatar\r\n      showAlert('头像上传成功', 'success')\r\n      // 更新 Vuex 中的用户信息\r\n      store.dispatch('user/getUserInfo')\r\n    }\r\n    \r\n    // 显示修改密码对话框\r\n    const showChangePasswordDialog = () => {\r\n      dialogVisible.value = true\r\n      // 重置密码表单\r\n      if (passwordFormRef.value) {\r\n        passwordFormRef.value.resetFields()\r\n      }\r\n    }\r\n    \r\n    // 修改密码\r\n    const changePassword = async () => {\r\n      if (!passwordFormRef.value) return\r\n      \r\n      await passwordFormRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n          passwordLoading.value = true\r\n          try {\r\n            await changePassword({\r\n              old_password: passwordForm.old_password,\r\n              new_password: passwordForm.new_password\r\n            })\r\n            dialogVisible.value = false\r\n            showAlert('密码修改成功', 'success')\r\n          } catch (error) {\r\n            console.error('密码修改失败', error)\r\n            showAlert(error.response?.data?.message || '密码修改失败', 'error')\r\n          } finally {\r\n            passwordLoading.value = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 显示提示消息\r\n    const showAlert = (message, type = 'success') => {\r\n      alertMessage.value = message\r\n      alertType.value = type\r\n      alertVisible.value = true\r\n      \r\n      setTimeout(() => {\r\n        alertVisible.value = false\r\n      }, 3000)\r\n    }\r\n    \r\n    return {\r\n      form,\r\n      rules,\r\n      loading,\r\n      userInfo,\r\n      userInitial,\r\n      profileForm,\r\n      departments,\r\n      uploadUrl,\r\n      uploadHeaders,\r\n      beforeAvatarUpload,\r\n      handleAvatarSuccess,\r\n      submitForm,\r\n      // 密码相关\r\n      passwordForm,\r\n      passwordFormRef,\r\n      passwordRules,\r\n      passwordLoading,\r\n      dialogVisible,\r\n      showChangePasswordDialog,\r\n      changePassword,\r\n      // 消息提示\r\n      alertVisible,\r\n      alertMessage,\r\n      alertType\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.profile-container {\r\n  padding: 20px;\r\n  \r\n  .profile-card {\r\n    margin: 0 auto;\r\n    max-width: 1000px;\r\n  }\r\n  \r\n  .profile-header {\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n    \r\n    h2 {\r\n      font-size: 24px;\r\n      font-weight: bold;\r\n      margin-bottom: 8px;\r\n    }\r\n    \r\n    .text-muted {\r\n      color: #909399;\r\n    }\r\n  }\r\n  \r\n  .profile-content {\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .profile-avatar {\r\n    margin: 0 auto 15px;\r\n    \r\n    .default-avatar {\r\n      background-color: #409EFF;\r\n      color: #fff;\r\n      font-size: 48px;\r\n      font-weight: bold;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n  \r\n  .security-options {\r\n    .security-item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 10px 0;\r\n      border-bottom: 1px solid #EBEEF5;\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .avatar-uploader {\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  // 分隔符样式\r\n  .el-divider {\r\n    margin: 15px 0;\r\n  }\r\n  \r\n  .text-muted {\r\n    color: #909399;\r\n  }\r\n}\r\n\r\n// 适配移动设备\r\n@media (max-width: 768px) {\r\n  .profile-container {\r\n    padding: 10px;\r\n    \r\n    .profile-avatar {\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]}]}