{"remainingRequest":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\utils\\auth.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\utils\\auth.js","mtime":1746616867070},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218362}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqDQogKiDorqTor4Hnm7jlhbPnmoTlt6Xlhbflh73mlbANCiAqLwoKY29uc3QgVE9LRU5fS0VZID0gJ3NtYXJ0X29mZmljZV90b2tlbic7CmNvbnN0IFVTRVJfS0VZID0gJ3NtYXJ0X29mZmljZV91c2VyJzsKCi8qKg0KICog6I635Y+WVG9rZW4NCiAqIEByZXR1cm5zIHtzdHJpbmd9IOWtmOWCqOeahFRva2VuDQogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldFRva2VuKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUT0tFTl9LRVkpOwp9CgovKioNCiAqIOiuvue9rlRva2VuDQogKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSDopoHlrZjlgqjnmoRUb2tlbg0KICogQHBhcmFtIHtudW1iZXJ9IGV4cGlyYXRpb24gLSBUb2tlbui/h+acn+aXtumXtO+8iOenku+8iQ0KICovCmV4cG9ydCBmdW5jdGlvbiBzZXRUb2tlbih0b2tlbiwgZXhwaXJhdGlvbikgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRPS0VOX0tFWSwgdG9rZW4pOwoKICAvLyDlpoLmnpzmj5Dkvpvkuobov4fmnJ/ml7bpl7TvvIzorr7nva7ov4fmnJ/ml7bpl7TngrkKICBpZiAoZXhwaXJhdGlvbikgewogICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBleHBpcmF0aW9uICogMTAwMDsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke1RPS0VOX0tFWX1fZXhwaXJlc2AsIGV4cGlyZXNBdCk7CiAgfQp9CgovKioNCiAqIOenu+mZpFRva2VuDQogKi8KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRva2VuKCkgewogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFRPS0VOX0tFWSk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7VE9LRU5fS0VZfV9leHBpcmVzYCk7Cn0KCi8qKg0KICog5Yik5patVG9rZW7mmK/lkKblt7Lov4fmnJ8NCiAqIEByZXR1cm5zIHtib29sZWFufSDlpoLmnpxUb2tlbuW3sui/h+acn+i/lOWbnnRydWUNCiAqLwpleHBvcnQgZnVuY3Rpb24gaXNUb2tlbkV4cGlyZWQoKSB7CiAgY29uc3QgZXhwaXJlc0F0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7VE9LRU5fS0VZfV9leHBpcmVzYCk7CiAgaWYgKCFleHBpcmVzQXQpIHJldHVybiBmYWxzZTsKICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgPiBwYXJzZUludChleHBpcmVzQXQsIDEwKTsKfQoKLyoqDQogKiDkv53lrZjnlKjmiLfkv6Hmga8NCiAqIEBwYXJhbSB7T2JqZWN0fSB1c2VyIOeUqOaIt+S/oeaBr+WvueixoQ0KICovCmV4cG9ydCBmdW5jdGlvbiBzZXRVc2VyKHVzZXIpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVU0VSX0tFWSwgSlNPTi5zdHJpbmdpZnkodXNlcikpOwp9CgovKioNCiAqIOiOt+WPlueUqOaIt+S/oeaBrw0KICogQHJldHVybnMge09iamVjdHxudWxsfSDnlKjmiLfkv6Hmga/lr7nosaENCiAqLwpleHBvcnQgZnVuY3Rpb24gZ2V0VXNlcigpIHsKICBjb25zdCB1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVVNFUl9LRVkpOwogIHJldHVybiB1c2VyID8gSlNPTi5wYXJzZSh1c2VyKSA6IG51bGw7Cn0KCi8qKg0KICog56e76Zmk55So5oi35L+h5oGvDQogKi8KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVVzZXIoKSB7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVVNFUl9LRVkpOwp9"},{"version":3,"names":["TOKEN_KEY","USER_KEY","getToken","localStorage","getItem","setToken","token","expiration","setItem","expiresAt","Date","getTime","removeToken","removeItem","isTokenExpired","parseInt","setUser","user","JSON","stringify","getUser","parse","removeUser"],"sources":["C:/Users/18083/Desktop/oo/smart-office/frontend/src/utils/auth.js"],"sourcesContent":["/**\r\n * 认证相关的工具函数\r\n */\r\n\r\nconst TOKEN_KEY = 'smart_office_token';\r\nconst USER_KEY = 'smart_office_user';\r\n\r\n/**\r\n * 获取Token\r\n * @returns {string} 存储的Token\r\n */\r\nexport function getToken() {\r\n  return localStorage.getItem(TOKEN_KEY);\r\n}\r\n\r\n/**\r\n * 设置Token\r\n * @param {string} token - 要存储的Token\r\n * @param {number} expiration - Token过期时间（秒）\r\n */\r\nexport function setToken(token, expiration) {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n  \r\n  // 如果提供了过期时间，设置过期时间点\r\n  if (expiration) {\r\n    const expiresAt = new Date().getTime() + expiration * 1000;\r\n    localStorage.setItem(`${TOKEN_KEY}_expires`, expiresAt);\r\n  }\r\n}\r\n\r\n/**\r\n * 移除Token\r\n */\r\nexport function removeToken() {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  localStorage.removeItem(`${TOKEN_KEY}_expires`);\r\n}\r\n\r\n/**\r\n * 判断Token是否已过期\r\n * @returns {boolean} 如果Token已过期返回true\r\n */\r\nexport function isTokenExpired() {\r\n  const expiresAt = localStorage.getItem(`${TOKEN_KEY}_expires`);\r\n  if (!expiresAt) return false;\r\n  \r\n  return new Date().getTime() > parseInt(expiresAt, 10);\r\n}\r\n\r\n/**\r\n * 保存用户信息\r\n * @param {Object} user 用户信息对象\r\n */\r\nexport function setUser(user) {\r\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\r\n}\r\n\r\n/**\r\n * 获取用户信息\r\n * @returns {Object|null} 用户信息对象\r\n */\r\nexport function getUser() {\r\n  const user = localStorage.getItem(USER_KEY);\r\n  return user ? JSON.parse(user) : null;\r\n}\r\n\r\n/**\r\n * 移除用户信息\r\n */\r\nexport function removeUser() {\r\n  localStorage.removeItem(USER_KEY);\r\n} "],"mappings":"AAAA;AACA;AACA;;AAEA,MAAMA,SAAS,GAAG,oBAAoB;AACtC,MAAMC,QAAQ,GAAG,mBAAmB;;AAEpC;AACA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,OAAOC,YAAY,CAACC,OAAO,CAACJ,SAAS,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASK,QAAQA,CAACC,KAAK,EAAEC,UAAU,EAAE;EAC1CJ,YAAY,CAACK,OAAO,CAACR,SAAS,EAAEM,KAAK,CAAC;;EAEtC;EACA,IAAIC,UAAU,EAAE;IACd,MAAME,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAGJ,UAAU,GAAG,IAAI;IAC1DJ,YAAY,CAACK,OAAO,CAAC,GAAGR,SAAS,UAAU,EAAES,SAAS,CAAC;EACzD;AACF;;AAEA;AACA;AACA;AACA,OAAO,SAASG,WAAWA,CAAA,EAAG;EAC5BT,YAAY,CAACU,UAAU,CAACb,SAAS,CAAC;EAClCG,YAAY,CAACU,UAAU,CAAC,GAAGb,SAAS,UAAU,CAAC;AACjD;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASc,cAAcA,CAAA,EAAG;EAC/B,MAAML,SAAS,GAAGN,YAAY,CAACC,OAAO,CAAC,GAAGJ,SAAS,UAAU,CAAC;EAC9D,IAAI,CAACS,SAAS,EAAE,OAAO,KAAK;EAE5B,OAAO,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAGI,QAAQ,CAACN,SAAS,EAAE,EAAE,CAAC;AACvD;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASO,OAAOA,CAACC,IAAI,EAAE;EAC5Bd,YAAY,CAACK,OAAO,CAACP,QAAQ,EAAEiB,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CAAC;AACtD;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASG,OAAOA,CAAA,EAAG;EACxB,MAAMH,IAAI,GAAGd,YAAY,CAACC,OAAO,CAACH,QAAQ,CAAC;EAC3C,OAAOgB,IAAI,GAAGC,IAAI,CAACG,KAAK,CAACJ,IAAI,CAAC,GAAG,IAAI;AACvC;;AAEA;AACA;AACA;AACA,OAAO,SAASK,UAAUA,CAAA,EAAG;EAC3BnB,YAAY,CAACU,UAAU,CAACZ,QAAQ,CAAC;AACnC","ignoreList":[]}]}