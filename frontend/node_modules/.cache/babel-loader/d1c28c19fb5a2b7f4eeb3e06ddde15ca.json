{"remainingRequest":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\utils\\errorHandler.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\src\\utils\\errorHandler.js","mtime":1746507783444},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\oo\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218362}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7Ci8qKg0KICog5L+u5aSNSmF2YVNjcmlwdOi/kOihjOaXtumUmeivrw0KICog54m55Yir5pivbWFpbi43ZWU4ODZkOC5qc+S4reWHuueOsOeahCJ2W3ddIGlzIG5vdCBhIGZ1bmN0aW9uIumUmeivrw0KICovCgpleHBvcnQgZnVuY3Rpb24gc2V0dXBFcnJvckhhbmRsZXJzKCkgewogIC8vIOmYsuatouWbvueJh+WKoOi9vemUmeivr+WvvOiHtOeahHZbd13kuI3mmK/lh73mlbDnmoTplJnor68KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIOajgOafpeaYr+WQpuaYr+WbvueJh+WKoOi9vemUmeivrwogICAgaWYgKGV2ZW50LnRhcmdldCAmJiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnIHx8IGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnU0NSSVBUJykpIHsKICAgICAgLy8g6Zi75q2i6ZSZ6K+v5YaS5rOhCiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zb2xlLndhcm4oJ+i1hOa6kOWKoOi9vemUmeivr+iiq+aNleiOt+W5tuWkhOeQhjonLCBldmVudC50YXJnZXQuc3JjIHx8IGV2ZW50LnRhcmdldC5ocmVmKTsKCiAgICAgIC8vIOi/lOWbnnRydWXooajnpLrplJnor6/lt7LlpITnkIYKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgdHJ1ZSk7CgogIC8vIOS/ruWkjXdpbmRvdy5vbmxvYWTlpITnkIblmagKICBjb25zdCBvcmlnaW5hbFdpbmRvd09ubG9hZCA9IHdpbmRvdy5vbmxvYWQ7CiAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdHJ5IHsKICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbFdpbmRvd09ubG9hZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG9yaWdpbmFsV2luZG93T25sb2FkKGV2ZW50KTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS53YXJuKCd3aW5kb3cub25sb2Fk6ZSZ6K+v6KKr5o2V6I63OicsIGVycm9yLm1lc3NhZ2UpOwogICAgfQoKICAgIC8vIOa3u+WKoOWuieWFqOeahG9ubG9hZOWkhOeQhuWHveaVsAogICAgY29uc3QgYWxsSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7CiAgICBhbGxJbWFnZXMuZm9yRWFjaChpbWcgPT4gewogICAgICAvLyDkuLrmr4/kuKrlm77niYfmt7vliqDlronlhajnmoRvbmxvYWTlpITnkIYKICAgICAgY29uc3Qgb3JpZ2luYWxPbmxvYWQgPSBpbWcub25sb2FkOwogICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxPbmxvYWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgb3JpZ2luYWxPbmxvYWQuY2FsbCh0aGlzLCBldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign5Zu+54mHb25sb2Fk6ZSZ6K+v6KKr5o2V6I63OicsIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH07CgogIC8vIOmHjeWGmWRvY3VtZW50LmNyZWF0ZUVsZW1lbnTmlrnms5XvvIzkuLrmlrDliJvlu7rnmoRpbWflhYPntKDmt7vliqDlronlhajnmoRvbmxvYWTlpITnkIYKICBjb25zdCBvcmlnaW5hbENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50OwogIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodGFnTmFtZSkgewogICAgY29uc3QgZWxlbWVudCA9IG9yaWdpbmFsQ3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCB0YWdOYW1lKTsKICAgIGlmICh0YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbWcnKSB7CiAgICAgIGNvbnN0IG9yaWdpbmFsT25sb2FkID0gZWxlbWVudC5vbmxvYWQ7CiAgICAgIGVsZW1lbnQub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxPbmxvYWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgb3JpZ2luYWxPbmxvYWQuY2FsbCh0aGlzLCBldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign5Yqo5oCB5Yib5bu655qE5Zu+54mHb25sb2Fk6ZSZ6K+v6KKr5o2V6I63OicsIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH07Cn0="},{"version":3,"names":["setupErrorHandlers","window","addEventListener","event","target","tagName","stopPropagation","preventDefault","console","warn","src","href","originalWindowOnload","onload","error","message","allImages","document","querySelectorAll","forEach","img","originalOnload","call","originalCreateElement","createElement","element","toLowerCase"],"sources":["C:/Users/18083/Desktop/oo/smart-office/frontend/src/utils/errorHandler.js"],"sourcesContent":["/**\r\n * 修复JavaScript运行时错误\r\n * 特别是main.7ee886d8.js中出现的\"v[w] is not a function\"错误\r\n */\r\n\r\nexport function setupErrorHandlers() {\r\n  // 防止图片加载错误导致的v[w]不是函数的错误\r\n  window.addEventListener('error', function(event) {\r\n    // 检查是否是图片加载错误\r\n    if (event.target && (event.target.tagName === 'IMG' || event.target.tagName === 'SCRIPT')) {\r\n      // 阻止错误冒泡\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n      \r\n      console.warn('资源加载错误被捕获并处理:', event.target.src || event.target.href);\r\n      \r\n      // 返回true表示错误已处理\r\n      return true;\r\n    }\r\n  }, true);\r\n  \r\n  // 修复window.onload处理器\r\n  const originalWindowOnload = window.onload;\r\n  window.onload = function(event) {\r\n    try {\r\n      if (typeof originalWindowOnload === 'function') {\r\n        originalWindowOnload(event);\r\n      }\r\n    } catch (error) {\r\n      console.warn('window.onload错误被捕获:', error.message);\r\n    }\r\n    \r\n    // 添加安全的onload处理函数\r\n    const allImages = document.querySelectorAll('img');\r\n    allImages.forEach(img => {\r\n      // 为每个图片添加安全的onload处理\r\n      const originalOnload = img.onload;\r\n      img.onload = function(event) {\r\n        try {\r\n          if (typeof originalOnload === 'function') {\r\n            originalOnload.call(this, event);\r\n          }\r\n        } catch (error) {\r\n          console.warn('图片onload错误被捕获:', error.message);\r\n        }\r\n      };\r\n    });\r\n  };\r\n  \r\n  // 重写document.createElement方法，为新创建的img元素添加安全的onload处理\r\n  const originalCreateElement = document.createElement;\r\n  document.createElement = function(tagName) {\r\n    const element = originalCreateElement.call(document, tagName);\r\n    if (tagName.toLowerCase() === 'img') {\r\n      const originalOnload = element.onload;\r\n      element.onload = function(event) {\r\n        try {\r\n          if (typeof originalOnload === 'function') {\r\n            originalOnload.call(this, event);\r\n          }\r\n        } catch (error) {\r\n          console.warn('动态创建的图片onload错误被捕获:', error.message);\r\n        }\r\n      };\r\n    }\r\n    return element;\r\n  };\r\n} "],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA,OAAO,SAASA,kBAAkBA,CAAA,EAAG;EACnC;EACAC,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAASC,KAAK,EAAE;IAC/C;IACA,IAAIA,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACC,MAAM,CAACC,OAAO,KAAK,KAAK,IAAIF,KAAK,CAACC,MAAM,CAACC,OAAO,KAAK,QAAQ,CAAC,EAAE;MACzF;MACAF,KAAK,CAACG,eAAe,CAAC,CAAC;MACvBH,KAAK,CAACI,cAAc,CAAC,CAAC;MAEtBC,OAAO,CAACC,IAAI,CAAC,eAAe,EAAEN,KAAK,CAACC,MAAM,CAACM,GAAG,IAAIP,KAAK,CAACC,MAAM,CAACO,IAAI,CAAC;;MAEpE;MACA,OAAO,IAAI;IACb;EACF,CAAC,EAAE,IAAI,CAAC;;EAER;EACA,MAAMC,oBAAoB,GAAGX,MAAM,CAACY,MAAM;EAC1CZ,MAAM,CAACY,MAAM,GAAG,UAASV,KAAK,EAAE;IAC9B,IAAI;MACF,IAAI,OAAOS,oBAAoB,KAAK,UAAU,EAAE;QAC9CA,oBAAoB,CAACT,KAAK,CAAC;MAC7B;IACF,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdN,OAAO,CAACC,IAAI,CAAC,qBAAqB,EAAEK,KAAK,CAACC,OAAO,CAAC;IACpD;;IAEA;IACA,MAAMC,SAAS,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,KAAK,CAAC;IAClDF,SAAS,CAACG,OAAO,CAACC,GAAG,IAAI;MACvB;MACA,MAAMC,cAAc,GAAGD,GAAG,CAACP,MAAM;MACjCO,GAAG,CAACP,MAAM,GAAG,UAASV,KAAK,EAAE;QAC3B,IAAI;UACF,IAAI,OAAOkB,cAAc,KAAK,UAAU,EAAE;YACxCA,cAAc,CAACC,IAAI,CAAC,IAAI,EAAEnB,KAAK,CAAC;UAClC;QACF,CAAC,CAAC,OAAOW,KAAK,EAAE;UACdN,OAAO,CAACC,IAAI,CAAC,gBAAgB,EAAEK,KAAK,CAACC,OAAO,CAAC;QAC/C;MACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMQ,qBAAqB,GAAGN,QAAQ,CAACO,aAAa;EACpDP,QAAQ,CAACO,aAAa,GAAG,UAASnB,OAAO,EAAE;IACzC,MAAMoB,OAAO,GAAGF,qBAAqB,CAACD,IAAI,CAACL,QAAQ,EAAEZ,OAAO,CAAC;IAC7D,IAAIA,OAAO,CAACqB,WAAW,CAAC,CAAC,KAAK,KAAK,EAAE;MACnC,MAAML,cAAc,GAAGI,OAAO,CAACZ,MAAM;MACrCY,OAAO,CAACZ,MAAM,GAAG,UAASV,KAAK,EAAE;QAC/B,IAAI;UACF,IAAI,OAAOkB,cAAc,KAAK,UAAU,EAAE;YACxCA,cAAc,CAACC,IAAI,CAAC,IAAI,EAAEnB,KAAK,CAAC;UAClC;QACF,CAAC,CAAC,OAAOW,KAAK,EAAE;UACdN,OAAO,CAACC,IAAI,CAAC,qBAAqB,EAAEK,KAAK,CAACC,OAAO,CAAC;QACpD;MACF,CAAC;IACH;IACA,OAAOU,OAAO;EAChB,CAAC;AACH","ignoreList":[]}]}