{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\api\\chat.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\api\\chat.js","mtime":1747654130856},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKCi8qKgogKiDojrflj5bogYrlpKnkvJror53liJfooagKICovCmV4cG9ydCBmdW5jdGlvbiBnZXRDaGF0U2Vzc2lvbnMoKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L3Nlc3Npb25zLycsCiAgICBtZXRob2Q6ICdnZXQnCiAgfSk7Cn0KCi8qKgogKiDojrflj5bogYrlpKnkvJror53or6bmg4UKICogQHBhcmFtIHtOdW1iZXJ9IGlkIC0g6IGK5aSp5Lya6K+dSUQKICovCmV4cG9ydCBmdW5jdGlvbiBnZXRDaGF0U2Vzc2lvbihpZCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYC9hcGkvY2hhdC9zZXNzaW9ucy8ke2lkfS9gLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9CgovKioKICog5Yib5bu65paw55qE6IGK5aSp5Lya6K+dCiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0g6IGK5aSp5Lya6K+d5pWw5o2uCiAqLwpleHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhdFNlc3Npb24oZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9zZXNzaW9ucy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhCiAgfSk7Cn0KCi8qKgogKiDlj5HpgIHmlofmnKzmtojmga8KICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSDmtojmga/mlbDmja4KICovCmV4cG9ydCBmdW5jdGlvbiBzZW5kVGV4dE1lc3NhZ2UoZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9tZXNzYWdlcy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiB7CiAgICAgIC4uLmRhdGEsCiAgICAgIG1lc3NhZ2VfdHlwZTogJ3RleHQnCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDlj5HpgIHmlofku7bmtojmga8KICogQHBhcmFtIHtGb3JtRGF0YX0gZm9ybURhdGEgLSDljIXlkKvmlofku7blkozogYrlpKlJROeahOihqOWNleaVsOaNrgogKi8KZXhwb3J0IGZ1bmN0aW9uIHNlbmRGaWxlTWVzc2FnZShmb3JtRGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9tZXNzYWdlcy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiBmb3JtRGF0YSwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgfQogIH0pOwp9CgovKioKICog5Y+R6YCB5Zu+54mH5raI5oGvCiAqIEBwYXJhbSB7Rm9ybURhdGF9IGZvcm1EYXRhIC0g5YyF5ZCr5Zu+54mH5ZKM6IGK5aSpSUTnmoTooajljZXmlbDmja4KICovCmV4cG9ydCBmdW5jdGlvbiBzZW5kSW1hZ2VNZXNzYWdlKGZvcm1EYXRhKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L21lc3NhZ2VzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IGZvcm1EYXRhLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDlj5HpgIHnn6Xor4blupPmtojmga8KICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSDmtojmga/mlbDmja7vvIzljIXlkKtjaGF05ZKMa25vd2xlZGdlX2lkCiAqLwpleHBvcnQgZnVuY3Rpb24gc2VuZEtub3dsZWRnZU1lc3NhZ2UoZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9tZXNzYWdlcy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiB7CiAgICAgIC4uLmRhdGEsCiAgICAgIG1lc3NhZ2VfdHlwZTogJ2tub3dsZWRnZScsCiAgICAgIGNvbnRlbnQ6ICfliIbkuqvkuobkuIDkuKrnn6Xor4blupPmlofku7YnCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDkuIvovb3mtojmga/kuK3nmoTmlofku7YKICogQHBhcmFtIHtOdW1iZXJ9IG1lc3NhZ2VJZCAtIOa2iOaBr0lECiAqLwpleHBvcnQgZnVuY3Rpb24gZG93bmxvYWRNZXNzYWdlRmlsZShtZXNzYWdlSWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAvYXBpL2NoYXQvbWVzc2FnZXMvJHttZXNzYWdlSWR9L2Rvd25sb2FkL2AsCiAgICBtZXRob2Q6ICdnZXQnLAogICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICB9KTsKfQoKLyoqCiAqIOWQkeiBiuWkqea3u+WKoOWPguS4juiAhQogKiBAcGFyYW0ge051bWJlcn0gY2hhdElkIC0g6IGK5aSp5Lya6K+dSUQKICogQHBhcmFtIHtOdW1iZXJ9IHVzZXJJZCAtIOeUqOaIt0lECiAqLwpleHBvcnQgZnVuY3Rpb24gYWRkQ2hhdFBhcnRpY2lwYW50KGNoYXRJZCwgdXNlcklkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2FwaS9jaGF0L3Nlc3Npb25zLyR7Y2hhdElkfS9hZGRfcGFydGljaXBhbnQvYCwKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogewogICAgICB1c2VyX2lkOiB1c2VySWQKICAgIH0KICB9KTsKfQoKLyoqCiAqIOS7juiBiuWkqeS4reenu+mZpOWPguS4juiAhQogKiBAcGFyYW0ge051bWJlcn0gY2hhdElkIC0g6IGK5aSp5Lya6K+dSUQKICogQHBhcmFtIHtOdW1iZXJ9IHVzZXJJZCAtIOeUqOaIt0lECiAqLwpleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hhdFBhcnRpY2lwYW50KGNoYXRJZCwgdXNlcklkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2FwaS9jaGF0L3Nlc3Npb25zLyR7Y2hhdElkfS9yZW1vdmVfcGFydGljaXBhbnQvYCwKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogewogICAgICB1c2VyX2lkOiB1c2VySWQKICAgIH0KICB9KTsKfQoKLyoqCiAqIOS7juiBiuWkqea2iOaBr+a3u+WKoOaXpeWOhuS6i+S7tgogKiBAcGFyYW0ge051bWJlcn0gbWVzc2FnZUlkIC0g5raI5oGvSUQKICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSDlj6/pgInnmoTmm7TmlrDml6XnqIvmlbDmja4KICovCmV4cG9ydCBmdW5jdGlvbiBhZGRDYWxlbmRhckV2ZW50KG1lc3NhZ2VJZCwgZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYC9hcGkvY2hhdC9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vYWRkX2NhbGVuZGFyX2V2ZW50L2AsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGEKICB9KTsKfQoKLy8g6I635Y+W55+l6K+G5bqT5YiX6KGoCmV4cG9ydCBmdW5jdGlvbiBnZXRLbm93bGVkZ2VMaXN0KHBhcmFtcykgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkva25vd2xlZGdlL2ZpbGVzLycsCiAgICBtZXRob2Q6ICdnZXQnLAogICAgcGFyYW1zCiAgfSk7Cn0="},{"version":3,"names":["request","getChatSessions","url","method","getChatSession","id","createChatSession","data","sendTextMessage","message_type","sendFileMessage","formData","headers","sendImageMessage","sendKnowledgeMessage","content","downloadMessageFile","messageId","responseType","addChatParticipant","chatId","userId","user_id","removeChatParticipant","addCalendarEvent","getKnowledgeList","params"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/api/chat.js"],"sourcesContent":["import request from '@/utils/request'\n\n/**\n * 获取聊天会话列表\n */\nexport function getChatSessions() {\n  return request({\n    url: '/api/chat/sessions/',\n    method: 'get'\n  })\n}\n\n/**\n * 获取聊天会话详情\n * @param {Number} id - 聊天会话ID\n */\nexport function getChatSession(id) {\n  return request({\n    url: `/api/chat/sessions/${id}/`,\n    method: 'get'\n  })\n}\n\n/**\n * 创建新的聊天会话\n * @param {Object} data - 聊天会话数据\n */\nexport function createChatSession(data) {\n  return request({\n    url: '/api/chat/sessions/',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 发送文本消息\n * @param {Object} data - 消息数据\n */\nexport function sendTextMessage(data) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: {\n      ...data,\n      message_type: 'text'\n    }\n  })\n}\n\n/**\n * 发送文件消息\n * @param {FormData} formData - 包含文件和聊天ID的表单数据\n */\nexport function sendFileMessage(formData) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n/**\n * 发送图片消息\n * @param {FormData} formData - 包含图片和聊天ID的表单数据\n */\nexport function sendImageMessage(formData) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n/**\n * 发送知识库消息\n * @param {Object} data - 消息数据，包含chat和knowledge_id\n */\nexport function sendKnowledgeMessage(data) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: {\n      ...data,\n      message_type: 'knowledge',\n      content: '分享了一个知识库文件'\n    }\n  })\n}\n\n/**\n * 下载消息中的文件\n * @param {Number} messageId - 消息ID\n */\nexport function downloadMessageFile(messageId) {\n  return request({\n    url: `/api/chat/messages/${messageId}/download/`,\n    method: 'get',\n    responseType: 'blob'\n  })\n}\n\n/**\n * 向聊天添加参与者\n * @param {Number} chatId - 聊天会话ID\n * @param {Number} userId - 用户ID\n */\nexport function addChatParticipant(chatId, userId) {\n  return request({\n    url: `/api/chat/sessions/${chatId}/add_participant/`,\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  })\n}\n\n/**\n * 从聊天中移除参与者\n * @param {Number} chatId - 聊天会话ID\n * @param {Number} userId - 用户ID\n */\nexport function removeChatParticipant(chatId, userId) {\n  return request({\n    url: `/api/chat/sessions/${chatId}/remove_participant/`,\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  })\n}\n\n/**\n * 从聊天消息添加日历事件\n * @param {Number} messageId - 消息ID\n * @param {Object} data - 可选的更新日程数据\n */\nexport function addCalendarEvent(messageId, data) {\n  return request({\n    url: `/api/chat/messages/${messageId}/add_calendar_event/`,\n    method: 'post',\n    data\n  })\n}\n\n// 获取知识库列表\nexport function getKnowledgeList(params) {\n  return request({\n    url: '/api/knowledge/files/',\n    method: 'get',\n    params\n  })\n} "],"mappings":"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","ignoreList":[]}]}