{"remainingRequest":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\contact\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\contact\\Index.vue","mtime":1746861381983},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5yZWR1Y2UuanMiOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQsIHdhdGNoLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJlcXVlc3QgfSBmcm9tICdAL2hvb2tzL3VzZVJlcXVlc3QnOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbnRhY3QnLAogIHNldHVwKCkgewogICAgLy8g54q25oCB5a6a5LmJCiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHJlZignJyk7CiAgICBjb25zdCBzZWxlY3RlZERlcHQgPSByZWYoMCk7CiAgICBjb25zdCBzZWxlY3RlZENvbnRhY3QgPSByZWYoMCk7CiAgICBjb25zdCBkZXBhcnRtZW50cyA9IHJlZihbewogICAgICBpZDogMCwKICAgICAgbmFtZTogJ+WFqOmDqOmDqOmXqCcsCiAgICAgIGljb246ICdiaSBiaS1idWlsZGluZycsCiAgICAgIGNvdW50OiAwCiAgICB9XSk7CiAgICBjb25zdCBjb250YWN0cyA9IHJlZihbXSk7CiAgICBjb25zdCBsb2FkaW5nID0gcmVmKHsKICAgICAgZGVwYXJ0bWVudHM6IGZhbHNlLAogICAgICBjb250YWN0czogZmFsc2UsCiAgICAgIHN1Ym1pdDogZmFsc2UKICAgIH0pOwoKICAgIC8vIOa3u+WKoOiBlOezu+S6uuebuOWFswogICAgY29uc3QgZGlhbG9nVmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBjb250YWN0Rm9ybVJlZiA9IHJlZihudWxsKTsKICAgIGNvbnN0IGNvbnRhY3RGb3JtID0gcmVhY3RpdmUoewogICAgICBuYW1lOiAnJywKICAgICAgcG9zaXRpb246ICcnLAogICAgICBkZXBhcnRtZW50OiBudWxsLAogICAgICBjb21wYW55OiAxLAogICAgICAvLyDpu5jorqTlhazlj7hJRAogICAgICBtb2JpbGU6ICcnLAogICAgICBwaG9uZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgb2ZmaWNlOiAnJywKICAgICAgZW1wbG95ZWVfaWQ6ICcnLAogICAgICBqb2luX2RhdGU6ICcnLAogICAgICBiaXJ0aGRheTogJycsCiAgICAgIG1hbmFnZXI6ICcnLAogICAgICBza2lsbHM6IFtdCiAgICB9KTsKCiAgICAvLyDooajljZXpqozor4Hop4TliJkKICAgIGNvbnN0IHJ1bGVzID0gewogICAgICBuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlp5PlkI0nLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgZGVwYXJ0bWVudDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6YOo6ZeoJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgZW1haWw6IFt7CiAgICAgICAgdHlwZTogJ2VtYWlsJywKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE6YKu566x5Zyw5Z2AJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0KICAgIH07CgogICAgLy8g6YOo6Zeo6YCJ6aG577yM5o6S6ZmkIuWFqOmDqOmDqOmXqCIKICAgIGNvbnN0IGRlcGFydG1lbnRPcHRpb25zID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gZGVwYXJ0bWVudHMudmFsdWUuZmlsdGVyKGRlcHQgPT4gZGVwdC5pZCAhPT0gMCk7CiAgICB9KTsKCiAgICAvLyBBUEnor7fmsYIKICAgIGNvbnN0IHsKICAgICAgcmVxdWVzdAogICAgfSA9IHVzZVJlcXVlc3QoKTsKCiAgICAvLyDojrflj5bpg6jpl6jliJfooagKICAgIGNvbnN0IGZldGNoRGVwYXJ0bWVudHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIGxvYWRpbmcudmFsdWUuZGVwYXJ0bWVudHMgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoJy9hcGkvYXV0aC9jb21wYW5pZXMvMS9jb21wYW55X2RldGFpbHMvJyk7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAvLyDmt7vliqDlhajpg6jpg6jpl6jpgInpobkKICAgICAgICAgIGNvbnN0IGFsbERlcHRzID0gW3sKICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgIG5hbWU6ICflhajpg6jpg6jpl6gnLAogICAgICAgICAgICBpY29uOiAnYmkgYmktYnVpbGRpbmcnLAogICAgICAgICAgICBjb3VudDogcmVzLmRhdGEuZGVwYXJ0bWVudHMucmVkdWNlKChzdW0sIGRlcHQpID0+IHN1bSArIGRlcHQuY291bnQsIDApCiAgICAgICAgICB9XTsKCiAgICAgICAgICAvLyDkuLrmr4/kuKrpg6jpl6jmt7vliqDlm77moIcKICAgICAgICAgIGNvbnN0IGRlcHRJY29ucyA9IHsKICAgICAgICAgICAgJ+euoeeQhuWxgic6ICdiaSBiaS1wZXJzb24td29ya3NwYWNlJywKICAgICAgICAgICAgJ+S6uuS6i+mDqCc6ICdiaSBiaS1wZW9wbGUnLAogICAgICAgICAgICAn6LSi5Yqh6YOoJzogJ2JpIGJpLWNhc2gtY29pbicsCiAgICAgICAgICAgICfluILlnLrpg6gnOiAnYmkgYmktZ3JhcGgtdXAnLAogICAgICAgICAgICAn5oqA5pyv6YOoJzogJ2JpIGJpLWNvZGUtc2xhc2gnLAogICAgICAgICAgICAn5Lqn5ZOB6YOoJzogJ2JpIGJpLWJveCcsCiAgICAgICAgICAgICflrqLmnI3pg6gnOiAnYmkgYmktaGVhZHNldCcKICAgICAgICAgIH07CiAgICAgICAgICBjb25zdCBmb3JtYXR0ZWREZXB0cyA9IHJlcy5kYXRhLmRlcGFydG1lbnRzLm1hcChkZXB0ID0+ICh7CiAgICAgICAgICAgIGlkOiBkZXB0LmlkLAogICAgICAgICAgICBuYW1lOiBkZXB0Lm5hbWUsCiAgICAgICAgICAgIGljb246IGRlcHRJY29uc1tkZXB0Lm5hbWVdIHx8ICdiaSBiaS1idWlsZGluZycsCiAgICAgICAgICAgIGNvdW50OiBkZXB0LmNvdW50CiAgICAgICAgICB9KSk7CiAgICAgICAgICBkZXBhcnRtZW50cy52YWx1ZSA9IFsuLi5hbGxEZXB0cywgLi4uZm9ybWF0dGVkRGVwdHNdOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bpg6jpl6jliJfooajlpLHotKU6JywgZXJyb3IpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcign6I635Y+W6YOo6Zeo5YiX6KGo5aSx6LSlJyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgbG9hZGluZy52YWx1ZS5kZXBhcnRtZW50cyA9IGZhbHNlOwogICAgICB9CiAgICB9OwoKICAgIC8vIOiOt+WPluiBlOezu+S6uuWIl+ihqAogICAgY29uc3QgZmV0Y2hDb250YWN0cyA9IGFzeW5jICgpID0+IHsKICAgICAgbG9hZGluZy52YWx1ZS5jb250YWN0cyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHVybCA9ICcvYXBpL2F1dGgvY29udGFjdHMvJzsKICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTsKCiAgICAgICAgLy8g5aaC5p6c6YCJ5oup5LqG54m55a6a6YOo6Zeo77yM5re75Yqg6YOo6Zeo6L+H5rukCiAgICAgICAgaWYgKHNlbGVjdGVkRGVwdC52YWx1ZSAhPT0gMCkgewogICAgICAgICAgcGFyYW1zLmRlcGFydG1lbnQgPSBkZXBhcnRtZW50cy52YWx1ZVtzZWxlY3RlZERlcHQudmFsdWVdLmlkOwogICAgICAgIH0KCiAgICAgICAgLy8g5aaC5p6c5pyJ5pCc57Si5YWz6ZSu6K+N77yM5re75Yqg5pCc57Si6L+H5rukCiAgICAgICAgaWYgKHNlYXJjaFF1ZXJ5LnZhbHVlKSB7CiAgICAgICAgICBwYXJhbXMuc2VhcmNoID0gc2VhcmNoUXVlcnkudmFsdWU7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QodXJsLCB7CiAgICAgICAgICBwYXJhbXMKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIGNvbnRhY3RzLnZhbHVlID0gcmVzLmRhdGE7CiAgICAgICAgICAvLyDpu5jorqTpgInkuK3nrKzkuIDkuKrogZTns7vkuroKICAgICAgICAgIHNlbGVjdGVkQ29udGFjdC52YWx1ZSA9IGNvbnRhY3RzLnZhbHVlLmxlbmd0aCA+IDAgPyAwIDogbnVsbDsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W6IGU57O75Lq65YiX6KGo5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+iOt+WPluiBlOezu+S6uuWIl+ihqOWksei0pScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGxvYWRpbmcudmFsdWUuY29udGFjdHMgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICAvLyDmmL7npLrmt7vliqDogZTns7vkurrlr7nor53moYYKICAgIGNvbnN0IHNob3dBZGRDb250YWN0RGlhbG9nID0gKCkgPT4gewogICAgICAvLyDph43nva7ooajljZUKICAgICAgaWYgKGNvbnRhY3RGb3JtUmVmLnZhbHVlKSB7CiAgICAgICAgY29udGFjdEZvcm1SZWYudmFsdWUucmVzZXRGaWVsZHMoKTsKICAgICAgfQoKICAgICAgLy8g6buY6K6k6YCJ5oup5b2T5YmN6YCJ5Lit55qE6YOo6Zeo77yI5aaC5p6c5LiN5pivIuWFqOmDqOmDqOmXqCLvvIkKICAgICAgaWYgKHNlbGVjdGVkRGVwdC52YWx1ZSAhPT0gMCkgewogICAgICAgIGNvbnRhY3RGb3JtLmRlcGFydG1lbnQgPSBkZXBhcnRtZW50cy52YWx1ZVtzZWxlY3RlZERlcHQudmFsdWVdLmlkOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnRhY3RGb3JtLmRlcGFydG1lbnQgPSBudWxsOwogICAgICB9CgogICAgICAvLyDmmL7npLrlr7nor53moYYKICAgICAgZGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIC8vIOaPkOS6pOa3u+WKoOiBlOezu+S6uuihqOWNlQogICAgY29uc3Qgc3VibWl0Q29udGFjdEZvcm0gPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghY29udGFjdEZvcm1SZWYudmFsdWUpIHJldHVybjsKICAgICAgYXdhaXQgY29udGFjdEZvcm1SZWYudmFsdWUudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgbG9hZGluZy52YWx1ZS5zdWJtaXQgPSB0cnVlOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdCgnL2FwaS9hdXRoL2NvbnRhY3RzLycsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICBkYXRhOiBjb250YWN0Rm9ybQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOiBlOezu+S6uuaIkOWKnycpOwogICAgICAgICAgICAgIGRpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAvLyDliLfmlrDogZTns7vkurrliJfooagKICAgICAgICAgICAgICBmZXRjaENvbnRhY3RzKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlIHx8ICfmt7vliqDogZTns7vkurrlpLHotKUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5re75Yqg6IGU57O75Lq65aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfmt7vliqDogZTns7vkurrlpLHotKUnKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGxvYWRpbmcudmFsdWUuc3VibWl0ID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgLy8g55uR5ZCs6YOo6Zeo6YCJ5oup5Y+Y5YyWCiAgICB3YXRjaChzZWxlY3RlZERlcHQsICgpID0+IHsKICAgICAgZmV0Y2hDb250YWN0cygpOwogICAgfSk7CgogICAgLy8g55uR5ZCs5pCc57Si5YWz6ZSu6K+N5Y+Y5YyW77yM5L2/55So6Ziy5oqWCiAgICBsZXQgc2VhcmNoVGltZW91dCA9IG51bGw7CiAgICB3YXRjaChzZWFyY2hRdWVyeSwgKCkgPT4gewogICAgICBpZiAoc2VhcmNoVGltZW91dCkgewogICAgICAgIGNsZWFyVGltZW91dChzZWFyY2hUaW1lb3V0KTsKICAgICAgfQogICAgICBzZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgZmV0Y2hDb250YWN0cygpOwogICAgICB9LCAzMDApOwogICAgfSk7CgogICAgLy8g5Yid5aeL5YyW5pWw5o2uCiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBmZXRjaERlcGFydG1lbnRzKCk7CiAgICAgIGZldGNoQ29udGFjdHMoKTsKICAgIH0pOwoKICAgIC8vIOW3peWFt+aWueazlQogICAgY29uc3QgZ2V0SW5pdGlhbHMgPSBuYW1lID0+IHsKICAgICAgaWYgKCFuYW1lKSByZXR1cm4gJyc7CiAgICAgIHJldHVybiBuYW1lLnN1YnN0cmluZygwLCAxKTsKICAgIH07CiAgICByZXR1cm4gewogICAgICBzZWFyY2hRdWVyeSwKICAgICAgc2VsZWN0ZWREZXB0LAogICAgICBzZWxlY3RlZENvbnRhY3QsCiAgICAgIGRlcGFydG1lbnRzLAogICAgICBjb250YWN0cywKICAgICAgbG9hZGluZywKICAgICAgZ2V0SW5pdGlhbHMsCiAgICAgIGRpYWxvZ1Zpc2libGUsCiAgICAgIGNvbnRhY3RGb3JtLAogICAgICBjb250YWN0Rm9ybVJlZiwKICAgICAgcnVsZXMsCiAgICAgIGRlcGFydG1lbnRPcHRpb25zLAogICAgICBzaG93QWRkQ29udGFjdERpYWxvZywKICAgICAgc3VibWl0Q29udGFjdEZvcm0KICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","onMounted","computed","watch","reactive","useRequest","ElMessage","name","setup","searchQuery","selectedDept","selectedContact","departments","id","icon","count","contacts","loading","submit","dialogVisible","contactFormRef","contactForm","position","department","company","mobile","phone","email","office","employee_id","join_date","birthday","manager","skills","rules","required","message","trigger","type","departmentOptions","value","filter","dept","request","fetchDepartments","res","success","allDepts","data","reduce","sum","deptIcons","formattedDepts","map","error","console","fetchContacts","url","params","search","length","showAddContactDialog","resetFields","submitContactForm","validate","valid","method","searchTimeout","clearTimeout","setTimeout","getInitials","substring"],"sources":["C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\contact\\Index.vue"],"sourcesContent":["<template>\r\n  <div class=\"contact-container\">\r\n    <div class=\"row\">\r\n      <!-- 左侧部门导航 -->\r\n      <div class=\"col-md-2\">\r\n        <el-card class=\"contacts-nav-card\" v-loading=\"loading.departments\">\r\n          <div class=\"search-box mb-3\">\r\n            <i class=\"bi bi-search search-icon\"></i>\r\n            <el-input \r\n              v-model=\"searchQuery\" \r\n              placeholder=\"搜索联系人...\"\r\n              clearable\r\n              class=\"search-input\"\r\n            ></el-input>\r\n          </div>\r\n          <div class=\"contacts-nav\">\r\n            <div \r\n              v-for=\"(dept, index) in departments\" \r\n              :key=\"dept.id\" \r\n              class=\"dept-item\" \r\n              :class=\"{'active': selectedDept === index}\"\r\n              @click=\"selectedDept = index\"\r\n            >\r\n              <i :class=\"dept.icon\"></i>\r\n              <span>{{ dept.name }}</span>\r\n              <span class=\"badge\">{{ dept.count }}</span>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!-- 中间联系人列表 -->\r\n      <div class=\"col-md-4\">\r\n        <el-card class=\"contacts-list-card\" v-loading=\"loading.contacts\">\r\n          <template #header>\r\n            <div class=\"card-header-flex\">\r\n              <span>{{ departments[selectedDept]?.name || '全部部门' }}</span>\r\n              <el-button type=\"primary\" size=\"small\" @click=\"showAddContactDialog\">\r\n                <i class=\"bi bi-plus\"></i> 添加联系人\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n          <div class=\"contacts-list\">\r\n            <div \r\n              v-for=\"(contact, index) in contacts\" \r\n              :key=\"contact.id\" \r\n              class=\"contact-item\" \r\n              :class=\"{'active': selectedContact === index}\"\r\n              @click=\"selectedContact = index\"\r\n            >\r\n              <div class=\"contact-avatar\">{{ getInitials(contact.name) }}</div>\r\n              <div class=\"contact-info\">\r\n                <div class=\"contact-name\">{{ contact.name }}</div>\r\n                <div class=\"contact-position\">{{ contact.position }} · {{ contact.department_name }}</div>\r\n              </div>\r\n            </div>\r\n            <el-empty v-if=\"contacts.length === 0\" description=\"暂无联系人数据\"></el-empty>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!-- 右侧联系人详情 -->\r\n      <div class=\"col-md-6\">\r\n        <el-card v-if=\"selectedContact !== null && contacts[selectedContact]\" class=\"contact-detail-card\">\r\n          <div class=\"contact-header\">\r\n            <div class=\"detail-avatar\">{{ getInitials(contacts[selectedContact].name) }}</div>\r\n            <div class=\"detail-info\">\r\n              <div class=\"detail-name\">{{ contacts[selectedContact].name }}</div>\r\n              <div class=\"detail-position\">{{ contacts[selectedContact].position }}</div>\r\n              <div class=\"detail-department\">{{ contacts[selectedContact].department_name }}</div>\r\n              <div class=\"contact-actions\">\r\n                <el-button type=\"primary\" size=\"small\">\r\n                  <i class=\"bi bi-chat-dots\"></i> 发送消息\r\n                </el-button>\r\n                <el-button size=\"small\">\r\n                  <i class=\"bi bi-envelope\"></i> 发送邮件\r\n                </el-button>\r\n                <el-button size=\"small\">\r\n                  <i class=\"bi bi-telephone\"></i> 电话联系\r\n                </el-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <el-divider></el-divider>\r\n\r\n          <div class=\"contact-section\">\r\n            <div class=\"section-title\">联系方式</div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">手机号码</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].mobile }}</div>\r\n            </div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">工作电话</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].phone }}</div>\r\n            </div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">电子邮箱</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].email }}</div>\r\n            </div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">办公地点</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].office }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"contact-section\">\r\n            <div class=\"section-title\">个人信息</div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">员工编号</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].employee_id }}</div>\r\n            </div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">入职日期</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].join_date }}</div>\r\n            </div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">出生日期</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].birthday }}</div>\r\n            </div>\r\n            <div class=\"contact-row\">\r\n              <div class=\"contact-label\">直系领导</div>\r\n              <div class=\"contact-value\">{{ contacts[selectedContact].manager }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"contact-section\">\r\n            <div class=\"section-title\">技能专长</div>\r\n            <div class=\"skills-tags\">\r\n              <el-tag \r\n                v-for=\"(skill, index) in contacts[selectedContact].skills\" \r\n                :key=\"index\"\r\n                class=\"mr-2 mb-2\"\r\n              >\r\n                {{ skill }}\r\n              </el-tag>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"contact-section\">\r\n            <div class=\"section-title\">管理项目</div>\r\n            <el-table :data=\"contacts[selectedContact].projects || []\" style=\"width: 100%\">\r\n              <el-table-column prop=\"name\" label=\"项目名称\"></el-table-column>\r\n              <el-table-column prop=\"role\" label=\"担任角色\"></el-table-column>\r\n              <el-table-column prop=\"status\" label=\"状态\">\r\n                <template #default=\"scope\">\r\n                  <el-tag \r\n                    :type=\"scope.row.status === '进行中' ? 'primary' : scope.row.status === '已完成' ? 'success' : 'info'\"\r\n                  >\r\n                    {{ scope.row.status }}\r\n                  </el-tag>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n        </el-card>\r\n        \r\n        <el-empty v-else description=\"请选择一个联系人\"></el-empty>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加联系人对话框 -->\r\n    <el-dialog\r\n      v-model=\"dialogVisible\"\r\n      title=\"添加联系人\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form :model=\"contactForm\" label-width=\"100px\" :rules=\"rules\" ref=\"contactFormRef\">\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"contactForm.name\" placeholder=\"请输入姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"职位\" prop=\"position\">\r\n          <el-input v-model=\"contactForm.position\" placeholder=\"请输入职位\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属部门\" prop=\"department\">\r\n          <el-select v-model=\"contactForm.department\" placeholder=\"请选择部门\" style=\"width: 100%\">\r\n            <el-option\r\n              v-for=\"dept in departmentOptions\"\r\n              :key=\"dept.id\"\r\n              :label=\"dept.name\"\r\n              :value=\"dept.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号码\" prop=\"mobile\">\r\n          <el-input v-model=\"contactForm.mobile\" placeholder=\"请输入手机号码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"工作电话\" prop=\"phone\">\r\n          <el-input v-model=\"contactForm.phone\" placeholder=\"请输入工作电话\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电子邮箱\" prop=\"email\">\r\n          <el-input v-model=\"contactForm.email\" placeholder=\"请输入电子邮箱\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"办公地点\" prop=\"office\">\r\n          <el-input v-model=\"contactForm.office\" placeholder=\"请输入办公地点\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"员工编号\" prop=\"employee_id\">\r\n          <el-input v-model=\"contactForm.employee_id\" placeholder=\"请输入员工编号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"入职日期\" prop=\"join_date\">\r\n          <el-date-picker\r\n            v-model=\"contactForm.join_date\"\r\n            type=\"date\"\r\n            placeholder=\"选择入职日期\"\r\n            style=\"width: 100%\"\r\n            value-format=\"YYYY-MM-DD\"\r\n          ></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n          <el-date-picker\r\n            v-model=\"contactForm.birthday\"\r\n            type=\"date\"\r\n            placeholder=\"选择出生日期\"\r\n            style=\"width: 100%\"\r\n            value-format=\"YYYY-MM-DD\"\r\n          ></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"直系领导\" prop=\"manager\">\r\n          <el-input v-model=\"contactForm.manager\" placeholder=\"请输入直系领导\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"技能专长\" prop=\"skills\">\r\n          <el-select\r\n            v-model=\"contactForm.skills\"\r\n            multiple\r\n            filterable\r\n            allow-create\r\n            default-first-option\r\n            placeholder=\"请输入技能专长（可多选）\"\r\n            style=\"width: 100%\"\r\n          ></el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitContactForm\" :loading=\"loading.submit\">\r\n            确认\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed, watch, reactive } from 'vue'\r\nimport { useRequest } from '@/hooks/useRequest'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'Contact',\r\n  setup() {\r\n    // 状态定义\r\n    const searchQuery = ref('')\r\n    const selectedDept = ref(0)\r\n    const selectedContact = ref(0)\r\n    const departments = ref([\r\n      { id: 0, name: '全部部门', icon: 'bi bi-building', count: 0 }\r\n    ])\r\n    const contacts = ref([])\r\n    const loading = ref({\r\n      departments: false,\r\n      contacts: false,\r\n      submit: false\r\n    })\r\n    \r\n    // 添加联系人相关\r\n    const dialogVisible = ref(false)\r\n    const contactFormRef = ref(null)\r\n    const contactForm = reactive({\r\n      name: '',\r\n      position: '',\r\n      department: null,\r\n      company: 1, // 默认公司ID\r\n      mobile: '',\r\n      phone: '',\r\n      email: '',\r\n      office: '',\r\n      employee_id: '',\r\n      join_date: '',\r\n      birthday: '',\r\n      manager: '',\r\n      skills: []\r\n    })\r\n    \r\n    // 表单验证规则\r\n    const rules = {\r\n      name: [\r\n        { required: true, message: '请输入姓名', trigger: 'blur' }\r\n      ],\r\n      department: [\r\n        { required: true, message: '请选择部门', trigger: 'change' }\r\n      ],\r\n      email: [\r\n        { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    // 部门选项，排除\"全部部门\"\r\n    const departmentOptions = computed(() => {\r\n      return departments.value.filter(dept => dept.id !== 0)\r\n    })\r\n\r\n    // API请求\r\n    const { request } = useRequest()\r\n\r\n    // 获取部门列表\r\n    const fetchDepartments = async () => {\r\n      loading.value.departments = true\r\n      try {\r\n        const res = await request('/api/auth/companies/1/company_details/')\r\n        if (res.success) {\r\n          // 添加全部部门选项\r\n          const allDepts = [\r\n            { \r\n              id: 0, \r\n              name: '全部部门', \r\n              icon: 'bi bi-building', \r\n              count: res.data.departments.reduce((sum, dept) => sum + dept.count, 0)\r\n            }\r\n          ]\r\n          \r\n          // 为每个部门添加图标\r\n          const deptIcons = {\r\n            '管理层': 'bi bi-person-workspace',\r\n            '人事部': 'bi bi-people',\r\n            '财务部': 'bi bi-cash-coin',\r\n            '市场部': 'bi bi-graph-up',\r\n            '技术部': 'bi bi-code-slash',\r\n            '产品部': 'bi bi-box',\r\n            '客服部': 'bi bi-headset'\r\n          }\r\n          \r\n          const formattedDepts = res.data.departments.map(dept => ({\r\n            id: dept.id,\r\n            name: dept.name,\r\n            icon: deptIcons[dept.name] || 'bi bi-building',\r\n            count: dept.count\r\n          }))\r\n          \r\n          departments.value = [...allDepts, ...formattedDepts]\r\n        }\r\n      } catch (error) {\r\n        console.error('获取部门列表失败:', error)\r\n        ElMessage.error('获取部门列表失败')\r\n      } finally {\r\n        loading.value.departments = false\r\n      }\r\n    }\r\n\r\n    // 获取联系人列表\r\n    const fetchContacts = async () => {\r\n      loading.value.contacts = true\r\n      try {\r\n        let url = '/api/auth/contacts/'\r\n        const params = {}\r\n        \r\n        // 如果选择了特定部门，添加部门过滤\r\n        if (selectedDept.value !== 0) {\r\n          params.department = departments.value[selectedDept.value].id\r\n        }\r\n        \r\n        // 如果有搜索关键词，添加搜索过滤\r\n        if (searchQuery.value) {\r\n          params.search = searchQuery.value\r\n        }\r\n        \r\n        const res = await request(url, { params })\r\n        if (res.success) {\r\n          contacts.value = res.data\r\n          // 默认选中第一个联系人\r\n          selectedContact.value = contacts.value.length > 0 ? 0 : null\r\n        }\r\n      } catch (error) {\r\n        console.error('获取联系人列表失败:', error)\r\n        ElMessage.error('获取联系人列表失败')\r\n      } finally {\r\n        loading.value.contacts = false\r\n      }\r\n    }\r\n    \r\n    // 显示添加联系人对话框\r\n    const showAddContactDialog = () => {\r\n      // 重置表单\r\n      if (contactFormRef.value) {\r\n        contactFormRef.value.resetFields()\r\n      }\r\n      \r\n      // 默认选择当前选中的部门（如果不是\"全部部门\"）\r\n      if (selectedDept.value !== 0) {\r\n        contactForm.department = departments.value[selectedDept.value].id\r\n      } else {\r\n        contactForm.department = null\r\n      }\r\n      \r\n      // 显示对话框\r\n      dialogVisible.value = true\r\n    }\r\n    \r\n    // 提交添加联系人表单\r\n    const submitContactForm = async () => {\r\n      if (!contactFormRef.value) return\r\n      \r\n      await contactFormRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n          loading.value.submit = true\r\n          try {\r\n            const res = await request('/api/auth/contacts/', {\r\n              method: 'POST',\r\n              data: contactForm\r\n            })\r\n            \r\n            if (res.success) {\r\n              ElMessage.success('添加联系人成功')\r\n              dialogVisible.value = false\r\n              // 刷新联系人列表\r\n              fetchContacts()\r\n            } else {\r\n              ElMessage.error(res.message || '添加联系人失败')\r\n            }\r\n          } catch (error) {\r\n            console.error('添加联系人失败:', error)\r\n            ElMessage.error('添加联系人失败')\r\n          } finally {\r\n            loading.value.submit = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    // 监听部门选择变化\r\n    watch(selectedDept, () => {\r\n      fetchContacts()\r\n    })\r\n\r\n    // 监听搜索关键词变化，使用防抖\r\n    let searchTimeout = null\r\n    watch(searchQuery, () => {\r\n      if (searchTimeout) {\r\n        clearTimeout(searchTimeout)\r\n      }\r\n      searchTimeout = setTimeout(() => {\r\n        fetchContacts()\r\n      }, 300)\r\n    })\r\n\r\n    // 初始化数据\r\n    onMounted(() => {\r\n      fetchDepartments()\r\n      fetchContacts()\r\n    })\r\n\r\n    // 工具方法\r\n    const getInitials = (name) => {\r\n      if (!name) return ''\r\n      return name.substring(0, 1)\r\n    }\r\n\r\n    return {\r\n      searchQuery,\r\n      selectedDept,\r\n      selectedContact,\r\n      departments,\r\n      contacts,\r\n      loading,\r\n      getInitials,\r\n      dialogVisible,\r\n      contactForm,\r\n      contactFormRef,\r\n      rules,\r\n      departmentOptions,\r\n      showAddContactDialog,\r\n      submitContactForm\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.contact-container {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.contacts-nav-card,\r\n.contacts-nav {\r\n  height: 700px;\r\n}\r\n\r\n.contacts-list-card,\r\n.contacts-list {\r\n  height: 700px;\r\n}\r\n\r\n.contacts-nav,\r\n.contacts-list {\r\n  overflow-y: auto;\r\n}\r\n\r\n.dept-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 15px;\r\n  color: #495057;\r\n  transition: all 0.2s;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.dept-item:hover {\r\n  background-color: #f8f9fa;\r\n  color: #007bff;\r\n}\r\n\r\n.dept-item.active {\r\n  background-color: #e9f4ff;\r\n  color: #007bff;\r\n  font-weight: 500;\r\n}\r\n\r\n.dept-item i {\r\n  margin-right: 10px;\r\n  font-size: 18px;\r\n  width: 24px;\r\n  text-align: center;\r\n}\r\n\r\n.dept-item .badge {\r\n  margin-left: auto;\r\n  background-color: #6c757d;\r\n  color: white;\r\n  font-weight: 500;\r\n  padding: 4px 8px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.contact-item {\r\n  padding: 15px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.contact-item:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.contact-item.active {\r\n  background-color: #e9f4ff;\r\n  border-left: 3px solid #007bff;\r\n}\r\n\r\n.contact-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background-color: #e9ecef;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 15px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: #6c757d;\r\n}\r\n\r\n.contact-info {\r\n  flex-grow: 1;\r\n}\r\n\r\n.contact-name {\r\n  font-weight: 500;\r\n  color: #343a40;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.contact-position {\r\n  color: #6c757d;\r\n  font-size: 13px;\r\n}\r\n\r\n.contact-detail-card {\r\n  min-height: 700px;\r\n}\r\n\r\n.contact-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.detail-avatar {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  background-color: #e9ecef;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 20px;\r\n  font-size: 30px;\r\n  font-weight: 500;\r\n  color: #6c757d;\r\n}\r\n\r\n.detail-info {\r\n  flex-grow: 1;\r\n}\r\n\r\n.detail-name {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #343a40;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.detail-position {\r\n  font-size: 16px;\r\n  color: #6c757d;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.detail-department {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.contact-actions {\r\n  display: flex;\r\n}\r\n\r\n.contact-actions .el-button {\r\n  margin-right: 10px;\r\n}\r\n\r\n.contact-section {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #343a40;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.contact-row {\r\n  display: flex;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.contact-label {\r\n  width: 100px;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n.contact-value {\r\n  color: #343a40;\r\n}\r\n\r\n.search-box {\r\n  position: relative;\r\n}\r\n\r\n.search-input {\r\n  padding-left: 35px;\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 10px;\r\n  color: #6c757d;\r\n  z-index: 2;\r\n}\r\n\r\n.skills-tags .el-tag {\r\n  margin-right: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]}]}