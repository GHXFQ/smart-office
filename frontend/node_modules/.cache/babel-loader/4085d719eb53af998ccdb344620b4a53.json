{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\ReportsView.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\ReportsView.vue","mtime":1751468493931},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3Iuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLnNpemUuanMiOwppbXBvcnQgeyBvbk1vdW50ZWQsIHJlZiwgd2F0Y2gsIG9uQmVmb3JlVW5tb3VudCwgbmV4dFRpY2ssIGNvbXB1dGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKaW1wb3J0IHsgZXhwb3J0UHJvamVjdEFpUmVwb3J0LCBnZXRQcm9qZWN0Q2hhcnRBbmFseXNpcyB9IGZyb20gJ0AvYXBpL3Byb2plY3QnOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnOwppbXBvcnQgeyBNYWdpY1N0aWNrLCBBcnJvd0Rvd24sIExvYWRpbmcsIEluZm9GaWxsZWQgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBfX25hbWU6ICdSZXBvcnRzVmlldycsCiAgcHJvcHM6IHsKICAgIHByb2plY3Q6IE9iamVjdCwKICAgIHRhc2tzOiBBcnJheSwKICAgIGRvY3VtZW50czogQXJyYXksCiAgICByZXF1aXJlbWVudHM6IEFycmF5CiAgfSwKICBzZXR1cChfX3Byb3BzLCB7CiAgICBleHBvc2U6IF9fZXhwb3NlCiAgfSkgewogICAgX19leHBvc2UoKTsKICAgIGNvbnN0IHByb3BzID0gX19wcm9wczsKICAgIGNvbnN0IGRvY1RyZW5kQ2hhcnQgPSByZWYobnVsbCk7CiAgICBjb25zdCByZXFDaGFydCA9IHJlZihudWxsKTsKICAgIGNvbnN0IGdhdWdlQ2hhcnQgPSByZWYobnVsbCk7CiAgICBjb25zdCB0cmVuZENoYXJ0ID0gcmVmKG51bGwpOwogICAgbGV0IGRvY1RyZW5kQ2hhcnRJbnN0YW5jZSA9IG51bGw7CiAgICBsZXQgcmVxQ2hhcnRJbnN0YW5jZSA9IG51bGw7CiAgICBsZXQgZ2F1Z2VDaGFydEluc3RhbmNlID0gbnVsbDsKICAgIGxldCB0cmVuZENoYXJ0SW5zdGFuY2UgPSBudWxsOwoKICAgIC8vIOaWsOWinu+8muagh+WHhuWMluS7u+WKoeaVsOaNru+8jOWFvOWuuSLlt7LlrozmiJAi54q25oCB5ZKM5a6M5oiQ5pe26Ze0CiAgICBjb25zdCBub3JtYWxpemVkVGFza3MgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wcy50YXNrcykpIHJldHVybiBbXTsKICAgICAgcmV0dXJuIHByb3BzLnRhc2tzLm1hcCh0YXNrID0+IHsKICAgICAgICBsZXQgc3RhdHVzID0gdGFzay5zdGF0dXM7CiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ+W3suWujOaIkCcpIHN0YXR1cyA9ICdkb25lJzsKICAgICAgICAvLyDlj6/mianlsZXmm7TlpJrmmKDlsIQKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4udGFzaywKICAgICAgICAgIHN0YXR1cywKICAgICAgICAgIGR1ZV9kYXRlOiB0YXNrLmR1ZV9kYXRlIHx8IHRhc2sudXBkYXRlZF9hdCB8fCB0YXNrLnVwZGF0ZV90aW1lIHx8IHRhc2suZW5kX3RpbWUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICAvLyDnu5/orqHmlbDmja7mkZjopoEKICAgIGNvbnN0IHJlcVRvdGFsID0gY29tcHV0ZWQoKCkgPT4gewogICAgICB2YXIgX3Byb3BzJHJlcXVpcmVtZW50czsKICAgICAgcmV0dXJuICgoX3Byb3BzJHJlcXVpcmVtZW50cyA9IHByb3BzLnJlcXVpcmVtZW50cykgPT09IG51bGwgfHwgX3Byb3BzJHJlcXVpcmVtZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb3BzJHJlcXVpcmVtZW50cy5sZW5ndGgpIHx8IDA7CiAgICB9KTsKICAgIGNvbnN0IHRhc2tUb3RhbCA9IGNvbXB1dGVkKCgpID0+IG5vcm1hbGl6ZWRUYXNrcy52YWx1ZS5sZW5ndGggfHwgMCk7CgogICAgLy8g5Zu+6KGo5pWw5o2u6aKE5aSE55CGCiAgICBjb25zdCBkb2NUcmVuZEhhc0RhdGEgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wcy5kb2N1bWVudHMpIHx8ICFwcm9wcy5kb2N1bWVudHMubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiBwcm9wcy5kb2N1bWVudHMuc29tZShkb2MgPT4gZG9jLnVwbG9hZGVkX2F0IHx8IGRvYy5jcmVhdGVkX2F0KTsKICAgIH0pOwogICAgY29uc3QgdHJlbmRIYXNEYXRhID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoIUFycmF5LmlzQXJyYXkobm9ybWFsaXplZFRhc2tzLnZhbHVlKSB8fCAhbm9ybWFsaXplZFRhc2tzLnZhbHVlLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gbm9ybWFsaXplZFRhc2tzLnZhbHVlLnNvbWUodGFzayA9PiB0YXNrLmNvbXBsZXRlZF9hdCB8fCB0YXNrLmZpbmlzaF90aW1lIHx8IHRhc2suc3RhdHVzID09PSAnZG9uZScpOwogICAgfSk7CgogICAgLy8gQUnliIbmnpDnm7jlhbPnirbmgIEKICAgIGNvbnN0IGNoYXJ0QW5hbHlzaXMgPSByZWYoe30pOwogICAgY29uc3QgaXNMb2FkaW5nQW5hbHlzaXMgPSByZWYoZmFsc2UpOwogICAgY29uc3Qgc2hvd0RvY1RyZW5kQW5hbHlzaXMgPSByZWYodHJ1ZSk7CiAgICBjb25zdCBzaG93UmVxUHJpb3JpdHlBbmFseXNpcyA9IHJlZih0cnVlKTsKICAgIGNvbnN0IHNob3dSZXFDb21wbGV0aW9uQW5hbHlzaXMgPSByZWYodHJ1ZSk7CiAgICBjb25zdCBzaG93VGFza1RyZW5kQW5hbHlzaXMgPSByZWYodHJ1ZSk7CgogICAgLy8g5a+85Ye65oql5ZGK55u45YWz54q25oCBCiAgICBjb25zdCBzaG93RXhwb3J0RGlhbG9nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGlzRXhwb3J0aW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGV4cG9ydE9wdGlvbnMgPSByZWYoWydwcm9qZWN0X2luZm8nLCAndGFza3MnLCAnZG9jdW1lbnRzJywgJ3JlcXVpcmVtZW50cycsICdhaV9pbnNpZ2h0cyddKTsKCiAgICAvLyDliIfmjaLliIbmnpDpg6jliIbnmoTmmL7npLov6ZqQ6JePCiAgICBmdW5jdGlvbiB0b2dnbGVBbmFseXNpcyh0eXBlKSB7CiAgICAgIGlmICh0eXBlID09PSAnZG9jVHJlbmQnKSB7CiAgICAgICAgc2hvd0RvY1RyZW5kQW5hbHlzaXMudmFsdWUgPSAhc2hvd0RvY1RyZW5kQW5hbHlzaXMudmFsdWU7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JlcVByaW9yaXR5JykgewogICAgICAgIHNob3dSZXFQcmlvcml0eUFuYWx5c2lzLnZhbHVlID0gIXNob3dSZXFQcmlvcml0eUFuYWx5c2lzLnZhbHVlOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdyZXFDb21wbGV0aW9uJykgewogICAgICAgIHNob3dSZXFDb21wbGV0aW9uQW5hbHlzaXMudmFsdWUgPSAhc2hvd1JlcUNvbXBsZXRpb25BbmFseXNpcy52YWx1ZTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndGFza1RyZW5kJykgewogICAgICAgIHNob3dUYXNrVHJlbmRBbmFseXNpcy52YWx1ZSA9ICFzaG93VGFza1RyZW5kQW5hbHlzaXMudmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICAvLyDliqDovb3lm77ooahBSeWIhuaekAogICAgYXN5bmMgZnVuY3Rpb24gbG9hZENoYXJ0QW5hbHlzaXMoKSB7CiAgICAgIHZhciBfcHJvcHMkcHJvamVjdDsKICAgICAgaWYgKCEoKF9wcm9wcyRwcm9qZWN0ID0gcHJvcHMucHJvamVjdCkgIT09IG51bGwgJiYgX3Byb3BzJHByb2plY3QgIT09IHZvaWQgMCAmJiBfcHJvcHMkcHJvamVjdC5pZCkpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBpc0xvYWRpbmdBbmFseXNpcy52YWx1ZSA9IHRydWU7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQcm9qZWN0Q2hhcnRBbmFseXNpcyhwcm9wcy5wcm9qZWN0LmlkKTsKICAgICAgICBjaGFydEFuYWx5c2lzLnZhbHVlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZygnQUnliIbmnpDnu5Pmnpw6JywgY2hhcnRBbmFseXNpcy52YWx1ZSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L29QUnliIbmnpDlpLHotKU6JywgZXJyb3IpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5Yqg6L29QUnliIbmnpDlpLHotKXvvIzor7fnqI3lkI7ph43or5UnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpc0xvYWRpbmdBbmFseXNpcy52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICB9CgogICAgLy8g5Zu+6KGo6L2s5o2i5Li6YmFzZTY0CiAgICBmdW5jdGlvbiBjaGFydFRvQmFzZTY0KGNoYXJ0SW5zdGFuY2UpIHsKICAgICAgaWYgKCFjaGFydEluc3RhbmNlKSB7CiAgICAgICAgY29uc29sZS53YXJuKCflm77ooajlrp7kvovkuI3lrZjlnKjvvIzml6Dms5XovazmjaLkuLpCYXNlNjQnKTsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICAvLyDnoa7kv53lm77ooajlt7Lnu4/muLLmn5PlrozmiJAKICAgICAgICBjaGFydEluc3RhbmNlLnJlc2l6ZSgpOwogICAgICAgIC8vIOiuvue9rui+g+S9jueahOWDj+e0oOavlOS7peWHj+Wwj+aWh+S7tuWkp+WwjwogICAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBjaGFydEluc3RhbmNlLmdldERhdGFVUkwoewogICAgICAgICAgcGl4ZWxSYXRpbzogMS41LAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicKICAgICAgICB9KTsKCiAgICAgICAgLy8g6aqM6K+BQmFzZTY05pWw5o2u5piv5ZCm5pyJ5pWICiAgICAgICAgaWYgKCFiYXNlNjREYXRhIHx8IGJhc2U2NERhdGEubGVuZ3RoIDwgMTAwKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oJ+eUn+aIkOeahEJhc2U2NOaVsOaNruWPr+iDveaXoOaViCcpOwogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZyhg5oiQ5Yqf6L2s5o2i5Zu+6KGo77yM5pWw5o2u6ZW/5bqmOiAke2Jhc2U2NERhdGEubGVuZ3RofWApOwogICAgICAgIHJldHVybiBiYXNlNjREYXRhOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Zu+6KGo6L2s5o2i5Li6QmFzZTY05aSx6LSlOicsIGUpOwogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfQoKICAgIC8vIOaJk+W8gOWvvOWHuuWvueivneahhgogICAgZnVuY3Rpb24gZG93bmxvYWRBaVJlcG9ydCgpIHsKICAgICAgdmFyIF9wcm9wcyRwcm9qZWN0MjsKICAgICAgLy8g5qOA5p+l5piv5ZCm5pyJ5pWw5o2uCiAgICAgIGlmICghKChfcHJvcHMkcHJvamVjdDIgPSBwcm9wcy5wcm9qZWN0KSAhPT0gbnVsbCAmJiBfcHJvcHMkcHJvamVjdDIgIT09IHZvaWQgMCAmJiBfcHJvcHMkcHJvamVjdDIuaWQpKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+mhueebruS/oeaBr+S4jeWujOaVtO+8jOaXoOazleWvvOWHuuaKpeWRiicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g6aaW5YWI5Yqg6L29QUnliIbmnpDmlbDmja4KICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYXJ0QW5hbHlzaXMudmFsdWUpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGxvYWRDaGFydEFuYWx5c2lzKCk7CiAgICAgIH0KICAgICAgc2hvd0V4cG9ydERpYWxvZy52YWx1ZSA9IHRydWU7CiAgICAgIEVsTWVzc2FnZS5pbmZvKCfmiqXlkYrlr7zlh7rlkI7lsIbkv53lrZjliLDmgqjnmoTkuIvovb3nm67lvZUnKTsKICAgIH0KCiAgICAvLyDnoa7orqTlr7zlh7rmiqXlkYoKICAgIGFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1FeHBvcnQoKSB7CiAgICAgIHZhciBfcHJvcHMkcHJvamVjdDM7CiAgICAgIGlmICghKChfcHJvcHMkcHJvamVjdDMgPSBwcm9wcy5wcm9qZWN0KSAhPT0gbnVsbCAmJiBfcHJvcHMkcHJvamVjdDMgIT09IHZvaWQgMCAmJiBfcHJvcHMkcHJvamVjdDMuaWQpKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+mhueebruS/oeaBr+S4jeWujOaVtO+8jOaXoOazleWvvOWHuuaKpeWRiicpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHZhciBfZG9jVHJlbmRDaGFydEluc3RhbmMsIF9yZXFDaGFydEluc3RhbmNlLCBfZ2F1Z2VDaGFydEluc3RhbmNlLCBfdHJlbmRDaGFydEluc3RhbmNlOwogICAgICAgIGlzRXhwb3J0aW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICBFbE1lc3NhZ2UuaW5mbygn5q2j5Zyo5YeG5aSH5Zu+6KGo5pWw5o2u77yM6K+356iN5YCZLi4uJyk7CgogICAgICAgIC8vIOehruS/neWbvuihqOW3sue7j+WujOWFqOa4suafkwogICAgICAgIGF3YWl0IG5leHRUaWNrKCk7CgogICAgICAgIC8vIOW8uuWItumHjee7mOWbvuihqOS7peehruS/neaVsOaNruato+ehrgogICAgICAgIChfZG9jVHJlbmRDaGFydEluc3RhbmMgPSBkb2NUcmVuZENoYXJ0SW5zdGFuY2UpID09PSBudWxsIHx8IF9kb2NUcmVuZENoYXJ0SW5zdGFuYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY1RyZW5kQ2hhcnRJbnN0YW5jLnJlc2l6ZSgpOwogICAgICAgIChfcmVxQ2hhcnRJbnN0YW5jZSA9IHJlcUNoYXJ0SW5zdGFuY2UpID09PSBudWxsIHx8IF9yZXFDaGFydEluc3RhbmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVxQ2hhcnRJbnN0YW5jZS5yZXNpemUoKTsKICAgICAgICAoX2dhdWdlQ2hhcnRJbnN0YW5jZSA9IGdhdWdlQ2hhcnRJbnN0YW5jZSkgPT09IG51bGwgfHwgX2dhdWdlQ2hhcnRJbnN0YW5jZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dhdWdlQ2hhcnRJbnN0YW5jZS5yZXNpemUoKTsKICAgICAgICAoX3RyZW5kQ2hhcnRJbnN0YW5jZSA9IHRyZW5kQ2hhcnRJbnN0YW5jZSkgPT09IG51bGwgfHwgX3RyZW5kQ2hhcnRJbnN0YW5jZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RyZW5kQ2hhcnRJbnN0YW5jZS5yZXNpemUoKTsKCiAgICAgICAgLy8g5bu26L+f5omn6KGM5Lul56Gu5L+d5Zu+6KGo5riy5p+T5a6M5oiQCiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICAvLyDojrflj5bmiYDmnInlm77ooajnmoRiYXNlNjTmlbDmja4KICAgICAgICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IHsKICAgICAgICAgICAgICBkb2NfdHJlbmRfaW1nOiBjaGFydFRvQmFzZTY0KGRvY1RyZW5kQ2hhcnRJbnN0YW5jZSksCiAgICAgICAgICAgICAgcmVxX2NoYXJ0X2ltZzogY2hhcnRUb0Jhc2U2NChyZXFDaGFydEluc3RhbmNlKSwKICAgICAgICAgICAgICBnYXVnZV9jaGFydF9pbWc6IGNoYXJ0VG9CYXNlNjQoZ2F1Z2VDaGFydEluc3RhbmNlKSwKICAgICAgICAgICAgICB0cmVuZF9jaGFydF9pbWc6IGNoYXJ0VG9CYXNlNjQodHJlbmRDaGFydEluc3RhbmNlKSwKICAgICAgICAgICAgICBleHBvcnRfb3B0aW9uczogZXhwb3J0T3B0aW9ucy52YWx1ZQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g5qOA5p+l5Zu+6KGo5pWw5o2u5piv5ZCm5pyJ5pWICiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ2hhcnRzID0gT2JqZWN0LmVudHJpZXMoZXhwb3J0RGF0YSkuZmlsdGVyKChba2V5XSkgPT4ga2V5LmVuZHNXaXRoKCdfaW1nJykpLmZpbHRlcigoWywgdmFsXSkgPT4gdmFsICYmIHZhbC5sZW5ndGggPiAxMDApLmxlbmd0aDsKICAgICAgICAgICAgY29uc29sZS5sb2coYOacieaViOWbvuihqOaVsOmHjzogJHt2YWxpZENoYXJ0c30vNGApOwogICAgICAgICAgICBpZiAodmFsaWRDaGFydHMgPCAxKSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+WbvuihqOaVsOaNruWHhuWkh+Wksei0pe+8jOWwhuWwneivleWvvOWHuuS4jeWQq+WbvuihqOeahOaKpeWRiicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsTWVzc2FnZS5pbmZvKCfmraPlnKjnlJ/miJDmiqXlkYrvvIzor7fogJDlv4PnrYnlvoUuLi4nKTsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBleHBvcnRQcm9qZWN0QWlSZXBvcnQocHJvcHMucHJvamVjdC5pZCwgZXhwb3J0RGF0YSk7CgogICAgICAgICAgICAvLyDpqozor4Hlk43lupTlhoXlrrkKICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5pS25Yiw55qEUERG5pWw5o2u5peg5pWIJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOWIm+W7ukJsb2LlubbkuIvovb0KICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSwgewogICAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9wZGYnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwoKICAgICAgICAgICAgLy8g5Yib5bu65LiA5Liq6ZqQ6JeP55qEYeagh+etvuadpeS4i+i9vQogICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBgJHtwcm9wcy5wcm9qZWN0Lm5hbWUgfHwgJ+mhueebrid9X0FJ5YiG5p6Q5oql5ZGKLnBkZmA7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgIGxpbmsuY2xpY2soKTsKCiAgICAgICAgICAgIC8vIOa4heeQhgogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ0FJ5YiG5p6Q5oql5ZGK5a+85Ye65oiQ5YqfJyk7CiAgICAgICAgICAgIHNob3dFeHBvcnREaWFsb2cudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WvvOWHuui/h+eoi+S4reWPkeeUn+mUmeivrzonLCBlcnJvcik7CiAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihg5a+85Ye65aSx6LSlOiAke2Vycm9yLm1lc3NhZ2UgfHwgJ+acquefpemUmeivryd9YCk7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpc0V4cG9ydGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0sIDgwMCk7IC8vIOWinuWKoOW7tuaXtuehruS/neWbvuihqOWujOWFqOa4suafkwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WvvOWHukFJ5YiG5p6Q5oql5ZGK5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoYOWvvOWHuuaKpeWRiuWksei0pTogJHtlcnJvci5tZXNzYWdlIHx8ICfor7fnqI3lkI7ph43or5UnfWApOwogICAgICAgIGlzRXhwb3J0aW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHJlbmRlckNoYXJ0cygpIHsKICAgICAgLy8g6ZSA5q+B5pen5a6e5L6LCiAgICAgIGlmIChkb2NUcmVuZENoYXJ0SW5zdGFuY2UpIGRvY1RyZW5kQ2hhcnRJbnN0YW5jZS5kaXNwb3NlKCk7CiAgICAgIGlmIChyZXFDaGFydEluc3RhbmNlKSByZXFDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgICAgaWYgKGdhdWdlQ2hhcnRJbnN0YW5jZSkgZ2F1Z2VDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgICAgaWYgKHRyZW5kQ2hhcnRJbnN0YW5jZSkgdHJlbmRDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKCiAgICAgIC8vIOaWh+aho+S4iuS8oOi2i+WKvwogICAgICBpZiAoZG9jVHJlbmRDaGFydC52YWx1ZSkgewogICAgICAgIHZhciBfcHJvcHMkZG9jdW1lbnRzOwogICAgICAgIGRvY1RyZW5kQ2hhcnRJbnN0YW5jZSA9IGVjaGFydHMuaW5pdChkb2NUcmVuZENoYXJ0LnZhbHVlKTsKICAgICAgICBjb25zdCBkb2NNb250aE1hcCA9IHt9OwogICAgICAgIChfcHJvcHMkZG9jdW1lbnRzID0gcHJvcHMuZG9jdW1lbnRzKSA9PT0gbnVsbCB8fCBfcHJvcHMkZG9jdW1lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcHJvcHMkZG9jdW1lbnRzLmZvckVhY2goZG9jID0+IHsKICAgICAgICAgIGlmIChkb2MudXBsb2FkZWRfYXQpIHsKICAgICAgICAgICAgY29uc3QgbW9udGggPSAoZG9jLnVwbG9hZGVkX2F0ICsgJycpLnNsaWNlKDAsIDcpOwogICAgICAgICAgICBkb2NNb250aE1hcFttb250aF0gPSAoZG9jTW9udGhNYXBbbW9udGhdIHx8IDApICsgMTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zdCBkb2NNb250aHMgPSBPYmplY3Qua2V5cyhkb2NNb250aE1hcCkuc29ydCgpOwogICAgICAgIGNvbnN0IGRvY01vbnRoRGF0YSA9IGRvY01vbnRocy5tYXAobSA9PiBkb2NNb250aE1hcFttXSk7CiAgICAgICAgZG9jVHJlbmRDaGFydEluc3RhbmNlLnNldE9wdGlvbih7CiAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgIHRyaWdnZXI6ICdheGlzJwogICAgICAgICAgfSwKICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgbGVmdDogNDAsCiAgICAgICAgICAgIHJpZ2h0OiAyMCwKICAgICAgICAgICAgdG9wOiAzMCwKICAgICAgICAgICAgYm90dG9tOiA0MAogICAgICAgICAgfSwKICAgICAgICAgIHhBeGlzOiB7CiAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICAgIGRhdGE6IGRvY01vbnRocywKICAgICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjODg4JywKICAgICAgICAgICAgICBmb250U2l6ZTogMTMKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbmFtZTogZG9jTW9udGhzLmxlbmd0aCA/ICcnIDogJ+aaguaXoOaVsOaNricKICAgICAgICAgIH0sCiAgICAgICAgICB5QXhpczogewogICAgICAgICAgICB0eXBlOiAndmFsdWUnLAogICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgIGNvbG9yOiAnIzg4OCcsCiAgICAgICAgICAgICAgZm9udFNpemU6IDEzCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICAgIG5hbWU6ICfkuIrkvKDmlofmoaPmlbAnLAogICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgIGRhdGE6IGRvY01vbnRoRGF0YSwKICAgICAgICAgICAgc21vb3RoOiB0cnVlLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM0RjhDRkYnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAncmdiYSg3OSwxNDAsMjU1LDAuMSknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN5bWJvbFNpemU6IDEwCiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIOmcgOaxguS8mOWFiOe6p+WIhuW4gwogICAgICBpZiAocmVxQ2hhcnQudmFsdWUpIHsKICAgICAgICByZXFDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KHJlcUNoYXJ0LnZhbHVlKTsKICAgICAgICBjb25zdCByZXFQcmlvcml0eU1hcCA9IHsKICAgICAgICAgIOmrmDogMCwKICAgICAgICAgIOS4rTogMCwKICAgICAgICAgIOS9jjogMAogICAgICAgIH07CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMucmVxdWlyZW1lbnRzKSkgewogICAgICAgICAgcHJvcHMucmVxdWlyZW1lbnRzLmZvckVhY2gocmVxID0+IHsKICAgICAgICAgICAgbGV0IHByaSA9IHJlcS5wcmlvcml0eTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmkgPT09ICdvYmplY3QnICYmIHByaSAhPT0gbnVsbCkgcHJpID0gcHJpLnZhbHVlIHx8IHByaS5sYWJlbCB8fCBKU09OLnN0cmluZ2lmeShwcmkpOwogICAgICAgICAgICBpZiAodHlwZW9mIHByaSAhPT0gJ3N0cmluZycpIHByaSA9IFN0cmluZyhwcmkgfHwgJycpLnRyaW0oKTsKICAgICAgICAgICAgaWYgKFsnaGlnaCcsICdIaWdoJywgJ0hJR0gnLCAn6auYJywgJzEnXS5pbmNsdWRlcyhwcmkpKSB7CiAgICAgICAgICAgICAgcHJpID0gJ+mrmCc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoWydtZWRpdW0nLCAnTWVkaXVtJywgJ01FRElVTScsICfkuK0nLCAnMiddLmluY2x1ZGVzKHByaSkpIHsKICAgICAgICAgICAgICBwcmkgPSAn5LitJzsKICAgICAgICAgICAgfSBlbHNlIGlmIChbJ2xvdycsICdMb3cnLCAnTE9XJywgJ+S9jicsICczJ10uaW5jbHVkZXMocHJpKSkgewogICAgICAgICAgICAgIHByaSA9ICfkvY4nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOS4jeaYr+mrmC/kuK0v5L2O55qE5YWo6YOo6Lez6L+H77yM5LiN6K6h5YWl5Zu+6KGoCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlcVByaW9yaXR5TWFwW3ByaV0gPSAocmVxUHJpb3JpdHlNYXBbcHJpXSB8fCAwKSArIDE7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmVxQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScKICAgICAgICAgIH0sCiAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgYm90dG9tOiAwLAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM2NjYnLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxMwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6IFsnIzRGOENGRicsICcjMzRDNzU5JywgJyNGRjk1MDAnXSwKICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgbmFtZTogJ+S8mOWFiOe6p+WIhuW4gycsCiAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICByYWRpdXM6IFsnNjAlJywgJzgwJSddLAogICAgICAgICAgICBkYXRhOiBPYmplY3Qua2V5cyhyZXFQcmlvcml0eU1hcCkubWFwKGsgPT4gKHsKICAgICAgICAgICAgICB2YWx1ZTogcmVxUHJpb3JpdHlNYXBba10sCiAgICAgICAgICAgICAgbmFtZTogawogICAgICAgICAgICB9KSksCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogJ291dHNpZGUnLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxNCwKICAgICAgICAgICAgICBjb2xvcjogJyMzMzMnLAogICAgICAgICAgICAgIGZvcm1hdHRlcjogJ3tifToge2R9JScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgbGVuZ3RoOiAxOCwKICAgICAgICAgICAgICBsZW5ndGgyOiAxMAogICAgICAgICAgICB9LAogICAgICAgICAgICBhdm9pZExhYmVsT3ZlcmxhcDogZmFsc2UsCiAgICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgICBzaGFkb3dCbHVyOiAxMCwKICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAsCiAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoMCwwLDAsMC4yKScKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8g6ZyA5rGC5a6M5oiQ546H5Luq6KGo55uYCiAgICAgIGlmIChnYXVnZUNoYXJ0LnZhbHVlKSB7CiAgICAgICAgZ2F1Z2VDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KGdhdWdlQ2hhcnQudmFsdWUpOwogICAgICAgIGxldCByZXFDb21wbGV0ZWQgPSAwOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BzLnJlcXVpcmVtZW50cykpIHsKICAgICAgICAgIC8vIOiwg+ivlei+k+WHuuWOn+Wni+aVsOaNrgogICAgICAgICAgY29uc29sZS5sb2coJ+mcgOaxguWOn+Wni+aVsOaNrjonLCBwcm9wcy5yZXF1aXJlbWVudHMpOwogICAgICAgICAgcHJvcHMucmVxdWlyZW1lbnRzLmZvckVhY2gocmVxID0+IHsKICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHJlcS5zdGF0dXM7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdHVzID09PSAnb2JqZWN0JyAmJiBzdGF0dXMgIT09IG51bGwpIHN0YXR1cyA9IHN0YXR1cy52YWx1ZSB8fCBzdGF0dXMubGFiZWwgfHwgSlNPTi5zdHJpbmdpZnkoc3RhdHVzKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0dXMgIT09ICdzdHJpbmcnKSBzdGF0dXMgPSBTdHJpbmcoc3RhdHVzIHx8ICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgaWYgKFsn5bey5a6M5oiQJywgJ+WujOaIkCcsICdjb21wbGV0ZWQnLCAnZG9uZScsICdmaW5pc2hlZCcsICflt7LlhbPpl60nLCAnY2xvc2VkJywgJ+W3suino+WGsycsICdyZXNvbHZlZCcsICcxJywgJ3RydWUnLCAn5pivJywgJ3N1Y2Nlc3MnXS5zb21lKHMgPT4gc3RhdHVzLmluY2x1ZGVzKHMpKSkgewogICAgICAgICAgICAgIHJlcUNvbXBsZXRlZCsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY29uc3QgcGVyY2VudCA9IHJlcVRvdGFsLnZhbHVlID8gTWF0aC5yb3VuZChyZXFDb21wbGV0ZWQgLyByZXFUb3RhbC52YWx1ZSAqIDEwMCkgOiAwOwogICAgICAgIGdhdWdlQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oewogICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICB0eXBlOiAnZ2F1Z2UnLAogICAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzYwJSddLAogICAgICAgICAgICByYWRpdXM6ICc5MCUnLAogICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICBwcm9ncmVzczogewogICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgd2lkdGg6IDE4CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTgsCiAgICAgICAgICAgICAgICBjb2xvcjogW1sxLCAnIzRGOENGRiddXQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9pbnRlcjogewogICAgICAgICAgICAgIHdpZHRoOiA2LAogICAgICAgICAgICAgIGxlbmd0aDogJzcwJScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgdmFsdWVBbmltYXRpb246IHRydWUsCiAgICAgICAgICAgICAgZm9udFNpemU6IDMyLAogICAgICAgICAgICAgIGNvbG9yOiAnIzRGOENGRicsCiAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLAogICAgICAgICAgICAgIG9mZnNldENlbnRlcjogWzAsICc0MCUnXSwKICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICd7dmFsdWV9JScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogW3sKICAgICAgICAgICAgICB2YWx1ZTogcGVyY2VudCwKICAgICAgICAgICAgICBuYW1lOiAn5a6M5oiQ546HJwogICAgICAgICAgICB9XSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICBmb250U2l6ZTogMTYsCiAgICAgICAgICAgICAgY29sb3I6ICcjODg4JywKICAgICAgICAgICAgICBvZmZzZXRDZW50ZXI6IFswLCAnODAlJ10KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgfQogICAgICAvLyDku7vliqHlrozmiJDotovlir8KICAgICAgaWYgKHRyZW5kQ2hhcnQudmFsdWUpIHsKICAgICAgICAvLyDosIPor5XovpPlh7rljp/lp4vku7vliqHmlbDmja4KICAgICAgICBjb25zb2xlLmxvZygn5Lu75Yqh5Y6f5aeL5pWw5o2uOicsIG5vcm1hbGl6ZWRUYXNrcy52YWx1ZSk7CiAgICAgICAgdHJlbmRDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KHRyZW5kQ2hhcnQudmFsdWUpOwogICAgICAgIGNvbnN0IG1vbnRoTWFwID0ge307CiAgICAgICAgbGV0IGhhc0NvbXBsZXRlZCA9IGZhbHNlOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vcm1hbGl6ZWRUYXNrcy52YWx1ZSkpIHsKICAgICAgICAgIG5vcm1hbGl6ZWRUYXNrcy52YWx1ZS5mb3JFYWNoKHRhc2sgPT4gewogICAgICAgICAgICAvLyDku4XmoLnmja4gc3RhdHVzIOWtl+auteWIpOaWreaYr+WQpuW3suWujOaIkAogICAgICAgICAgICBsZXQgc3RhdHVzID0gKHRhc2suc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBpZiAoWyflt7LlrozmiJAnLCAn5a6M5oiQJywgJ2RvbmUnLCAnZmluaXNoZWQnLCAn5bey5YWz6ZetJywgJ2Nsb3NlZCcsICdzdWNjZXNzJywgJ3RydWUnLCAnMSddLnNvbWUocyA9PiBzdGF0dXMuaW5jbHVkZXMocykpKSB7CiAgICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAvLyDlj5YgZHVlX2RhdGUg5oiWIHVwZGF0ZWRfYXQg5L2c5Li65a6M5oiQ5pe26Ze0CiAgICAgICAgICAgICAgbGV0IGZpbmlzaCA9IHRhc2suZHVlX2RhdGUgfHwgdGFzay51cGRhdGVkX2F0IHx8IHRhc2sudXBkYXRlX3RpbWUgfHwgdGFzay5lbmRfdGltZSB8fCAnJzsKICAgICAgICAgICAgICBpZiAoIWZpbmlzaCkgewogICAgICAgICAgICAgICAgLy8g5rKh5pyJ5pe26Ze05a2X5q615pe277yM5L2/55So5b2T5YmN5pyICiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgZmluaXNoID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb25zdCBtb250aCA9IChmaW5pc2ggKyAnJykuc2xpY2UoMCwgNyk7CiAgICAgICAgICAgICAgbW9udGhNYXBbbW9udGhdID0gKG1vbnRoTWFwW21vbnRoXSB8fCAwKSArIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBsZXQgbW9udGhzID0gT2JqZWN0LmtleXMobW9udGhNYXApLnNvcnQoKTsKICAgICAgICBsZXQgbW9udGhEYXRhID0gbW9udGhzLm1hcChtID0+IG1vbnRoTWFwW21dKTsKICAgICAgICAvLyDlpoLmnpzmnInku7vliqHkvYbpg73mnKrlrozmiJDvvIzmmL7npLowCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9ybWFsaXplZFRhc2tzLnZhbHVlKSAmJiBub3JtYWxpemVkVGFza3MudmFsdWUubGVuZ3RoID4gMCAmJiAhaGFzQ29tcGxldGVkKSB7CiAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgY29uc3QgdGhpc01vbnRoID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICAgICAgbW9udGhzID0gW3RoaXNNb250aF07CiAgICAgICAgICBtb250aERhdGEgPSBbMF07CiAgICAgICAgfQogICAgICAgIHRyZW5kQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICAgIH0sCiAgICAgICAgICBncmlkOiB7CiAgICAgICAgICAgIGxlZnQ6IDQwLAogICAgICAgICAgICByaWdodDogMjAsCiAgICAgICAgICAgIHRvcDogMzAsCiAgICAgICAgICAgIGJvdHRvbTogNDAKICAgICAgICAgIH0sCiAgICAgICAgICB4QXhpczogewogICAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgICBkYXRhOiBtb250aHMsCiAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgIGNvbG9yOiAnIzg4OCcsCiAgICAgICAgICAgICAgZm9udFNpemU6IDEzCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5hbWU6IG1vbnRocy5sZW5ndGggPyAnJyA6ICfmmoLml6DmlbDmja4nCiAgICAgICAgICB9LAogICAgICAgICAgeUF4aXM6IHsKICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM4ODgnLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxMwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICBuYW1lOiAn5a6M5oiQ5Lu75Yqh5pWwJywKICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgIGRhdGE6IG1vbnRoRGF0YSwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjMzRDNzU5JwogICAgICAgICAgICB9LAogICAgICAgICAgICBiYXJXaWR0aDogMzIsCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgICAgICAgY29sb3I6ICcjMzRDNzU5JywKICAgICAgICAgICAgICBmb250U2l6ZTogMTYsCiAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyDosIPmlbTlm77ooajlsLrlr7gKICAgIGNvbnN0IHJlc2l6ZUNoYXJ0cyA9ICgpID0+IHsKICAgICAgdmFyIF9kb2NUcmVuZENoYXJ0SW5zdGFuYzIsIF9yZXFDaGFydEluc3RhbmNlMiwgX2dhdWdlQ2hhcnRJbnN0YW5jZTIsIF90cmVuZENoYXJ0SW5zdGFuY2UyOwogICAgICAoX2RvY1RyZW5kQ2hhcnRJbnN0YW5jMiA9IGRvY1RyZW5kQ2hhcnRJbnN0YW5jZSkgPT09IG51bGwgfHwgX2RvY1RyZW5kQ2hhcnRJbnN0YW5jMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RvY1RyZW5kQ2hhcnRJbnN0YW5jMi5yZXNpemUoKTsKICAgICAgKF9yZXFDaGFydEluc3RhbmNlMiA9IHJlcUNoYXJ0SW5zdGFuY2UpID09PSBudWxsIHx8IF9yZXFDaGFydEluc3RhbmNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcUNoYXJ0SW5zdGFuY2UyLnJlc2l6ZSgpOwogICAgICAoX2dhdWdlQ2hhcnRJbnN0YW5jZTIgPSBnYXVnZUNoYXJ0SW5zdGFuY2UpID09PSBudWxsIHx8IF9nYXVnZUNoYXJ0SW5zdGFuY2UyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2F1Z2VDaGFydEluc3RhbmNlMi5yZXNpemUoKTsKICAgICAgKF90cmVuZENoYXJ0SW5zdGFuY2UyID0gdHJlbmRDaGFydEluc3RhbmNlKSA9PT0gbnVsbCB8fCBfdHJlbmRDaGFydEluc3RhbmNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RyZW5kQ2hhcnRJbnN0YW5jZTIucmVzaXplKCk7CiAgICB9OwoKICAgIC8vIOebkeWQrOeql+WPo+WwuuWvuOWPmOWMlgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUNoYXJ0cyk7CgogICAgLy8g55uR5ZCs5bGe5oCn5Y+Y5YyW77yM6YeN5paw5riy5p+T5Zu+6KGoCiAgICB3YXRjaCgoKSA9PiBbcHJvcHMudGFza3MsIHByb3BzLmRvY3VtZW50cywgcHJvcHMucmVxdWlyZW1lbnRzLCBwcm9wcy5wcm9qZWN0XSwgKCkgPT4gewogICAgICAvLyDlu7bov5/miafooYzvvIznoa7kv51ET03lt7Lmm7TmlrAKICAgICAgbmV4dFRpY2soKCkgPT4gewogICAgICAgIHZhciBfcHJvcHMkcHJvamVjdDQ7CiAgICAgICAgcmVuZGVyQ2hhcnRzKCk7CgogICAgICAgIC8vIOWmguaenOaciemhueebrklE5L2G5bCa5pyq5Yqg6L295YiG5p6Q77yM6Ieq5Yqo5Yqg6L29CiAgICAgICAgaWYgKChfcHJvcHMkcHJvamVjdDQgPSBwcm9wcy5wcm9qZWN0KSAhPT0gbnVsbCAmJiBfcHJvcHMkcHJvamVjdDQgIT09IHZvaWQgMCAmJiBfcHJvcHMkcHJvamVjdDQuaWQgJiYgT2JqZWN0LmtleXMoY2hhcnRBbmFseXNpcy52YWx1ZSkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBsb2FkQ2hhcnRBbmFseXNpcygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCB7CiAgICAgIGRlZXA6IHRydWUKICAgIH0pOwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgbmV4dFRpY2soKCkgPT4gewogICAgICAgIHZhciBfcHJvcHMkcHJvamVjdDU7CiAgICAgICAgcmVuZGVyQ2hhcnRzKCk7CgogICAgICAgIC8vIOWmguaenOaciemhueebrklE77yM6Ieq5Yqo5Yqg6L295YiG5p6QCiAgICAgICAgaWYgKChfcHJvcHMkcHJvamVjdDUgPSBwcm9wcy5wcm9qZWN0KSAhPT0gbnVsbCAmJiBfcHJvcHMkcHJvamVjdDUgIT09IHZvaWQgMCAmJiBfcHJvcHMkcHJvamVjdDUuaWQpIHsKICAgICAgICAgIGxvYWRDaGFydEFuYWx5c2lzKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHsKICAgICAgdmFyIF9kb2NUcmVuZENoYXJ0SW5zdGFuYzMsIF9yZXFDaGFydEluc3RhbmNlMywgX2dhdWdlQ2hhcnRJbnN0YW5jZTMsIF90cmVuZENoYXJ0SW5zdGFuY2UzOwogICAgICAvLyDmuIXnkIbkuovku7bnm5HlkKzlmajlkozlm77ooajlrp7kvosKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUNoYXJ0cyk7CiAgICAgIChfZG9jVHJlbmRDaGFydEluc3RhbmMzID0gZG9jVHJlbmRDaGFydEluc3RhbmNlKSA9PT0gbnVsbCB8fCBfZG9jVHJlbmRDaGFydEluc3RhbmMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZG9jVHJlbmRDaGFydEluc3RhbmMzLmRpc3Bvc2UoKTsKICAgICAgKF9yZXFDaGFydEluc3RhbmNlMyA9IHJlcUNoYXJ0SW5zdGFuY2UpID09PSBudWxsIHx8IF9yZXFDaGFydEluc3RhbmNlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcUNoYXJ0SW5zdGFuY2UzLmRpc3Bvc2UoKTsKICAgICAgKF9nYXVnZUNoYXJ0SW5zdGFuY2UzID0gZ2F1Z2VDaGFydEluc3RhbmNlKSA9PT0gbnVsbCB8fCBfZ2F1Z2VDaGFydEluc3RhbmNlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dhdWdlQ2hhcnRJbnN0YW5jZTMuZGlzcG9zZSgpOwogICAgICAoX3RyZW5kQ2hhcnRJbnN0YW5jZTMgPSB0cmVuZENoYXJ0SW5zdGFuY2UpID09PSBudWxsIHx8IF90cmVuZENoYXJ0SW5zdGFuY2UzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdHJlbmRDaGFydEluc3RhbmNlMy5kaXNwb3NlKCk7CiAgICB9KTsKICAgIGNvbnN0IF9fcmV0dXJuZWRfXyA9IHsKICAgICAgcHJvcHMsCiAgICAgIGRvY1RyZW5kQ2hhcnQsCiAgICAgIHJlcUNoYXJ0LAogICAgICBnYXVnZUNoYXJ0LAogICAgICB0cmVuZENoYXJ0LAogICAgICBnZXQgZG9jVHJlbmRDaGFydEluc3RhbmNlKCkgewogICAgICAgIHJldHVybiBkb2NUcmVuZENoYXJ0SW5zdGFuY2U7CiAgICAgIH0sCiAgICAgIHNldCBkb2NUcmVuZENoYXJ0SW5zdGFuY2UodikgewogICAgICAgIGRvY1RyZW5kQ2hhcnRJbnN0YW5jZSA9IHY7CiAgICAgIH0sCiAgICAgIGdldCByZXFDaGFydEluc3RhbmNlKCkgewogICAgICAgIHJldHVybiByZXFDaGFydEluc3RhbmNlOwogICAgICB9LAogICAgICBzZXQgcmVxQ2hhcnRJbnN0YW5jZSh2KSB7CiAgICAgICAgcmVxQ2hhcnRJbnN0YW5jZSA9IHY7CiAgICAgIH0sCiAgICAgIGdldCBnYXVnZUNoYXJ0SW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIGdhdWdlQ2hhcnRJbnN0YW5jZTsKICAgICAgfSwKICAgICAgc2V0IGdhdWdlQ2hhcnRJbnN0YW5jZSh2KSB7CiAgICAgICAgZ2F1Z2VDaGFydEluc3RhbmNlID0gdjsKICAgICAgfSwKICAgICAgZ2V0IHRyZW5kQ2hhcnRJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gdHJlbmRDaGFydEluc3RhbmNlOwogICAgICB9LAogICAgICBzZXQgdHJlbmRDaGFydEluc3RhbmNlKHYpIHsKICAgICAgICB0cmVuZENoYXJ0SW5zdGFuY2UgPSB2OwogICAgICB9LAogICAgICBub3JtYWxpemVkVGFza3MsCiAgICAgIHJlcVRvdGFsLAogICAgICB0YXNrVG90YWwsCiAgICAgIGRvY1RyZW5kSGFzRGF0YSwKICAgICAgdHJlbmRIYXNEYXRhLAogICAgICBjaGFydEFuYWx5c2lzLAogICAgICBpc0xvYWRpbmdBbmFseXNpcywKICAgICAgc2hvd0RvY1RyZW5kQW5hbHlzaXMsCiAgICAgIHNob3dSZXFQcmlvcml0eUFuYWx5c2lzLAogICAgICBzaG93UmVxQ29tcGxldGlvbkFuYWx5c2lzLAogICAgICBzaG93VGFza1RyZW5kQW5hbHlzaXMsCiAgICAgIHNob3dFeHBvcnREaWFsb2csCiAgICAgIGlzRXhwb3J0aW5nLAogICAgICBleHBvcnRPcHRpb25zLAogICAgICB0b2dnbGVBbmFseXNpcywKICAgICAgbG9hZENoYXJ0QW5hbHlzaXMsCiAgICAgIGNoYXJ0VG9CYXNlNjQsCiAgICAgIGRvd25sb2FkQWlSZXBvcnQsCiAgICAgIGNvbmZpcm1FeHBvcnQsCiAgICAgIHJlbmRlckNoYXJ0cywKICAgICAgcmVzaXplQ2hhcnRzLAogICAgICBvbk1vdW50ZWQsCiAgICAgIHJlZiwKICAgICAgd2F0Y2gsCiAgICAgIG9uQmVmb3JlVW5tb3VudCwKICAgICAgbmV4dFRpY2ssCiAgICAgIGNvbXB1dGVkLAogICAgICBnZXQgZWNoYXJ0cygpIHsKICAgICAgICByZXR1cm4gZWNoYXJ0czsKICAgICAgfSwKICAgICAgZ2V0IGV4cG9ydFByb2plY3RBaVJlcG9ydCgpIHsKICAgICAgICByZXR1cm4gZXhwb3J0UHJvamVjdEFpUmVwb3J0OwogICAgICB9LAogICAgICBnZXQgZ2V0UHJvamVjdENoYXJ0QW5hbHlzaXMoKSB7CiAgICAgICAgcmV0dXJuIGdldFByb2plY3RDaGFydEFuYWx5c2lzOwogICAgICB9LAogICAgICBnZXQgRWxNZXNzYWdlKCkgewogICAgICAgIHJldHVybiBFbE1lc3NhZ2U7CiAgICAgIH0sCiAgICAgIGdldCBNYWdpY1N0aWNrKCkgewogICAgICAgIHJldHVybiBNYWdpY1N0aWNrOwogICAgICB9LAogICAgICBnZXQgQXJyb3dEb3duKCkgewogICAgICAgIHJldHVybiBBcnJvd0Rvd247CiAgICAgIH0sCiAgICAgIGdldCBMb2FkaW5nKCkgewogICAgICAgIHJldHVybiBMb2FkaW5nOwogICAgICB9LAogICAgICBnZXQgSW5mb0ZpbGxlZCgpIHsKICAgICAgICByZXR1cm4gSW5mb0ZpbGxlZDsKICAgICAgfQogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfTs="},{"version":3,"names":["onMounted","ref","watch","onBeforeUnmount","nextTick","computed","echarts","exportProjectAiReport","getProjectChartAnalysis","ElMessage","MagicStick","ArrowDown","Loading","InfoFilled","props","__props","docTrendChart","reqChart","gaugeChart","trendChart","docTrendChartInstance","reqChartInstance","gaugeChartInstance","trendChartInstance","normalizedTasks","Array","isArray","tasks","map","task","status","due_date","updated_at","update_time","end_time","Date","toISOString","reqTotal","_props$requirements","requirements","length","taskTotal","value","docTrendHasData","documents","some","doc","uploaded_at","created_at","trendHasData","completed_at","finish_time","chartAnalysis","isLoadingAnalysis","showDocTrendAnalysis","showReqPriorityAnalysis","showReqCompletionAnalysis","showTaskTrendAnalysis","showExportDialog","isExporting","exportOptions","toggleAnalysis","type","loadChartAnalysis","_props$project","project","id","response","data","console","log","error","chartToBase64","chartInstance","warn","resize","base64Data","getDataURL","pixelRatio","backgroundColor","e","downloadAiReport","_props$project2","warning","Object","keys","info","confirmExport","_props$project3","_docTrendChartInstanc","_reqChartInstance","_gaugeChartInstance","_trendChartInstance","setTimeout","exportData","doc_trend_img","req_chart_img","gauge_chart_img","trend_chart_img","export_options","validCharts","entries","filter","key","endsWith","val","Error","blob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","name","body","appendChild","click","removeChild","revokeObjectURL","success","message","renderCharts","dispose","_props$documents","init","docMonthMap","forEach","month","slice","docMonths","sort","docMonthData","m","setOption","tooltip","trigger","grid","left","right","top","bottom","xAxis","axisLabel","color","fontSize","yAxis","min","series","smooth","itemStyle","areaStyle","symbolSize","reqPriorityMap","高","中","低","req","pri","priority","label","JSON","stringify","String","trim","includes","legend","textStyle","radius","k","show","position","formatter","labelLine","length2","avoidLabelOverlap","emphasis","shadowBlur","shadowOffsetX","shadowColor","reqCompleted","toLowerCase","s","percent","Math","round","center","max","progress","width","axisLine","lineStyle","pointer","detail","valueAnimation","fontWeight","offsetCenter","title","monthMap","hasCompleted","finish","now","getFullYear","getMonth","padStart","months","monthData","thisMonth","barWidth","resizeCharts","_docTrendChartInstanc2","_reqChartInstance2","_gaugeChartInstance2","_trendChartInstance2","window","addEventListener","_props$project4","deep","_props$project5","_docTrendChartInstanc3","_reqChartInstance3","_gaugeChartInstance3","_trendChartInstance3","removeEventListener"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/components/ReportsView.vue"],"sourcesContent":["<template>\n  <div class=\"module-card modern-report\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">项目数据分析</h5>\n      <div class=\"btn-group\">\n        <el-button size=\"small\" plain type=\"primary\" class=\"ai-report-btn\" @click=\"downloadAiReport\">\n          <el-icon class=\"btn-icon\"><MagicStick /></el-icon>\n          导出AI分析报告\n        </el-button>\n      </div>\n    </div>\n    <div class=\"row mb-4\">\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">文档上传趋势</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"docTrendChart\" class=\"modern-echart\" />\n            <div v-if=\"!docTrendHasData\" class=\"chart-empty\">暂无数据</div>\n          </div>\n          <!-- 文档上传趋势AI分析 -->\n          <div class=\"ai-analysis-section\" v-if=\"docTrendHasData\">\n            <div class=\"ai-analysis-header\" @click=\"toggleAnalysis('docTrend')\">\n              <el-icon><MagicStick /></el-icon>\n              <span>AI分析</span>\n              <el-icon class=\"toggle-icon\" :class=\"{'is-active': showDocTrendAnalysis}\">\n                <ArrowDown />\n              </el-icon>\n            </div>\n            <div class=\"ai-analysis-content\" v-if=\"showDocTrendAnalysis\">\n              <div v-if=\"isLoadingAnalysis\" class=\"analysis-loading\">\n                <el-icon class=\"is-loading\"><Loading /></el-icon>\n                <span>AI分析中...</span>\n              </div>\n              <template v-else-if=\"chartAnalysis.doc_trend_analysis\">\n                <div class=\"analysis-section\">\n                  <h6>关键发现</h6>\n                  <ul class=\"finding-list\">\n                    <li v-for=\"(finding, idx) in chartAnalysis.doc_trend_analysis.key_findings\" :key=\"'finding-'+idx\">\n                      {{ finding }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>建议</h6>\n                  <ul class=\"recommendation-list\">\n                    <li v-for=\"(rec, idx) in chartAnalysis.doc_trend_analysis.recommendations\" :key=\"'rec-'+idx\">\n                      {{ rec }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>洞察</h6>\n                  <p class=\"insights-text\">{{ chartAnalysis.doc_trend_analysis.insights }}</p>\n                </div>\n              </template>\n              <div v-else class=\"analysis-empty\">\n                <span>暂无分析数据</span>\n                <el-button type=\"text\" @click=\"loadChartAnalysis\">点击生成分析</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">需求优先级分布</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"reqChart\" class=\"modern-echart\" />\n            <div v-if=\"!reqTotal\" class=\"chart-empty\">暂无数据</div>\n          </div>\n          <div class=\"modern-summary main-value\" v-if=\"reqTotal\">共 {{ reqTotal }} 个需求</div>\n          <!-- 需求优先级分布AI分析 -->\n          <div class=\"ai-analysis-section\" v-if=\"reqTotal\">\n            <div class=\"ai-analysis-header\" @click=\"toggleAnalysis('reqPriority')\">\n              <el-icon><MagicStick /></el-icon>\n              <span>AI分析</span>\n              <el-icon class=\"toggle-icon\" :class=\"{'is-active': showReqPriorityAnalysis}\">\n                <ArrowDown />\n              </el-icon>\n            </div>\n            <div class=\"ai-analysis-content\" v-if=\"showReqPriorityAnalysis\">\n              <div v-if=\"isLoadingAnalysis\" class=\"analysis-loading\">\n                <el-icon class=\"is-loading\"><Loading /></el-icon>\n                <span>AI分析中...</span>\n              </div>\n              <template v-else-if=\"chartAnalysis.req_priority_analysis\">\n                <div class=\"analysis-section\">\n                  <h6>关键发现</h6>\n                  <ul class=\"finding-list\">\n                    <li v-for=\"(finding, idx) in chartAnalysis.req_priority_analysis.key_findings\" :key=\"'finding-'+idx\">\n                      {{ finding }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>建议</h6>\n                  <ul class=\"recommendation-list\">\n                    <li v-for=\"(rec, idx) in chartAnalysis.req_priority_analysis.recommendations\" :key=\"'rec-'+idx\">\n                      {{ rec }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>洞察</h6>\n                  <p class=\"insights-text\">{{ chartAnalysis.req_priority_analysis.insights }}</p>\n                </div>\n              </template>\n              <div v-else class=\"analysis-empty\">\n                <span>暂无分析数据</span>\n                <el-button type=\"text\" @click=\"loadChartAnalysis\">点击生成分析</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mb-4\">\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">需求完成率</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"gaugeChart\" class=\"modern-echart\" />\n            <div v-if=\"!reqTotal\" class=\"chart-empty\">暂无数据</div>\n          </div>\n          <!-- 需求完成率AI分析 -->\n          <div class=\"ai-analysis-section\" v-if=\"reqTotal\">\n            <div class=\"ai-analysis-header\" @click=\"toggleAnalysis('reqCompletion')\">\n              <el-icon><MagicStick /></el-icon>\n              <span>AI分析</span>\n              <el-icon class=\"toggle-icon\" :class=\"{'is-active': showReqCompletionAnalysis}\">\n                <ArrowDown />\n              </el-icon>\n            </div>\n            <div class=\"ai-analysis-content\" v-if=\"showReqCompletionAnalysis\">\n              <div v-if=\"isLoadingAnalysis\" class=\"analysis-loading\">\n                <el-icon class=\"is-loading\"><Loading /></el-icon>\n                <span>AI分析中...</span>\n              </div>\n              <template v-else-if=\"chartAnalysis.req_completion_analysis\">\n                <div class=\"analysis-section\">\n                  <h6>关键发现</h6>\n                  <ul class=\"finding-list\">\n                    <li v-for=\"(finding, idx) in chartAnalysis.req_completion_analysis.key_findings\" :key=\"'finding-'+idx\">\n                      {{ finding }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>建议</h6>\n                  <ul class=\"recommendation-list\">\n                    <li v-for=\"(rec, idx) in chartAnalysis.req_completion_analysis.recommendations\" :key=\"'rec-'+idx\">\n                      {{ rec }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>洞察</h6>\n                  <p class=\"insights-text\">{{ chartAnalysis.req_completion_analysis.insights }}</p>\n                </div>\n              </template>\n              <div v-else class=\"analysis-empty\">\n                <span>暂无分析数据</span>\n                <el-button type=\"text\" @click=\"loadChartAnalysis\">点击生成分析</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">任务完成趋势</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"trendChart\" class=\"modern-echart\" />\n            <div v-if=\"!trendHasData\" class=\"chart-empty\">暂无数据</div>\n          </div>\n          <div class=\"modern-summary main-value\" v-if=\"taskTotal\">共 {{ taskTotal }} 个任务</div>\n          <!-- 任务完成趋势AI分析 -->\n          <div class=\"ai-analysis-section\" v-if=\"trendHasData || taskTotal > 0\">\n            <div class=\"ai-analysis-header\" @click=\"toggleAnalysis('taskTrend')\">\n              <el-icon><MagicStick /></el-icon>\n              <span>AI分析</span>\n              <el-icon class=\"toggle-icon\" :class=\"{'is-active': showTaskTrendAnalysis}\">\n                <ArrowDown />\n              </el-icon>\n            </div>\n            <div class=\"ai-analysis-content\" v-if=\"showTaskTrendAnalysis\">\n              <div v-if=\"isLoadingAnalysis\" class=\"analysis-loading\">\n                <el-icon class=\"is-loading\"><Loading /></el-icon>\n                <span>AI分析中...</span>\n              </div>\n              <template v-else-if=\"chartAnalysis.task_trend_analysis\">\n                <div class=\"analysis-section\">\n                  <h6>关键发现</h6>\n                  <ul class=\"finding-list\">\n                    <li v-for=\"(finding, idx) in chartAnalysis.task_trend_analysis.key_findings\" :key=\"'finding-'+idx\">\n                      {{ finding }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>建议</h6>\n                  <ul class=\"recommendation-list\">\n                    <li v-for=\"(rec, idx) in chartAnalysis.task_trend_analysis.recommendations\" :key=\"'rec-'+idx\">\n                      {{ rec }}\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"analysis-section\">\n                  <h6>洞察</h6>\n                  <p class=\"insights-text\">{{ chartAnalysis.task_trend_analysis.insights }}</p>\n                </div>\n              </template>\n              <div v-else class=\"analysis-empty\">\n                <span>暂无分析数据</span>\n                <el-button type=\"text\" @click=\"loadChartAnalysis\">点击生成分析</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 导出报告对话框 -->\n    <el-dialog\n      v-model=\"showExportDialog\"\n      title=\"导出AI分析报告\"\n      width=\"500px\"\n      destroy-on-close\n    >\n      <div class=\"export-dialog-content\">\n        <div class=\"dialog-info-box\">\n          <p><el-icon><InfoFilled /></el-icon> 系统将自动整合所有图表及AI分析结果生成PDF报告。</p>\n        </div>\n        \n        <div class=\"export-options\">\n          <h4>报告内容</h4>\n          <el-checkbox-group v-model=\"exportOptions\">\n            <el-checkbox label=\"project_info\">项目基本信息</el-checkbox>\n            <el-checkbox label=\"tasks\">任务分析</el-checkbox>\n            <el-checkbox label=\"documents\">文档分析</el-checkbox>\n            <el-checkbox label=\"requirements\">需求分析</el-checkbox>\n            <el-checkbox label=\"ai_insights\">AI综合结论</el-checkbox>\n          </el-checkbox-group>\n        </div>\n        \n        <div class=\"report-preview\">\n          <img src=\"@/assets/report-preview.svg\" alt=\"报告预览\" class=\"preview-img\" />\n        </div>\n      </div>\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"showExportDialog = false\">取消</el-button>\n          <el-button type=\"primary\" :loading=\"isExporting\" @click=\"confirmExport\">\n            {{ isExporting ? '导出中...' : '开始导出' }}\n          </el-button>\n        </div>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref, watch, onBeforeUnmount, nextTick, computed } from 'vue'\nimport * as echarts from 'echarts'\nimport { exportProjectAiReport, getProjectChartAnalysis } from '@/api/project'\nimport { ElMessage } from 'element-plus'\nimport { MagicStick, ArrowDown, Loading, InfoFilled } from '@element-plus/icons-vue'\n\nconst props = defineProps({\n  project: Object,\n  tasks: Array,\n  documents: Array,\n  requirements: Array\n})\n\nconst docTrendChart = ref(null)\nconst reqChart = ref(null)\nconst gaugeChart = ref(null)\nconst trendChart = ref(null)\n\nlet docTrendChartInstance = null\nlet reqChartInstance = null\nlet gaugeChartInstance = null\nlet trendChartInstance = null\n\n// 新增：标准化任务数据，兼容\"已完成\"状态和完成时间\nconst normalizedTasks = computed(() => {\n  if (!Array.isArray(props.tasks)) return []\n  return props.tasks.map(task => {\n    let status = task.status\n    if (status === '已完成') status = 'done'\n    // 可扩展更多映射\n    return {\n      ...task,\n      status,\n      due_date: task.due_date || task.updated_at || task.update_time || task.end_time || new Date().toISOString()\n    }\n  })\n})\n\n// 统计数据摘要\nconst reqTotal = computed(() => props.requirements?.length || 0)\nconst taskTotal = computed(() => normalizedTasks.value.length || 0)\n\n// 图表数据预处理\nconst docTrendHasData = computed(() => {\n  if (!Array.isArray(props.documents) || !props.documents.length) return false\n  return props.documents.some(doc => doc.uploaded_at || doc.created_at)\n})\n\nconst trendHasData = computed(() => {\n  if (!Array.isArray(normalizedTasks.value) || !normalizedTasks.value.length) return false\n  return normalizedTasks.value.some(task => task.completed_at || task.finish_time || task.status === 'done')\n})\n\n// AI分析相关状态\nconst chartAnalysis = ref({})\nconst isLoadingAnalysis = ref(false)\nconst showDocTrendAnalysis = ref(true)\nconst showReqPriorityAnalysis = ref(true)\nconst showReqCompletionAnalysis = ref(true)\nconst showTaskTrendAnalysis = ref(true)\n\n// 导出报告相关状态\nconst showExportDialog = ref(false)\nconst isExporting = ref(false)\nconst exportOptions = ref(['project_info', 'tasks', 'documents', 'requirements', 'ai_insights'])\n\n// 切换分析部分的显示/隐藏\nfunction toggleAnalysis(type) {\n  if (type === 'docTrend') {\n    showDocTrendAnalysis.value = !showDocTrendAnalysis.value\n  } else if (type === 'reqPriority') {\n    showReqPriorityAnalysis.value = !showReqPriorityAnalysis.value\n  } else if (type === 'reqCompletion') {\n    showReqCompletionAnalysis.value = !showReqCompletionAnalysis.value\n  } else if (type === 'taskTrend') {\n    showTaskTrendAnalysis.value = !showTaskTrendAnalysis.value\n  }\n}\n\n// 加载图表AI分析\nasync function loadChartAnalysis() {\n  if (!props.project?.id) return\n  \n  try {\n    isLoadingAnalysis.value = true\n    const response = await getProjectChartAnalysis(props.project.id)\n    chartAnalysis.value = response.data\n    console.log('AI分析结果:', chartAnalysis.value)\n  } catch (error) {\n    console.error('加载AI分析失败:', error)\n    ElMessage.error('加载AI分析失败，请稍后重试')\n  } finally {\n    isLoadingAnalysis.value = false\n  }\n}\n\n// 图表转换为base64\nfunction chartToBase64(chartInstance) {\n  if (!chartInstance) {\n    console.warn('图表实例不存在，无法转换为Base64');\n    return '';\n  }\n  try {\n    // 确保图表已经渲染完成\n    chartInstance.resize();\n    // 设置较低的像素比以减小文件大小\n    const base64Data = chartInstance.getDataURL({\n      pixelRatio: 1.5,\n      backgroundColor: '#fff'\n    });\n    \n    // 验证Base64数据是否有效\n    if (!base64Data || base64Data.length < 100) {\n      console.warn('生成的Base64数据可能无效');\n      return '';\n    }\n    \n    console.log(`成功转换图表，数据长度: ${base64Data.length}`);\n    return base64Data;\n  } catch (e) {\n    console.error('图表转换为Base64失败:', e);\n    return '';\n  }\n}\n\n// 打开导出对话框\nfunction downloadAiReport() {\n  // 检查是否有数据\n  if (!props.project?.id) {\n    ElMessage.warning('项目信息不完整，无法导出报告')\n    return\n  }\n  \n  // 首先加载AI分析数据\n  if (Object.keys(chartAnalysis.value).length === 0) {\n    loadChartAnalysis()\n  }\n  \n  showExportDialog.value = true\n  ElMessage.info('报告导出后将保存到您的下载目录')\n}\n\n// 确认导出报告\nasync function confirmExport() {\n  if (!props.project?.id) {\n    ElMessage.warning('项目信息不完整，无法导出报告');\n    return;\n  }\n  \n  try {\n    isExporting.value = true;\n    ElMessage.info('正在准备图表数据，请稍候...');\n    \n    // 确保图表已经完全渲染\n    await nextTick();\n    \n    // 强制重绘图表以确保数据正确\n    docTrendChartInstance?.resize();\n    reqChartInstance?.resize();\n    gaugeChartInstance?.resize();\n    trendChartInstance?.resize();\n    \n    // 延迟执行以确保图表渲染完成\n    setTimeout(async () => {\n      try {\n        // 获取所有图表的base64数据\n        const exportData = {\n          doc_trend_img: chartToBase64(docTrendChartInstance),\n          req_chart_img: chartToBase64(reqChartInstance),\n          gauge_chart_img: chartToBase64(gaugeChartInstance),\n          trend_chart_img: chartToBase64(trendChartInstance),\n          export_options: exportOptions.value\n        };\n        \n        // 检查图表数据是否有效\n        const validCharts = Object.entries(exportData)\n          .filter(([key]) => key.endsWith('_img'))\n          .filter(([, val]) => val && val.length > 100)\n          .length;\n          \n        console.log(`有效图表数量: ${validCharts}/4`);\n        \n        if (validCharts < 1) {\n          ElMessage.warning('图表数据准备失败，将尝试导出不含图表的报告');\n        }\n        \n        ElMessage.info('正在生成报告，请耐心等待...');\n        const response = await exportProjectAiReport(props.project.id, exportData);\n        \n        // 验证响应内容\n        if (!response || !response.data) {\n          throw new Error('收到的PDF数据无效');\n        }\n        \n        // 创建Blob并下载\n        const blob = new Blob([response.data], { type: 'application/pdf' });\n        const url = URL.createObjectURL(blob);\n        \n        // 创建一个隐藏的a标签来下载\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `${props.project.name || '项目'}_AI分析报告.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        \n        // 清理\n        setTimeout(() => {\n          document.body.removeChild(link);\n          URL.revokeObjectURL(url);\n        }, 100);\n        \n        ElMessage.success('AI分析报告导出成功');\n        showExportDialog.value = false;\n      } catch (error) {\n        console.error('导出过程中发生错误:', error);\n        ElMessage.error(`导出失败: ${error.message || '未知错误'}`);\n      } finally {\n        isExporting.value = false;\n      }\n    }, 800); // 增加延时确保图表完全渲染\n  } catch (error) {\n    console.error('导出AI分析报告失败:', error);\n    ElMessage.error(`导出报告失败: ${error.message || '请稍后重试'}`);\n    isExporting.value = false;\n  }\n}\n\nfunction renderCharts() {\n  // 销毁旧实例\n  if (docTrendChartInstance) docTrendChartInstance.dispose()\n  if (reqChartInstance) reqChartInstance.dispose()\n  if (gaugeChartInstance) gaugeChartInstance.dispose()\n  if (trendChartInstance) trendChartInstance.dispose()\n\n  // 文档上传趋势\n  if (docTrendChart.value) {\n    docTrendChartInstance = echarts.init(docTrendChart.value)\n    const docMonthMap = {}\n    props.documents?.forEach(doc => {\n      if (doc.uploaded_at) {\n        const month = (doc.uploaded_at + '').slice(0, 7)\n        docMonthMap[month] = (docMonthMap[month] || 0) + 1\n      }\n    })\n    const docMonths = Object.keys(docMonthMap).sort()\n    const docMonthData = docMonths.map(m => docMonthMap[m])\n    docTrendChartInstance.setOption({\n      tooltip: { trigger: 'axis' },\n      grid: { left: 40, right: 20, top: 30, bottom: 40 },\n      xAxis: {\n        type: 'category',\n        data: docMonths,\n        axisLabel: { color: '#888', fontSize: 13 },\n        name: docMonths.length ? '' : '暂无数据',\n      },\n      yAxis: {\n        type: 'value',\n        min: 0,\n        axisLabel: { color: '#888', fontSize: 13 }\n      },\n      series: [\n        {\n          name: '上传文档数', type: 'line', data: docMonthData, smooth: true,\n          itemStyle: { color: '#4F8CFF' },\n          areaStyle: { color: 'rgba(79,140,255,0.1)' },\n          symbolSize: 10\n        }\n      ]\n    })\n  }\n  // 需求优先级分布\n  if (reqChart.value) {\n    reqChartInstance = echarts.init(reqChart.value)\n    const reqPriorityMap = { 高: 0, 中: 0, 低: 0 }\n    if (Array.isArray(props.requirements)) {\n      props.requirements.forEach(req => {\n        let pri = req.priority\n        if (typeof pri === 'object' && pri !== null) pri = pri.value || pri.label || JSON.stringify(pri)\n        if (typeof pri !== 'string') pri = String(pri || '').trim()\n        if (['high', 'High', 'HIGH', '高', '1'].includes(pri)) {\n          pri = '高'\n        } else if (['medium', 'Medium', 'MEDIUM', '中', '2'].includes(pri)) {\n          pri = '中'\n        } else if (['low', 'Low', 'LOW', '低', '3'].includes(pri)) {\n          pri = '低'\n        } else {\n          // 不是高/中/低的全部跳过，不计入图表\n          return\n        }\n        reqPriorityMap[pri] = (reqPriorityMap[pri] || 0) + 1\n      })\n    }\n    reqChartInstance.setOption({\n      tooltip: { trigger: 'item' },\n      legend: { bottom: 0, textStyle: { color: '#666', fontSize: 13 } },\n      color: ['#4F8CFF', '#34C759', '#FF9500'],\n      series: [\n        {\n          name: '优先级分布', type: 'pie', radius: ['60%', '80%'],\n          data: Object.keys(reqPriorityMap).map(k => ({ value: reqPriorityMap[k], name: k })),\n          label: {\n            show: true,\n            position: 'outside',\n            fontSize: 14,\n            color: '#333',\n            formatter: '{b}: {d}%'\n          },\n          labelLine: { length: 18, length2: 10 },\n          avoidLabelOverlap: false,\n          emphasis: { itemStyle: { shadowBlur: 10, shadowOffsetX: 0, shadowColor: 'rgba(0,0,0,0.2)' } }\n        }\n      ]\n    })\n  }\n  // 需求完成率仪表盘\n  if (gaugeChart.value) {\n    gaugeChartInstance = echarts.init(gaugeChart.value)\n    let reqCompleted = 0\n    if (Array.isArray(props.requirements)) {\n      // 调试输出原始数据\n      console.log('需求原始数据:', props.requirements)\n      props.requirements.forEach(req => {\n        let status = req.status\n        if (typeof status === 'object' && status !== null) status = status.value || status.label || JSON.stringify(status)\n        if (typeof status !== 'string') status = String(status || '').trim().toLowerCase()\n        if ([\n          '已完成', '完成', 'completed', 'done', 'finished', '已关闭', 'closed', '已解决', 'resolved', '1', 'true', '是', 'success'\n        ].some(s => status.includes(s))) {\n          reqCompleted++\n        }\n      })\n    }\n    const percent = reqTotal.value ? Math.round(reqCompleted / reqTotal.value * 100) : 0\n    gaugeChartInstance.setOption({\n      series: [\n        {\n          type: 'gauge',\n          center: ['50%', '60%'],\n          radius: '90%',\n          min: 0,\n          max: 100,\n          progress: { show: true, width: 18 },\n          axisLine: { lineStyle: { width: 18, color: [[1, '#4F8CFF']] } },\n          pointer: { width: 6, length: '70%' },\n          detail: {\n            valueAnimation: true,\n            fontSize: 32,\n            color: '#4F8CFF',\n            fontWeight: 'bold',\n            offsetCenter: [0, '40%'],\n            formatter: '{value}%'\n          },\n          data: [{ value: percent, name: '完成率' }],\n          title: { fontSize: 16, color: '#888', offsetCenter: [0, '80%'] }\n        }\n      ]\n    })\n  }\n  // 任务完成趋势\n  if (trendChart.value) {\n    // 调试输出原始任务数据\n    console.log('任务原始数据:', normalizedTasks.value)\n    trendChartInstance = echarts.init(trendChart.value)\n    const monthMap = {}\n    let hasCompleted = false\n    if (Array.isArray(normalizedTasks.value)) {\n      normalizedTasks.value.forEach(task => {\n        // 仅根据 status 字段判断是否已完成\n        let status = (task.status || '').toLowerCase()\n        if ([\n          '已完成', '完成', 'done', 'finished', '已关闭', 'closed', 'success', 'true', '1'\n        ].some(s => status.includes(s))) {\n          hasCompleted = true\n          // 取 due_date 或 updated_at 作为完成时间\n          let finish = task.due_date || task.updated_at || task.update_time || task.end_time || ''\n          if (!finish) {\n            // 没有时间字段时，使用当前月\n            const now = new Date()\n            finish = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`\n          }\n          const month = (finish + '').slice(0, 7)\n          monthMap[month] = (monthMap[month] || 0) + 1\n        }\n      })\n    }\n    let months = Object.keys(monthMap).sort()\n    let monthData = months.map(m => monthMap[m])\n    // 如果有任务但都未完成，显示0\n    if (Array.isArray(normalizedTasks.value) && normalizedTasks.value.length > 0 && !hasCompleted) {\n      const now = new Date()\n      const thisMonth = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`\n      months = [thisMonth]\n      monthData = [0]\n    }\n    trendChartInstance.setOption({\n      tooltip: { trigger: 'axis' },\n      grid: { left: 40, right: 20, top: 30, bottom: 40 },\n      xAxis: {\n        type: 'category',\n        data: months,\n        axisLabel: { color: '#888', fontSize: 13 },\n        name: months.length ? '' : '暂无数据',\n      },\n      yAxis: {\n        type: 'value',\n        min: 0,\n        axisLabel: { color: '#888', fontSize: 13 }\n      },\n      series: [\n        {\n          name: '完成任务数', type: 'bar', data: monthData,\n          itemStyle: { color: '#34C759' },\n          barWidth: 32,\n          label: { show: true, position: 'top', color: '#34C759', fontSize: 16, fontWeight: 'bold' }\n        }\n      ]\n    })\n  }\n}\n\n// 调整图表尺寸\nconst resizeCharts = () => {\n  docTrendChartInstance?.resize()\n  reqChartInstance?.resize()\n  gaugeChartInstance?.resize()\n  trendChartInstance?.resize()\n}\n\n// 监听窗口尺寸变化\nwindow.addEventListener('resize', resizeCharts)\n\n// 监听属性变化，重新渲染图表\nwatch(() => [props.tasks, props.documents, props.requirements, props.project], () => {\n  // 延迟执行，确保DOM已更新\n  nextTick(() => {\n    renderCharts()\n    \n    // 如果有项目ID但尚未加载分析，自动加载\n    if (props.project?.id && Object.keys(chartAnalysis.value).length === 0) {\n      loadChartAnalysis()\n    }\n  })\n}, { deep: true })\n\nonMounted(() => {\n  nextTick(() => {\n    renderCharts()\n    \n    // 如果有项目ID，自动加载分析\n    if (props.project?.id) {\n      loadChartAnalysis()\n    }\n  })\n})\n\nonBeforeUnmount(() => {\n  // 清理事件监听器和图表实例\n  window.removeEventListener('resize', resizeCharts)\n  docTrendChartInstance?.dispose()\n  reqChartInstance?.dispose()\n  gaugeChartInstance?.dispose()\n  trendChartInstance?.dispose()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.module-card {\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\n  padding: 20px;\n  margin-bottom: 20px;\n}\n\n.module-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  \n  .module-title {\n    font-size: 18px;\n    font-weight: 600;\n    color: #333;\n    margin: 0;\n  }\n}\n\n.modern-card {\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\n  padding: 16px;\n  height: 100%;\n  \n  h6.text-primary {\n    color: #4F8CFF;\n    font-weight: 600;\n    margin-bottom: 16px;\n  }\n}\n\n.chart-center-wrap {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 300px;\n}\n\n.modern-echart {\n  width: 100%;\n  height: 300px;\n}\n\n.chart-empty {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #999;\n  font-size: 14px;\n}\n\n.modern-summary {\n  text-align: center;\n  margin-top: 8px;\n  color: #666;\n  font-size: 14px;\n  \n  &.main-value {\n    font-weight: 600;\n    color: #333;\n  }\n}\n\n.ai-analysis-section {\n  margin-top: 16px;\n  border-top: 1px dashed #eee;\n  padding-top: 12px;\n}\n\n.ai-analysis-header {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px 0;\n  \n  .el-icon {\n    color: #4F8CFF;\n    margin-right: 6px;\n  }\n  \n  span {\n    color: #4F8CFF;\n    font-weight: 600;\n  }\n  \n  .toggle-icon {\n    margin-left: auto;\n    transition: transform 0.3s;\n    \n    &.is-active {\n      transform: rotate(180deg);\n    }\n  }\n}\n\n.ai-analysis-content {\n  padding: 12px;\n  background: #f9fbfe;\n  border-radius: 6px;\n  margin-top: 4px;\n  \n  .analysis-section {\n    margin-bottom: 16px;\n    \n    h6 {\n      font-weight: 600;\n      color: #333;\n      margin-bottom: 10px;\n      position: relative;\n      padding-left: 12px;\n      \n      &::before {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 4px;\n        height: 14px;\n        background: #4F8CFF;\n        border-radius: 2px;\n      }\n    }\n    \n    ul {\n      padding-left: 20px;\n      margin: 0;\n      \n      &.finding-list li {\n        color: #333;\n        margin-bottom: 8px;\n        position: relative;\n      }\n      \n      &.recommendation-list li {\n        color: #1976D2;\n        margin-bottom: 8px;\n      }\n    }\n    \n    .insights-text {\n      color: #555;\n      line-height: 1.6;\n      margin: 0;\n      padding: 0 6px;\n    }\n  }\n  \n  .analysis-loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    \n    .el-icon {\n      color: #4F8CFF;\n      margin-right: 8px;\n      font-size: 18px;\n    }\n  }\n  \n  .analysis-empty {\n    text-align: center;\n    color: #999;\n    padding: 16px 0;\n    \n    .el-button {\n      margin-top: 6px;\n    }\n  }\n}\n\n.ai-report-btn {\n  display: flex;\n  align-items: center;\n  \n  .btn-icon {\n    margin-right: 4px;\n  }\n}\n\n// 导出对话框样式\n.export-dialog-content {\n  .dialog-info-box {\n    background: #f0f7ff;\n    border-left: 4px solid #1976D2;\n    padding: 12px;\n    margin-bottom: 20px;\n    border-radius: 4px;\n    \n    p {\n      margin: 0;\n      color: #333;\n      display: flex;\n      align-items: center;\n      \n      .el-icon {\n        color: #1976D2;\n        margin-right: 8px;\n      }\n    }\n  }\n  \n  .export-options {\n    margin-bottom: 20px;\n    \n    h4 {\n      font-size: 16px;\n      margin-bottom: 12px;\n    }\n    \n    .el-checkbox-group {\n      display: flex;\n      flex-wrap: wrap;\n      \n      .el-checkbox {\n        margin-right: 20px;\n        margin-bottom: 10px;\n      }\n    }\n  }\n  \n  .report-preview {\n    text-align: center;\n    padding: 10px;\n    background: #f5f5f5;\n    border-radius: 4px;\n    \n    .preview-img {\n      max-width: 100%;\n      height: auto;\n      max-height: 200px;\n      object-fit: contain;\n    }\n  }\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n}\n\n@media (max-width: 768px) {\n  .modern-echart {\n    height: 250px;\n  }\n}\n</style> "],"mappings":";;;;;;;;;AAsQA,SAASA,SAAS,EAAEC,GAAG,EAAEC,KAAK,EAAEC,eAAe,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,KAAI;AAC/E,OAAO,KAAKC,OAAO,MAAM,SAAQ;AACjC,SAASC,qBAAqB,EAAEC,uBAAuB,QAAQ,eAAc;AAC7E,SAASC,SAAS,QAAQ,cAAa;AACvC,SAASC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,QAAQ,yBAAwB;;;;;;;;;;;;;IAEnF,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,aAAa,GAAGf,GAAG,CAAC,IAAI;IAC9B,MAAMgB,QAAQ,GAAGhB,GAAG,CAAC,IAAI;IACzB,MAAMiB,UAAU,GAAGjB,GAAG,CAAC,IAAI;IAC3B,MAAMkB,UAAU,GAAGlB,GAAG,CAAC,IAAI;IAE3B,IAAImB,qBAAqB,GAAG,IAAG;IAC/B,IAAIC,gBAAgB,GAAG,IAAG;IAC1B,IAAIC,kBAAkB,GAAG,IAAG;IAC5B,IAAIC,kBAAkB,GAAG,IAAG;;IAE5B;IACA,MAAMC,eAAe,GAAGnB,QAAQ,CAAC,MAAM;MACrC,IAAI,CAACoB,KAAK,CAACC,OAAO,CAACZ,KAAK,CAACa,KAAK,CAAC,EAAE,OAAO,EAAC;MACzC,OAAOb,KAAK,CAACa,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;QAC7B,IAAIC,MAAM,GAAGD,IAAI,CAACC,MAAK;QACvB,IAAIA,MAAM,KAAK,KAAK,EAAEA,MAAM,GAAG,MAAK;QACpC;QACA,OAAO;UACL,GAAGD,IAAI;UACPC,MAAM;UACNC,QAAQ,EAAEF,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,UAAU,IAAIH,IAAI,CAACI,WAAW,IAAIJ,IAAI,CAACK,QAAQ,IAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QAC5G;MACF,CAAC;IACH,CAAC;;IAED;IACA,MAAMC,QAAQ,GAAGhC,QAAQ,CAAC;MAAA,IAAAiC,mBAAA;MAAA,OAAM,EAAAA,mBAAA,GAAAxB,KAAK,CAACyB,YAAY,cAAAD,mBAAA,uBAAlBA,mBAAA,CAAoBE,MAAM,KAAI,CAAC;IAAA;IAC/D,MAAMC,SAAS,GAAGpC,QAAQ,CAAC,MAAMmB,eAAe,CAACkB,KAAK,CAACF,MAAM,IAAI,CAAC;;IAElE;IACA,MAAMG,eAAe,GAAGtC,QAAQ,CAAC,MAAM;MACrC,IAAI,CAACoB,KAAK,CAACC,OAAO,CAACZ,KAAK,CAAC8B,SAAS,CAAC,IAAI,CAAC9B,KAAK,CAAC8B,SAAS,CAACJ,MAAM,EAAE,OAAO,KAAI;MAC3E,OAAO1B,KAAK,CAAC8B,SAAS,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,WAAW,IAAID,GAAG,CAACE,UAAU;IACtE,CAAC;IAED,MAAMC,YAAY,GAAG5C,QAAQ,CAAC,MAAM;MAClC,IAAI,CAACoB,KAAK,CAACC,OAAO,CAACF,eAAe,CAACkB,KAAK,CAAC,IAAI,CAAClB,eAAe,CAACkB,KAAK,CAACF,MAAM,EAAE,OAAO,KAAI;MACvF,OAAOhB,eAAe,CAACkB,KAAK,CAACG,IAAI,CAAChB,IAAI,IAAIA,IAAI,CAACqB,YAAY,IAAIrB,IAAI,CAACsB,WAAW,IAAItB,IAAI,CAACC,MAAM,KAAK,MAAM;IAC3G,CAAC;;IAED;IACA,MAAMsB,aAAa,GAAGnD,GAAG,CAAC,CAAC,CAAC;IAC5B,MAAMoD,iBAAiB,GAAGpD,GAAG,CAAC,KAAK;IACnC,MAAMqD,oBAAoB,GAAGrD,GAAG,CAAC,IAAI;IACrC,MAAMsD,uBAAuB,GAAGtD,GAAG,CAAC,IAAI;IACxC,MAAMuD,yBAAyB,GAAGvD,GAAG,CAAC,IAAI;IAC1C,MAAMwD,qBAAqB,GAAGxD,GAAG,CAAC,IAAI;;IAEtC;IACA,MAAMyD,gBAAgB,GAAGzD,GAAG,CAAC,KAAK;IAClC,MAAM0D,WAAW,GAAG1D,GAAG,CAAC,KAAK;IAC7B,MAAM2D,aAAa,GAAG3D,GAAG,CAAC,CAAC,cAAc,EAAE,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,aAAa,CAAC;;IAE/F;IACA,SAAS4D,cAAcA,CAACC,IAAI,EAAE;MAC5B,IAAIA,IAAI,KAAK,UAAU,EAAE;QACvBR,oBAAoB,CAACZ,KAAK,GAAG,CAACY,oBAAoB,CAACZ,KAAI;MACzD,CAAC,MAAM,IAAIoB,IAAI,KAAK,aAAa,EAAE;QACjCP,uBAAuB,CAACb,KAAK,GAAG,CAACa,uBAAuB,CAACb,KAAI;MAC/D,CAAC,MAAM,IAAIoB,IAAI,KAAK,eAAe,EAAE;QACnCN,yBAAyB,CAACd,KAAK,GAAG,CAACc,yBAAyB,CAACd,KAAI;MACnE,CAAC,MAAM,IAAIoB,IAAI,KAAK,WAAW,EAAE;QAC/BL,qBAAqB,CAACf,KAAK,GAAG,CAACe,qBAAqB,CAACf,KAAI;MAC3D;IACF;;IAEA;IACA,eAAeqB,iBAAiBA,CAAA,EAAG;MAAA,IAAAC,cAAA;MACjC,IAAI,GAAAA,cAAA,GAAClD,KAAK,CAACmD,OAAO,cAAAD,cAAA,eAAbA,cAAA,CAAeE,EAAE,GAAE;MAExB,IAAI;QACFb,iBAAiB,CAACX,KAAK,GAAG,IAAG;QAC7B,MAAMyB,QAAQ,GAAG,MAAM3D,uBAAuB,CAACM,KAAK,CAACmD,OAAO,CAACC,EAAE;QAC/Dd,aAAa,CAACV,KAAK,GAAGyB,QAAQ,CAACC,IAAG;QAClCC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAElB,aAAa,CAACV,KAAK;MAC5C,CAAC,CAAC,OAAO6B,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChC9D,SAAS,CAAC8D,KAAK,CAAC,gBAAgB;MAClC,CAAC,SAAS;QACRlB,iBAAiB,CAACX,KAAK,GAAG,KAAI;MAChC;IACF;;IAEA;IACA,SAAS8B,aAAaA,CAACC,aAAa,EAAE;MACpC,IAAI,CAACA,aAAa,EAAE;QAClBJ,OAAO,CAACK,IAAI,CAAC,qBAAqB,CAAC;QACnC,OAAO,EAAE;MACX;MACA,IAAI;QACF;QACAD,aAAa,CAACE,MAAM,CAAC,CAAC;QACtB;QACA,MAAMC,UAAU,GAAGH,aAAa,CAACI,UAAU,CAAC;UAC1CC,UAAU,EAAE,GAAG;UACfC,eAAe,EAAE;QACnB,CAAC,CAAC;;QAEF;QACA,IAAI,CAACH,UAAU,IAAIA,UAAU,CAACpC,MAAM,GAAG,GAAG,EAAE;UAC1C6B,OAAO,CAACK,IAAI,CAAC,iBAAiB,CAAC;UAC/B,OAAO,EAAE;QACX;QAEAL,OAAO,CAACC,GAAG,CAAC,gBAAgBM,UAAU,CAACpC,MAAM,EAAE,CAAC;QAChD,OAAOoC,UAAU;MACnB,CAAC,CAAC,OAAOI,CAAC,EAAE;QACVX,OAAO,CAACE,KAAK,CAAC,gBAAgB,EAAES,CAAC,CAAC;QAClC,OAAO,EAAE;MACX;IACF;;IAEA;IACA,SAASC,gBAAgBA,CAAA,EAAG;MAAA,IAAAC,eAAA;MAC1B;MACA,IAAI,GAAAA,eAAA,GAACpE,KAAK,CAACmD,OAAO,cAAAiB,eAAA,eAAbA,eAAA,CAAehB,EAAE,GAAE;QACtBzD,SAAS,CAAC0E,OAAO,CAAC,gBAAgB;QAClC;MACF;;MAEA;MACA,IAAIC,MAAM,CAACC,IAAI,CAACjC,aAAa,CAACV,KAAK,CAAC,CAACF,MAAM,KAAK,CAAC,EAAE;QACjDuB,iBAAiB,CAAC;MACpB;MAEAL,gBAAgB,CAAChB,KAAK,GAAG,IAAG;MAC5BjC,SAAS,CAAC6E,IAAI,CAAC,iBAAiB;IAClC;;IAEA;IACA,eAAeC,aAAaA,CAAA,EAAG;MAAA,IAAAC,eAAA;MAC7B,IAAI,GAAAA,eAAA,GAAC1E,KAAK,CAACmD,OAAO,cAAAuB,eAAA,eAAbA,eAAA,CAAetB,EAAE,GAAE;QACtBzD,SAAS,CAAC0E,OAAO,CAAC,gBAAgB,CAAC;QACnC;MACF;MAEA,IAAI;QAAA,IAAAM,qBAAA,EAAAC,iBAAA,EAAAC,mBAAA,EAAAC,mBAAA;QACFjC,WAAW,CAACjB,KAAK,GAAG,IAAI;QACxBjC,SAAS,CAAC6E,IAAI,CAAC,iBAAiB,CAAC;;QAEjC;QACA,MAAMlF,QAAQ,CAAC,CAAC;;QAEhB;QACA,CAAAqF,qBAAA,GAAArE,qBAAqB,cAAAqE,qBAAA,uBAArBA,qBAAA,CAAuBd,MAAM,CAAC,CAAC;QAC/B,CAAAe,iBAAA,GAAArE,gBAAgB,cAAAqE,iBAAA,uBAAhBA,iBAAA,CAAkBf,MAAM,CAAC,CAAC;QAC1B,CAAAgB,mBAAA,GAAArE,kBAAkB,cAAAqE,mBAAA,uBAAlBA,mBAAA,CAAoBhB,MAAM,CAAC,CAAC;QAC5B,CAAAiB,mBAAA,GAAArE,kBAAkB,cAAAqE,mBAAA,uBAAlBA,mBAAA,CAAoBjB,MAAM,CAAC,CAAC;;QAE5B;QACAkB,UAAU,CAAC,YAAY;UACrB,IAAI;YACF;YACA,MAAMC,UAAU,GAAG;cACjBC,aAAa,EAAEvB,aAAa,CAACpD,qBAAqB,CAAC;cACnD4E,aAAa,EAAExB,aAAa,CAACnD,gBAAgB,CAAC;cAC9C4E,eAAe,EAAEzB,aAAa,CAAClD,kBAAkB,CAAC;cAClD4E,eAAe,EAAE1B,aAAa,CAACjD,kBAAkB,CAAC;cAClD4E,cAAc,EAAEvC,aAAa,CAAClB;YAChC,CAAC;;YAED;YACA,MAAM0D,WAAW,GAAGhB,MAAM,CAACiB,OAAO,CAACP,UAAU,EAC1CQ,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,KAAKA,GAAG,CAACC,QAAQ,CAAC,MAAM,CAAC,EACtCF,MAAM,CAAC,CAAC,GAAGG,GAAG,CAAC,KAAKA,GAAG,IAAIA,GAAG,CAACjE,MAAM,GAAG,GAAG,EAC3CA,MAAM;YAET6B,OAAO,CAACC,GAAG,CAAC,WAAW8B,WAAW,IAAI,CAAC;YAEvC,IAAIA,WAAW,GAAG,CAAC,EAAE;cACnB3F,SAAS,CAAC0E,OAAO,CAAC,uBAAuB,CAAC;YAC5C;YAEA1E,SAAS,CAAC6E,IAAI,CAAC,iBAAiB,CAAC;YACjC,MAAMnB,QAAQ,GAAG,MAAM5D,qBAAqB,CAACO,KAAK,CAACmD,OAAO,CAACC,EAAE,EAAE4B,UAAU,CAAC;;YAE1E;YACA,IAAI,CAAC3B,QAAQ,IAAI,CAACA,QAAQ,CAACC,IAAI,EAAE;cAC/B,MAAM,IAAIsC,KAAK,CAAC,YAAY,CAAC;YAC/B;;YAEA;YACA,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACzC,QAAQ,CAACC,IAAI,CAAC,EAAE;cAAEN,IAAI,EAAE;YAAkB,CAAC,CAAC;YACnE,MAAM+C,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;;YAErC;YACA,MAAMK,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;YACxCF,IAAI,CAACG,IAAI,GAAGN,GAAG;YACfG,IAAI,CAACI,QAAQ,GAAG,GAAGtG,KAAK,CAACmD,OAAO,CAACoD,IAAI,IAAI,IAAI,aAAa;YAC1DJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;YAC/BA,IAAI,CAACQ,KAAK,CAAC,CAAC;;YAEZ;YACA3B,UAAU,CAAC,MAAM;cACfoB,QAAQ,CAACK,IAAI,CAACG,WAAW,CAACT,IAAI,CAAC;cAC/BF,GAAG,CAACY,eAAe,CAACb,GAAG,CAAC;YAC1B,CAAC,EAAE,GAAG,CAAC;YAEPpG,SAAS,CAACkH,OAAO,CAAC,YAAY,CAAC;YAC/BjE,gBAAgB,CAAChB,KAAK,GAAG,KAAK;UAChC,CAAC,CAAC,OAAO6B,KAAK,EAAE;YACdF,OAAO,CAACE,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;YAClC9D,SAAS,CAAC8D,KAAK,CAAC,SAASA,KAAK,CAACqD,OAAO,IAAI,MAAM,EAAE,CAAC;UACrD,CAAC,SAAS;YACRjE,WAAW,CAACjB,KAAK,GAAG,KAAK;UAC3B;QACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,OAAO6B,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;QACnC9D,SAAS,CAAC8D,KAAK,CAAC,WAAWA,KAAK,CAACqD,OAAO,IAAI,OAAO,EAAE,CAAC;QACtDjE,WAAW,CAACjB,KAAK,GAAG,KAAK;MAC3B;IACF;IAEA,SAASmF,YAAYA,CAAA,EAAG;MACtB;MACA,IAAIzG,qBAAqB,EAAEA,qBAAqB,CAAC0G,OAAO,CAAC;MACzD,IAAIzG,gBAAgB,EAAEA,gBAAgB,CAACyG,OAAO,CAAC;MAC/C,IAAIxG,kBAAkB,EAAEA,kBAAkB,CAACwG,OAAO,CAAC;MACnD,IAAIvG,kBAAkB,EAAEA,kBAAkB,CAACuG,OAAO,CAAC;;MAEnD;MACA,IAAI9G,aAAa,CAAC0B,KAAK,EAAE;QAAA,IAAAqF,gBAAA;QACvB3G,qBAAqB,GAAGd,OAAO,CAAC0H,IAAI,CAAChH,aAAa,CAAC0B,KAAK;QACxD,MAAMuF,WAAW,GAAG,CAAC;QACrB,CAAAF,gBAAA,GAAAjH,KAAK,CAAC8B,SAAS,cAAAmF,gBAAA,uBAAfA,gBAAA,CAAiBG,OAAO,CAACpF,GAAG,IAAI;UAC9B,IAAIA,GAAG,CAACC,WAAW,EAAE;YACnB,MAAMoF,KAAK,GAAG,CAACrF,GAAG,CAACC,WAAW,GAAG,EAAE,EAAEqF,KAAK,CAAC,CAAC,EAAE,CAAC;YAC/CH,WAAW,CAACE,KAAK,CAAC,GAAG,CAACF,WAAW,CAACE,KAAK,CAAC,IAAI,CAAC,IAAI;UACnD;QACF,CAAC;QACD,MAAME,SAAS,GAAGjD,MAAM,CAACC,IAAI,CAAC4C,WAAW,CAAC,CAACK,IAAI,CAAC;QAChD,MAAMC,YAAY,GAAGF,SAAS,CAACzG,GAAG,CAAC4G,CAAC,IAAIP,WAAW,CAACO,CAAC,CAAC;QACtDpH,qBAAqB,CAACqH,SAAS,CAAC;UAC9BC,OAAO,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAC;UAC5BC,IAAI,EAAE;YAAEC,IAAI,EAAE,EAAE;YAAEC,KAAK,EAAE,EAAE;YAAEC,GAAG,EAAE,EAAE;YAAEC,MAAM,EAAE;UAAG,CAAC;UAClDC,KAAK,EAAE;YACLnF,IAAI,EAAE,UAAU;YAChBM,IAAI,EAAEiE,SAAS;YACfa,SAAS,EAAE;cAAEC,KAAK,EAAE,MAAM;cAAEC,QAAQ,EAAE;YAAG,CAAC;YAC1C/B,IAAI,EAAEgB,SAAS,CAAC7F,MAAM,GAAG,EAAE,GAAG;UAChC,CAAC;UACD6G,KAAK,EAAE;YACLvF,IAAI,EAAE,OAAO;YACbwF,GAAG,EAAE,CAAC;YACNJ,SAAS,EAAE;cAAEC,KAAK,EAAE,MAAM;cAAEC,QAAQ,EAAE;YAAG;UAC3C,CAAC;UACDG,MAAM,EAAE,CACN;YACElC,IAAI,EAAE,OAAO;YAAEvD,IAAI,EAAE,MAAM;YAAEM,IAAI,EAAEmE,YAAY;YAAEiB,MAAM,EAAE,IAAI;YAC7DC,SAAS,EAAE;cAAEN,KAAK,EAAE;YAAU,CAAC;YAC/BO,SAAS,EAAE;cAAEP,KAAK,EAAE;YAAuB,CAAC;YAC5CQ,UAAU,EAAE;UACd;QAEJ,CAAC;MACH;MACA;MACA,IAAI1I,QAAQ,CAACyB,KAAK,EAAE;QAClBrB,gBAAgB,GAAGf,OAAO,CAAC0H,IAAI,CAAC/G,QAAQ,CAACyB,KAAK;QAC9C,MAAMkH,cAAc,GAAG;UAAEC,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE;QAC1C,IAAItI,KAAK,CAACC,OAAO,CAACZ,KAAK,CAACyB,YAAY,CAAC,EAAE;UACrCzB,KAAK,CAACyB,YAAY,CAAC2F,OAAO,CAAC8B,GAAG,IAAI;YAChC,IAAIC,GAAG,GAAGD,GAAG,CAACE,QAAO;YACrB,IAAI,OAAOD,GAAG,KAAK,QAAQ,IAAIA,GAAG,KAAK,IAAI,EAAEA,GAAG,GAAGA,GAAG,CAACvH,KAAK,IAAIuH,GAAG,CAACE,KAAK,IAAIC,IAAI,CAACC,SAAS,CAACJ,GAAG;YAC/F,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAEA,GAAG,GAAGK,MAAM,CAACL,GAAG,IAAI,EAAE,CAAC,CAACM,IAAI,CAAC;YAC1D,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAACC,QAAQ,CAACP,GAAG,CAAC,EAAE;cACpDA,GAAG,GAAG,GAAE;YACV,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,EAAE,GAAG,CAAC,CAACO,QAAQ,CAACP,GAAG,CAAC,EAAE;cACjEA,GAAG,GAAG,GAAE;YACV,CAAC,MAAM,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,CAACO,QAAQ,CAACP,GAAG,CAAC,EAAE;cACxDA,GAAG,GAAG,GAAE;YACV,CAAC,MAAM;cACL;cACA;YACF;YACAL,cAAc,CAACK,GAAG,CAAC,GAAG,CAACL,cAAc,CAACK,GAAG,CAAC,IAAI,CAAC,IAAI;UACrD,CAAC;QACH;QACA5I,gBAAgB,CAACoH,SAAS,CAAC;UACzBC,OAAO,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAC;UAC5B8B,MAAM,EAAE;YAAEzB,MAAM,EAAE,CAAC;YAAE0B,SAAS,EAAE;cAAEvB,KAAK,EAAE,MAAM;cAAEC,QAAQ,EAAE;YAAG;UAAE,CAAC;UACjED,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UACxCI,MAAM,EAAE,CACN;YACElC,IAAI,EAAE,OAAO;YAAEvD,IAAI,EAAE,KAAK;YAAE6G,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;YAClDvG,IAAI,EAAEgB,MAAM,CAACC,IAAI,CAACuE,cAAc,CAAC,CAAChI,GAAG,CAACgJ,CAAC,KAAK;cAAElI,KAAK,EAAEkH,cAAc,CAACgB,CAAC,CAAC;cAAEvD,IAAI,EAAEuD;YAAE,CAAC,CAAC,CAAC;YACnFT,KAAK,EAAE;cACLU,IAAI,EAAE,IAAI;cACVC,QAAQ,EAAE,SAAS;cACnB1B,QAAQ,EAAE,EAAE;cACZD,KAAK,EAAE,MAAM;cACb4B,SAAS,EAAE;YACb,CAAC;YACDC,SAAS,EAAE;cAAExI,MAAM,EAAE,EAAE;cAAEyI,OAAO,EAAE;YAAG,CAAC;YACtCC,iBAAiB,EAAE,KAAK;YACxBC,QAAQ,EAAE;cAAE1B,SAAS,EAAE;gBAAE2B,UAAU,EAAE,EAAE;gBAAEC,aAAa,EAAE,CAAC;gBAAEC,WAAW,EAAE;cAAkB;YAAE;UAC9F;QAEJ,CAAC;MACH;MACA;MACA,IAAIpK,UAAU,CAACwB,KAAK,EAAE;QACpBpB,kBAAkB,GAAGhB,OAAO,CAAC0H,IAAI,CAAC9G,UAAU,CAACwB,KAAK;QAClD,IAAI6I,YAAY,GAAG;QACnB,IAAI9J,KAAK,CAACC,OAAO,CAACZ,KAAK,CAACyB,YAAY,CAAC,EAAE;UACrC;UACA8B,OAAO,CAACC,GAAG,CAAC,SAAS,EAAExD,KAAK,CAACyB,YAAY;UACzCzB,KAAK,CAACyB,YAAY,CAAC2F,OAAO,CAAC8B,GAAG,IAAI;YAChC,IAAIlI,MAAM,GAAGkI,GAAG,CAAClI,MAAK;YACtB,IAAI,OAAOA,MAAM,KAAK,QAAQ,IAAIA,MAAM,KAAK,IAAI,EAAEA,MAAM,GAAGA,MAAM,CAACY,KAAK,IAAIZ,MAAM,CAACqI,KAAK,IAAIC,IAAI,CAACC,SAAS,CAACvI,MAAM;YACjH,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAEA,MAAM,GAAGwI,MAAM,CAACxI,MAAM,IAAI,EAAE,CAAC,CAACyI,IAAI,CAAC,CAAC,CAACiB,WAAW,CAAC;YACjF,IAAI,CACF,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,SAAQ,CAC7G,CAAC3I,IAAI,CAAC4I,CAAC,IAAI3J,MAAM,CAAC0I,QAAQ,CAACiB,CAAC,CAAC,CAAC,EAAE;cAC/BF,YAAY,EAAC;YACf;UACF,CAAC;QACH;QACA,MAAMG,OAAO,GAAGrJ,QAAQ,CAACK,KAAK,GAAGiJ,IAAI,CAACC,KAAK,CAACL,YAAY,GAAGlJ,QAAQ,CAACK,KAAK,GAAG,GAAG,CAAC,GAAG;QACnFpB,kBAAkB,CAACmH,SAAS,CAAC;UAC3Bc,MAAM,EAAE,CACN;YACEzF,IAAI,EAAE,OAAO;YACb+H,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;YACtBlB,MAAM,EAAE,KAAK;YACbrB,GAAG,EAAE,CAAC;YACNwC,GAAG,EAAE,GAAG;YACRC,QAAQ,EAAE;cAAElB,IAAI,EAAE,IAAI;cAAEmB,KAAK,EAAE;YAAG,CAAC;YACnCC,QAAQ,EAAE;cAAEC,SAAS,EAAE;gBAAEF,KAAK,EAAE,EAAE;gBAAE7C,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC;cAAE;YAAE,CAAC;YAC/DgD,OAAO,EAAE;cAAEH,KAAK,EAAE,CAAC;cAAExJ,MAAM,EAAE;YAAM,CAAC;YACpC4J,MAAM,EAAE;cACNC,cAAc,EAAE,IAAI;cACpBjD,QAAQ,EAAE,EAAE;cACZD,KAAK,EAAE,SAAS;cAChBmD,UAAU,EAAE,MAAM;cAClBC,YAAY,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;cACxBxB,SAAS,EAAE;YACb,CAAC;YACD3G,IAAI,EAAE,CAAC;cAAE1B,KAAK,EAAEgJ,OAAO;cAAErE,IAAI,EAAE;YAAM,CAAC,CAAC;YACvCmF,KAAK,EAAE;cAAEpD,QAAQ,EAAE,EAAE;cAAED,KAAK,EAAE,MAAM;cAAEoD,YAAY,EAAE,CAAC,CAAC,EAAE,KAAK;YAAE;UACjE;QAEJ,CAAC;MACH;MACA;MACA,IAAIpL,UAAU,CAACuB,KAAK,EAAE;QACpB;QACA2B,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE9C,eAAe,CAACkB,KAAK;QAC5CnB,kBAAkB,GAAGjB,OAAO,CAAC0H,IAAI,CAAC7G,UAAU,CAACuB,KAAK;QAClD,MAAM+J,QAAQ,GAAG,CAAC;QAClB,IAAIC,YAAY,GAAG,KAAI;QACvB,IAAIjL,KAAK,CAACC,OAAO,CAACF,eAAe,CAACkB,KAAK,CAAC,EAAE;UACxClB,eAAe,CAACkB,KAAK,CAACwF,OAAO,CAACrG,IAAI,IAAI;YACpC;YACA,IAAIC,MAAM,GAAG,CAACD,IAAI,CAACC,MAAM,IAAI,EAAE,EAAE0J,WAAW,CAAC;YAC7C,IAAI,CACF,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,GAAE,CACxE,CAAC3I,IAAI,CAAC4I,CAAC,IAAI3J,MAAM,CAAC0I,QAAQ,CAACiB,CAAC,CAAC,CAAC,EAAE;cAC/BiB,YAAY,GAAG,IAAG;cAClB;cACA,IAAIC,MAAM,GAAG9K,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,UAAU,IAAIH,IAAI,CAACI,WAAW,IAAIJ,IAAI,CAACK,QAAQ,IAAI,EAAC;cACvF,IAAI,CAACyK,MAAM,EAAE;gBACX;gBACA,MAAMC,GAAG,GAAG,IAAIzK,IAAI,CAAC;gBACrBwK,MAAM,GAAG,GAAGC,GAAG,CAACC,WAAW,CAAC,CAAC,IAAIvC,MAAM,CAACsC,GAAG,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC;cAC/E;cACA,MAAM5E,KAAK,GAAG,CAACwE,MAAM,GAAG,EAAE,EAAEvE,KAAK,CAAC,CAAC,EAAE,CAAC;cACtCqE,QAAQ,CAACtE,KAAK,CAAC,GAAG,CAACsE,QAAQ,CAACtE,KAAK,CAAC,IAAI,CAAC,IAAI;YAC7C;UACF,CAAC;QACH;QACA,IAAI6E,MAAM,GAAG5H,MAAM,CAACC,IAAI,CAACoH,QAAQ,CAAC,CAACnE,IAAI,CAAC;QACxC,IAAI2E,SAAS,GAAGD,MAAM,CAACpL,GAAG,CAAC4G,CAAC,IAAIiE,QAAQ,CAACjE,CAAC,CAAC;QAC3C;QACA,IAAI/G,KAAK,CAACC,OAAO,CAACF,eAAe,CAACkB,KAAK,CAAC,IAAIlB,eAAe,CAACkB,KAAK,CAACF,MAAM,GAAG,CAAC,IAAI,CAACkK,YAAY,EAAE;UAC7F,MAAME,GAAG,GAAG,IAAIzK,IAAI,CAAC;UACrB,MAAM+K,SAAS,GAAG,GAAGN,GAAG,CAACC,WAAW,CAAC,CAAC,IAAIvC,MAAM,CAACsC,GAAG,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC;UACtFC,MAAM,GAAG,CAACE,SAAS;UACnBD,SAAS,GAAG,CAAC,CAAC;QAChB;QACA1L,kBAAkB,CAACkH,SAAS,CAAC;UAC3BC,OAAO,EAAE;YAAEC,OAAO,EAAE;UAAO,CAAC;UAC5BC,IAAI,EAAE;YAAEC,IAAI,EAAE,EAAE;YAAEC,KAAK,EAAE,EAAE;YAAEC,GAAG,EAAE,EAAE;YAAEC,MAAM,EAAE;UAAG,CAAC;UAClDC,KAAK,EAAE;YACLnF,IAAI,EAAE,UAAU;YAChBM,IAAI,EAAE4I,MAAM;YACZ9D,SAAS,EAAE;cAAEC,KAAK,EAAE,MAAM;cAAEC,QAAQ,EAAE;YAAG,CAAC;YAC1C/B,IAAI,EAAE2F,MAAM,CAACxK,MAAM,GAAG,EAAE,GAAG;UAC7B,CAAC;UACD6G,KAAK,EAAE;YACLvF,IAAI,EAAE,OAAO;YACbwF,GAAG,EAAE,CAAC;YACNJ,SAAS,EAAE;cAAEC,KAAK,EAAE,MAAM;cAAEC,QAAQ,EAAE;YAAG;UAC3C,CAAC;UACDG,MAAM,EAAE,CACN;YACElC,IAAI,EAAE,OAAO;YAAEvD,IAAI,EAAE,KAAK;YAAEM,IAAI,EAAE6I,SAAS;YAC3CxD,SAAS,EAAE;cAAEN,KAAK,EAAE;YAAU,CAAC;YAC/BgE,QAAQ,EAAE,EAAE;YACZhD,KAAK,EAAE;cAAEU,IAAI,EAAE,IAAI;cAAEC,QAAQ,EAAE,KAAK;cAAE3B,KAAK,EAAE,SAAS;cAAEC,QAAQ,EAAE,EAAE;cAAEkD,UAAU,EAAE;YAAO;UAC3F;QAEJ,CAAC;MACH;IACF;;IAEA;IACA,MAAMc,YAAY,GAAGA,CAAA,KAAM;MAAA,IAAAC,sBAAA,EAAAC,kBAAA,EAAAC,oBAAA,EAAAC,oBAAA;MACzB,CAAAH,sBAAA,GAAAjM,qBAAqB,cAAAiM,sBAAA,uBAArBA,sBAAA,CAAuB1I,MAAM,CAAC;MAC9B,CAAA2I,kBAAA,GAAAjM,gBAAgB,cAAAiM,kBAAA,uBAAhBA,kBAAA,CAAkB3I,MAAM,CAAC;MACzB,CAAA4I,oBAAA,GAAAjM,kBAAkB,cAAAiM,oBAAA,uBAAlBA,oBAAA,CAAoB5I,MAAM,CAAC;MAC3B,CAAA6I,oBAAA,GAAAjM,kBAAkB,cAAAiM,oBAAA,uBAAlBA,oBAAA,CAAoB7I,MAAM,CAAC;IAC7B;;IAEA;IACA8I,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEN,YAAY;;IAE9C;IACAlN,KAAK,CAAC,MAAM,CAACY,KAAK,CAACa,KAAK,EAAEb,KAAK,CAAC8B,SAAS,EAAE9B,KAAK,CAACyB,YAAY,EAAEzB,KAAK,CAACmD,OAAO,CAAC,EAAE,MAAM;MACnF;MACA7D,QAAQ,CAAC,MAAM;QAAA,IAAAuN,eAAA;QACb9F,YAAY,CAAC;;QAEb;QACA,IAAI,CAAA8F,eAAA,GAAA7M,KAAK,CAACmD,OAAO,cAAA0J,eAAA,eAAbA,eAAA,CAAezJ,EAAE,IAAIkB,MAAM,CAACC,IAAI,CAACjC,aAAa,CAACV,KAAK,CAAC,CAACF,MAAM,KAAK,CAAC,EAAE;UACtEuB,iBAAiB,CAAC;QACpB;MACF,CAAC;IACH,CAAC,EAAE;MAAE6J,IAAI,EAAE;IAAK,CAAC;IAEjB5N,SAAS,CAAC,MAAM;MACdI,QAAQ,CAAC,MAAM;QAAA,IAAAyN,eAAA;QACbhG,YAAY,CAAC;;QAEb;QACA,KAAAgG,eAAA,GAAI/M,KAAK,CAACmD,OAAO,cAAA4J,eAAA,eAAbA,eAAA,CAAe3J,EAAE,EAAE;UACrBH,iBAAiB,CAAC;QACpB;MACF,CAAC;IACH,CAAC;IAED5D,eAAe,CAAC,MAAM;MAAA,IAAA2N,sBAAA,EAAAC,kBAAA,EAAAC,oBAAA,EAAAC,oBAAA;MACpB;MACAR,MAAM,CAACS,mBAAmB,CAAC,QAAQ,EAAEd,YAAY;MACjD,CAAAU,sBAAA,GAAA1M,qBAAqB,cAAA0M,sBAAA,uBAArBA,sBAAA,CAAuBhG,OAAO,CAAC;MAC/B,CAAAiG,kBAAA,GAAA1M,gBAAgB,cAAA0M,kBAAA,uBAAhBA,kBAAA,CAAkBjG,OAAO,CAAC;MAC1B,CAAAkG,oBAAA,GAAA1M,kBAAkB,cAAA0M,oBAAA,uBAAlBA,oBAAA,CAAoBlG,OAAO,CAAC;MAC5B,CAAAmG,oBAAA,GAAA1M,kBAAkB,cAAA0M,oBAAA,uBAAlBA,oBAAA,CAAoBnG,OAAO,CAAC;IAC9B,CAAC","ignoreList":[]}]}