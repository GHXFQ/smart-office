{"remainingRequest":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\components\\layout\\Navbar.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\components\\layout\\Navbar.vue","mtime":1746431529846},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGNvbXB1dGVkLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTmF2YmFyJywKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgY29uc3Qgc2VhcmNoSW5wdXQgPSByZWYoJycpOwoKICAgIC8vIOS7jlZ1ZXjojrflj5bkvqfovrnmoI/nirbmgIEKICAgIGNvbnN0IGlzQWN0aXZlID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy5zaWRlYmFyLm9wZW5lZCk7CgogICAgLy8g5LuOVnVleOiOt+WPlueUqOaIt+S/oeaBr+WSjOacquivu+a2iOaBrwogICAgY29uc3QgdXNlckF2YXRhciA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMudXNlciAmJiBzdG9yZS5nZXR0ZXJzLnVzZXIuYXZhdGFyIHx8ICcnKTsKICAgIGNvbnN0IHVzZXJuYW1lID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy51c2VyICYmIHN0b3JlLmdldHRlcnMudXNlci5uYW1lIHx8ICcnKTsKICAgIGNvbnN0IHVucmVhZCA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMudW5yZWFkIHx8IHsKICAgICAgbWVzc2FnZXM6IDAsCiAgICAgIG5vdGlmaWNhdGlvbnM6IDAsCiAgICAgIHRhc2tzOiAwLAogICAgICBhcHByb3ZhbHM6IDAKICAgIH0pOwoKICAgIC8vIOiuoeeul+acquivu+a2iOaBr+aAu+aVsAogICAgY29uc3QgdG90YWxVbnJlYWQgPSBjb21wdXRlZCgoKSA9PiB1bnJlYWQudmFsdWUubWVzc2FnZXMgKyB1bnJlYWQudmFsdWUubm90aWZpY2F0aW9ucyArIHVucmVhZC52YWx1ZS50YXNrcyArIHVucmVhZC52YWx1ZS5hcHByb3ZhbHMpOwoKICAgIC8vIOiOt+WPluW9k+WJjei3r+eUseagh+mimAogICAgY29uc3QgY3VycmVudFJvdXRlID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gcm91dGUubWV0YS50aXRsZSB8fCAn5bel5L2c5Y+wJzsKICAgIH0pOwoKICAgIC8vIOWIh+aNouS+p+i+ueagjwogICAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ3RvZ2dsZVNpZGViYXInKTsKICAgIH07CgogICAgLy8g6YCA5Ye655m75b2VCiAgICBjb25zdCBsb2dvdXQgPSBhc3luYyAoKSA9PiB7CiAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKCdsb2dvdXQnKTsKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgfTsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaElucHV0LAogICAgICBpc0FjdGl2ZSwKICAgICAgdXNlckF2YXRhciwKICAgICAgdXNlcm5hbWUsCiAgICAgIHVucmVhZCwKICAgICAgdG90YWxVbnJlYWQsCiAgICAgIGN1cnJlbnRSb3V0ZSwKICAgICAgdG9nZ2xlU2lkZWJhciwKICAgICAgbG9nb3V0CiAgICB9OwogIH0KfTs="},{"version":3,"names":["computed","ref","useStore","useRoute","useRouter","name","setup","store","route","router","searchInput","isActive","getters","sidebar","opened","userAvatar","user","avatar","username","unread","messages","notifications","tasks","approvals","totalUnread","value","currentRoute","meta","title","toggleSidebar","dispatch","logout","push"],"sources":["C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\components\\layout\\Navbar.vue"],"sourcesContent":["<template>\r\n  <div class=\"navbar\">\r\n    <!-- 左侧菜单按钮 -->\r\n    <div class=\"hamburger-container\" @click=\"toggleSidebar\">\r\n      <i :class=\"isActive ? 'bi bi-list' : 'bi bi-list'\" />\r\n    </div>\r\n\r\n    <!-- 面包屑导航 -->\r\n    <div class=\"breadcrumb-container\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>{{ currentRoute }}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <!-- 右侧菜单 -->\r\n    <div class=\"right-menu\">\r\n      <!-- 全局搜索 -->\r\n      <div class=\"search-container\">\r\n        <el-input\r\n          v-model=\"searchInput\"\r\n          placeholder=\"全局搜索...\"\r\n          clearable\r\n          prefix-icon=\"el-icon-search\"\r\n          class=\"search-input\"\r\n        />\r\n      </div>\r\n\r\n      <!-- 通知菜单 -->\r\n      <el-dropdown class=\"notification-container\" trigger=\"click\">\r\n        <div class=\"notification-icon-container\">\r\n          <el-badge :value=\"totalUnread\" class=\"item\" :hidden=\"totalUnread === 0\">\r\n            <i class=\"bi bi-bell\"></i>\r\n          </el-badge>\r\n        </div>\r\n        <template #dropdown>\r\n          <el-dropdown-menu>\r\n            <el-dropdown-item>\r\n              <i class=\"bi bi-chat-dots\"></i> {{ unread.messages }} 条未读消息\r\n            </el-dropdown-item>\r\n            <el-dropdown-item>\r\n              <i class=\"bi bi-bell\"></i> {{ unread.notifications }} 条未读通知\r\n            </el-dropdown-item>\r\n            <el-dropdown-item>\r\n              <i class=\"bi bi-check2-all\"></i> {{ unread.tasks }} 个未完成任务\r\n            </el-dropdown-item>\r\n            <el-dropdown-item>\r\n              <i class=\"bi bi-list-check\"></i> {{ unread.approvals }} 个待审批\r\n            </el-dropdown-item>\r\n            <el-dropdown-item divided>\r\n              <span style=\"display: block; text-align: center;\">查看全部通知</span>\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </template>\r\n      </el-dropdown>\r\n\r\n      <!-- 用户头像菜单 -->\r\n      <el-dropdown class=\"avatar-container\" trigger=\"click\">\r\n        <div class=\"avatar-wrapper\">\r\n          <img :src=\"userAvatar\" class=\"user-avatar\">\r\n          <span v-if=\"username\" class=\"username\">{{ username }}</span>\r\n          <i class=\"bi bi-chevron-down\"></i>\r\n        </div>\r\n        <template #dropdown>\r\n          <el-dropdown-menu>\r\n            <el-dropdown-item>\r\n              <router-link to=\"/profile\">\r\n                <i class=\"bi bi-person\"></i> 个人中心\r\n              </router-link>\r\n            </el-dropdown-item>\r\n            <el-dropdown-item>\r\n              <router-link to=\"/settings\">\r\n                <i class=\"bi bi-gear\"></i> 系统设置\r\n              </router-link>\r\n            </el-dropdown-item>\r\n            <el-dropdown-item divided>\r\n              <span @click=\"logout\" style=\"display: block;\">\r\n                <i class=\"bi bi-box-arrow-right\"></i> 退出登录\r\n              </span>\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </template>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute, useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Navbar',\r\n  setup() {\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n\r\n    const searchInput = ref('')\r\n    \r\n    // 从Vuex获取侧边栏状态\r\n    const isActive = computed(() => store.getters.sidebar.opened)\r\n    \r\n    // 从Vuex获取用户信息和未读消息\r\n    const userAvatar = computed(() => store.getters.user && store.getters.user.avatar || '')\r\n    const username = computed(() => store.getters.user && store.getters.user.name || '')\r\n    const unread = computed(() => store.getters.unread || { messages: 0, notifications: 0, tasks: 0, approvals: 0 })\r\n    \r\n    // 计算未读消息总数\r\n    const totalUnread = computed(() => \r\n      unread.value.messages + \r\n      unread.value.notifications + \r\n      unread.value.tasks + \r\n      unread.value.approvals\r\n    )\r\n\r\n    // 获取当前路由标题\r\n    const currentRoute = computed(() => {\r\n      return route.meta.title || '工作台'\r\n    })\r\n\r\n    // 切换侧边栏\r\n    const toggleSidebar = () => {\r\n      store.dispatch('toggleSidebar')\r\n    }\r\n\r\n    // 退出登录\r\n    const logout = async () => {\r\n      await store.dispatch('logout')\r\n      router.push('/login')\r\n    }\r\n\r\n    return {\r\n      searchInput,\r\n      isActive,\r\n      userAvatar,\r\n      username,\r\n      unread,\r\n      totalUnread,\r\n      currentRoute,\r\n      toggleSidebar,\r\n      logout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  height: 60px;\r\n  background-color: #fff;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  justify-content: space-between;\r\n}\r\n\r\n.hamburger-container {\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  line-height: 60px;\r\n  padding: 0 15px;\r\n}\r\n\r\n.breadcrumb-container {\r\n  margin-left: 15px;\r\n  flex: 1;\r\n}\r\n\r\n.right-menu {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.search-container {\r\n  margin-right: 20px;\r\n}\r\n\r\n.search-input {\r\n  width: 210px;\r\n  margin-left: 10px;\r\n  transition: width 0.3s;\r\n}\r\n\r\n.search-input:focus {\r\n  width: 240px;\r\n}\r\n\r\n.notification-container, \r\n.avatar-container {\r\n  margin-left: 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.notification-icon-container {\r\n  font-size: 18px;\r\n  padding: 5px;\r\n}\r\n\r\n.avatar-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.user-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  margin-right: 8px;\r\n}\r\n\r\n.username {\r\n  font-size: 14px;\r\n  color: #333;\r\n  margin-right: 5px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: inherit;\r\n}\r\n</style> "],"mappings":";AAwFA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAI;AAClC,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,QAAQ,EAAEC,SAAQ,QAAS,YAAW;AAE/C,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,QAAQ,CAAC;IACvB,MAAMM,KAAI,GAAIL,QAAQ,CAAC;IACvB,MAAMM,MAAK,GAAIL,SAAS,CAAC;IAEzB,MAAMM,WAAU,GAAIT,GAAG,CAAC,EAAE;;IAE1B;IACA,MAAMU,QAAO,GAAIX,QAAQ,CAAC,MAAMO,KAAK,CAACK,OAAO,CAACC,OAAO,CAACC,MAAM;;IAE5D;IACA,MAAMC,UAAS,GAAIf,QAAQ,CAAC,MAAMO,KAAK,CAACK,OAAO,CAACI,IAAG,IAAKT,KAAK,CAACK,OAAO,CAACI,IAAI,CAACC,MAAK,IAAK,EAAE;IACvF,MAAMC,QAAO,GAAIlB,QAAQ,CAAC,MAAMO,KAAK,CAACK,OAAO,CAACI,IAAG,IAAKT,KAAK,CAACK,OAAO,CAACI,IAAI,CAACX,IAAG,IAAK,EAAE;IACnF,MAAMc,MAAK,GAAInB,QAAQ,CAAC,MAAMO,KAAK,CAACK,OAAO,CAACO,MAAK,IAAK;MAAEC,QAAQ,EAAE,CAAC;MAAEC,aAAa,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,SAAS,EAAE;IAAE,CAAC;;IAE/G;IACA,MAAMC,WAAU,GAAIxB,QAAQ,CAAC,MAC3BmB,MAAM,CAACM,KAAK,CAACL,QAAO,GACpBD,MAAM,CAACM,KAAK,CAACJ,aAAY,GACzBF,MAAM,CAACM,KAAK,CAACH,KAAI,GACjBH,MAAM,CAACM,KAAK,CAACF,SACf;;IAEA;IACA,MAAMG,YAAW,GAAI1B,QAAQ,CAAC,MAAM;MAClC,OAAOQ,KAAK,CAACmB,IAAI,CAACC,KAAI,IAAK,KAAI;IACjC,CAAC;;IAED;IACA,MAAMC,aAAY,GAAIA,CAAA,KAAM;MAC1BtB,KAAK,CAACuB,QAAQ,CAAC,eAAe;IAChC;;IAEA;IACA,MAAMC,MAAK,GAAI,MAAAA,CAAA,KAAY;MACzB,MAAMxB,KAAK,CAACuB,QAAQ,CAAC,QAAQ;MAC7BrB,MAAM,CAACuB,IAAI,CAAC,QAAQ;IACtB;IAEA,OAAO;MACLtB,WAAW;MACXC,QAAQ;MACRI,UAAU;MACVG,QAAQ;MACRC,MAAM;MACNK,WAAW;MACXE,YAAY;MACZG,aAAa;MACbE;IACF;EACF;AACF","ignoreList":[]}]}