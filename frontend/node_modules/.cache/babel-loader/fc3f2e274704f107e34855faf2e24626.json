{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\Index.vue","mtime":1748850809693},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKaW1wb3J0IHsgcmVmLCBuZXh0VGljaywgY29tcHV0ZWQsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IFVwbG9hZEZpbGxlZCwgRG9jdW1lbnQsIENsb3NlLCBDaGVjaywgRGVsZXRlLCBDb25uZWN0aW9uIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnOwpmdW5jdGlvbiBmb3JtYXRTaXplKHNpemUpIHsKICBpZiAoc2l6ZSA8IDEwMjQpIHJldHVybiBzaXplICsgJ0InOwogIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHJldHVybiAoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSkgKyAnS0InOwogIHJldHVybiAoc2l6ZSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDEpICsgJ01CJzsKfQpmdW5jdGlvbiBnZXRFeHQobmFtZSkgewogIGNvbnN0IGFyciA9IG5hbWUuc3BsaXQoJy4nKTsKICByZXR1cm4gYXJyLmxlbmd0aCA+IDEgPyBhcnJbYXJyLmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKCkgOiAnJzsKfQpmdW5jdGlvbiBnZXRGaWxlTGFiZWwodHlwZSwgZXh0KSB7CiAgaWYgKHR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHJldHVybiAnSW1hZ2UnOwogIGlmIChleHQgPT09ICdwZGYnKSByZXR1cm4gJ1BERic7CiAgaWYgKFsnY3N2JywgJ3hscycsICd4bHN4J10uaW5jbHVkZXMoZXh0KSkgcmV0dXJuICdDU1YnOwogIHJldHVybiBleHQudG9VcHBlckNhc2UoKTsKfQpmdW5jdGlvbiBnZXRGaWxlQmcoZXh0KSB7CiAgaWYgKGV4dCA9PT0gJ3BkZicpIHJldHVybiAnI2Y4NzE3MSc7CiAgaWYgKFsnY3N2JywgJ3hscycsICd4bHN4J10uaW5jbHVkZXMoZXh0KSkgcmV0dXJuICcjMzRkMzk5JzsKICByZXR1cm4gJyNhNWI0ZmMnOwp9CmZ1bmN0aW9uIGVzY2FwZUh0bWwoaHRtbCkgewogIHJldHVybiBodG1sLnJlcGxhY2UoL1smPD4iJ10vZywgZnVuY3Rpb24gKG0pIHsKICAgIHJldHVybiB7CiAgICAgICcmJzogJyZhbXA7JywKICAgICAgJzwnOiAnJmx0OycsCiAgICAgICc+JzogJyZndDsnLAogICAgICAnIic6ICcmcXVvdDsnLAogICAgICAiJyI6ICcmIzM5OycKICAgIH1bbV07CiAgfSk7Cn0KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYXNoYm9hcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIFVwbG9hZEZpbGxlZCwKICAgIERvY3VtZW50LAogICAgQ2xvc2UsCiAgICBDaGVjaywKICAgIERlbGV0ZSwKICAgIENvbm5lY3Rpb24KICB9LAogIHNldHVwKCkgewogICAgY29uc3QgaW5wdXQgPSByZWYoJycpOwogICAgY29uc3QgbWVzc2FnZXMgPSByZWYoW3sKICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsCiAgICAgIGNvbnRlbnQ6ICfmgqjlpb3vvIzmiJHmmK/mgqjnmoRBSeWKqeaJi++8jOacieS7gOS5iOWPr+S7peW4ruaCqO+8nycsCiAgICAgIHR5cGU6ICd0ZXh0JwogICAgfV0pOwogICAgY29uc3QgY2hhdEJvZHkgPSByZWYobnVsbCk7CiAgICBjb25zdCBmaWxlSW5wdXQgPSByZWYobnVsbCk7CiAgICBjb25zdCBzZWxlY3RlZEZpbGVzID0gcmVmKFtdKTsKICAgIGNvbnN0IGxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgcHJvY2Vzc2luZ0ZpbGVzID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gc2VsZWN0ZWRGaWxlcy52YWx1ZS5zb21lKGZpbGUgPT4gZmlsZS5zdGF0dXMgIT09ICdjb21wbGV0ZWQnICYmIGZpbGUuc3RhdHVzICE9PSAnZmFpbGVkJyk7CiAgICB9KTsKICAgIGNvbnN0IGNoYXRJZCA9IHJlZihudWxsKTsgLy8g5a2Y5YKo5b2T5YmN6IGK5aSpSUTvvIznlKjkuo7nu7TmjIHlr7nor53kuIrkuIvmlocKICAgIGNvbnN0IHNob3dDb250ZXh0QmFyID0gY29tcHV0ZWQoKCkgPT4gY2hhdElkLnZhbHVlICE9PSBudWxsKTsKICAgIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4gewogICAgICBuZXh0VGljaygoKSA9PiB7CiAgICAgICAgaWYgKGNoYXRCb2R5LnZhbHVlKSBjaGF0Qm9keS52YWx1ZS5zY3JvbGxUb3AgPSBjaGF0Qm9keS52YWx1ZS5zY3JvbGxIZWlnaHQ7CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IHVwbG9hZEZpbGVBbmRHZXRJZCA9IGFzeW5jIGZpbGUgPT4gewogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlLnJhd0ZpbGUpOwogICAgICB0cnkgewogICAgICAgIC8vIOagh+iusOaWh+S7tuS4uuS4iuS8oOS4rQogICAgICAgIGZpbGUucHJvZ3Jlc3MgPSAwOwogICAgICAgIGZpbGUuc3RhdHVzID0gJ3BlbmRpbmcnOwogICAgICAgIGxldCBzbW9vdGhUaW1lciA9IG51bGw7CiAgICAgICAgbGV0IGxhc3RQcm9ncmVzcyA9IDA7CiAgICAgICAgbGV0IHVwbG9hZEZpbmlzaGVkID0gZmFsc2U7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdCh7CiAgICAgICAgICB1cmw6ICcvYXBpL2FpL2RvY3VtZW50cy91cGxvYWQvJywKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgZGF0YTogZm9ybURhdGEsCiAgICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBwcm9ncmVzc0V2ZW50ID0+IHsKICAgICAgICAgICAgY29uc3QgcGVyY2VudENvbXBsZXRlZCA9IE1hdGgucm91bmQocHJvZ3Jlc3NFdmVudC5sb2FkZWQgKiAxMDAgLyBwcm9ncmVzc0V2ZW50LnRvdGFsKTsKICAgICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZWQgPCAxMDApIHsKICAgICAgICAgICAgICBmaWxlLnByb2dyZXNzID0gcGVyY2VudENvbXBsZXRlZDsKICAgICAgICAgICAgICBsYXN0UHJvZ3Jlc3MgPSBwZXJjZW50Q29tcGxldGVkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOS4iuS8oOeerOmXtOWujOaIkO+8jOW5s+a7kemAkuWinuWIsDk1JQogICAgICAgICAgICAgIGlmICghdXBsb2FkRmluaXNoZWQpIHsKICAgICAgICAgICAgICAgIHVwbG9hZEZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGxldCBmYWtlUHJvZ3Jlc3MgPSBsYXN0UHJvZ3Jlc3M7CiAgICAgICAgICAgICAgICBzbW9vdGhUaW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgZmFrZVByb2dyZXNzICs9IDM7CiAgICAgICAgICAgICAgICAgIGlmIChmYWtlUHJvZ3Jlc3MgPj0gOTUpIHsKICAgICAgICAgICAgICAgICAgICBmYWtlUHJvZ3Jlc3MgPSA5NTsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHNtb290aFRpbWVyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBmaWxlLnByb2dyZXNzID0gZmFrZVByb2dyZXNzOwogICAgICAgICAgICAgICAgfSwgMjApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIC8vIOS4iuS8oOWujOaIkOWQju+8jOeKtuaAgeaUueS4uuWkhOeQhuS4re+8jOS4jemHjee9rui/m+W6puadoQogICAgICAgIGlmIChzbW9vdGhUaW1lcikgY2xlYXJJbnRlcnZhbChzbW9vdGhUaW1lcik7CiAgICAgICAgaWYgKGZpbGUucHJvZ3Jlc3MgPCA5NSkgZmlsZS5wcm9ncmVzcyA9IDk1OwogICAgICAgIGZpbGUuc3RhdHVzID0gJ3Byb2Nlc3NpbmcnOwogICAgICAgIGZpbGUuZG9jdW1lbnRJZCA9IHJlcy5kYXRhLmlkOwogICAgICAgIHBvbGxEb2N1bWVudFN0YXR1cyhmaWxlKTsKICAgICAgICByZXR1cm4gcmVzLmRhdGEuaWQ7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgZmlsZS5zdGF0dXMgPSAnZmFpbGVkJzsKICAgICAgICBjb25zb2xlLmVycm9yKCfmlofku7bkuIrkvKDlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRocm93IG5ldyBFcnJvcihg5LiK5Lyg5paH5Lu2ICR7ZmlsZS5uYW1lfSDlpLHotKU6ICR7ZXJyb3IubWVzc2FnZSB8fCAn5pyN5Yqh5Zmo6ZSZ6K+vJ31gKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDova7or6LmlofmoaPlpITnkIbnirbmgIEKICAgIGNvbnN0IHBvbGxEb2N1bWVudFN0YXR1cyA9IGFzeW5jIChmaWxlLCBpbnRlcnZhbCA9IDEwMDApID0+IHsKICAgICAgaWYgKCFmaWxlLmRvY3VtZW50SWQpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KHsKICAgICAgICAgIHVybDogYC9hcGkvYWkvZG9jdW1lbnRzLyR7ZmlsZS5kb2N1bWVudElkfS9gLAogICAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICAgIH0pOwogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7CiAgICAgICAgICBmaWxlLnByb2dyZXNzID0gMTAwOwogICAgICAgICAgZmlsZS5zdGF0dXMgPSAnY29tcGxldGVkJzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHsKICAgICAgICAgIGZpbGUuc3RhdHVzID0gJ2ZhaWxlZCc7CiAgICAgICAgICBmaWxlLnByb2dyZXNzID0gMDsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnKSB7CiAgICAgICAgICAvLyDlpITnkIbkuK3vvIzlop7liqDov5vluqbvvIjku4XlnKjlsI/kuo45NeaXtumAkuWinu+8iQogICAgICAgICAgaWYgKGZpbGUucHJvZ3Jlc3MgPCA5NSkgewogICAgICAgICAgICBmaWxlLnByb2dyZXNzID0gTWF0aC5taW4oZmlsZS5wcm9ncmVzcyArIDUsIDk1KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOe7p+e7rei9ruivogogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcG9sbERvY3VtZW50U3RhdHVzKGZpbGUsIGludGVydmFsKSwgaW50ZXJ2YWwpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8g5Ye66ZSZ5pe277yM57un57ut6L2u6K+i77yM5L2G5LiN5pu05paw6L+b5bqmCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBwb2xsRG9jdW1lbnRTdGF0dXMoZmlsZSwgaW50ZXJ2YWwpLCBpbnRlcnZhbCk7CiAgICAgIH0KICAgIH07CgogICAgLy8g5paw5aKe77ya5rWB5byPZmV0Y2ggQUnlm57lpI0KICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoQUlTdHJlYW0oZGF0YSwgb25DaHVuaykgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FpL2NoYXQtd2l0aC1kb2N1bWVudHMvJywgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpID8gYEJlYXJlciAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfWAgOiAnJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkKICAgICAgfSk7CgogICAgICAvLyDmo4Dmn6Xlk43lupTlpLTkuK3nmoTogYrlpKlJRAogICAgICBjb25zdCBoZWFkZXJDaGF0SWQgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnWC1DaGF0LUlEJyk7CiAgICAgIGlmIChoZWFkZXJDaGF0SWQpIHsKICAgICAgICBjb25zb2xlLmxvZygn5LuO5ZON5bqU5aS06I635Y+W6IGK5aSpSUQ6JywgaGVhZGVyQ2hhdElkKTsKICAgICAgICBjaGF0SWQudmFsdWUgPSBoZWFkZXJDaGF0SWQ7CiAgICAgIH0KICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTsKICAgICAgbGV0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTsKICAgICAgbGV0IGJ1ZmZlciA9ICcnOwogICAgICBsZXQgZG9uZSA9IGZhbHNlOwogICAgICB3aGlsZSAoIWRvbmUpIHsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpOwogICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTsKICAgICAgICBpZiAoZG9uZSkgYnJlYWs7CiAgICAgICAgYnVmZmVyICs9IGRlY29kZXIuZGVjb2RlKHJlc3VsdC52YWx1ZSwgewogICAgICAgICAgc3RyZWFtOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgb25DaHVuayhidWZmZXIpOwogICAgICB9CiAgICB9CiAgICBjb25zdCBjbGVhckNoYXQgPSAoKSA9PiB7CiAgICAgIC8vIOa4heepuuWvueivneWOhuWPsu+8jOW8gOWni+aWsOeahOWvueivnQogICAgICBjaGF0SWQudmFsdWUgPSBudWxsOwogICAgICBtZXNzYWdlcy52YWx1ZSA9IFt7CiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsCiAgICAgICAgY29udGVudDogJ+aCqOWlve+8jOaIkeaYr+aCqOeahEFJ5Yqp5omL77yM5pyJ5LuA5LmI5Y+v5Lul5biu5oKo77yfJywKICAgICAgICB0eXBlOiAndGV4dCcKICAgICAgfV07CiAgICAgIC8vIOa4heepuumAieaLqeeahOaWh+S7tgogICAgICBzZWxlY3RlZEZpbGVzLnZhbHVlID0gW107CiAgICB9OwogICAgY29uc3Qgc2VuZE1zZyA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKCFpbnB1dC52YWx1ZS50cmltKCkgJiYgIXNlbGVjdGVkRmlsZXMudmFsdWUubGVuZ3RoIHx8IGxvYWRpbmcudmFsdWUgfHwgcHJvY2Vzc2luZ0ZpbGVzLnZhbHVlKSByZXR1cm47CiAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICBsZXQgZG9jdW1lbnRJZHMgPSBbXTsKCiAgICAgIC8vIOWmguaenOayoeaciei+k+WFpeaWh+acrOS9huaciemAieaLqeaWh+S7tu+8jOWFiOa3u+WKoOWNoOS9jea2iOaBrwogICAgICBpZiAoIWlucHV0LnZhbHVlLnRyaW0oKSAmJiBzZWxlY3RlZEZpbGVzLnZhbHVlLmxlbmd0aCkgewogICAgICAgIG1lc3NhZ2VzLnZhbHVlLnB1c2goewogICAgICAgICAgcm9sZTogJ3VzZXInLAogICAgICAgICAgY29udGVudDogJ+aIkeS4iuS8oOS6huS4gOS6m+aWh+S7tu+8jOivt+WIhuaekOWFtuS4reWGheWuueOAgicsCiAgICAgICAgICB0eXBlOiAndGV4dCcKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8g5re75Yqg5paH5Lu25LiO5paH5pys5bWM5aWX5raI5oGvCiAgICAgIGlmIChzZWxlY3RlZEZpbGVzLnZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyDlkIjlubbmiYDmnInmlofku7bkv6Hmga8KICAgICAgICBjb25zdCBmaWxlc0FyciA9IHNlbGVjdGVkRmlsZXMudmFsdWUubWFwKGZpbGUgPT4gKHsKICAgICAgICAgIHVybDogZmlsZS51cmwsCiAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgICBleHQ6IGZpbGUuZXh0LAogICAgICAgICAgc2l6ZTogZmlsZS5zaXplLAogICAgICAgICAgbGFiZWw6IGZpbGUubGFiZWwsCiAgICAgICAgICBiZzogZmlsZS5iZywKICAgICAgICAgIGRlc2M6IGZpbGUuZGVzYwogICAgICAgIH0pKTsKICAgICAgICBtZXNzYWdlcy52YWx1ZS5wdXNoKHsKICAgICAgICAgIHJvbGU6ICd1c2VyJywKICAgICAgICAgIHR5cGU6ICdmaWxlJywKICAgICAgICAgIGZpbGVzOiBmaWxlc0FyciwKICAgICAgICAgIGNvbnRlbnQ6IGlucHV0LnZhbHVlLnRyaW0oKSB8fCAnJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGlucHV0LnZhbHVlLnRyaW0oKSkgewogICAgICAgIC8vIOS7heaWh+acrAogICAgICAgIG1lc3NhZ2VzLnZhbHVlLnB1c2goewogICAgICAgICAgcm9sZTogJ3VzZXInLAogICAgICAgICAgY29udGVudDogaW5wdXQudmFsdWUsCiAgICAgICAgICB0eXBlOiAndGV4dCcKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8g5rua5Yqo5Yiw5bqV6YOo5pi+56S655So5oi35raI5oGvCiAgICAgIHNjcm9sbFRvQm90dG9tKCk7CgogICAgICAvLyDliJvlu7pBSeWbnuWkjeeahOWNoOS9jea2iOaBrwogICAgICBjb25zdCBhc3Npc3RhbnRNc2dJbmRleCA9IG1lc3NhZ2VzLnZhbHVlLmxlbmd0aDsKICAgICAgbWVzc2FnZXMudmFsdWUucHVzaCh7CiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgIHN0cmVhbWluZzogdHJ1ZQogICAgICB9KTsKICAgICAgdHJ5IHsKICAgICAgICAvLyDojrflj5bmiYDmnInlpITnkIblrozmiJDmlofku7bnmoTmlofmoaNJRAogICAgICAgIGRvY3VtZW50SWRzID0gc2VsZWN0ZWRGaWxlcy52YWx1ZS5maWx0ZXIoZmlsZSA9PiBmaWxlLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpLm1hcChmaWxlID0+IGZpbGUuZG9jdW1lbnRJZCk7CiAgICAgICAgY29uc29sZS5sb2coJ+W3suWkhOeQhuWujOaIkOeahOaWh+aho0lEczonLCBkb2N1bWVudElkcyk7CgogICAgICAgIC8vIOiwg+eUqOWQjuerr0FJ6IGK5aSpQVBJ77yI5rWB5byP77yJCiAgICAgICAgY29uc3QgdXNlcklucHV0ID0gaW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgIGF3YWl0IGZldGNoQUlTdHJlYW0oewogICAgICAgICAgbWVzc2FnZTogdXNlcklucHV0IHx8ICfor7fliIbmnpDmiJHkuIrkvKDnmoTmlofku7YnLAogICAgICAgICAgZG9jdW1lbnRfaWRzOiBkb2N1bWVudElkcy5sZW5ndGggPiAwID8gZG9jdW1lbnRJZHMgOiB1bmRlZmluZWQsCiAgICAgICAgICBjaGF0X2lkOiBjaGF0SWQudmFsdWUgLy8g5Lyg6YCS6IGK5aSpSUTku6Xnu7TmjIHkuIrkuIvmlocKICAgICAgICB9LCBidWZmZXIgPT4gewogICAgICAgICAgbWVzc2FnZXMudmFsdWVbYXNzaXN0YW50TXNnSW5kZXhdLmNvbnRlbnQgPSBtYXJrZWQucGFyc2UoYnVmZmVyKTsKICAgICAgICAgIHNjcm9sbFRvQm90dG9tKCk7CiAgICAgICAgfSk7CiAgICAgICAgbWVzc2FnZXMudmFsdWVbYXNzaXN0YW50TXNnSW5kZXhdLnN0cmVhbWluZyA9IGZhbHNlOwoKICAgICAgICAvLyDnjrDlnKhjaGF0SWTlt7Lnu4/lnKhmZXRjaEFJU3RyZWFt5Lit5pu05paw77yM6L+Z6YeM55u05o6l5Yik5patCiAgICAgICAgaWYgKGNoYXRJZC52YWx1ZSkgewogICAgICAgICAgY29uc29sZS5sb2coJ+WvueivnUlEOicsIGNoYXRJZC52YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICBzY3JvbGxUb0JvdHRvbSgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignQUnogYrlpKnor7fmsYLplJnor686JywgZSk7CiAgICAgICAgbWVzc2FnZXMudmFsdWVbYXNzaXN0YW50TXNnSW5kZXhdLmNvbnRlbnQgPSBgQUnmnI3liqHmmoLkuI3lj6/nlKg6ICR7ZS5tZXNzYWdlIHx8ICfmnKrnn6XplJnor68nfWA7CiAgICAgICAgbWVzc2FnZXMudmFsdWVbYXNzaXN0YW50TXNnSW5kZXhdLnN0cmVhbWluZyA9IGZhbHNlOwogICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICBzY3JvbGxUb0JvdHRvbSgpOwogICAgICB9CiAgICAgIGlucHV0LnZhbHVlID0gJyc7CiAgICAgIC8vIOWPkemAgeWQjuS4jea4heepuuaWh+S7tuWIl+ihqO+8jOS9huaKiuW3suWkhOeQhuWksei0peeahOaWh+S7tua4hemZpAogICAgICBzZWxlY3RlZEZpbGVzLnZhbHVlID0gc2VsZWN0ZWRGaWxlcy52YWx1ZS5maWx0ZXIoZmlsZSA9PiBmaWxlLnN0YXR1cyAhPT0gJ2ZhaWxlZCcpOwogICAgfTsKICAgIGNvbnN0IHRyaWdnZXJGaWxlSW5wdXQgPSAoKSA9PiB7CiAgICAgIGlmIChmaWxlSW5wdXQudmFsdWUpIGZpbGVJbnB1dC52YWx1ZS52YWx1ZSA9ICcnOwogICAgICBmaWxlSW5wdXQudmFsdWUgJiYgZmlsZUlucHV0LnZhbHVlLmNsaWNrKCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IGUgPT4gewogICAgICBjb25zdCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzOwogICAgICBpZiAoIWZpbGVzIHx8ICFmaWxlcy5sZW5ndGgpIHJldHVybjsKICAgICAgLy8g5paw5aKe77ya5YmN56uv5qCh6aqM5pSv5oyB55qE5paH5Lu257G75Z6LCiAgICAgIGNvbnN0IGFsbG93ZWRUeXBlcyA9IFsnYXBwbGljYXRpb24vcGRmJywgJ3RleHQvcGxhaW4nLCAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnLCAndGV4dC9jc3YnLCAnYXBwbGljYXRpb24vY3N2JywgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JywgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsICdpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdpbWFnZS9ibXAnLCAnaW1hZ2UvZ2lmJywgJ2ltYWdlL3dlYnAnXTsKICAgICAgQXJyYXkuZnJvbShmaWxlcykuZm9yRWFjaChmaWxlID0+IHsKICAgICAgICBpZiAoIWFsbG93ZWRUeXBlcy5pbmNsdWRlcyhmaWxlLnR5cGUpKSB7CiAgICAgICAgICBhbGVydCgn5LiN5pSv5oyB55qE5paH5Lu257G75Z6LOiAnICsgZmlsZS5uYW1lKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgZXh0ID0gZ2V0RXh0KGZpbGUubmFtZSk7CiAgICAgICAgY29uc3QgaWQgPSBmaWxlLm5hbWUgKyAnXycgKyBmaWxlLnNpemUgKyAnXycgKyBEYXRlLm5vdygpICsgTWF0aC5yYW5kb20oKTsKICAgICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7CiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGV2ID0+IHsKICAgICAgICAgICAgc2VsZWN0ZWRGaWxlcy52YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICBpZCwKICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLAogICAgICAgICAgICAgIHVybDogZXYudGFyZ2V0LnJlc3VsdCwKICAgICAgICAgICAgICBzaXplOiBmb3JtYXRTaXplKGZpbGUuc2l6ZSksCiAgICAgICAgICAgICAgZXh0LAogICAgICAgICAgICAgIGxhYmVsOiBnZXRGaWxlTGFiZWwoZmlsZS50eXBlLCBleHQpLAogICAgICAgICAgICAgIGJnOiBnZXRGaWxlQmcoZXh0KSwKICAgICAgICAgICAgICByYXdGaWxlOiBmaWxlLAogICAgICAgICAgICAgIHByb2dyZXNzOiAwLAogICAgICAgICAgICAgIHN0YXR1czogJ3JlYWR5JwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8g6Ieq5Yqo5LiK5LygCiAgICAgICAgICAgIHVwbG9hZEZpbGVBbmRHZXRJZChzZWxlY3RlZEZpbGVzLnZhbHVlW3NlbGVjdGVkRmlsZXMudmFsdWUubGVuZ3RoIC0gMV0pOwogICAgICAgICAgfTsKICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpOwogICAgICAgICAgc2VsZWN0ZWRGaWxlcy52YWx1ZS5wdXNoKHsKICAgICAgICAgICAgaWQsCiAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLAogICAgICAgICAgICB1cmwsCiAgICAgICAgICAgIHNpemU6IGZvcm1hdFNpemUoZmlsZS5zaXplKSwKICAgICAgICAgICAgZXh0LAogICAgICAgICAgICBsYWJlbDogZ2V0RmlsZUxhYmVsKGZpbGUudHlwZSwgZXh0KSwKICAgICAgICAgICAgYmc6IGdldEZpbGVCZyhleHQpLAogICAgICAgICAgICByYXdGaWxlOiBmaWxlLAogICAgICAgICAgICBwcm9ncmVzczogMCwKICAgICAgICAgICAgc3RhdHVzOiAncmVhZHknCiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIOiHquWKqOS4iuS8oAogICAgICAgICAgdXBsb2FkRmlsZUFuZEdldElkKHNlbGVjdGVkRmlsZXMudmFsdWVbc2VsZWN0ZWRGaWxlcy52YWx1ZS5sZW5ndGggLSAxXSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgICBjb25zdCByZW1vdmVGaWxlID0gaWR4ID0+IHsKICAgICAgc2VsZWN0ZWRGaWxlcy52YWx1ZS5zcGxpY2UoaWR4LCAxKTsKICAgIH07CgogICAgLy8gbWFya2Vk6YWN572u77ya6KGo5qC85bim6L655qGGK+S7o+eggeWdl+e+juWMlivlpI3liLbmjInpkq4KICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpOwogICAgcmVuZGVyZXIudGFibGUgPSBmdW5jdGlvbiAoaGVhZGVyLCBib2R5KSB7CiAgICAgIHJldHVybiBgPHRhYmxlIGNsYXNzPSJvcGVud2VidWktbWQtdGFibGUiPjx0aGVhZD4ke2hlYWRlcn08L3RoZWFkPjx0Ym9keT4ke2JvZHl9PC90Ym9keT48L3RhYmxlPmA7CiAgICB9OwogICAgcmVuZGVyZXIuY29kZSA9IGZ1bmN0aW9uIChjb2RlLCBpbmZvc3RyaW5nLCBlc2NhcGVkKSB7CiAgICAgIGNvbnN0IGNvZGVJZCA9ICdjb2RlLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7CiAgICAgIGxldCBsYW5nID0gKGluZm9zdHJpbmcgfHwgJycpLnNwbGl0KC9ccysvKVswXTsKICAgICAgbGV0IGxhbmdMYWJlbCA9IGxhbmcgPyBsYW5nIDogJ2NvZGUnOwogICAgICBsZXQgbGFuZ0NsYXNzID0gbGFuZyA/IGBsYW5ndWFnZS0ke2xhbmd9YCA6ICcnOwogICAgICByZXR1cm4gYAogICAgICAgIDxkaXYgY2xhc3M9Im9wZW53ZWJ1aS1tZC1jb2RlLWJsb2NrLWJlYXV0eSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJvcGVud2VidWktbWQtY29kZS10b29sYmFyIj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im9wZW53ZWJ1aS1tZC1jb2RlLWxhbmciPiR7bGFuZ0xhYmVsfTwvc3Bhbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ib3BlbndlYnVpLWNvcHktYnRuIiBkYXRhLWNsaXBib2FyZC10YXJnZXQ9IiMke2NvZGVJZH0iIHRpdGxlPSLlpI3liLbku6PnoIEiPuWkjeWItjwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8cHJlIGNsYXNzPSJvcGVud2VidWktbWQtcHJlIj48Y29kZSBpZD0iJHtjb2RlSWR9IiBjbGFzcz0iJHtsYW5nQ2xhc3N9Ij4ke2VzY2FwZWQgPyBjb2RlIDogZXNjYXBlSHRtbChjb2RlKX08L2NvZGU+PC9wcmU+CiAgICAgICAgPC9kaXY+CiAgICAgIGA7CiAgICB9OwogICAgbWFya2VkLnNldE9wdGlvbnMoewogICAgICBicmVha3M6IHRydWUsCiAgICAgIGdmbTogdHJ1ZSwKICAgICAgaGVhZGVySWRzOiBmYWxzZSwKICAgICAgbWFuZ2xlOiBmYWxzZSwKICAgICAgcmVuZGVyZXIKICAgIH0pOwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdCAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW53ZWJ1aS1jb3B5LWJ0bicpKSB7CiAgICAgICAgICBjb25zdCBjb2RlSWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2xpcGJvYXJkLXRhcmdldCcpLnJlcGxhY2UoJyMnLCAnJyk7CiAgICAgICAgICBjb25zdCBjb2RlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvZGVJZCk7CiAgICAgICAgICBpZiAoY29kZUVsZW0pIHsKICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29kZUVsZW0uaW5uZXJUZXh0KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBlLnRhcmdldC5pbm5lclRleHQgPSAn5bey5aSN5Yi2JzsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGUudGFyZ2V0LmlubmVyVGV4dCA9ICflpI3liLYnOwogICAgICAgICAgICAgIH0sIDEyMDApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBpbnB1dCwKICAgICAgbWVzc2FnZXMsCiAgICAgIHNlbmRNc2csCiAgICAgIGNoYXRCb2R5LAogICAgICBmaWxlSW5wdXQsCiAgICAgIHRyaWdnZXJGaWxlSW5wdXQsCiAgICAgIGhhbmRsZUZpbGVVcGxvYWQsCiAgICAgIHNlbGVjdGVkRmlsZXMsCiAgICAgIHJlbW92ZUZpbGUsCiAgICAgIFVwbG9hZEZpbGxlZCwKICAgICAgRG9jdW1lbnQsCiAgICAgIENsb3NlLAogICAgICBDaGVjaywKICAgICAgbG9hZGluZywKICAgICAgcHJvY2Vzc2luZ0ZpbGVzLAogICAgICBjbGVhckNoYXQsCiAgICAgIHNob3dDb250ZXh0QmFyLAogICAgICBjaGF0SWQKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","nextTick","computed","onMounted","UploadFilled","Document","Close","Check","Delete","Connection","request","marked","formatSize","size","toFixed","getExt","name","arr","split","length","toLowerCase","getFileLabel","type","ext","startsWith","includes","toUpperCase","getFileBg","escapeHtml","html","replace","m","components","setup","input","messages","role","content","chatBody","fileInput","selectedFiles","loading","processingFiles","value","some","file","status","chatId","showContextBar","scrollToBottom","scrollTop","scrollHeight","uploadFileAndGetId","formData","FormData","append","rawFile","progress","smoothTimer","lastProgress","uploadFinished","res","url","method","data","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","fakeProgress","setInterval","clearInterval","documentId","id","pollDocumentStatus","error","console","Error","message","interval","min","setTimeout","e","fetchAIStream","onChunk","response","fetch","headers","localStorage","getItem","body","JSON","stringify","headerChatId","get","log","reader","getReader","decoder","TextDecoder","buffer","done","result","read","decode","stream","clearChat","sendMsg","trim","documentIds","push","filesArr","map","label","bg","desc","files","assistantMsgIndex","streaming","filter","userInput","document_ids","undefined","chat_id","parse","triggerFileInput","click","handleFileUpload","target","allowedTypes","Array","from","forEach","alert","Date","now","random","FileReader","onload","ev","readAsDataURL","URL","createObjectURL","removeFile","idx","splice","renderer","Renderer","table","header","code","infostring","escaped","codeId","toString","substr","lang","langLabel","langClass","setOptions","breaks","gfm","headerIds","mangle","document","addEventListener","classList","contains","getAttribute","codeElem","getElementById","navigator","clipboard","writeText","innerText","then"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\dashboard\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"openwebui-chat-root\">\n    <div class=\"openwebui-chat-window\">\n      <div class=\"openwebui-chat-header\">\n        <span class=\"openwebui-title\">Open WebUI AI 对话</span>\n        <el-button type=\"text\" size=\"small\" @click=\"clearChat\" class=\"clear-chat-btn\">\n          <el-icon><Delete /></el-icon> 新对话\n        </el-button>\n      </div>\n      \n      <!-- 上下文状态条 -->\n      <div v-if=\"showContextBar\" class=\"openwebui-context-bar\">\n        <div class=\"context-info\">\n          <el-icon class=\"context-icon\"><Connection /></el-icon>\n          <span>上下文对话模式 (由LangChain提供支持)</span>\n        </div>\n        <el-tag size=\"small\" effect=\"plain\" type=\"info\">ID: {{ chatId }}</el-tag>\n      </div>\n      \n      <div class=\"openwebui-chat-body\" ref=\"chatBody\">\n        <div v-for=\"(msg, idx) in messages\" :key=\"idx\" :class=\"['openwebui-msg', msg.role]\">\n          <template v-if=\"msg.role==='assistant'\">\n            <div class=\"openwebui-avatar ai-avatar left-avatar\">\n              <svg viewBox=\"0 0 40 40\" width=\"36\" height=\"36\"><circle cx=\"20\" cy=\"20\" r=\"20\" fill=\"#2f54eb\"/><text x=\"50%\" y=\"55%\" text-anchor=\"middle\" fill=\"#fff\" font-size=\"20\" font-family=\"Arial\" dy=\".3em\">🤖</text></svg>\n            </div>\n          </template>\n          <template v-if=\"msg.role==='user'\">\n            <div class=\"openwebui-avatar user-avatar right-avatar\">\n              <svg viewBox=\"0 0 40 40\" width=\"36\" height=\"36\"><circle cx=\"20\" cy=\"20\" r=\"20\" fill=\"#bbb\"/><text x=\"50%\" y=\"55%\" text-anchor=\"middle\" fill=\"#fff\" font-size=\"20\" font-family=\"Arial\" dy=\".3em\">🧑</text></svg>\n            </div>\n          </template>\n          <div class=\"openwebui-msg-bubble\">\n            <template v-if=\"msg.type === 'text'\">\n              <span v-if=\"msg.role==='user'\">{{ msg.content }}</span>\n              <span v-else v-html=\"msg.content\"></span>\n              <span v-if=\"msg.streaming\" class=\"openwebui-cursor\"></span>\n            </template>\n            <template v-else-if=\"msg.type === 'file'\">\n              <div class=\"file-bubble-nest file-bubble-vertical\">\n                <div v-for=\"file in msg.files\" :key=\"file.name + file.size\" class=\"file-message-card\">\n                  <div class=\"file-icon-area\">\n                    <img v-if=\"file.ext==='csv'\" src=\"https://cdn.jsdelivr.net/gh/file-icons/icons/svg/csv.svg\" class=\"file-icon-img\" />\n                    <el-icon v-else><Document /></el-icon>\n                  </div>\n                  <div class=\"file-info-area\">\n                    <div class=\"file-name\">{{ file.name }}</div>\n                    <div class=\"file-meta\">{{ file.ext.toUpperCase() }} · {{ file.size }}</div>\n                  </div>\n                </div>\n                <div class=\"file-desc-text\" v-if=\"msg.content\">{{ msg.content }}</div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n      <div class=\"openwebui-chat-footer\">\n        <!-- 预览区放在footer顶部 -->\n        <div v-if=\"selectedFiles.length\" class=\"openwebui-file-preview-bar\">\n          <div v-for=\"(file, idx) in selectedFiles\" :key=\"file.id\" class=\"openwebui-file-card\">\n            <div class=\"openwebui-file-thumb\">\n              <img v-if=\"file.type.startsWith('image/')\" :src=\"file.url\" class=\"openwebui-file-img\" />\n              <div v-else class=\"openwebui-file-icon\" :style=\"{background: file.bg}\">\n                <el-icon v-if=\"file.ext==='pdf'\"><Document /></el-icon>\n                <el-icon v-else-if=\"file.ext==='csv' || file.ext==='xls' || file.ext==='xlsx'\"><Document /></el-icon>\n                <el-icon v-else><Document /></el-icon>\n              </div>\n            </div>\n            <div class=\"openwebui-file-info\">\n              <div class=\"openwebui-file-name\" :title=\"file.name\">{{ file.name }}</div>\n              <div class=\"openwebui-file-meta\">{{ file.label }} · {{ file.size }}</div>\n              <!-- 添加进度条显示 -->\n              <el-progress \n                v-if=\"file.status !== 'completed'\" \n                :percentage=\"file.progress\" \n                :status=\"file.status === 'failed' ? 'exception' : ''\" \n                :stroke-width=\"4\"\n                class=\"openwebui-file-progress\" />\n              <div v-else class=\"openwebui-file-status completed\">\n                <el-icon><Check /></el-icon> 处理完成\n              </div>\n            </div>\n            <el-icon class=\"openwebui-file-remove\" @click=\"removeFile(idx)\"><Close /></el-icon>\n          </div>\n        </div>\n        <!-- 输入区 -->\n        <div class=\"openwebui-input-area\">\n          <input type=\"file\" ref=\"fileInput\" style=\"display:none\" @change=\"handleFileUpload\" multiple />\n          <el-button class=\"openwebui-upload-btn\" @click=\"triggerFileInput\" title=\"上传文件/图片\" :disabled=\"loading\">\n            <el-icon><UploadFilled /></el-icon>\n          </el-button>\n          <el-input\n            v-model=\"input\"\n            placeholder=\"请输入您的问题...\"\n            @keyup.enter=\"sendMsg\"\n            class=\"openwebui-input\"\n            :disabled=\"loading || processingFiles\"\n          />\n          <el-button type=\"primary\" @click=\"sendMsg\" class=\"openwebui-send-btn\" :loading=\"loading\" :disabled=\"processingFiles\">\n            {{ loading ? '生成中' : (processingFiles ? '处理中' : '发送') }}\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, nextTick, computed, onMounted } from 'vue'\nimport { UploadFilled, Document, Close, Check, Delete, Connection } from '@element-plus/icons-vue'\nimport request from '@/utils/request'\nimport { marked } from 'marked'\n\nfunction formatSize(size) {\n  if (size < 1024) return size + 'B';\n  if (size < 1024*1024) return (size/1024).toFixed(1) + 'KB';\n  return (size/1024/1024).toFixed(1) + 'MB';\n}\nfunction getExt(name) {\n  const arr = name.split('.');\n  return arr.length > 1 ? arr[arr.length-1].toLowerCase() : '';\n}\nfunction getFileLabel(type, ext) {\n  if (type.startsWith('image/')) return 'Image';\n  if (ext==='pdf') return 'PDF';\n  if (['csv','xls','xlsx'].includes(ext)) return 'CSV';\n  return ext.toUpperCase();\n}\nfunction getFileBg(ext) {\n  if (ext==='pdf') return '#f87171';\n  if (['csv','xls','xlsx'].includes(ext)) return '#34d399';\n  return '#a5b4fc';\n}\nfunction escapeHtml(html) {\n  return html.replace(/[&<>\"']/g, function(m) {\n    return ({\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    })[m];\n  });\n}\nexport default {\n  name: 'Dashboard',\n  components: { UploadFilled, Document, Close, Check, Delete, Connection },\n  setup() {\n    const input = ref('')\n    const messages = ref([\n      { role: 'assistant', content: '您好，我是您的AI助手，有什么可以帮您？', type: 'text' }\n    ])\n    const chatBody = ref(null)\n    const fileInput = ref(null)\n    const selectedFiles = ref([])\n    const loading = ref(false)\n    const processingFiles = computed(() => {\n      return selectedFiles.value.some(file => file.status !== 'completed' && file.status !== 'failed');\n    })\n    const chatId = ref(null) // 存储当前聊天ID，用于维持对话上下文\n    const showContextBar = computed(() => chatId.value !== null)\n    \n    const scrollToBottom = () => {\n      nextTick(() => {\n        if (chatBody.value) chatBody.value.scrollTop = chatBody.value.scrollHeight\n      })\n    }\n    \n    const uploadFileAndGetId = async (file) => {\n      const formData = new FormData()\n      formData.append('file', file.rawFile)\n      try {\n        // 标记文件为上传中\n        file.progress = 0;\n        file.status = 'pending';\n        let smoothTimer = null;\n        let lastProgress = 0;\n        let uploadFinished = false;\n        const res = await request({\n          url: '/api/ai/documents/upload/',\n          method: 'post',\n          data: formData,\n          onUploadProgress: (progressEvent) => {\n            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n            if (percentCompleted < 100) {\n              file.progress = percentCompleted;\n              lastProgress = percentCompleted;\n            } else {\n              // 上传瞬间完成，平滑递增到95%\n              if (!uploadFinished) {\n                uploadFinished = true;\n                let fakeProgress = lastProgress;\n                smoothTimer = setInterval(() => {\n                  fakeProgress += 3;\n                  if (fakeProgress >= 95) {\n                    fakeProgress = 95;\n                    clearInterval(smoothTimer);\n                  }\n                  file.progress = fakeProgress;\n                }, 20);\n              }\n            }\n          }\n        })\n        // 上传完成后，状态改为处理中，不重置进度条\n        if (smoothTimer) clearInterval(smoothTimer);\n        if (file.progress < 95) file.progress = 95;\n        file.status = 'processing';\n        file.documentId = res.data.id;\n        pollDocumentStatus(file);\n        return res.data.id;\n      } catch (error) {\n        file.status = 'failed';\n        console.error('文件上传失败:', error);\n        throw new Error(`上传文件 ${file.name} 失败: ${error.message || '服务器错误'}`);\n      }\n    }\n    \n    // 轮询文档处理状态\n    const pollDocumentStatus = async (file, interval = 1000) => {\n      if (!file.documentId) return;\n      \n      try {\n        const res = await request({\n          url: `/api/ai/documents/${file.documentId}/`,\n          method: 'get'\n        });\n        \n        if (res.data.status === 'completed') {\n          file.progress = 100;\n          file.status = 'completed';\n          return;\n        } else if (res.data.status === 'failed') {\n          file.status = 'failed';\n          file.progress = 0;\n          return;\n        } else if (res.data.status === 'processing') {\n          // 处理中，增加进度（仅在小于95时递增）\n          if (file.progress < 95) {\n            file.progress = Math.min(file.progress + 5, 95);\n          }\n        }\n        \n        // 继续轮询\n        setTimeout(() => pollDocumentStatus(file, interval), interval);\n      } catch (e) {\n        // 出错时，继续轮询，但不更新进度\n        setTimeout(() => pollDocumentStatus(file, interval), interval);\n      }\n    }\n    \n    // 新增：流式fetch AI回复\n    async function fetchAIStream(data, onChunk) {\n      const response = await fetch('/api/ai/chat-with-documents/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token') ? `Bearer ${localStorage.getItem('token')}` : ''\n        },\n        body: JSON.stringify(data)\n      });\n      \n      // 检查响应头中的聊天ID\n      const headerChatId = response.headers.get('X-Chat-ID');\n      if (headerChatId) {\n        console.log('从响应头获取聊天ID:', headerChatId);\n        chatId.value = headerChatId;\n      }\n      \n      const reader = response.body.getReader();\n      let decoder = new TextDecoder();\n      let buffer = '';\n      let done = false;\n      while (!done) {\n        const result = await reader.read();\n        done = result.done;\n        if (done) break;\n        buffer += decoder.decode(result.value, { stream: true });\n        onChunk(buffer);\n      }\n    }\n    \n    const clearChat = () => {\n      // 清空对话历史，开始新的对话\n      chatId.value = null;\n      messages.value = [\n        { role: 'assistant', content: '您好，我是您的AI助手，有什么可以帮您？', type: 'text' }\n      ];\n      // 清空选择的文件\n      selectedFiles.value = [];\n    }\n    \n    const sendMsg = async () => {\n      if ((!input.value.trim() && !selectedFiles.value.length) || loading.value || processingFiles.value) return\n      \n      loading.value = true\n      let documentIds = []\n      \n      // 如果没有输入文本但有选择文件，先添加占位消息\n      if (!input.value.trim() && selectedFiles.value.length) {\n        messages.value.push({ role: 'user', content: '我上传了一些文件，请分析其中内容。', type: 'text' })\n      }\n      \n      // 添加文件与文本嵌套消息\n      if (selectedFiles.value.length > 0) {\n        // 合并所有文件信息\n        const filesArr = selectedFiles.value.map(file => ({\n          url: file.url,\n          name: file.name,\n          ext: file.ext,\n          size: file.size,\n          label: file.label,\n          bg: file.bg,\n          desc: file.desc\n        }))\n        messages.value.push({\n          role: 'user',\n          type: 'file',\n          files: filesArr,\n          content: input.value.trim() || '',\n        })\n      } else if (input.value.trim()) {\n        // 仅文本\n        messages.value.push({ role: 'user', content: input.value, type: 'text' })\n      }\n      \n      // 滚动到底部显示用户消息\n      scrollToBottom()\n      \n      // 创建AI回复的占位消息\n      const assistantMsgIndex = messages.value.length\n      messages.value.push({ \n        role: 'assistant', \n        content: '', \n        type: 'text', \n        streaming: true \n      })\n      \n      try {\n        // 获取所有处理完成文件的文档ID\n        documentIds = selectedFiles.value\n          .filter(file => file.status === 'completed')\n          .map(file => file.documentId)\n        \n        console.log('已处理完成的文档IDs:', documentIds)\n        \n        // 调用后端AI聊天API（流式）\n        const userInput = input.value.trim()\n        await fetchAIStream({\n          message: userInput || '请分析我上传的文件',\n          document_ids: documentIds.length > 0 ? documentIds : undefined,\n          chat_id: chatId.value // 传递聊天ID以维持上下文\n        }, (buffer) => {\n          messages.value[assistantMsgIndex].content = marked.parse(buffer)\n          scrollToBottom()\n        })\n        \n        messages.value[assistantMsgIndex].streaming = false\n        \n        // 现在chatId已经在fetchAIStream中更新，这里直接判断\n        if (chatId.value) {\n          console.log('对话ID:', chatId.value);\n        }\n        \n        loading.value = false\n        scrollToBottom()\n        \n      } catch (e) {\n        console.error('AI聊天请求错误:', e)\n        messages.value[assistantMsgIndex].content = `AI服务暂不可用: ${e.message || '未知错误'}`\n        messages.value[assistantMsgIndex].streaming = false\n        loading.value = false\n        scrollToBottom()\n      }\n      \n      input.value = ''\n      // 发送后不清空文件列表，但把已处理失败的文件清除\n      selectedFiles.value = selectedFiles.value.filter(file => file.status !== 'failed')\n    }\n    \n    const triggerFileInput = () => {\n      if (fileInput.value) fileInput.value.value = '';\n      fileInput.value && fileInput.value.click()\n    }\n    \n    const handleFileUpload = (e) => {\n      const files = e.target.files\n      if (!files || !files.length) return\n      // 新增：前端校验支持的文件类型\n      const allowedTypes = [\n        'application/pdf', 'text/plain',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'text/csv', 'application/csv',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        'application/vnd.ms-excel',\n        'image/jpeg', 'image/png', 'image/bmp', 'image/gif', 'image/webp'\n      ];\n      Array.from(files).forEach(file => {\n        if (!allowedTypes.includes(file.type)) {\n          alert('不支持的文件类型: ' + file.name)\n          return\n        }\n        const ext = getExt(file.name)\n        const id = file.name + '_' + file.size + '_' + Date.now() + Math.random()\n        if (file.type.startsWith('image/')) {\n          const reader = new FileReader()\n          reader.onload = (ev) => {\n            selectedFiles.value.push({\n              id,\n              name: file.name,\n              type: file.type,\n              url: ev.target.result,\n              size: formatSize(file.size),\n              ext,\n              label: getFileLabel(file.type, ext),\n              bg: getFileBg(ext),\n              rawFile: file,\n              progress: 0,\n              status: 'ready'\n            })\n            // 自动上传\n            uploadFileAndGetId(selectedFiles.value[selectedFiles.value.length - 1])\n          }\n          reader.readAsDataURL(file)\n        } else {\n          const url = URL.createObjectURL(file)\n          selectedFiles.value.push({\n            id,\n            name: file.name,\n            type: file.type,\n            url,\n            size: formatSize(file.size),\n            ext,\n            label: getFileLabel(file.type, ext),\n            bg: getFileBg(ext),\n            rawFile: file,\n            progress: 0,\n            status: 'ready'\n          })\n          // 自动上传\n          uploadFileAndGetId(selectedFiles.value[selectedFiles.value.length - 1])\n        }\n      })\n    }\n    \n    const removeFile = (idx) => {\n      selectedFiles.value.splice(idx, 1)\n    }\n\n    // marked配置：表格带边框+代码块美化+复制按钮\n    const renderer = new marked.Renderer();\n    renderer.table = function(header, body) {\n      return `<table class=\"openwebui-md-table\"><thead>${header}</thead><tbody>${body}</tbody></table>`;\n    };\n    renderer.code = function(code, infostring, escaped) {\n      const codeId = 'code-' + Math.random().toString(36).substr(2, 9);\n      let lang = (infostring || '').split(/\\s+/)[0];\n      let langLabel = lang ? lang : 'code';\n      let langClass = lang ? `language-${lang}` : '';\n      return `\n        <div class=\"openwebui-md-code-block-beauty\">\n          <div class=\"openwebui-md-code-toolbar\">\n            <span class=\"openwebui-md-code-lang\">${langLabel}</span>\n            <button class=\"openwebui-copy-btn\" data-clipboard-target=\"#${codeId}\" title=\"复制代码\">复制</button>\n          </div>\n          <pre class=\"openwebui-md-pre\"><code id=\"${codeId}\" class=\"${langClass}\">${escaped ? code : escapeHtml(code)}</code></pre>\n        </div>\n      `;\n    };\n    marked.setOptions({\n      breaks: true,\n      gfm: true,\n      headerIds: false,\n      mangle: false,\n      renderer\n    })\n\n    onMounted(() => {\n      document.body.addEventListener('click', function(e) {\n        if (e.target.classList && e.target.classList.contains('openwebui-copy-btn')) {\n          const codeId = e.target.getAttribute('data-clipboard-target').replace('#', '');\n          const codeElem = document.getElementById(codeId);\n          if (codeElem) {\n            navigator.clipboard.writeText(codeElem.innerText).then(() => {\n              e.target.innerText = '已复制';\n              setTimeout(() => { e.target.innerText = '复制'; }, 1200);\n            });\n          }\n        }\n      });\n    });\n\n    return {\n      input, \n      messages, \n      sendMsg, \n      chatBody, \n      fileInput, \n      triggerFileInput, \n      handleFileUpload, \n      selectedFiles, \n      removeFile, \n      UploadFilled, \n      Document, \n      Close, \n      Check,\n      loading, \n      processingFiles,\n      clearChat,\n      showContextBar,\n      chatId\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nhtml, body {\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n.openwebui-chat-root {\n  width: 100%;\n  height: 100%;\n  min-height: 0;\n  min-width: 0;\n  background: var(--bg-color);\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n.openwebui-chat-window {\n  width: 100%;\n  height: 100%;\n  min-height: 0;\n  background: var(--bg-color);\n  border-radius: 0;\n  box-shadow: none;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  margin: 0;\n}\n.openwebui-chat-header {\n  height: 56px;\n  background: var(--bg-color-secondary);\n  display: flex;\n  align-items: center;\n  padding: 0 24px;\n  font-size: 18px;\n  font-weight: 600;\n  border-bottom: 1px solid var(--border-color);\n  flex-shrink: 0;\n  justify-content: space-between;\n  color: var(--text-color);\n}\n.openwebui-title {\n  color: var(--primary-color);\n}\n.clear-chat-btn {\n  color: var(--text-color-secondary);\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 14px;\n  font-weight: normal;\n}\n.clear-chat-btn:hover {\n  color: var(--primary-color);\n}\n.openwebui-file-preview-bar {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 12px 0 8px 0;\n  background: transparent;\n  border-bottom: none;\n  overflow-x: auto;\n  min-height: 64px;\n  z-index: 3;\n}\n.openwebui-file-card {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background: var(--bg-color-secondary);\n  border-radius: 14px;\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.04);\n  padding: 8px 16px 8px 8px;\n  min-width: 160px;\n  max-width: 240px;\n  position: relative;\n  color: var(--text-color);\n}\n.openwebui-file-thumb {\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  background: var(--bg-color-tertiary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  margin-right: 10px;\n}\n.openwebui-file-img {\n  width: 40px;\n  height: 40px;\n  object-fit: cover;\n  border-radius: 8px;\n}\n.openwebui-file-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 22px;\n}\n.openwebui-file-info {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.openwebui-file-name {\n  font-size: 14px;\n  color: var(--text-color);\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 120px;\n}\n.openwebui-file-meta {\n  font-size: 12px;\n  color: var(--text-color-secondary);\n  margin-top: 2px;\n}\n.openwebui-file-progress {\n  margin-top: 4px;\n  width: 100%;\n}\n.openwebui-file-status.completed {\n  color: var(--success-color);\n}\n.openwebui-file-remove {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  color: var(--text-color-tertiary);\n  font-size: 16px;\n  cursor: pointer;\n  transition: color 0.2s;\n}\n.openwebui-file-remove:hover {\n  color: var(--error-color);\n}\n.openwebui-chat-body {\n  flex: 1 1 0%;\n  overflow-y: auto;\n  padding: 0 16px 12px 16px;\n  background: var(--bg-color);\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  max-height: calc(100vh - 200px);\n  height: calc(100vh - 200px);\n  flex-shrink: 1;\n  scrollbar-width: thin;\n}\n.openwebui-msg {\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 16px;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n.openwebui-msg.user {\n  flex-direction: row-reverse;\n  justify-content: flex-end;\n  align-items: flex-end;\n  margin-left: auto;\n  margin-right: 0;\n}\n.openwebui-msg.assistant {\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-end;\n  margin-right: auto;\n  margin-left: 0;\n}\n.openwebui-msg-bubble {\n  max-width: 70%;\n  padding: 12px 18px;\n  border-radius: 16px;\n  font-size: 15px;\n  line-height: 1.7;\n  background: var(--bg-color-secondary);\n  color: var(--text-color);\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.04);\n  position: relative;\n  word-break: break-all;\n  overflow-wrap: break-word;\n  margin-top: 4px;\n  margin-bottom: 0;\n  margin-left: 0;\n  margin-right: 0;\n}\n.openwebui-msg.user .openwebui-msg-bubble {\n  background: var(--primary-color);\n  color: #fff;\n  border-bottom-right-radius: 4px;\n  margin-right: 8px;\n  margin-left: auto;\n}\n.openwebui-msg.assistant .openwebui-msg-bubble {\n  background: var(--bg-color-secondary);\n  color: var(--text-color);\n  border-bottom-left-radius: 4px;\n  margin-left: 8px;\n  margin-right: auto;\n}\n.openwebui-avatar {\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  margin-bottom: auto;\n}\n.left-avatar {\n  margin-right: 8px;\n}\n.right-avatar {\n  margin-left: 8px;\n}\n.openwebui-user-label {\n  font-weight: bold;\n  margin-right: 4px;\n}\n.openwebui-ai-label {\n  font-weight: bold;\n  color: #2f54eb;\n  margin-right: 4px;\n}\n.openwebui-chat-footer {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding: 0 16px 12px 16px;\n  background: var(--bg-color);\n  border-top: 1px solid var(--border-color);\n  margin: 0;\n  flex-shrink: 0;\n  box-shadow: 0 -2px 16px 0 rgba(var(--primary-color-rgb),0.03);\n  z-index: 2;\n}\n.openwebui-input-area {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n.openwebui-input {\n  flex: 1;\n  margin-right: 12px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n.openwebui-send-btn {\n  min-width: 72px;\n  height: 40px;\n  font-size: 16px;\n  font-weight: 500;\n  border-radius: 8px;\n}\n.openwebui-upload-btn {\n  margin-right: 8px;\n  font-size: 20px;\n  background: var(--bg-color-tertiary);\n  border: 1px solid var(--border-color);\n  color: var(--primary-color);\n  cursor: pointer;\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: border 0.2s, box-shadow 0.2s;\n}\n.openwebui-upload-btn:hover {\n  border: 1.5px solid var(--primary-color);\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.08);\n}\n.openwebui-img-preview {\n  max-width: 180px;\n  max-height: 120px;\n  border-radius: 8px;\n  display: block;\n  margin: 4px 0;\n  box-shadow: 0 2px 8px rgba(47,84,235,0.08);\n}\n.openwebui-file-link {\n  color: var(--primary-color);\n  text-decoration: underline;\n  word-break: break-all;\n}\n.openwebui-cursor {\n  display: inline-block;\n  width: 8px;\n  height: 16px;\n  background: var(--primary-color);\n  margin-left: 2px;\n  vertical-align: middle;\n  animation: blink 0.8s infinite;\n}\n\n@keyframes blink {\n  0% { opacity: 1; }\n  50% { opacity: 0; }\n  100% { opacity: 1; }\n}\n\n.file-bubble-nest {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n.file-bubble-vertical {\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n.file-message-card {\n  display: flex;\n  align-items: center;\n  background: var(--bg-color-secondary);\n  border-radius: 12px;\n  padding: 8px 16px;\n  margin-bottom: 0;\n  min-width: 180px;\n  max-width: 320px;\n  box-shadow: 0 2px 8px rgba(var(--primary-color-rgb),0.04);\n  color: var(--text-color);\n}\n.file-icon-area {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n}\n.file-icon-img {\n  width: 32px;\n  height: 32px;\n}\n.file-info-area {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.file-name {\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--text-color);\n  margin-bottom: 2px;\n  word-break: break-all;\n}\n.file-meta {\n  font-size: 12px;\n  color: var(--text-color-secondary);\n}\n.file-desc-text {\n  margin-top: 8px;\n  font-size: 15px;\n  color: var(--text-color);\n  background: transparent;\n  border-radius: 8px;\n  padding: 0 2px;\n  display: inline-block;\n  word-break: break-all;\n}\n.openwebui-context-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 24px;\n  background-color: var(--bg-color-tertiary);\n  border-bottom: 1px solid var(--border-color);\n  font-size: 14px;\n  color: var(--text-color-secondary);\n}\n.context-info {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n.context-icon {\n  color: var(--primary-color);\n  font-size: 16px;\n}\n</style>\n\n<style>\n.openwebui-md-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin: 8px 0;\n  background: var(--bg-color-secondary);\n  font-size: 15px;\n}\n.openwebui-md-table th, .openwebui-md-table td {\n  border: 1px solid var(--border-color);\n  padding: 6px 12px;\n  text-align: left;\n  color: var(--text-color);\n  background: var(--bg-color-secondary);\n}\n.openwebui-md-table th {\n  background: var(--bg-color-tertiary);\n  font-weight: 600;\n  color: var(--text-color-secondary);\n}\n/* 代码块美化和复制按钮 */\n.openwebui-md-code-block-beauty {\n  position: relative;\n  background: var(--bg-color-tertiary);\n  border-radius: 12px;\n  margin: 18px 0;\n  box-shadow: 0 4px 16px var(--shadow-color);\n  overflow: hidden;\n  border: 1px solid var(--border-color);\n}\n.openwebui-md-code-toolbar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: var(--bg-color-secondary);\n  border-bottom: 1px solid var(--border-color);\n  height: 36px;\n  padding: 0 14px;\n}\n.openwebui-md-code-lang {\n  font-size: 13px;\n  color: var(--text-color-tertiary);\n  font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', monospace;\n  user-select: none;\n}\n.openwebui-copy-btn {\n  background: var(--bg-color-tertiary);\n  border: 1px solid var(--border-color);\n  color: var(--primary-color);\n  border-radius: 6px;\n  font-size: 13px;\n  padding: 2px 12px;\n  cursor: pointer;\n  z-index: 2;\n  transition: background 0.2s, border 0.2s, color 0.2s;\n  outline: none;\n  margin-left: 8px;\n}\n.openwebui-copy-btn:hover {\n  background: var(--primary-color);\n  color: #fff;\n  border: 1px solid var(--primary-color);\n}\n.openwebui-md-pre {\n  margin: 0;\n  padding: 16px 18px;\n  background: var(--bg-color-tertiary);\n  border-radius: 0 0 12px 12px;\n  overflow-x: auto;\n  font-family: 'JetBrains Mono', 'Fira Mono', 'Consolas', monospace;\n  font-size: 15px;\n  line-height: 1.7;\n  color: var(--text-color);\n  min-height: 40px;\n}\n@media (max-width: 600px) {\n  .openwebui-md-pre {\n    font-size: 13px;\n    padding: 12px 6px;\n  }\n  .openwebui-md-code-block-beauty {\n    margin: 12px 0;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]}]}