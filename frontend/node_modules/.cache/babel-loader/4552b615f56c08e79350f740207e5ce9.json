{"remainingRequest":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\calendar\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\calendar\\Index.vue","mtime":1746845046512},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0IHsgcmVmLCBjb21wdXRlZCwgb25Nb3VudGVkLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IEVsTWVzc2FnZSwgRWxNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKaW1wb3J0IHsgQXJyb3dMZWZ0LCBBcnJvd1JpZ2h0LCBQbHVzIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwppbXBvcnQgeyBnZXRNb250aGx5RXZlbnRzLCBnZXRXZWVrbHlFdmVudHMsIGdldERhaWx5RXZlbnRzLCBjcmVhdGVFdmVudCwgdXBkYXRlRXZlbnQsIGRlbGV0ZUV2ZW50IGFzIGRlbGV0ZUNhbGVuZGFyRXZlbnQgfSBmcm9tICdAL2FwaS9jYWxlbmRhcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FsZW5kYXInLAogIHNldHVwKCkgewogICAgLy8g5pel5Y6G6KeG5Zu+57G75Z6L77ya5pyIL+WRqC/ml6UKICAgIGNvbnN0IGNhbGVuZGFyVmlldyA9IHJlZignbW9udGgnKTsKCiAgICAvLyDlvZPliY3ml6XmnJ8KICAgIGNvbnN0IGN1cnJlbnREYXRlID0gcmVmKG5ldyBEYXRlKCkpOwoKICAgIC8vIOS6i+S7tuaVsOaNrgogICAgY29uc3QgZXZlbnRzID0gcmVmKFtdKTsKCiAgICAvLyDmoLzlvI/ljJblvZPliY3ml6XmnJ/moIfnrb4KICAgIGNvbnN0IGN1cnJlbnREYXRlTGFiZWwgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgeWVhcjogJ251bWVyaWMnLAogICAgICAgIG1vbnRoOiAnbG9uZycKICAgICAgfTsKICAgICAgaWYgKGNhbGVuZGFyVmlldy52YWx1ZSA9PT0gJ3dlZWsnKSB7CiAgICAgICAgcmV0dXJuIGAke2N1cnJlbnREYXRlLnZhbHVlLmdldEZ1bGxZZWFyKCl95bm0JHtjdXJyZW50RGF0ZS52YWx1ZS5nZXRNb250aCgpICsgMX3mnIjnrKwke01hdGguY2VpbCgoY3VycmVudERhdGUudmFsdWUuZ2V0RGF0ZSgpICsgZ2V0Rmlyc3REYXlPZk1vbnRoKGN1cnJlbnREYXRlLnZhbHVlKS5nZXREYXkoKSkgLyA3KX3lkahgOwogICAgICB9IGVsc2UgaWYgKGNhbGVuZGFyVmlldy52YWx1ZSA9PT0gJ2RheScpIHsKICAgICAgICByZXR1cm4gY3VycmVudERhdGUudmFsdWUudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicsIHsKICAgICAgICAgIHllYXI6ICdudW1lcmljJywKICAgICAgICAgIG1vbnRoOiAnbG9uZycsCiAgICAgICAgICBkYXk6ICdudW1lcmljJwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBjdXJyZW50RGF0ZS52YWx1ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywgb3B0aW9ucyk7CiAgICB9KTsKCiAgICAvLyDmmJ/mnJ/mlbDnu4QKICAgIGNvbnN0IHdlZWtEYXlzID0gcmVmKFsn5pelJywgJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJ10pOwoKICAgIC8vIOWvueivneahhueKtuaAgQogICAgY29uc3QgYWRkRXZlbnREaWFsb2dWaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGV2ZW50RGV0YWlsc0RpYWxvZ1Zpc2libGUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZWRpdEV2ZW50RGlhbG9nVmlzaWJsZSA9IHJlZihmYWxzZSk7CgogICAgLy8g5paw5bu65pel56iLCiAgICBjb25zdCBuZXdFdmVudCA9IHJlZih7CiAgICAgIHRpdGxlOiAnJywKICAgICAgc3RhcnQ6ICcnLAogICAgICBlbmQ6ICcnLAogICAgICBsb2NhdGlvbjogJycsCiAgICAgIHR5cGU6ICdibHVlJywKICAgICAgcmVtaW5kZXI6ICczMG1pbicsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgaXNfYWxsX2RheTogZmFsc2UKICAgIH0pOwoKICAgIC8vIOmAieS4reeahOaXpeeoiwogICAgY29uc3Qgc2VsZWN0ZWRFdmVudCA9IHJlZih7fSk7CgogICAgLy8g5q2j5Zyo57yW6L6R55qE5pel56iLCiAgICBjb25zdCBlZGl0aW5nRXZlbnQgPSByZWYoewogICAgICBpZDogJycsCiAgICAgIHRpdGxlOiAnJywKICAgICAgc3RhcnQ6ICcnLAogICAgICBlbmQ6ICcnLAogICAgICBsb2NhdGlvbjogJycsCiAgICAgIHR5cGU6ICdibHVlJywKICAgICAgcmVtaW5kZXI6ICczMG1pbicsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgaXNfYWxsX2RheTogZmFsc2UKICAgIH0pOwoKICAgIC8vIOeUn+aIkOaciOinhuWbvueahOaXpeacn+aVsOaNrgogICAgY29uc3QgZGF5cyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3QgcmVzdWx0ID0gW107CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKCiAgICAgIC8vIOiOt+WPluW9k+aciOesrOS4gOWkqeaYr+aYn+acn+WHoAogICAgICBjb25zdCBmaXJzdERheSA9IGdldEZpcnN0RGF5T2ZNb250aChjdXJyZW50RGF0ZS52YWx1ZSkuZ2V0RGF5KCk7CgogICAgICAvLyDojrflj5blvZPmnIjlpKnmlbAKICAgICAgY29uc3QgZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aChjdXJyZW50RGF0ZS52YWx1ZSk7CgogICAgICAvLyDojrflj5bkuIrkuKrmnIjlpKnmlbAKICAgICAgY29uc3QgZGF5c0luTGFzdE1vbnRoID0gZ2V0RGF5c0luTW9udGgobmV3IERhdGUoY3VycmVudERhdGUudmFsdWUuZ2V0RnVsbFllYXIoKSwgY3VycmVudERhdGUudmFsdWUuZ2V0TW9udGgoKSAtIDEpKTsKCiAgICAgIC8vIOa3u+WKoOS4iuS4quaciOeahOaXpeacnwogICAgICBmb3IgKGxldCBpID0gZmlyc3REYXkgLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIGNvbnN0IGRheSA9IGRheXNJbkxhc3RNb250aCAtIGk7CiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLnZhbHVlLmdldEZ1bGxZZWFyKCksIGN1cnJlbnREYXRlLnZhbHVlLmdldE1vbnRoKCkgLSAxLCBkYXkpOwogICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgIGRhdGU6IGRheSwKICAgICAgICAgIGlzQ3VycmVudE1vbnRoOiBmYWxzZSwKICAgICAgICAgIGlzVG9kYXk6IGlzU2FtZURheShkYXRlLCB0b2RheSksCiAgICAgICAgICBldmVudHM6IGdldERheUV2ZW50cyhkYXRlKQogICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyDmt7vliqDlvZPmnIjnmoTml6XmnJ8KICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZGF5c0luTW9udGg7IGkrKykgewogICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS52YWx1ZS5nZXRGdWxsWWVhcigpLCBjdXJyZW50RGF0ZS52YWx1ZS5nZXRNb250aCgpLCBpKTsKICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICBkYXRlOiBpLAogICAgICAgICAgaXNDdXJyZW50TW9udGg6IHRydWUsCiAgICAgICAgICBpc1RvZGF5OiBpc1NhbWVEYXkoZGF0ZSwgdG9kYXkpLAogICAgICAgICAgZXZlbnRzOiBnZXREYXlFdmVudHMoZGF0ZSkKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8g5re75Yqg5LiL5Liq5pyI55qE5pel5pyf77yM6KGl5ruhNDLkuKrmoLzlrZDvvIg26KGMN+WIl++8iQogICAgICBjb25zdCByZW1haW5pbmcgPSA0MiAtIHJlc3VsdC5sZW5ndGg7CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHJlbWFpbmluZzsgaSsrKSB7CiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLnZhbHVlLmdldEZ1bGxZZWFyKCksIGN1cnJlbnREYXRlLnZhbHVlLmdldE1vbnRoKCkgKyAxLCBpKTsKICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICBkYXRlOiBpLAogICAgICAgICAgaXNDdXJyZW50TW9udGg6IGZhbHNlLAogICAgICAgICAgaXNUb2RheTogaXNTYW1lRGF5KGRhdGUsIHRvZGF5KSwKICAgICAgICAgIGV2ZW50czogZ2V0RGF5RXZlbnRzKGRhdGUpCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwoKICAgIC8vIOWRqOinhuWbvuaVsOaNrgogICAgY29uc3Qgd2Vla0RhdGVzID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBjb25zdCByZXN1bHQgPSBbXTsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLnZhbHVlKTsKICAgICAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXkoKTsKCiAgICAgIC8vIOiuvue9ruWIsOacrOWRqOeahOWRqOaXpQogICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBkYXkpOwoKICAgICAgLy8g55Sf5oiQ5LiA5ZGo55qE5pel5pyfCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7CiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTsKICAgICAgICBjdXJyZW50RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgaSk7CiAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgZGF0ZTogY3VycmVudERhdGUuZ2V0RGF0ZSgpLAogICAgICAgICAgZGF5TmFtZTogd2Vla0RheXMudmFsdWVbaV0sCiAgICAgICAgICBpc1RvZGF5OiBpc1NhbWVEYXkoY3VycmVudERhdGUsIG5ldyBEYXRlKCkpLAogICAgICAgICAgZnVsbERhdGU6IGN1cnJlbnREYXRlLAogICAgICAgICAgZXZlbnRzOiBnZXREYXlFdmVudHMoY3VycmVudERhdGUpCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwoKICAgIC8vIOaXpeinhuWbvuS6i+S7tgogICAgY29uc3QgZGF5RXZlbnRzID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gZ2V0RGF5RXZlbnRzKGN1cnJlbnREYXRlLnZhbHVlKTsKICAgIH0pOwoKICAgIC8vIOWKoOi9veaciOinhuWbvuaVsOaNrgogICAgY29uc3QgbG9hZE1vbnRobHlFdmVudHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgeWVhciA9IGN1cnJlbnREYXRlLnZhbHVlLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgY29uc3QgbW9udGggPSBjdXJyZW50RGF0ZS52YWx1ZS5nZXRNb250aCgpICsgMTsgLy8gQVBJ6ZyA6KaBMS0xMueahOaciOS7vQoKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldE1vbnRobHlFdmVudHMoeWVhciwgbW9udGgpOwogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICBldmVudHMudmFsdWUgPSBwYXJzZUV2ZW50c0RhdGEocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veaciOW6puS6i+S7tuWksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3mnIjluqbkuovku7blpLHotKUnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDliqDovb3lkajop4blm77mlbDmja4KICAgIGNvbnN0IGxvYWRXZWVrbHlFdmVudHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgZGF0ZSA9IGZvcm1hdERhdGVTdHJpbmcoY3VycmVudERhdGUudmFsdWUpOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0V2Vla2x5RXZlbnRzKGRhdGUpOwogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICBldmVudHMudmFsdWUgPSBwYXJzZUV2ZW50c0RhdGEocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veWRqOS6i+S7tuWksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3lkajkuovku7blpLHotKUnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDliqDovb3ml6Xop4blm77mlbDmja4KICAgIGNvbnN0IGxvYWREYWlseUV2ZW50cyA9IGFzeW5jICgpID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkYXRlID0gZm9ybWF0RGF0ZVN0cmluZyhjdXJyZW50RGF0ZS52YWx1ZSk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXREYWlseUV2ZW50cyhkYXRlKTsKICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgZXZlbnRzLnZhbHVlID0gcGFyc2VFdmVudHNEYXRhKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3ml6Xkuovku7blpLHotKU6JywgZXJyb3IpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5Yqg6L295pel5LqL5Lu25aSx6LSlJyk7CiAgICAgIH0KICAgIH07CgogICAgLy8g5qC55o2u6KeG5Zu+57G75Z6L5Yqg6L295LqL5Lu2CiAgICBjb25zdCBsb2FkRXZlbnRzID0gKCkgPT4gewogICAgICBpZiAoY2FsZW5kYXJWaWV3LnZhbHVlID09PSAnbW9udGgnKSB7CiAgICAgICAgbG9hZE1vbnRobHlFdmVudHMoKTsKICAgICAgfSBlbHNlIGlmIChjYWxlbmRhclZpZXcudmFsdWUgPT09ICd3ZWVrJykgewogICAgICAgIGxvYWRXZWVrbHlFdmVudHMoKTsKICAgICAgfSBlbHNlIGlmIChjYWxlbmRhclZpZXcudmFsdWUgPT09ICdkYXknKSB7CiAgICAgICAgbG9hZERhaWx5RXZlbnRzKCk7CiAgICAgIH0KICAgIH07CgogICAgLy8g6Kej5p6Q5LqL5Lu25pWw5o2uCiAgICBjb25zdCBwYXJzZUV2ZW50c0RhdGEgPSBkYXRhID0+IHsKICAgICAgcmV0dXJuIGRhdGEubWFwKGl0ZW0gPT4gewogICAgICAgIC8vIOehruS/neaXpeacn+ato+ehruino+aekO+8jOWkhOeQhuaXtuWMuumXrumimAogICAgICAgIGxldCBzdGFydERhdGUsIGVuZERhdGU7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGl0ZW0uc3RhcnQpOwogICAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKGl0ZW0uZW5kKTsKCiAgICAgICAgICAvLyDpqozor4Hml6XmnJ/mmK/lkKbmnInmlYgKICAgICAgICAgIGlmIChpc05hTihzdGFydERhdGUuZ2V0VGltZSgpKSB8fCBpc05hTihlbmREYXRlLmdldFRpbWUoKSkpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5peg5pWI55qE5pel5pyf5qC85byPOicsIGl0ZW0uc3RhcnQsIGl0ZW0uZW5kKTsKICAgICAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZS5nZXRUaW1lKCkgKyA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ino+aekOaXpeacn+WHuumUmTonLCBlcnJvcik7CiAgICAgICAgICBzdGFydERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZS5nZXRUaW1lKCkgKyA2MCAqIDYwICogMTAwMCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLAogICAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZSwKICAgICAgICAgIGVuZDogZW5kRGF0ZSwKICAgICAgICAgIGxvY2F0aW9uOiBpdGVtLmxvY2F0aW9uLAogICAgICAgICAgdHlwZTogaXRlbS50eXBlLAogICAgICAgICAgcmVtaW5kZXI6IGl0ZW0ucmVtaW5kZXIsCiAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbiwKICAgICAgICAgIGlzX2FsbF9kYXk6IGl0ZW0uaXNfYWxsX2RheSwKICAgICAgICAgIGNyZWF0b3I6IGl0ZW0uY3JlYXRvciwKICAgICAgICAgIGNyZWF0b3JfbmFtZTogaXRlbS5jcmVhdG9yX25hbWUsCiAgICAgICAgICBwYXJ0aWNpcGFudHM6IGl0ZW0ucGFydGljaXBhbnRzLAogICAgICAgICAgcGFydGljaXBhbnRzX2luZm86IGl0ZW0ucGFydGljaXBhbnRzX2luZm8KICAgICAgICB9OwogICAgICB9KTsKICAgIH07CgogICAgLy8g5qC85byP5YyW5pel5pyf5Li65a2X56ym5LiyCiAgICBjb25zdCBmb3JtYXREYXRlU3RyaW5nID0gZGF0ZSA9PiB7CiAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgIGNvbnN0IG1vbnRoID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDsKICAgIH07CgogICAgLy8g5pel5pyf6YCJ5oupCiAgICBjb25zdCBzZWxlY3REYXkgPSBkYXkgPT4gewogICAgICBpZiAoIWRheS5pc0N1cnJlbnRNb250aCkgewogICAgICAgIGlmIChkYXkuZGF0ZSA+IDE1KSB7CiAgICAgICAgICAvLyDliY3kuIDkuKrmnIgKICAgICAgICAgIHByZXYoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5ZCO5LiA5Liq5pyICiAgICAgICAgICBuZXh0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIC8vIOi/lOWbnuS7iuWkqQogICAgY29uc3QgdG9kYXkgPSAoKSA9PiB7CiAgICAgIGN1cnJlbnREYXRlLnZhbHVlID0gbmV3IERhdGUoKTsKICAgIH07CgogICAgLy8g5LiK5LiA5Liq5pe26Ze05Y2V5L2NCiAgICBjb25zdCBwcmV2ID0gKCkgPT4gewogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoY3VycmVudERhdGUudmFsdWUpOwogICAgICBpZiAoY2FsZW5kYXJWaWV3LnZhbHVlID09PSAnbW9udGgnKSB7CiAgICAgICAgZGF0ZS5zZXRNb250aChkYXRlLmdldE1vbnRoKCkgLSAxKTsKICAgICAgfSBlbHNlIGlmIChjYWxlbmRhclZpZXcudmFsdWUgPT09ICd3ZWVrJykgewogICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIDcpOwogICAgICB9IGVsc2UgaWYgKGNhbGVuZGFyVmlldy52YWx1ZSA9PT0gJ2RheScpIHsKICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSAxKTsKICAgICAgfQogICAgICBjdXJyZW50RGF0ZS52YWx1ZSA9IGRhdGU7CiAgICB9OwoKICAgIC8vIOS4i+S4gOS4quaXtumXtOWNleS9jQogICAgY29uc3QgbmV4dCA9ICgpID0+IHsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLnZhbHVlKTsKICAgICAgaWYgKGNhbGVuZGFyVmlldy52YWx1ZSA9PT0gJ21vbnRoJykgewogICAgICAgIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgMSk7CiAgICAgIH0gZWxzZSBpZiAoY2FsZW5kYXJWaWV3LnZhbHVlID09PSAnd2VlaycpIHsKICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyA3KTsKICAgICAgfSBlbHNlIGlmIChjYWxlbmRhclZpZXcudmFsdWUgPT09ICdkYXknKSB7CiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSk7CiAgICAgIH0KICAgICAgY3VycmVudERhdGUudmFsdWUgPSBkYXRlOwogICAgfTsKCiAgICAvLyDmmL7npLrmt7vliqDml6XnqIvlr7nor53moYYKICAgIGNvbnN0IHNob3dBZGRFdmVudERpYWxvZyA9ICgpID0+IHsKICAgICAgbmV3RXZlbnQudmFsdWUgPSB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIHN0YXJ0OiBmb3JtYXREYXRlRm9yUGlja2VyKG5ldyBEYXRlKCkpLAogICAgICAgIGVuZDogZm9ybWF0RGF0ZUZvclBpY2tlcihuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDYwICogNjAgKiAxMDAwKSksCiAgICAgICAgbG9jYXRpb246ICcnLAogICAgICAgIHR5cGU6ICdibHVlJywKICAgICAgICByZW1pbmRlcjogJzMwbWluJywKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgaXNfYWxsX2RheTogZmFsc2UKICAgICAgfTsKICAgICAgYWRkRXZlbnREaWFsb2dWaXNpYmxlLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgLy8g5re75Yqg5pel56iLCiAgICBjb25zdCBhZGRFdmVudCA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKCFuZXdFdmVudC52YWx1ZS50aXRsZSkgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXml6XnqIvmoIfpopgnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCFuZXdFdmVudC52YWx1ZS5zdGFydCB8fCAhbmV3RXZlbnQudmFsdWUuZW5kKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeaXpeeoi+aXtumXtCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g6aqM6K+B5byA5aeL5pe26Ze05LiN5pma5LqO57uT5p2f5pe26Ze0CiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKG5ld0V2ZW50LnZhbHVlLnN0YXJ0KS5nZXRUaW1lKCk7CiAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShuZXdFdmVudC52YWx1ZS5lbmQpLmdldFRpbWUoKTsKICAgICAgaWYgKHN0YXJ0VGltZSA+IGVuZFRpbWUpIHsKICAgICAgICBFbE1lc3NhZ2Uud2FybmluZygn57uT5p2f5pe26Ze05LiN6IO95pep5LqO5byA5aeL5pe26Ze0Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDpqozor4HlvIDlp4vlkoznu5PmnZ/ml6XmnJ/mmK/lkIzkuIDlpKkKICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUobmV3RXZlbnQudmFsdWUuc3RhcnQpLnRvRGF0ZVN0cmluZygpOwogICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUobmV3RXZlbnQudmFsdWUuZW5kKS50b0RhdGVTdHJpbmcoKTsKICAgICAgaWYgKHN0YXJ0RGF0ZSAhPT0gZW5kRGF0ZSkgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCflvIDlp4vlkoznu5PmnZ/ml7bpl7Tlv4XpobvlnKjlkIzkuIDlpKknKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICAvLyDlsIbml6XmnJ/lrZfnrKbkuLLovazmjaLkuLpJU0/moLzlvI/vvIznoa7kv53ml7bljLrkuIDoh7QKICAgICAgICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUobmV3RXZlbnQudmFsdWUuc3RhcnQpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShuZXdFdmVudC52YWx1ZS5lbmQpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgY29uc3QgZXZlbnREYXRhID0gewogICAgICAgICAgdGl0bGU6IG5ld0V2ZW50LnZhbHVlLnRpdGxlLAogICAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZVRpbWUsCiAgICAgICAgICBlbmQ6IGVuZERhdGVUaW1lLAogICAgICAgICAgbG9jYXRpb246IG5ld0V2ZW50LnZhbHVlLmxvY2F0aW9uLAogICAgICAgICAgdHlwZTogbmV3RXZlbnQudmFsdWUudHlwZSwKICAgICAgICAgIHJlbWluZGVyOiBuZXdFdmVudC52YWx1ZS5yZW1pbmRlciwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdFdmVudC52YWx1ZS5kZXNjcmlwdGlvbiwKICAgICAgICAgIGlzX2FsbF9kYXk6IG5ld0V2ZW50LnZhbHVlLmlzX2FsbF9kYXksCiAgICAgICAgICBwYXJ0aWNpcGFudHM6IFtdIC8vIOm7mOiupOWPquacieWIm+W7uuiAhQogICAgICAgIH07CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVFdmVudChldmVudERhdGEpOwogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5pel56iL5re75Yqg5oiQ5YqfJyk7CiAgICAgICAgICBhZGRFdmVudERpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIGxvYWRFdmVudHMoKTsgLy8g6YeN5paw5Yqg6L295LqL5Lu2CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlIHx8ICfml6XnqIvmt7vliqDlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5re75Yqg5pel56iL5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+aXpeeoi+a3u+WKoOWksei0pScpOwogICAgICB9CiAgICB9OwoKICAgIC8vIOaYvuekuuaXpeeoi+ivpuaDhQogICAgY29uc3Qgc2hvd0V2ZW50RGV0YWlscyA9IGV2ZW50ID0+IHsKICAgICAgc2VsZWN0ZWRFdmVudC52YWx1ZSA9IGV2ZW50OwogICAgICBldmVudERldGFpbHNEaWFsb2dWaXNpYmxlLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgLy8g5pi+56S657yW6L6R5pel56iL5a+56K+d5qGGCiAgICBjb25zdCBzaG93RWRpdEV2ZW50RGlhbG9nID0gKCkgPT4gewogICAgICBlZGl0aW5nRXZlbnQudmFsdWUgPSB7CiAgICAgICAgaWQ6IHNlbGVjdGVkRXZlbnQudmFsdWUuaWQsCiAgICAgICAgdGl0bGU6IHNlbGVjdGVkRXZlbnQudmFsdWUudGl0bGUsCiAgICAgICAgc3RhcnQ6IGZvcm1hdERhdGVGb3JQaWNrZXIoc2VsZWN0ZWRFdmVudC52YWx1ZS5zdGFydCksCiAgICAgICAgZW5kOiBmb3JtYXREYXRlRm9yUGlja2VyKHNlbGVjdGVkRXZlbnQudmFsdWUuZW5kKSwKICAgICAgICBsb2NhdGlvbjogc2VsZWN0ZWRFdmVudC52YWx1ZS5sb2NhdGlvbiB8fCAnJywKICAgICAgICB0eXBlOiBzZWxlY3RlZEV2ZW50LnZhbHVlLnR5cGUsCiAgICAgICAgcmVtaW5kZXI6IHNlbGVjdGVkRXZlbnQudmFsdWUucmVtaW5kZXIsCiAgICAgICAgZGVzY3JpcHRpb246IHNlbGVjdGVkRXZlbnQudmFsdWUuZGVzY3JpcHRpb24gfHwgJycsCiAgICAgICAgaXNfYWxsX2RheTogc2VsZWN0ZWRFdmVudC52YWx1ZS5pc19hbGxfZGF5IHx8IGZhbHNlCiAgICAgIH07CiAgICAgIGV2ZW50RGV0YWlsc0RpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgZWRpdEV2ZW50RGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIC8vIOS/neWtmOe8lui+keeahOaXpeeoiwogICAgY29uc3Qgc2F2ZUVkaXRFdmVudCA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKCFlZGl0aW5nRXZlbnQudmFsdWUudGl0bGUpIHsKICAgICAgICBFbE1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5pel56iL5qCH6aKYJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICghZWRpdGluZ0V2ZW50LnZhbHVlLnN0YXJ0IHx8ICFlZGl0aW5nRXZlbnQudmFsdWUuZW5kKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeaXpeeoi+aXtumXtCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g6aqM6K+B5byA5aeL5pe26Ze05LiN5pma5LqO57uT5p2f5pe26Ze0CiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKGVkaXRpbmdFdmVudC52YWx1ZS5zdGFydCkuZ2V0VGltZSgpOwogICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoZWRpdGluZ0V2ZW50LnZhbHVlLmVuZCkuZ2V0VGltZSgpOwogICAgICBpZiAoc3RhcnRUaW1lID4gZW5kVGltZSkgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfnu5PmnZ/ml7bpl7TkuI3og73ml6nkuo7lvIDlp4vml7bpl7QnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIOmqjOivgeW8gOWni+WSjOe7k+adn+aXpeacn+aYr+WQjOS4gOWkqQogICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShlZGl0aW5nRXZlbnQudmFsdWUuc3RhcnQpLnRvRGF0ZVN0cmluZygpOwogICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoZWRpdGluZ0V2ZW50LnZhbHVlLmVuZCkudG9EYXRlU3RyaW5nKCk7CiAgICAgIGlmIChzdGFydERhdGUgIT09IGVuZERhdGUpIHsKICAgICAgICBFbE1lc3NhZ2Uud2FybmluZygn5byA5aeL5ZKM57uT5p2f5pe26Ze05b+F6aG75Zyo5ZCM5LiA5aSpJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgLy8g5bCG5pel5pyf5a2X56ym5Liy6L2s5o2i5Li6SVNP5qC85byP77yM56Gu5L+d5pe25Yy65LiA6Ie0CiAgICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKGVkaXRpbmdFdmVudC52YWx1ZS5zdGFydCkudG9JU09TdHJpbmcoKTsKICAgICAgICBjb25zdCBlbmREYXRlVGltZSA9IG5ldyBEYXRlKGVkaXRpbmdFdmVudC52YWx1ZS5lbmQpLnRvSVNPU3RyaW5nKCk7CiAgICAgICAgY29uc3QgZXZlbnREYXRhID0gewogICAgICAgICAgdGl0bGU6IGVkaXRpbmdFdmVudC52YWx1ZS50aXRsZSwKICAgICAgICAgIHN0YXJ0OiBzdGFydERhdGVUaW1lLAogICAgICAgICAgZW5kOiBlbmREYXRlVGltZSwKICAgICAgICAgIGxvY2F0aW9uOiBlZGl0aW5nRXZlbnQudmFsdWUubG9jYXRpb24sCiAgICAgICAgICB0eXBlOiBlZGl0aW5nRXZlbnQudmFsdWUudHlwZSwKICAgICAgICAgIHJlbWluZGVyOiBlZGl0aW5nRXZlbnQudmFsdWUucmVtaW5kZXIsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZWRpdGluZ0V2ZW50LnZhbHVlLmRlc2NyaXB0aW9uLAogICAgICAgICAgaXNfYWxsX2RheTogZWRpdGluZ0V2ZW50LnZhbHVlLmlzX2FsbF9kYXkKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXBkYXRlRXZlbnQoZWRpdGluZ0V2ZW50LnZhbHVlLmlkLCBldmVudERhdGEpOwogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5pel56iL5pu05paw5oiQ5YqfJyk7CiAgICAgICAgICBlZGl0RXZlbnREaWFsb2dWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICBsb2FkRXZlbnRzKCk7IC8vIOmHjeaWsOWKoOi9veS6i+S7tgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSB8fCAn5pel56iL5pu05paw5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOaXpeeoi+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfml6XnqIvmm7TmlrDlpLHotKUnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDliKDpmaTml6XnqIsKICAgIGNvbnN0IGRlbGV0ZUV2ZW50ID0gYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIGF3YWl0IEVsTWVzc2FnZUJveC5jb25maXJtKCfnoa7lrpropoHliKDpmaTor6Xml6XnqIvlkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRlbGV0ZUNhbGVuZGFyRXZlbnQoc2VsZWN0ZWRFdmVudC52YWx1ZS5pZCk7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCfml6XnqIvliKDpmaTmiJDlip8nKTsKICAgICAgICAgIGV2ZW50RGV0YWlsc0RpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIGxvYWRFdmVudHMoKTsgLy8g6YeN5paw5Yqg6L295LqL5Lu2CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlIHx8ICfml6XnqIvliKDpmaTlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yICE9PSAnY2FuY2VsJykgewogICAgICAgICAgY29uc29sZS5lcnJvcign5Yig6Zmk5pel56iL5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcign5pel56iL5Yig6Zmk5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIC8vIOiOt+WPluaMh+WumuaXpeacn+eahOS6i+S7tgogICAgY29uc3QgZ2V0RGF5RXZlbnRzID0gZGF0ZSA9PiB7CiAgICAgIHJldHVybiBldmVudHMudmFsdWUuZmlsdGVyKGV2ZW50ID0+IGlzU2FtZURheShuZXcgRGF0ZShldmVudC5zdGFydCksIGRhdGUpKTsKICAgIH07CgogICAgLy8g5Yik5pat5Lik5Liq5pel5pyf5piv5ZCm5piv5ZCM5LiA5aSpCiAgICBjb25zdCBpc1NhbWVEYXkgPSAoZGF0ZTEsIGRhdGUyKSA9PiB7CiAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpID09PSBkYXRlMi5nZXRGdWxsWWVhcigpICYmIGRhdGUxLmdldE1vbnRoKCkgPT09IGRhdGUyLmdldE1vbnRoKCkgJiYgZGF0ZTEuZ2V0RGF0ZSgpID09PSBkYXRlMi5nZXREYXRlKCk7CiAgICB9OwoKICAgIC8vIOiOt+WPluaciOS7veeahOesrOS4gOWkqQogICAgY29uc3QgZ2V0Rmlyc3REYXlPZk1vbnRoID0gZGF0ZSA9PiB7CiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7CiAgICB9OwoKICAgIC8vIOiOt+WPluaciOS7veeahOWkqeaVsAogICAgY29uc3QgZ2V0RGF5c0luTW9udGggPSBkYXRlID0+IHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpOwogICAgfTsKCiAgICAvLyDorqHnrpfkuovku7blnKjml7bpl7TovbTkuIrnmoTkvY3nva4KICAgIGNvbnN0IGNhbGNFdmVudFRvcCA9IGV2ZW50ID0+IHsKICAgICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc3RhcnQpIHJldHVybiAwOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IGhvdXJzID0gZXZlbnQuc3RhcnQuZ2V0SG91cnMoKTsKICAgICAgICBjb25zdCBtaW51dGVzID0gZXZlbnQuc3RhcnQuZ2V0TWludXRlcygpOwogICAgICAgIC8vIOavj+Wwj+aXtjYwcHjpq5jluqbvvIzmr48xNeWIhumSnzE1cHgKICAgICAgICByZXR1cm4gKGhvdXJzICogNjAgKyBtaW51dGVzKSAvIDE1ICogMTU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6K6h566X5LqL5Lu25L2N572u6ZSZ6K+vOicsIGVycm9yKTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfTsKCiAgICAvLyDorqHnrpfkuovku7bnmoTpq5jluqYKICAgIGNvbnN0IGNhbGNFdmVudEhlaWdodCA9IGV2ZW50ID0+IHsKICAgICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc3RhcnQgfHwgIWV2ZW50LmVuZCkgcmV0dXJuIDYwOyAvLyDpu5jorqTpq5jluqYx5bCP5pe2CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gZXZlbnQuc3RhcnQuZ2V0VGltZSgpOwogICAgICAgIGNvbnN0IGVuZFRpbWUgPSBldmVudC5lbmQuZ2V0VGltZSgpOwogICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKGVuZFRpbWUgLSBzdGFydFRpbWUpIC8gKDEwMDAgKiA2MCk7IC8vIOWIhumSn+aVsAoKICAgICAgICAvLyDlpoLmnpzmmK/lhajlpKnkuovku7bvvIzliJnpq5jluqblm7rlrpoKICAgICAgICBpZiAoZXZlbnQuaXNfYWxsX2RheSkgewogICAgICAgICAgcmV0dXJuIDI0OwogICAgICAgIH0KCiAgICAgICAgLy8g5pyA5bCP6auY5bqmMzBweCAoMzDliIbpkp8pCiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGR1cmF0aW9uIC8gMTUgKiAxNSwgMzApOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iuoeeul+S6i+S7tumrmOW6pumUmeivrzonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIDYwOwogICAgICB9CiAgICB9OwoKICAgIC8vIOagvOW8j+WMluS6i+S7tuaXtumXtAogICAgY29uc3QgZm9ybWF0RXZlbnRUaW1lID0gZXZlbnQgPT4gewogICAgICBjb25zdCBzdGFydCA9IGV2ZW50LnN0YXJ0OwogICAgICBjb25zdCBlbmQgPSBldmVudC5lbmQ7CiAgICAgIHJldHVybiBgJHtzdGFydC5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzdGFydC5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfSAtICR7ZW5kLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke2VuZC5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7CiAgICB9OwoKICAgIC8vIOagvOW8j+WMluS6i+S7tuaXpeacn+aXtumXtAogICAgY29uc3QgZm9ybWF0RXZlbnREYXRlVGltZSA9IGV2ZW50ID0+IHsKICAgICAgaWYgKCFldmVudC5zdGFydCB8fCAhZXZlbnQuZW5kKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgeWVhcjogJ251bWVyaWMnLAogICAgICAgIG1vbnRoOiAnbG9uZycsCiAgICAgICAgZGF5OiAnbnVtZXJpYycsCiAgICAgICAgaG91cjogJzItZGlnaXQnLAogICAgICAgIG1pbnV0ZTogJzItZGlnaXQnCiAgICAgIH07CiAgICAgIHJldHVybiBgJHtldmVudC5zdGFydC50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywgb3B0aW9ucyl9IC0gJHtldmVudC5lbmQudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicsIG9wdGlvbnMpfWA7CiAgICB9OwoKICAgIC8vIOagvOW8j+WMluaPkOmGkuaXtumXtAogICAgY29uc3QgZm9ybWF0UmVtaW5kZXIgPSByZW1pbmRlciA9PiB7CiAgICAgIHN3aXRjaCAocmVtaW5kZXIpIHsKICAgICAgICBjYXNlICdub25lJzoKICAgICAgICAgIHJldHVybiAn5LiN5o+Q6YaSJzsKICAgICAgICBjYXNlICcxMG1pbic6CiAgICAgICAgICByZXR1cm4gJzEw5YiG6ZKf5YmNJzsKICAgICAgICBjYXNlICczMG1pbic6CiAgICAgICAgICByZXR1cm4gJzMw5YiG6ZKf5YmNJzsKICAgICAgICBjYXNlICcxaG91cic6CiAgICAgICAgICByZXR1cm4gJzHlsI/ml7bliY0nOwogICAgICAgIGNhc2UgJzFkYXknOgogICAgICAgICAgcmV0dXJuICcx5aSp5YmNJzsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICfmnKrorr7nva4nOwogICAgICB9CiAgICB9OwoKICAgIC8vIOS4uuaXpeacn+mAieaLqeWZqOagvOW8j+WMluaXpeacnwogICAgY29uc3QgZm9ybWF0RGF0ZUZvclBpY2tlciA9IGRhdGUgPT4gewogICAgICBpZiAoIWRhdGUpIHJldHVybiAnJzsKCiAgICAgIC8vIOehruS/neS9v+eUqERhdGXlr7nosaEKICAgICAgY29uc3QgZGF0ZU9iaiA9IGRhdGUgaW5zdGFuY2VvZiBEYXRlID8gZGF0ZSA6IG5ldyBEYXRlKGRhdGUpOwogICAgICBjb25zdCB5ZWFyID0gZGF0ZU9iai5nZXRGdWxsWWVhcigpOwogICAgICBjb25zdCBtb250aCA9IChkYXRlT2JqLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgIGNvbnN0IGRheSA9IGRhdGVPYmouZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgY29uc3QgaG91cnMgPSBkYXRlT2JqLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICBjb25zdCBtaW51dGVzID0gZGF0ZU9iai5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc31gOwogICAgfTsKCiAgICAvLyDlpITnkIblvIDlp4vml7bpl7Tlj5jljJbvvIzoh6rliqjorr7nva7nu5PmnZ/ml7bpl7TkuLox5bCP5pe25ZCOCiAgICBjb25zdCBoYW5kbGVTdGFydFRpbWVDaGFuZ2UgPSBldmVudCA9PiB7CiAgICAgIGlmICghZXZlbnQuc3RhcnQpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICAvLyDop6PmnpDlvIDlp4vml7bpl7QKICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZShldmVudC5zdGFydCk7CgogICAgICAgIC8vIOWmguaenOWFqOWkqeS6i+S7tu+8jOWImee7k+adn+aXtumXtOiuvue9ruS4uuWQjOS4gOWkqeeahDIzOjU5CiAgICAgICAgaWYgKGV2ZW50LmlzX2FsbF9kYXkpIHsKICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShzdGFydFRpbWUpOwogICAgICAgICAgZW5kVGltZS5zZXRIb3VycygyMywgNTksIDApOwogICAgICAgICAgZXZlbnQuZW5kID0gZm9ybWF0RGF0ZUZvclBpY2tlcihlbmRUaW1lKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIOiuoeeul+W8gOWni+aXtumXtDHlsI/ml7blkI7nmoTml7bpl7QKICAgICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoc3RhcnRUaW1lLmdldFRpbWUoKSArIDYwICogNjAgKiAxMDAwKTsKCiAgICAgICAgLy8g5aaC5p6c57uT5p2f5pe26Ze05pyq6K6+572u77yM5oiW57uT5p2f5pe26Ze05pep5LqO5byA5aeL5pe26Ze077yM5oiW57uT5p2f5pe26Ze05LiN5Zyo5ZCM5LiA5aSpCiAgICAgICAgLy8g5YiZ6Ieq5Yqo6K6+572u57uT5p2f5pe26Ze0CiAgICAgICAgaWYgKCFldmVudC5lbmQgfHwgbmV3IERhdGUoZXZlbnQuZW5kKSA8IHN0YXJ0VGltZSB8fCBuZXcgRGF0ZShldmVudC5lbmQpLnRvRGF0ZVN0cmluZygpICE9PSBzdGFydFRpbWUudG9EYXRlU3RyaW5nKCkpIHsKICAgICAgICAgIGV2ZW50LmVuZCA9IGZvcm1hdERhdGVGb3JQaWNrZXIoZW5kVGltZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WkhOeQhuW8gOWni+aXtumXtOWPmOWMlumUmeivrzonLCBlcnJvcik7CiAgICAgIH0KICAgIH07CgogICAgLy8g55uR5ZCs5pel5Y6G6KeG5Zu+5Y+Y5YyWCiAgICB3YXRjaChjYWxlbmRhclZpZXcsICgpID0+IHsKICAgICAgbG9hZEV2ZW50cygpOwogICAgfSk7CgogICAgLy8g55uR5ZCs5b2T5YmN5pel5pyf5Y+Y5YyWCiAgICB3YXRjaChjdXJyZW50RGF0ZSwgKCkgPT4gewogICAgICBsb2FkRXZlbnRzKCk7CiAgICB9KTsKCiAgICAvLyDnm5HlkKzlhajlpKnkuovku7blj5jljJYKICAgIHdhdGNoKCgpID0+IG5ld0V2ZW50LnZhbHVlLmlzX2FsbF9kYXksIGlzQWxsRGF5ID0+IHsKICAgICAgaWYgKGlzQWxsRGF5ICYmIG5ld0V2ZW50LnZhbHVlLnN0YXJ0KSB7CiAgICAgICAgLy8g5aaC5p6c5Yu+6YCJ5YWo5aSp5LqL5Lu277yM6K6+572u5byA5aeL5pe26Ze05Li65b2T5aSpMDowMO+8jOe7k+adn+aXtumXtOS4ujIzOjU5CiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUobmV3RXZlbnQudmFsdWUuc3RhcnQpOwogICAgICAgIHN0YXJ0RGF0ZS5zZXRIb3VycygwLCAwLCAwKTsKICAgICAgICBuZXdFdmVudC52YWx1ZS5zdGFydCA9IGZvcm1hdERhdGVGb3JQaWNrZXIoc3RhcnREYXRlKTsKICAgICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICBlbmREYXRlLnNldEhvdXJzKDIzLCA1OSwgMCk7CiAgICAgICAgbmV3RXZlbnQudmFsdWUuZW5kID0gZm9ybWF0RGF0ZUZvclBpY2tlcihlbmREYXRlKTsKICAgICAgfQogICAgfSk7CgogICAgLy8g55uR5ZCs57yW6L6R5LqL5Lu255qE5YWo5aSp5LqL5Lu25Y+Y5YyWCiAgICB3YXRjaCgoKSA9PiBlZGl0aW5nRXZlbnQudmFsdWUuaXNfYWxsX2RheSwgaXNBbGxEYXkgPT4gewogICAgICBpZiAoaXNBbGxEYXkgJiYgZWRpdGluZ0V2ZW50LnZhbHVlLnN0YXJ0KSB7CiAgICAgICAgLy8g5aaC5p6c5Yu+6YCJ5YWo5aSp5LqL5Lu277yM6K6+572u5byA5aeL5pe26Ze05Li65b2T5aSpMDowMO+8jOe7k+adn+aXtumXtOS4ujIzOjU5CiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoZWRpdGluZ0V2ZW50LnZhbHVlLnN0YXJ0KTsKICAgICAgICBzdGFydERhdGUuc2V0SG91cnMoMCwgMCwgMCk7CiAgICAgICAgZWRpdGluZ0V2ZW50LnZhbHVlLnN0YXJ0ID0gZm9ybWF0RGF0ZUZvclBpY2tlcihzdGFydERhdGUpOwogICAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUpOwogICAgICAgIGVuZERhdGUuc2V0SG91cnMoMjMsIDU5LCAwKTsKICAgICAgICBlZGl0aW5nRXZlbnQudmFsdWUuZW5kID0gZm9ybWF0RGF0ZUZvclBpY2tlcihlbmREYXRlKTsKICAgICAgfQogICAgfSk7CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAvLyDliJ3lp4vljJbliqDovb3kuovku7YKICAgICAgbG9hZEV2ZW50cygpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBjYWxlbmRhclZpZXcsCiAgICAgIGN1cnJlbnREYXRlLAogICAgICBjdXJyZW50RGF0ZUxhYmVsLAogICAgICB3ZWVrRGF5cywKICAgICAgZGF5cywKICAgICAgd2Vla0RhdGVzLAogICAgICBkYXlFdmVudHMsCiAgICAgIGFkZEV2ZW50RGlhbG9nVmlzaWJsZSwKICAgICAgZXZlbnREZXRhaWxzRGlhbG9nVmlzaWJsZSwKICAgICAgZWRpdEV2ZW50RGlhbG9nVmlzaWJsZSwKICAgICAgbmV3RXZlbnQsCiAgICAgIHNlbGVjdGVkRXZlbnQsCiAgICAgIGVkaXRpbmdFdmVudCwKICAgICAgdG9kYXksCiAgICAgIHByZXYsCiAgICAgIG5leHQsCiAgICAgIHNlbGVjdERheSwKICAgICAgc2hvd0FkZEV2ZW50RGlhbG9nLAogICAgICBhZGRFdmVudCwKICAgICAgc2hvd0V2ZW50RGV0YWlscywKICAgICAgc2hvd0VkaXRFdmVudERpYWxvZywKICAgICAgc2F2ZUVkaXRFdmVudCwKICAgICAgZGVsZXRlRXZlbnQsCiAgICAgIGNhbGNFdmVudFRvcCwKICAgICAgY2FsY0V2ZW50SGVpZ2h0LAogICAgICBmb3JtYXRFdmVudFRpbWUsCiAgICAgIGZvcm1hdEV2ZW50RGF0ZVRpbWUsCiAgICAgIGZvcm1hdFJlbWluZGVyLAogICAgICAvLyBFbGVtZW50IFBsdXMg5Zu+5qCHCiAgICAgIEFycm93TGVmdCwKICAgICAgQXJyb3dSaWdodCwKICAgICAgUGx1cywKICAgICAgaGFuZGxlU3RhcnRUaW1lQ2hhbmdlCiAgICB9OwogIH0KfTs="},{"version":3,"names":["ref","computed","onMounted","watch","ElMessage","ElMessageBox","ArrowLeft","ArrowRight","Plus","getMonthlyEvents","getWeeklyEvents","getDailyEvents","createEvent","updateEvent","deleteEvent","deleteCalendarEvent","name","setup","calendarView","currentDate","Date","events","currentDateLabel","options","year","month","value","getFullYear","getMonth","Math","ceil","getDate","getFirstDayOfMonth","getDay","toLocaleDateString","day","weekDays","addEventDialogVisible","eventDetailsDialogVisible","editEventDialogVisible","newEvent","title","start","end","location","type","reminder","description","is_all_day","selectedEvent","editingEvent","id","days","result","today","firstDay","daysInMonth","getDaysInMonth","daysInLastMonth","i","date","push","isCurrentMonth","isToday","isSameDay","getDayEvents","remaining","length","weekDates","setDate","dayName","fullDate","dayEvents","loadMonthlyEvents","response","success","parseEventsData","data","error","console","loadWeeklyEvents","formatDateString","loadDailyEvents","loadEvents","map","item","startDate","endDate","isNaN","getTime","creator","creator_name","participants","participants_info","toString","padStart","selectDay","prev","next","setMonth","showAddEventDialog","formatDateForPicker","addEvent","warning","startTime","endTime","toDateString","startDateTime","toISOString","endDateTime","eventData","message","showEventDetails","event","showEditEventDialog","saveEditEvent","confirm","confirmButtonText","cancelButtonText","filter","date1","date2","calcEventTop","hours","getHours","minutes","getMinutes","calcEventHeight","duration","max","formatEventTime","formatEventDateTime","hour","minute","formatReminder","dateObj","handleStartTimeChange","setHours","isAllDay"],"sources":["C:\\Users\\18083\\Desktop\\offic_ai\\office\\smart-office\\frontend\\src\\views\\calendar\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"calendar-container\">\n    <!-- 顶部操作栏 -->\n    <div class=\"calendar-header\">\n      <div class=\"date-controls\">\n        <el-button type=\"primary\" @click=\"today\">今天</el-button>\n        <div class=\"date-nav\">\n          <el-button :icon=\"ArrowLeft\" plain @click=\"prev\"></el-button>\n          <span class=\"current-date\">{{ currentDateLabel }}</span>\n          <el-button :icon=\"ArrowRight\" plain @click=\"next\"></el-button>\n        </div>\n      </div>\n      <div class=\"view-controls\">\n        <el-radio-group v-model=\"calendarView\" size=\"small\">\n          <el-radio-button value=\"month\">月</el-radio-button>\n          <el-radio-button value=\"week\">周</el-radio-button>\n          <el-radio-button value=\"day\">日</el-radio-button>\n        </el-radio-group>\n      </div>\n      <div class=\"action-controls\">\n        <el-button type=\"primary\" @click=\"showAddEventDialog\">\n          <el-icon><Plus /></el-icon> 新建日程\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 日历主体 -->\n    <div class=\"calendar-main\" v-if=\"calendarView === 'month'\">\n      <!-- 星期头部 -->\n      <div class=\"calendar-weekdays\">\n        <div class=\"weekday\" v-for=\"(day, index) in weekDays\" :key=\"index\">{{ day }}</div>\n      </div>\n      \n      <!-- 日历网格 -->\n      <div class=\"calendar-days\">\n        <div \n          v-for=\"(day, index) in days\" \n          :key=\"index\" \n          class=\"calendar-day\" \n          :class=\"{ \n            'today': day.isToday, \n            'other-month': !day.isCurrentMonth,\n            'has-events': day.events && day.events.length > 0\n          }\"\n          @click=\"selectDay(day)\"\n        >\n          <div class=\"day-number\">{{ day.date }}</div>\n          <div class=\"event-container\">\n            <div \n              v-for=\"(event, eventIndex) in day.events\" \n              :key=\"eventIndex\" \n              class=\"event-item\"\n              :class=\"'event-' + event.type\"\n              @click.stop=\"showEventDetails(event)\"\n            >\n              {{ event.title }}\n            </div>\n            <div v-if=\"day.events && day.events.length > 3\" class=\"event-more\">\n              还有 {{ day.events.length - 3 }} 个日程\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 周视图 -->\n    <div class=\"calendar-week\" v-if=\"calendarView === 'week'\">\n      <div class=\"week-header\">\n        <div class=\"week-time-col\"></div>\n        <div \n          v-for=\"(day, index) in weekDates\" \n          :key=\"index\" \n          class=\"week-day-col\"\n          :class=\"{ 'today': day.isToday }\"\n        >\n          <div class=\"week-day-name\">{{ day.dayName }}</div>\n          <div class=\"week-day-date\">{{ day.date }}</div>\n        </div>\n      </div>\n      \n      <div class=\"week-body\">\n        <div class=\"week-time-scale\">\n          <div v-for=\"hour in 24\" :key=\"hour\" class=\"time-slot\">\n            {{ hour - 1 }}:00\n          </div>\n        </div>\n        \n        <div class=\"week-events-container\">\n          <div \n            v-for=\"(day, dayIndex) in weekDates\" \n            :key=\"dayIndex\" \n            class=\"week-day-events\"\n          >\n            <div \n              v-for=\"(event, eventIndex) in day.events\" \n              :key=\"eventIndex\" \n              class=\"week-event\"\n              :class=\"'event-' + event.type\"\n              :style=\"{\n                top: calcEventTop(event) + 'px',\n                height: calcEventHeight(event) + 'px'\n              }\"\n              @click=\"showEventDetails(event)\"\n            >\n              <div class=\"week-event-title\">{{ event.title }}</div>\n              <div class=\"week-event-time\">{{ formatEventTime(event) }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 日视图 -->\n    <div class=\"calendar-day-view\" v-if=\"calendarView === 'day'\">\n      <div class=\"day-header\">\n        <div class=\"day-date\">\n          {{ currentDate.toLocaleDateString('zh-CN', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' }) }}\n        </div>\n      </div>\n      \n      <div class=\"day-body\">\n        <div class=\"day-time-scale\">\n          <div v-for=\"hour in 24\" :key=\"hour\" class=\"time-slot\">\n            {{ hour - 1 }}:00\n          </div>\n        </div>\n        \n        <div class=\"day-events-container\">\n          <div \n            v-for=\"(event, eventIndex) in dayEvents\" \n            :key=\"eventIndex\" \n            class=\"day-event\"\n            :class=\"'event-' + event.type\"\n            :style=\"{\n              top: calcEventTop(event) + 'px',\n              height: calcEventHeight(event) + 'px'\n            }\"\n            @click=\"showEventDetails(event)\"\n          >\n            <div class=\"day-event-title\">{{ event.title }}</div>\n            <div class=\"day-event-time\">{{ formatEventTime(event) }}</div>\n            <div class=\"day-event-location\" v-if=\"event.location\">\n              <i class=\"bi bi-geo-alt\"></i> {{ event.location }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 添加日程对话框 -->\n    <el-dialog\n      v-model=\"addEventDialogVisible\"\n      title=\"新建日程\"\n      width=\"500px\"\n    >\n      <el-form :model=\"newEvent\" label-width=\"80px\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"newEvent.title\" placeholder=\"请输入日程标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"开始时间\">\n          <el-date-picker\n            v-model=\"newEvent.start\"\n            type=\"datetime\"\n            placeholder=\"选择开始时间\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm\"\n            @change=\"handleStartTimeChange(newEvent)\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"结束时间\">\n          <el-date-picker\n            v-model=\"newEvent.end\"\n            type=\"datetime\"\n            placeholder=\"选择结束时间\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"地点\">\n          <el-input v-model=\"newEvent.location\" placeholder=\"请输入地点\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"类型\">\n          <el-select v-model=\"newEvent.type\" placeholder=\"请选择日程类型\">\n            <el-option label=\"会议\" value=\"blue\"></el-option>\n            <el-option label=\"出差\" value=\"orange\"></el-option>\n            <el-option label=\"假期\" value=\"green\"></el-option>\n            <el-option label=\"截止日期\" value=\"red\"></el-option>\n            <el-option label=\"其他\" value=\"purple\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"提醒\">\n          <el-select v-model=\"newEvent.reminder\" placeholder=\"请选择提醒时间\">\n            <el-option label=\"不提醒\" value=\"none\"></el-option>\n            <el-option label=\"10分钟前\" value=\"10min\"></el-option>\n            <el-option label=\"30分钟前\" value=\"30min\"></el-option>\n            <el-option label=\"1小时前\" value=\"1hour\"></el-option>\n            <el-option label=\"1天前\" value=\"1day\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"全天事件\">\n          <el-switch v-model=\"newEvent.is_all_day\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input \n            v-model=\"newEvent.description\" \n            type=\"textarea\" \n            :rows=\"3\"\n            placeholder=\"请输入备注信息\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"addEventDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"addEvent\">确定</el-button>\n        </div>\n      </template>\n    </el-dialog>\n\n    <!-- 日程详情对话框 -->\n    <el-dialog\n      v-model=\"eventDetailsDialogVisible\"\n      :title=\"selectedEvent.title\"\n      width=\"500px\"\n    >\n      <div class=\"event-details\">\n        <div class=\"event-detail-item\">\n          <i class=\"bi bi-clock\"></i>\n          <span>{{ formatEventDateTime(selectedEvent) }}</span>\n        </div>\n        <div class=\"event-detail-item\" v-if=\"selectedEvent.location\">\n          <i class=\"bi bi-geo-alt\"></i>\n          <span>{{ selectedEvent.location }}</span>\n        </div>\n        <div class=\"event-detail-item\" v-if=\"selectedEvent.description\">\n          <i class=\"bi bi-card-text\"></i>\n          <div class=\"event-description\">{{ selectedEvent.description }}</div>\n        </div>\n        <div class=\"event-detail-item\">\n          <i class=\"bi bi-bell\"></i>\n          <span>{{ formatReminder(selectedEvent.reminder) }}</span>\n        </div>\n      </div>\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"eventDetailsDialogVisible = false\">关闭</el-button>\n          <el-button type=\"primary\" @click=\"showEditEventDialog\">编辑</el-button>\n          <el-button type=\"danger\" @click=\"deleteEvent\">删除</el-button>\n        </div>\n      </template>\n    </el-dialog>\n\n    <!-- 编辑日程对话框 -->\n    <el-dialog\n      v-model=\"editEventDialogVisible\"\n      title=\"编辑日程\"\n      width=\"500px\"\n    >\n      <el-form :model=\"editingEvent\" label-width=\"80px\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"editingEvent.title\" placeholder=\"请输入日程标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"开始时间\">\n          <el-date-picker\n            v-model=\"editingEvent.start\"\n            type=\"datetime\"\n            placeholder=\"选择开始时间\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm\"\n            @change=\"handleStartTimeChange(editingEvent)\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"结束时间\">\n          <el-date-picker\n            v-model=\"editingEvent.end\"\n            type=\"datetime\"\n            placeholder=\"选择结束时间\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"地点\">\n          <el-input v-model=\"editingEvent.location\" placeholder=\"请输入地点\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"类型\">\n          <el-select v-model=\"editingEvent.type\" placeholder=\"请选择日程类型\">\n            <el-option label=\"会议\" value=\"blue\"></el-option>\n            <el-option label=\"出差\" value=\"orange\"></el-option>\n            <el-option label=\"假期\" value=\"green\"></el-option>\n            <el-option label=\"截止日期\" value=\"red\"></el-option>\n            <el-option label=\"其他\" value=\"purple\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"提醒\">\n          <el-select v-model=\"editingEvent.reminder\" placeholder=\"请选择提醒时间\">\n            <el-option label=\"不提醒\" value=\"none\"></el-option>\n            <el-option label=\"10分钟前\" value=\"10min\"></el-option>\n            <el-option label=\"30分钟前\" value=\"30min\"></el-option>\n            <el-option label=\"1小时前\" value=\"1hour\"></el-option>\n            <el-option label=\"1天前\" value=\"1day\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"全天事件\">\n          <el-switch v-model=\"editingEvent.is_all_day\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input \n            v-model=\"editingEvent.description\" \n            type=\"textarea\" \n            :rows=\"3\"\n            placeholder=\"请输入备注信息\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"editEventDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"saveEditEvent\">保存</el-button>\n        </div>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { ArrowLeft, ArrowRight, Plus } from '@element-plus/icons-vue'\nimport { getMonthlyEvents, getWeeklyEvents, getDailyEvents, createEvent, updateEvent, deleteEvent as deleteCalendarEvent } from '@/api/calendar'\n\nexport default {\n  name: 'Calendar',\n  setup() {\n    // 日历视图类型：月/周/日\n    const calendarView = ref('month')\n    \n    // 当前日期\n    const currentDate = ref(new Date())\n    \n    // 事件数据\n    const events = ref([])\n    \n    // 格式化当前日期标签\n    const currentDateLabel = computed(() => {\n      const options = { year: 'numeric', month: 'long' }\n      if (calendarView.value === 'week') {\n        return `${currentDate.value.getFullYear()}年${currentDate.value.getMonth() + 1}月第${Math.ceil((currentDate.value.getDate() + getFirstDayOfMonth(currentDate.value).getDay()) / 7)}周`\n      } else if (calendarView.value === 'day') {\n        return currentDate.value.toLocaleDateString('zh-CN', { year: 'numeric', month: 'long', day: 'numeric' })\n      }\n      return currentDate.value.toLocaleDateString('zh-CN', options)\n    })\n    \n    // 星期数组\n    const weekDays = ref(['日', '一', '二', '三', '四', '五', '六'])\n    \n    // 对话框状态\n    const addEventDialogVisible = ref(false)\n    const eventDetailsDialogVisible = ref(false)\n    const editEventDialogVisible = ref(false)\n    \n    // 新建日程\n    const newEvent = ref({\n      title: '',\n      start: '',\n      end: '',\n      location: '',\n      type: 'blue',\n      reminder: '30min',\n      description: '',\n      is_all_day: false\n    })\n    \n    // 选中的日程\n    const selectedEvent = ref({})\n    \n    // 正在编辑的日程\n    const editingEvent = ref({\n      id: '',\n      title: '',\n      start: '',\n      end: '',\n      location: '',\n      type: 'blue',\n      reminder: '30min',\n      description: '',\n      is_all_day: false\n    })\n    \n    // 生成月视图的日期数据\n    const days = computed(() => {\n      const result = []\n      const today = new Date()\n      \n      // 获取当月第一天是星期几\n      const firstDay = getFirstDayOfMonth(currentDate.value).getDay()\n      \n      // 获取当月天数\n      const daysInMonth = getDaysInMonth(currentDate.value)\n      \n      // 获取上个月天数\n      const daysInLastMonth = getDaysInMonth(\n        new Date(currentDate.value.getFullYear(), currentDate.value.getMonth() - 1)\n      )\n      \n      // 添加上个月的日期\n      for (let i = firstDay - 1; i >= 0; i--) {\n        const day = daysInLastMonth - i\n        const date = new Date(currentDate.value.getFullYear(), currentDate.value.getMonth() - 1, day)\n        result.push({\n          date: day,\n          isCurrentMonth: false,\n          isToday: isSameDay(date, today),\n          events: getDayEvents(date)\n        })\n      }\n      \n      // 添加当月的日期\n      for (let i = 1; i <= daysInMonth; i++) {\n        const date = new Date(currentDate.value.getFullYear(), currentDate.value.getMonth(), i)\n        result.push({\n          date: i,\n          isCurrentMonth: true,\n          isToday: isSameDay(date, today),\n          events: getDayEvents(date)\n        })\n      }\n      \n      // 添加下个月的日期，补满42个格子（6行7列）\n      const remaining = 42 - result.length\n      for (let i = 1; i <= remaining; i++) {\n        const date = new Date(currentDate.value.getFullYear(), currentDate.value.getMonth() + 1, i)\n        result.push({\n          date: i,\n          isCurrentMonth: false,\n          isToday: isSameDay(date, today),\n          events: getDayEvents(date)\n        })\n      }\n      \n      return result\n    })\n    \n    // 周视图数据\n    const weekDates = computed(() => {\n      const result = []\n      const date = new Date(currentDate.value)\n      const day = date.getDay()\n      \n      // 设置到本周的周日\n      date.setDate(date.getDate() - day)\n      \n      // 生成一周的日期\n      for (let i = 0; i < 7; i++) {\n        const currentDate = new Date(date)\n        currentDate.setDate(date.getDate() + i)\n        \n        result.push({\n          date: currentDate.getDate(),\n          dayName: weekDays.value[i],\n          isToday: isSameDay(currentDate, new Date()),\n          fullDate: currentDate,\n          events: getDayEvents(currentDate)\n        })\n      }\n      \n      return result\n    })\n    \n    // 日视图事件\n    const dayEvents = computed(() => {\n      return getDayEvents(currentDate.value)\n    })\n    \n    // 加载月视图数据\n    const loadMonthlyEvents = async () => {\n      try {\n        const year = currentDate.value.getFullYear()\n        const month = currentDate.value.getMonth() + 1 // API需要1-12的月份\n        \n        const response = await getMonthlyEvents(year, month)\n        if (response.success) {\n          events.value = parseEventsData(response.data)\n        }\n      } catch (error) {\n        console.error('加载月度事件失败:', error)\n        ElMessage.error('加载月度事件失败')\n      }\n    }\n    \n    // 加载周视图数据\n    const loadWeeklyEvents = async () => {\n      try {\n        const date = formatDateString(currentDate.value)\n        const response = await getWeeklyEvents(date)\n        \n        if (response.success) {\n          events.value = parseEventsData(response.data)\n        }\n      } catch (error) {\n        console.error('加载周事件失败:', error)\n        ElMessage.error('加载周事件失败')\n      }\n    }\n    \n    // 加载日视图数据\n    const loadDailyEvents = async () => {\n      try {\n        const date = formatDateString(currentDate.value)\n        const response = await getDailyEvents(date)\n        \n        if (response.success) {\n          events.value = parseEventsData(response.data)\n        }\n      } catch (error) {\n        console.error('加载日事件失败:', error)\n        ElMessage.error('加载日事件失败')\n      }\n    }\n    \n    // 根据视图类型加载事件\n    const loadEvents = () => {\n      if (calendarView.value === 'month') {\n        loadMonthlyEvents()\n      } else if (calendarView.value === 'week') {\n        loadWeeklyEvents()\n      } else if (calendarView.value === 'day') {\n        loadDailyEvents()\n      }\n    }\n    \n    // 解析事件数据\n    const parseEventsData = (data) => {\n      return data.map(item => {\n        // 确保日期正确解析，处理时区问题\n        let startDate, endDate;\n        \n        try {\n          startDate = new Date(item.start);\n          endDate = new Date(item.end);\n          \n          // 验证日期是否有效\n          if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {\n            console.error('无效的日期格式:', item.start, item.end);\n            startDate = new Date();\n            endDate = new Date(startDate.getTime() + 60 * 60 * 1000);\n          }\n        } catch (error) {\n          console.error('解析日期出错:', error);\n          startDate = new Date();\n          endDate = new Date(startDate.getTime() + 60 * 60 * 1000);\n        }\n        \n        return {\n          id: item.id,\n          title: item.title,\n          start: startDate,\n          end: endDate,\n          location: item.location,\n          type: item.type,\n          reminder: item.reminder,\n          description: item.description,\n          is_all_day: item.is_all_day,\n          creator: item.creator,\n          creator_name: item.creator_name,\n          participants: item.participants,\n          participants_info: item.participants_info\n        };\n      });\n    }\n    \n    // 格式化日期为字符串\n    const formatDateString = (date) => {\n      const year = date.getFullYear()\n      const month = (date.getMonth() + 1).toString().padStart(2, '0')\n      const day = date.getDate().toString().padStart(2, '0')\n      return `${year}-${month}-${day}`\n    }\n    \n    // 日期选择\n    const selectDay = (day) => {\n      if (!day.isCurrentMonth) {\n        if (day.date > 15) {\n          // 前一个月\n          prev()\n        } else {\n          // 后一个月\n          next()\n        }\n      }\n    }\n    \n    // 返回今天\n    const today = () => {\n      currentDate.value = new Date()\n    }\n    \n    // 上一个时间单位\n    const prev = () => {\n      const date = new Date(currentDate.value)\n      if (calendarView.value === 'month') {\n        date.setMonth(date.getMonth() - 1)\n      } else if (calendarView.value === 'week') {\n        date.setDate(date.getDate() - 7)\n      } else if (calendarView.value === 'day') {\n        date.setDate(date.getDate() - 1)\n      }\n      currentDate.value = date\n    }\n    \n    // 下一个时间单位\n    const next = () => {\n      const date = new Date(currentDate.value)\n      if (calendarView.value === 'month') {\n        date.setMonth(date.getMonth() + 1)\n      } else if (calendarView.value === 'week') {\n        date.setDate(date.getDate() + 7)\n      } else if (calendarView.value === 'day') {\n        date.setDate(date.getDate() + 1)\n      }\n      currentDate.value = date\n    }\n    \n    // 显示添加日程对话框\n    const showAddEventDialog = () => {\n      newEvent.value = {\n        title: '',\n        start: formatDateForPicker(new Date()),\n        end: formatDateForPicker(new Date(new Date().getTime() + 60 * 60 * 1000)),\n        location: '',\n        type: 'blue',\n        reminder: '30min',\n        description: '',\n        is_all_day: false\n      }\n      addEventDialogVisible.value = true\n    }\n    \n    // 添加日程\n    const addEvent = async () => {\n      if (!newEvent.value.title) {\n        ElMessage.warning('请输入日程标题')\n        return\n      }\n      \n      if (!newEvent.value.start || !newEvent.value.end) {\n        ElMessage.warning('请选择日程时间')\n        return\n      }\n      \n      // 验证开始时间不晚于结束时间\n      const startTime = new Date(newEvent.value.start).getTime()\n      const endTime = new Date(newEvent.value.end).getTime()\n      if (startTime > endTime) {\n        ElMessage.warning('结束时间不能早于开始时间')\n        return\n      }\n      \n      // 验证开始和结束日期是同一天\n      const startDate = new Date(newEvent.value.start).toDateString()\n      const endDate = new Date(newEvent.value.end).toDateString()\n      if (startDate !== endDate) {\n        ElMessage.warning('开始和结束时间必须在同一天')\n        return\n      }\n      \n      try {\n        // 将日期字符串转换为ISO格式，确保时区一致\n        const startDateTime = new Date(newEvent.value.start).toISOString();\n        const endDateTime = new Date(newEvent.value.end).toISOString();\n        \n        const eventData = {\n          title: newEvent.value.title,\n          start: startDateTime,\n          end: endDateTime,\n          location: newEvent.value.location,\n          type: newEvent.value.type,\n          reminder: newEvent.value.reminder,\n          description: newEvent.value.description,\n          is_all_day: newEvent.value.is_all_day,\n          participants: [] // 默认只有创建者\n        }\n        \n        const response = await createEvent(eventData)\n        \n        if (response.success) {\n          ElMessage.success('日程添加成功')\n          addEventDialogVisible.value = false\n          loadEvents() // 重新加载事件\n        } else {\n          ElMessage.error(response.message || '日程添加失败')\n        }\n      } catch (error) {\n        console.error('添加日程失败:', error)\n        ElMessage.error('日程添加失败')\n      }\n    }\n    \n    // 显示日程详情\n    const showEventDetails = (event) => {\n      selectedEvent.value = event\n      eventDetailsDialogVisible.value = true\n    }\n    \n    // 显示编辑日程对话框\n    const showEditEventDialog = () => {\n      editingEvent.value = {\n        id: selectedEvent.value.id,\n        title: selectedEvent.value.title,\n        start: formatDateForPicker(selectedEvent.value.start),\n        end: formatDateForPicker(selectedEvent.value.end),\n        location: selectedEvent.value.location || '',\n        type: selectedEvent.value.type,\n        reminder: selectedEvent.value.reminder,\n        description: selectedEvent.value.description || '',\n        is_all_day: selectedEvent.value.is_all_day || false\n      }\n      \n      eventDetailsDialogVisible.value = false\n      editEventDialogVisible.value = true\n    }\n    \n    // 保存编辑的日程\n    const saveEditEvent = async () => {\n      if (!editingEvent.value.title) {\n        ElMessage.warning('请输入日程标题')\n        return\n      }\n      \n      if (!editingEvent.value.start || !editingEvent.value.end) {\n        ElMessage.warning('请选择日程时间')\n        return\n      }\n      \n      // 验证开始时间不晚于结束时间\n      const startTime = new Date(editingEvent.value.start).getTime()\n      const endTime = new Date(editingEvent.value.end).getTime()\n      if (startTime > endTime) {\n        ElMessage.warning('结束时间不能早于开始时间')\n        return\n      }\n      \n      // 验证开始和结束日期是同一天\n      const startDate = new Date(editingEvent.value.start).toDateString()\n      const endDate = new Date(editingEvent.value.end).toDateString()\n      if (startDate !== endDate) {\n        ElMessage.warning('开始和结束时间必须在同一天')\n        return\n      }\n      \n      try {\n        // 将日期字符串转换为ISO格式，确保时区一致\n        const startDateTime = new Date(editingEvent.value.start).toISOString();\n        const endDateTime = new Date(editingEvent.value.end).toISOString();\n        \n        const eventData = {\n          title: editingEvent.value.title,\n          start: startDateTime,\n          end: endDateTime,\n          location: editingEvent.value.location,\n          type: editingEvent.value.type,\n          reminder: editingEvent.value.reminder,\n          description: editingEvent.value.description,\n          is_all_day: editingEvent.value.is_all_day\n        }\n        \n        const response = await updateEvent(editingEvent.value.id, eventData)\n        \n        if (response.success) {\n          ElMessage.success('日程更新成功')\n          editEventDialogVisible.value = false\n          loadEvents() // 重新加载事件\n        } else {\n          ElMessage.error(response.message || '日程更新失败')\n        }\n      } catch (error) {\n        console.error('更新日程失败:', error)\n        ElMessage.error('日程更新失败')\n      }\n    }\n    \n    // 删除日程\n    const deleteEvent = async () => {\n      try {\n        await ElMessageBox.confirm('确定要删除该日程吗？', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        \n        const response = await deleteCalendarEvent(selectedEvent.value.id)\n        \n        if (response.success) {\n          ElMessage.success('日程删除成功')\n          eventDetailsDialogVisible.value = false\n          loadEvents() // 重新加载事件\n        } else {\n          ElMessage.error(response.message || '日程删除失败')\n        }\n      } catch (error) {\n        if (error !== 'cancel') {\n          console.error('删除日程失败:', error)\n          ElMessage.error('日程删除失败')\n        }\n      }\n    }\n    \n    // 获取指定日期的事件\n    const getDayEvents = (date) => {\n      return events.value.filter(event => isSameDay(new Date(event.start), date))\n    }\n    \n    // 判断两个日期是否是同一天\n    const isSameDay = (date1, date2) => {\n      return date1.getFullYear() === date2.getFullYear() &&\n             date1.getMonth() === date2.getMonth() &&\n             date1.getDate() === date2.getDate()\n    }\n    \n    // 获取月份的第一天\n    const getFirstDayOfMonth = (date) => {\n      return new Date(date.getFullYear(), date.getMonth(), 1)\n    }\n    \n    // 获取月份的天数\n    const getDaysInMonth = (date) => {\n      return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate()\n    }\n    \n    // 计算事件在时间轴上的位置\n    const calcEventTop = (event) => {\n      if (!event || !event.start) return 0\n      try {\n        const hours = event.start.getHours()\n        const minutes = event.start.getMinutes()\n        // 每小时60px高度，每15分钟15px\n        return (hours * 60 + minutes) / 15 * 15\n      } catch (error) {\n        console.error('计算事件位置错误:', error)\n        return 0\n      }\n    }\n    \n    // 计算事件的高度\n    const calcEventHeight = (event) => {\n      if (!event || !event.start || !event.end) return 60 // 默认高度1小时\n      try {\n        const startTime = event.start.getTime()\n        const endTime = event.end.getTime()\n        const duration = (endTime - startTime) / (1000 * 60) // 分钟数\n        \n        // 如果是全天事件，则高度固定\n        if (event.is_all_day) {\n          return 24\n        }\n        \n        // 最小高度30px (30分钟)\n        return Math.max(duration / 15 * 15, 30)\n      } catch (error) {\n        console.error('计算事件高度错误:', error)\n        return 60\n      }\n    }\n    \n    // 格式化事件时间\n    const formatEventTime = (event) => {\n      const start = event.start\n      const end = event.end\n      \n      return `${start.getHours().toString().padStart(2, '0')}:${start.getMinutes().toString().padStart(2, '0')} - ${end.getHours().toString().padStart(2, '0')}:${end.getMinutes().toString().padStart(2, '0')}`\n    }\n    \n    // 格式化事件日期时间\n    const formatEventDateTime = (event) => {\n      if (!event.start || !event.end) return ''\n      \n      const options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      }\n      \n      return `${event.start.toLocaleDateString('zh-CN', options)} - ${event.end.toLocaleDateString('zh-CN', options)}`\n    }\n    \n    // 格式化提醒时间\n    const formatReminder = (reminder) => {\n      switch (reminder) {\n        case 'none':\n          return '不提醒'\n        case '10min':\n          return '10分钟前'\n        case '30min':\n          return '30分钟前'\n        case '1hour':\n          return '1小时前'\n        case '1day':\n          return '1天前'\n        default:\n          return '未设置'\n      }\n    }\n    \n    // 为日期选择器格式化日期\n    const formatDateForPicker = (date) => {\n      if (!date) return '';\n      \n      // 确保使用Date对象\n      const dateObj = date instanceof Date ? date : new Date(date);\n      \n      const year = dateObj.getFullYear();\n      const month = (dateObj.getMonth() + 1).toString().padStart(2, '0');\n      const day = dateObj.getDate().toString().padStart(2, '0');\n      const hours = dateObj.getHours().toString().padStart(2, '0');\n      const minutes = dateObj.getMinutes().toString().padStart(2, '0');\n      \n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    }\n    \n    // 处理开始时间变化，自动设置结束时间为1小时后\n    const handleStartTimeChange = (event) => {\n      if (!event.start) return\n      \n      try {\n        // 解析开始时间\n        const startTime = new Date(event.start)\n        \n        // 如果全天事件，则结束时间设置为同一天的23:59\n        if (event.is_all_day) {\n          const endTime = new Date(startTime)\n          endTime.setHours(23, 59, 0)\n          event.end = formatDateForPicker(endTime)\n          return\n        }\n        \n        // 计算开始时间1小时后的时间\n        const endTime = new Date(startTime.getTime() + 60 * 60 * 1000)\n        \n        // 如果结束时间未设置，或结束时间早于开始时间，或结束时间不在同一天\n        // 则自动设置结束时间\n        if (!event.end || \n            new Date(event.end) < startTime || \n            new Date(event.end).toDateString() !== startTime.toDateString()) {\n          event.end = formatDateForPicker(endTime)\n        }\n      } catch (error) {\n        console.error('处理开始时间变化错误:', error)\n      }\n    }\n    \n    // 监听日历视图变化\n    watch(calendarView, () => {\n      loadEvents()\n    })\n    \n    // 监听当前日期变化\n    watch(currentDate, () => {\n      loadEvents()\n    })\n    \n    // 监听全天事件变化\n    watch(() => newEvent.value.is_all_day, (isAllDay) => {\n      if (isAllDay && newEvent.value.start) {\n        // 如果勾选全天事件，设置开始时间为当天0:00，结束时间为23:59\n        const startDate = new Date(newEvent.value.start)\n        startDate.setHours(0, 0, 0)\n        newEvent.value.start = formatDateForPicker(startDate)\n        \n        const endDate = new Date(startDate)\n        endDate.setHours(23, 59, 0)\n        newEvent.value.end = formatDateForPicker(endDate)\n      }\n    })\n    \n    // 监听编辑事件的全天事件变化\n    watch(() => editingEvent.value.is_all_day, (isAllDay) => {\n      if (isAllDay && editingEvent.value.start) {\n        // 如果勾选全天事件，设置开始时间为当天0:00，结束时间为23:59\n        const startDate = new Date(editingEvent.value.start)\n        startDate.setHours(0, 0, 0)\n        editingEvent.value.start = formatDateForPicker(startDate)\n        \n        const endDate = new Date(startDate)\n        endDate.setHours(23, 59, 0)\n        editingEvent.value.end = formatDateForPicker(endDate)\n      }\n    })\n    \n    onMounted(() => {\n      // 初始化加载事件\n      loadEvents()\n    })\n    \n    return {\n      calendarView,\n      currentDate,\n      currentDateLabel,\n      weekDays,\n      days,\n      weekDates,\n      dayEvents,\n      addEventDialogVisible,\n      eventDetailsDialogVisible,\n      editEventDialogVisible,\n      newEvent,\n      selectedEvent,\n      editingEvent,\n      today,\n      prev,\n      next,\n      selectDay,\n      showAddEventDialog,\n      addEvent,\n      showEventDetails,\n      showEditEventDialog,\n      saveEditEvent,\n      deleteEvent,\n      calcEventTop,\n      calcEventHeight,\n      formatEventTime,\n      formatEventDateTime,\n      formatReminder,\n      // Element Plus 图标\n      ArrowLeft,\n      ArrowRight,\n      Plus,\n      handleStartTimeChange\n    }\n  }\n}\n</script>\n\n<style scoped>\n.calendar-container {\n  padding: 20px;\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.date-controls {\n  display: flex;\n  align-items: center;\n}\n\n.date-nav {\n  display: flex;\n  align-items: center;\n  margin-left: 15px;\n}\n\n.current-date {\n  margin: 0 15px;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.view-controls {\n  margin: 0 15px;\n}\n\n/* 月视图样式 */\n.calendar-weekdays {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.weekday {\n  text-align: center;\n  padding: 10px;\n  font-weight: 500;\n  color: #6c757d;\n}\n\n.calendar-days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  height: 700px;\n}\n\n.calendar-day {\n  border: 1px solid #f0f0f0;\n  padding: 8px;\n  position: relative;\n  overflow: hidden;\n  background-color: #fff;\n}\n\n.calendar-day:hover {\n  background-color: #f9f9f9;\n}\n\n.calendar-day.today {\n  background-color: #f0f7ff;\n}\n\n.calendar-day.other-month {\n  background-color: #f8f9fa;\n  color: #adb5bd;\n}\n\n.day-number {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 5px;\n}\n\n.event-container {\n  overflow: hidden;\n}\n\n.event-item {\n  margin-bottom: 2px;\n  padding: 2px 4px;\n  border-radius: 3px;\n  font-size: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n}\n\n.event-more {\n  font-size: 11px;\n  color: #6c757d;\n  text-align: center;\n  margin-top: 5px;\n}\n\n/* 事件类型颜色 */\n.event-blue {\n  background-color: #e6f4ff;\n  color: #1677ff;\n  border-left: 3px solid #1677ff;\n}\n\n.event-orange {\n  background-color: #fff7e6;\n  color: #fa8c16;\n  border-left: 3px solid #fa8c16;\n}\n\n.event-green {\n  background-color: #f6ffed;\n  color: #52c41a;\n  border-left: 3px solid #52c41a;\n}\n\n.event-red {\n  background-color: #fff1f0;\n  color: #f5222d;\n  border-left: 3px solid #f5222d;\n}\n\n.event-purple {\n  background-color: #f9f0ff;\n  color: #722ed1;\n  border-left: 3px solid #722ed1;\n}\n\n/* 周视图样式 */\n.calendar-week {\n  display: flex;\n  flex-direction: column;\n  height: 700px;\n  border: 1px solid #f0f0f0;\n}\n\n.week-header {\n  display: flex;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.week-time-col {\n  width: 60px;\n  border-right: 1px solid #f0f0f0;\n}\n\n.week-day-col {\n  flex: 1;\n  text-align: center;\n  padding: 10px;\n  border-right: 1px solid #f0f0f0;\n}\n\n.week-day-col:last-child {\n  border-right: none;\n}\n\n.week-day-col.today {\n  background-color: #f0f7ff;\n}\n\n.week-day-name {\n  font-weight: 500;\n  margin-bottom: 5px;\n}\n\n.week-body {\n  display: flex;\n  flex: 1;\n  overflow-y: auto;\n}\n\n.week-time-scale {\n  width: 60px;\n  border-right: 1px solid #f0f0f0;\n}\n\n.time-slot {\n  height: 60px;\n  padding: 2px 5px;\n  font-size: 12px;\n  text-align: right;\n  color: #6c757d;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.week-events-container {\n  display: flex;\n  flex: 1;\n}\n\n.week-day-events {\n  flex: 1;\n  position: relative;\n  border-right: 1px solid #f0f0f0;\n}\n\n.week-day-events:last-child {\n  border-right: none;\n}\n\n.week-event {\n  position: absolute;\n  width: 90%;\n  left: 5%;\n  border-radius: 3px;\n  padding: 5px;\n  font-size: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  z-index: 1;\n}\n\n.week-event-title {\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.week-event-time {\n  font-size: 11px;\n  margin-top: 2px;\n}\n\n/* 日视图样式 */\n.calendar-day-view {\n  display: flex;\n  flex-direction: column;\n  height: 700px;\n  border: 1px solid #f0f0f0;\n}\n\n.day-header {\n  padding: 10px;\n  border-bottom: 1px solid #f0f0f0;\n  background-color: #f0f7ff;\n}\n\n.day-date {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.day-body {\n  display: flex;\n  flex: 1;\n  overflow-y: auto;\n}\n\n.day-time-scale {\n  width: 60px;\n  border-right: 1px solid #f0f0f0;\n}\n\n.day-events-container {\n  flex: 1;\n  position: relative;\n}\n\n.day-event {\n  position: absolute;\n  width: 80%;\n  left: 10%;\n  border-radius: 3px;\n  padding: 8px;\n  font-size: 13px;\n  overflow: hidden;\n  cursor: pointer;\n  z-index: 1;\n}\n\n.day-event-title {\n  font-weight: 500;\n  margin-bottom: 5px;\n}\n\n.day-event-time {\n  font-size: 12px;\n  margin-bottom: 5px;\n}\n\n.day-event-location {\n  font-size: 12px;\n}\n\n/* 日程详情样式 */\n.event-details {\n  margin-top: 10px;\n}\n\n.event-detail-item {\n  display: flex;\n  margin-bottom: 15px;\n  align-items: flex-start;\n}\n\n.event-detail-item i {\n  margin-right: 10px;\n  font-size: 16px;\n  color: #6c757d;\n}\n\n.event-description {\n  white-space: pre-line;\n}\n</style> "],"mappings":"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","ignoreList":[]}]}