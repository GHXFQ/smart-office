{"remainingRequest":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\src\\views\\knowledge\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\src\\views\\knowledge\\Index.vue","mtime":1746766931880},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLnNpemUuanMiOwppbXBvcnQgeyByZWYsIHJlYWN0aXZlLCBjb21wdXRlZCwgb25Nb3VudGVkLCBvbkJlZm9yZVVubW91bnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBFbE1lc3NhZ2UsIEVsTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IFNlYXJjaCwgVXBsb2FkLCBGb2xkZXJBZGQsIFZpZXcsIERvd25sb2FkLCBNb3JlLCBTaGFyZSwgRWRpdCwgRWRpdFBlbiwgRm9sZGVyT3BlbmVkLCBTdGFyLCBEZWxldGUsIERvY3VtZW50LCBGaWxlcywgVGlja2V0cywgRGF0YUFuYWx5c2lzLCBQaWN0dXJlRmlsbGVkLCBVcGxvYWRGaWxsZWQsIExvYWRpbmcsIExpc3QsIEdyaWQsIENyb3AsIFNwbGl0Q2VsbHMsIFBsdXMgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmltcG9ydCB7IGdldENhdGVnb3JpZXMsIGdldERvY3VtZW50cywgZ2V0RG9jdW1lbnRDaHVua3MsIHVwbG9hZERvY3VtZW50LCBkZWxldGVDYXRlZ29yeSwgdXBkYXRlQ2F0ZWdvcnksIGFkZENhdGVnb3J5IH0gZnJvbSAnQC9hcGkva25vd2xlZGdlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdLbm93bGVkZ2UnLAogIHNldHVwKCkgewogICAgY29uc3QgQVBJX1VSTCA9ICcvYXBpL2tub3dsZWRnZSc7CgogICAgLy8g54q25oCB5Y+Y6YePCiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHJlZignJyk7CiAgICBjb25zdCBzZWxlY3RlZENhdGVnb3J5ID0gcmVmKCdhbGwnKTsKICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcmVmKDEpOwogICAgY29uc3QgcGFnZVNpemUgPSByZWYoMTApOwogICAgY29uc3QgdXBsb2FkVmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBzaG93Q2F0ZWdvcnlEaWFsb2cgPSByZWYoZmFsc2UpOwogICAgY29uc3Qgc2hvd0FkZENhdGVnb3J5Rm9ybSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBzaG93Q2h1bmtzRGlhbG9nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGVkaXRpbmdDYXRlZ29yeSA9IHJlZihudWxsKTsKICAgIGNvbnN0IHZpZXdNb2RlID0gcmVmKCdsaXN0Jyk7CiAgICBjb25zdCBzb3J0T3JkZXIgPSByZWYoJy1jcmVhdGVkX2F0Jyk7CiAgICBjb25zdCBjYXRlZ29yeUxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgbG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCB1cGxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgY2h1bmtzTG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBpc0FkbWluID0gcmVmKHRydWUpOyAvLyDlrp7pmYXlupTnlKjkuK3ku47nlKjmiLfkvJror53ojrflj5YKICAgIGNvbnN0IHNlbGVjdGVkRG9jdW1lbnQgPSByZWYobnVsbCk7CiAgICBjb25zdCBkb2N1bWVudENodW5rcyA9IHJlZihbXSk7CiAgICBjb25zdCB1cGxvYWRGb3JtUmVmID0gcmVmKG51bGwpOwogICAgY29uc3QgdG90YWxEb2NzID0gcmVmKDApOwoKICAgIC8vIOS4iuS8oOihqOWNlQogICAgY29uc3QgdXBsb2FkRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgdGl0bGU6ICcnLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGNhdGVnb3J5OiBudWxsLAogICAgICB0YWdzOiAnJywKICAgICAgZmlsZTogbnVsbCwKICAgICAgY2h1bmtfc2l6ZTogMTAwMCwKICAgICAgY2h1bmtfb3ZlcmxhcDogMjAwLAogICAgICBpc19wdWJsaWM6IGZhbHNlCiAgICB9KTsKCiAgICAvLyDkuIrkvKDooajljZXpqozor4Hop4TliJkKICAgIGNvbnN0IHVwbG9hZFJ1bGVzID0gewogICAgICB0aXRsZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paH5qGj5qCH6aKYJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIG1pbjogMiwKICAgICAgICBtYXg6IDEwMCwKICAgICAgICBtZXNzYWdlOiAn5qCH6aKY6ZW/5bqm5bqU5ZyoMuWIsDEwMOS4quWtl+espuS5i+mXtCcsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBmaWxlOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fkuIrkvKDmlofku7YnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH1dCiAgICB9OwoKICAgIC8vIOWIhuexu+ihqOWNlQogICAgY29uc3QgY2F0ZWdvcnlGb3JtID0gcmVhY3RpdmUoewogICAgICBpZDogbnVsbCwKICAgICAgbmFtZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgaWNvbjogJ0RvY3VtZW50JywKICAgICAgY29sb3I6ICcjNDA5RUZGJwogICAgfSk7CgogICAgLy8g562b6YCJ5p2h5Lu2CiAgICBjb25zdCBmaWx0ZXJzID0gcmVhY3RpdmUoewogICAgICB0eXBlczogewogICAgICAgIHBkZjogZmFsc2UsCiAgICAgICAgZG9jOiBmYWxzZSwKICAgICAgICB4bHM6IGZhbHNlLAogICAgICAgIHBwdDogZmFsc2UsCiAgICAgICAgaW1nOiBmYWxzZSwKICAgICAgICB0eHQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHN0YXR1czogJ2FsbCcsCiAgICAgIGRhdGU6ICdhbGwnLAogICAgICBkYXRlUmFuZ2U6IFtdCiAgICB9KTsKCiAgICAvLyDnn6Xor4bliIbnsbsKICAgIGNvbnN0IGNhdGVnb3JpZXMgPSByZWYoW3sKICAgICAgaWQ6ICdhbGwnLAogICAgICBuYW1lOiAn5YWo6YOo5paH5qGjJywKICAgICAgaWNvbjogJ0ZpbGVzJywKICAgICAgY29sb3I6ICcjMDA3YmZmJywKICAgICAgZG9jdW1lbnRfY291bnQ6IDAKICAgIH1dKTsKCiAgICAvLyDmlofmoaPliJfooagKICAgIGNvbnN0IGRvY3VtZW50cyA9IHJlZihbXSk7CgogICAgLy8g6K6h566X5bGe5oCnCiAgICBjb25zdCBjdXJyZW50Q2F0ZWdvcnlOYW1lID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpZXMudmFsdWUuZmluZChjYXQgPT4gY2F0LmlkID09PSBzZWxlY3RlZENhdGVnb3J5LnZhbHVlKTsKICAgICAgcmV0dXJuIGNhdGVnb3J5ID8gY2F0ZWdvcnkubmFtZSA6ICflhajpg6jmlofmoaMnOwogICAgfSk7CiAgICBjb25zdCBwcm9jZXNzaW5nQ291bnQgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBkb2N1bWVudHMudmFsdWUuZmlsdGVyKGRvYyA9PiBkb2Muc3RhdHVzID09PSAncHJvY2Vzc2luZycpLmxlbmd0aDsKICAgIH0pOwoKICAgIC8vIOaWueazlQogICAgY29uc3QgZmV0Y2hDYXRlZ29yaWVzID0gYXN5bmMgKCkgPT4gewogICAgICBjYXRlZ29yeUxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICBjb25zb2xlLmxvZygn5byA5aeL6I635Y+W55+l6K+G5bqT5YiG57G7Li4uJyk7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc29sZS5sb2coJ+ivt+axglVSTDonLCBgJHtBUElfVVJMfS9jYXRlZ29yaWVzL2ApOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q2F0ZWdvcmllcygpOwogICAgICAgIGNvbnNvbGUubG9nKCfojrflj5bliIbnsbvlk43lupQ6JywgcmVzcG9uc2UpOwoKICAgICAgICAvLyDmt7vliqAi5YWo6YOoIuWIhuexuwogICAgICAgIGNvbnN0IGFsbENhdGVnb3J5ID0gewogICAgICAgICAgaWQ6ICdhbGwnLAogICAgICAgICAgbmFtZTogJ+WFqOmDqOaWh+ahoycsCiAgICAgICAgICBpY29uOiAnRmlsZXMnLAogICAgICAgICAgY29sb3I6ICcjMDA3YmZmJywKICAgICAgICAgIGRvY3VtZW50X2NvdW50OiAwCiAgICAgICAgfTsKICAgICAgICBsZXQgY2F0ZWdvcnlMaXN0ID0gW107CgogICAgICAgIC8vIOWkhOeQhuS4jeWQjOagvOW8j+eahOWTjeW6lAogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgLy8g5qOA5p+l5paw55qEQVBJ5qC85byPCiAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0cyAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLnJlc3VsdHMpKSB7CiAgICAgICAgICAgIGNhdGVnb3J5TGlzdCA9IHJlc3BvbnNlLnJlc3VsdHM7CiAgICAgICAgICB9CiAgICAgICAgICAvLyDlkJHlkI7lhbzlrrnvvIzlpITnkIbml6fmoLzlvI8KICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7CiAgICAgICAgICAgIGNhdGVnb3J5TGlzdCA9IHJlc3BvbnNlOwogICAgICAgICAgfQogICAgICAgICAgLy8g5YW25LuW5qC85byP5aSE55CGCiAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2UgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIC8vIOWwneivleaPkOWPluWPr+iDveeahOaVsOaNruaVsOe7hAogICAgICAgICAgICBjb25zdCBwb3NzaWJsZUFycmF5RmllbGRzID0gWydkYXRhJywgJ2NhdGVnb3JpZXMnLCAnaXRlbXMnXTsKICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBwb3NzaWJsZUFycmF5RmllbGRzKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlW2ZpZWxkXSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlW2ZpZWxkXSkpIHsKICAgICAgICAgICAgICAgIGNhdGVnb3J5TGlzdCA9IHJlc3BvbnNlW2ZpZWxkXTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKGNhdGVnb3J5TGlzdCAmJiBjYXRlZ29yeUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygn5om+5Yiw5YiG57G75pWw5o2u77yM5pWw6YePOicsIGNhdGVnb3J5TGlzdC5sZW5ndGgpOwogICAgICAgICAgICBhbGxDYXRlZ29yeS5kb2N1bWVudF9jb3VudCA9IGNhdGVnb3J5TGlzdC5yZWR1Y2UoKHN1bSwgY2F0KSA9PiBzdW0gKyAoY2F0LmRvY3VtZW50X2NvdW50IHx8IDApLCAwKTsKICAgICAgICAgICAgY2F0ZWdvcmllcy52YWx1ZSA9IFthbGxDYXRlZ29yeSwgLi4uY2F0ZWdvcnlMaXN0XTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+acquaJvuWIsOacieaViOeahOWIhuexu+aVsOaNricpOwogICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSkgewogICAgICAgICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfmnKrmib7liLDliIbnsbvmlbDmja7vvIzor7flhYjliJvlu7rliIbnsbsnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRlZ29yaWVzLnZhbHVlID0gW2FsbENhdGVnb3J5XTsgLy8g6Iez5bCR5pi+56S6IuWFqOmDqOaWh+ahoyLliIbnsbsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcign5ZON5bqU5Li656m6Jyk7CiAgICAgICAgICBFbE1lc3NhZ2Uud2FybmluZygn6I635Y+W5YiG57G75aSx6LSl77yM6K+35qOA5p+l572R57uc6L+e5o6lJyk7CiAgICAgICAgICBjYXRlZ29yaWVzLnZhbHVlID0gW2FsbENhdGVnb3J5XTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5YiG57G75aSx6LSlOicsIGVycm9yKTsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+mUmeivr+WTjeW6lOeKtuaAgTonLCBlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5ZON5bqU5pWw5o2uOicsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+aXoOazleWKoOi9veefpeivhuW6k+WIhuexu++8jOivt+ajgOafpee9kee7nOi/nuaOpeaIluiBlOezu+euoeeQhuWRmCcpOwogICAgICAgIC8vIOehruS/neiHs+WwkeaciSLlhajpg6gi5YiG57G75Y+v5pi+56S6CiAgICAgICAgY2F0ZWdvcmllcy52YWx1ZSA9IFt7CiAgICAgICAgICBpZDogJ2FsbCcsCiAgICAgICAgICBuYW1lOiAn5YWo6YOo5paH5qGjJywKICAgICAgICAgIGljb246ICdGaWxlcycsCiAgICAgICAgICBjb2xvcjogJyMwMDdiZmYnLAogICAgICAgICAgZG9jdW1lbnRfY291bnQ6IDAKICAgICAgICB9XTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBjYXRlZ29yeUxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IGZldGNoRG9jdW1lbnRzID0gYXN5bmMgKCkgPT4gewogICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICAvLyDmnoTlu7rlj4LmlbDlr7nosaEKICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICBwYWdlOiBjdXJyZW50UGFnZS52YWx1ZSwKICAgICAgICAgIHBhZ2Vfc2l6ZTogcGFnZVNpemUudmFsdWUsCiAgICAgICAgICBvcmRlcmluZzogc29ydE9yZGVyLnZhbHVlCiAgICAgICAgfTsKCiAgICAgICAgLy8g5re75Yqg562b6YCJ5p2h5Lu2CiAgICAgICAgaWYgKHNlbGVjdGVkQ2F0ZWdvcnkudmFsdWUgJiYgc2VsZWN0ZWRDYXRlZ29yeS52YWx1ZSAhPT0gJ2FsbCcpIHsKICAgICAgICAgIHBhcmFtcy5jYXRlZ29yeSA9IHNlbGVjdGVkQ2F0ZWdvcnkudmFsdWU7CiAgICAgICAgfQoKICAgICAgICAvLyDmt7vliqDmkJzntKLmn6Xor6IKICAgICAgICBpZiAoc2VhcmNoUXVlcnkudmFsdWUpIHsKICAgICAgICAgIHBhcmFtcy5zZWFyY2ggPSBzZWFyY2hRdWVyeS52YWx1ZTsKICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOaWh+S7tuexu+Wei+etm+mAiQogICAgICAgIGNvbnN0IHNlbGVjdGVkVHlwZXMgPSBbXTsKICAgICAgICBmb3IgKGNvbnN0IFt0eXBlLCBzZWxlY3RlZF0gb2YgT2JqZWN0LmVudHJpZXMoZmlsdGVycy50eXBlcykpIHsKICAgICAgICAgIGlmIChzZWxlY3RlZCkgc2VsZWN0ZWRUeXBlcy5wdXNoKHR5cGUpOwogICAgICAgIH0KICAgICAgICBpZiAoc2VsZWN0ZWRUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBwYXJhbXMuZmlsZV90eXBlID0gc2VsZWN0ZWRUeXBlcy5qb2luKCcsJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDmt7vliqDnirbmgIHnrZvpgIkKICAgICAgICBpZiAoZmlsdGVycy5zdGF0dXMgIT09ICdhbGwnKSB7CiAgICAgICAgICBwYXJhbXMuc3RhdHVzID0gZmlsdGVycy5zdGF0dXM7CiAgICAgICAgfQoKICAgICAgICAvLyDmt7vliqDml6XmnJ/nrZvpgIkKICAgICAgICBpZiAoZmlsdGVycy5kYXRlICE9PSAnYWxsJykgewogICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgIGxldCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgaWYgKGZpbHRlcnMuZGF0ZSA9PT0gJ3RvZGF5JykgewogICAgICAgICAgICBzdGFydERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcnMuZGF0ZSA9PT0gJ3dlZWsnKSB7CiAgICAgICAgICAgIHN0YXJ0RGF0ZS5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBub3cuZ2V0RGF5KCkpOwogICAgICAgICAgICBzdGFydERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcnMuZGF0ZSA9PT0gJ21vbnRoJykgewogICAgICAgICAgICBzdGFydERhdGUuc2V0RGF0ZSgxKTsKICAgICAgICAgICAgc3RhcnREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzLmRhdGUgPT09ICdjdXN0b20nICYmIGZpbHRlcnMuZGF0ZVJhbmdlLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICBzdGFydERhdGUgPSBmaWx0ZXJzLmRhdGVSYW5nZVswXTsKICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGZpbHRlcnMuZGF0ZVJhbmdlWzFdOwogICAgICAgICAgICBwYXJhbXMuY3JlYXRlZF9hZnRlciA9IGZvcm1hdERhdGVGb3JBUEkoc3RhcnREYXRlKTsKICAgICAgICAgICAgcGFyYW1zLmNyZWF0ZWRfYmVmb3JlID0gZm9ybWF0RGF0ZUZvckFQSShlbmREYXRlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBhcmFtcy5jcmVhdGVkX2FmdGVyID0gZm9ybWF0RGF0ZUZvckFQSShzdGFydERhdGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldERvY3VtZW50cyhwYXJhbXMpOwogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPluaWh+aho+WTjeW6lDonLCByZXNwb25zZSk7CgogICAgICAgICAgLy8g5aSE55CG5LiN5ZCM5qC85byP55qE5ZON5bqUCiAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0cyAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLnJlc3VsdHMpKSB7CiAgICAgICAgICAgIC8vIOWIhumhteagvOW8j+eahOWTjeW6lAogICAgICAgICAgICBkb2N1bWVudHMudmFsdWUgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgICB0b3RhbERvY3MudmFsdWUgPSByZXNwb25zZS5jb3VudCB8fCByZXNwb25zZS50b3RhbCB8fCBkb2N1bWVudHMudmFsdWUubGVuZ3RoOwogICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlKSkgewogICAgICAgICAgICAvLyDmlbDnu4TmoLzlvI/nmoTlk43lupQKICAgICAgICAgICAgZG9jdW1lbnRzLnZhbHVlID0gcmVzcG9uc2U7CiAgICAgICAgICAgIHRvdGFsRG9jcy52YWx1ZSA9IHJlc3BvbnNlLmxlbmd0aDsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKSB7CiAgICAgICAgICAgIC8vIOWPpuS4gOenjeW4uOingeeahOWvueixoeWMheijheagvOW8jwogICAgICAgICAgICBkb2N1bWVudHMudmFsdWUgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB0b3RhbERvY3MudmFsdWUgPSByZXNwb25zZS50b3RhbCB8fCByZXNwb25zZS5jb3VudCB8fCBkb2N1bWVudHMudmFsdWUubGVuZ3RoOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2UgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIC8vIOWwneivleaPkOWPluWPr+iDveeahOaWh+aho+WIl+ihqAogICAgICAgICAgICBjb25zdCBwb3NzaWJsZURvY3VtZW50cyA9IE9iamVjdC52YWx1ZXMocmVzcG9uc2UpLmZpbHRlcihpdGVtID0+IGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICgndGl0bGUnIGluIGl0ZW0gfHwgJ2ZpbGUnIGluIGl0ZW0pKTsKICAgICAgICAgICAgaWYgKHBvc3NpYmxlRG9jdW1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBkb2N1bWVudHMudmFsdWUgPSBwb3NzaWJsZURvY3VtZW50czsKICAgICAgICAgICAgICB0b3RhbERvY3MudmFsdWUgPSBwb3NzaWJsZURvY3VtZW50cy5sZW5ndGg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5peg5rOV5LuO5ZON5bqU5Lit5o+Q5Y+W5paH5qGj5YiX6KGoOicsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICBkb2N1bWVudHMudmFsdWUgPSBbXTsKICAgICAgICAgICAgICB0b3RhbERvY3MudmFsdWUgPSAwOwogICAgICAgICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfojrflj5bmlofmoaPliJfooajmoLzlvI/lvILluLgnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5paH5qGj5ZON5bqU5qC85byP5LiN5pSv5oyBOicsIHR5cGVvZiByZXNwb25zZSwgcmVzcG9uc2UpOwogICAgICAgICAgICBkb2N1bWVudHMudmFsdWUgPSBbXTsKICAgICAgICAgICAgdG90YWxEb2NzLnZhbHVlID0gMDsKICAgICAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+iOt+WPluaWh+aho+WIl+ihqOagvOW8j+S4jeaUr+aMgScpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb2N1bWVudHMudmFsdWUgPSBbXTsKICAgICAgICAgIHRvdGFsRG9jcy52YWx1ZSA9IDA7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluaWh+aho+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfml6Dms5XliqDovb3nn6Xor4blupPmlofmoaMnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBmZXRjaERvY3VtZW50Q2h1bmtzID0gYXN5bmMgZG9jdW1lbnRJZCA9PiB7CiAgICAgIGNodW5rc0xvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RG9jdW1lbnRDaHVua3MoZG9jdW1lbnRJZCk7CiAgICAgICAgZG9jdW1lbnRDaHVua3MudmFsdWUgPSByZXNwb25zZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmlofmoaPliIblnZflpLHotKU6JywgZXJyb3IpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5peg5rOV5Yqg6L295paH5qGj5YiG5Z2X5pWw5o2uJyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgY2h1bmtzTG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlUGFnZUNoYW5nZSA9IHBhZ2UgPT4gewogICAgICBjdXJyZW50UGFnZS52YWx1ZSA9IHBhZ2U7CiAgICAgIGZldGNoRG9jdW1lbnRzKCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlU2l6ZUNoYW5nZSA9IHNpemUgPT4gewogICAgICBwYWdlU2l6ZS52YWx1ZSA9IHNpemU7CiAgICAgIGN1cnJlbnRQYWdlLnZhbHVlID0gMTsKICAgICAgZmV0Y2hEb2N1bWVudHMoKTsKICAgIH07CiAgICBjb25zdCBzZWxlY3RDYXRlZ29yeSA9IGNhdGVnb3J5SWQgPT4gewogICAgICBzZWxlY3RlZENhdGVnb3J5LnZhbHVlID0gY2F0ZWdvcnlJZDsKICAgICAgY3VycmVudFBhZ2UudmFsdWUgPSAxOwogICAgICBmZXRjaERvY3VtZW50cygpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9ICgpID0+IHsKICAgICAgY3VycmVudFBhZ2UudmFsdWUgPSAxOwogICAgICBmZXRjaERvY3VtZW50cygpOwogICAgfTsKICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHsKICAgICAgY3VycmVudFBhZ2UudmFsdWUgPSAxOwogICAgICBmZXRjaERvY3VtZW50cygpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSBmaWxlID0+IHsKICAgICAgaWYgKGZpbGUgJiYgZmlsZS5yYXcpIHsKICAgICAgICB1cGxvYWRGb3JtLmZpbGUgPSBmaWxlLnJhdzsKICAgICAgICB1cGxvYWRGb3JtLnRpdGxlID0gdXBsb2FkRm9ybS50aXRsZSB8fCBmaWxlLm5hbWUuc3BsaXQoJy4nKVswXTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZVJlbW92ZSA9ICgpID0+IHsKICAgICAgdXBsb2FkRm9ybS5maWxlID0gbnVsbDsKICAgIH07CiAgICBjb25zdCBzdWJtaXRVcGxvYWQgPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghdXBsb2FkRm9ybVJlZi52YWx1ZSkgcmV0dXJuOwogICAgICB1cGxvYWRGb3JtUmVmLnZhbHVlLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47CiAgICAgICAgaWYgKCF1cGxvYWRGb3JtLmZpbGUpIHsKICAgICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHkuIrkvKDnmoTmlofku7YnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdXBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGl0bGUnLCB1cGxvYWRGb3JtLnRpdGxlKTsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGVzY3JpcHRpb24nLCB1cGxvYWRGb3JtLmRlc2NyaXB0aW9uIHx8ICcnKTsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHVwbG9hZEZvcm0uZmlsZSk7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NodW5rX3NpemUnLCB1cGxvYWRGb3JtLmNodW5rX3NpemUpOwogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjaHVua19vdmVybGFwJywgdXBsb2FkRm9ybS5jaHVua19vdmVybGFwKTsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaXNfcHVibGljJywgdXBsb2FkRm9ybS5pc19wdWJsaWMpOwogICAgICAgICAgaWYgKHVwbG9hZEZvcm0uY2F0ZWdvcnkpIHsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjYXRlZ29yeScsIHVwbG9hZEZvcm0uY2F0ZWdvcnkpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHVwbG9hZEZvcm0udGFncykgewogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RhZ3MnLCB1cGxvYWRGb3JtLnRhZ3MpOwogICAgICAgICAgfQogICAgICAgICAgYXdhaXQgdXBsb2FkRG9jdW1lbnQoZm9ybURhdGEpOwogICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+aWh+aho+S4iuS8oOaIkOWKn++8jOWQjuWPsOato+WcqOWkhOeQhuaWh+S7tuWGheWuuScpOwogICAgICAgICAgdXBsb2FkVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgIC8vIOmHjee9ruihqOWNleWSjOS4iuS8oOe7hOS7tueKtuaAgQogICAgICAgICAgaWYgKHVwbG9hZEZvcm1SZWYudmFsdWUpIHsKICAgICAgICAgICAgdXBsb2FkRm9ybVJlZi52YWx1ZS5yZXNldEZpZWxkcygpOwogICAgICAgICAgfQogICAgICAgICAgdXBsb2FkRm9ybS50aXRsZSA9ICcnOwogICAgICAgICAgdXBsb2FkRm9ybS5kZXNjcmlwdGlvbiA9ICcnOwogICAgICAgICAgdXBsb2FkRm9ybS5maWxlID0gbnVsbDsKICAgICAgICAgIHVwbG9hZEZvcm0udGFncyA9ICcnOwogICAgICAgICAgdXBsb2FkRm9ybS5jYXRlZ29yeSA9IG51bGw7CgogICAgICAgICAgLy8g5Yi35paw5paH5qGj5YiX6KGoCiAgICAgICAgICBmZXRjaERvY3VtZW50cygpOwogICAgICAgICAgZmV0Y2hDYXRlZ29yaWVzKCk7IC8vIOabtOaWsOWIhuexu+aWh+aho+iuoeaVsAogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfkuIrkvKDmlofmoaPlpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgbGV0IGVycm9yTXNnID0gJ+aWh+aho+S4iuS8oOWksei0pSc7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yLnJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICBlcnJvck1zZyArPSAnOiAnICsgZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsKSB7CiAgICAgICAgICAgICAgICBlcnJvck1zZyArPSAnOiAnICsgZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgIGVycm9yTXNnICs9ICc6ICcgKyBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgZXJyb3JNc2cgKz0gJzogJyArIGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICB9CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoZXJyb3JNc2cpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICB1cGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IHNob3dEb2N1bWVudENodW5rcyA9IGFzeW5jIGRvYyA9PiB7CiAgICAgIHNlbGVjdGVkRG9jdW1lbnQudmFsdWUgPSBkb2M7CiAgICAgIHNob3dDaHVua3NEaWFsb2cudmFsdWUgPSB0cnVlOwogICAgICBhd2FpdCBmZXRjaERvY3VtZW50Q2h1bmtzKGRvYy5pZCk7CiAgICB9OwogICAgY29uc3QgZWRpdENhdGVnb3J5ID0gY2F0ZWdvcnkgPT4gewogICAgICBlZGl0aW5nQ2F0ZWdvcnkudmFsdWUgPSBjYXRlZ29yeTsKICAgICAgY2F0ZWdvcnlGb3JtLmlkID0gY2F0ZWdvcnkuaWQ7CiAgICAgIGNhdGVnb3J5Rm9ybS5uYW1lID0gY2F0ZWdvcnkubmFtZTsKICAgICAgY2F0ZWdvcnlGb3JtLmRlc2NyaXB0aW9uID0gY2F0ZWdvcnkuZGVzY3JpcHRpb24gfHwgJyc7CiAgICAgIGNhdGVnb3J5Rm9ybS5pY29uID0gY2F0ZWdvcnkuaWNvbiB8fCAnRG9jdW1lbnQnOwogICAgICBjYXRlZ29yeUZvcm0uY29sb3IgPSBjYXRlZ29yeS5jb2xvciB8fCAnIzQwOUVGRic7CiAgICAgIHNob3dBZGRDYXRlZ29yeUZvcm0udmFsdWUgPSB0cnVlOyAvLyDmmL7npLrnvJbovpHooajljZUKICAgIH07CiAgICBjb25zdCBoYW5kbGVEZWxldGVDYXRlZ29yeSA9IGFzeW5jIGNhdGVnb3J5ID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBFbE1lc3NhZ2VCb3guY29uZmlybShg56Gu5a6a6KaB5Yig6Zmk5YiG57G7ICIke2NhdGVnb3J5Lm5hbWV9IiDlkJfvvJ9gLCAn5Yig6Zmk56Gu6K6kJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgICBhd2FpdCBkZWxldGVDYXRlZ29yeShjYXRlZ29yeS5pZCk7CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+WIhuexu+WIoOmZpOaIkOWKnycpOwogICAgICAgIGZldGNoQ2F0ZWdvcmllcygpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGlmIChlcnJvciAhPT0gJ2NhbmNlbCcpIHsKICAgICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UsIF9lcnJvciRyZXNwb25zZSRkYXRhOwogICAgICAgICAgY29uc29sZS5lcnJvcign5Yig6Zmk5YiG57G75aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcign5Yig6Zmk5YiG57G75aSx6LSlOiAnICsgKCgoX2Vycm9yJHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnJvciRyZXNwb25zZSRkYXRhID0gX2Vycm9yJHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2UkZGF0YS5kZXRhaWwpIHx8IGVycm9yLm1lc3NhZ2UgfHwgJ+acquefpemUmeivrycpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBzYXZlQ2F0ZWdvcnlGb3JtID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoIWNhdGVnb3J5Rm9ybS5uYW1lKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+ivt+i+k+WFpeWIhuexu+WQjeensCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5aSE55CG6aKc6Imy5YC877yM56Gu5L+d56ym5ZCI5ZCO56uvMjDlrZfnrKbplb/luqbpmZDliLYKICAgICAgaWYgKGNhdGVnb3J5Rm9ybS5jb2xvciAmJiBjYXRlZ29yeUZvcm0uY29sb3IubGVuZ3RoID4gMjApIHsKICAgICAgICAvLyDlpoLmnpzmmK/luKZhbHBoYemAmumBk+eahHJnYmHpopzoibLvvIzlsIblhbbovazkuLpoZXjmoLzlvI8KICAgICAgICBpZiAoY2F0ZWdvcnlGb3JtLmNvbG9yLnN0YXJ0c1dpdGgoJ3JnYmEnKSkgewogICAgICAgICAgLy8g566A5Y2V5aSE55CG77ya56e76ZmkYWxwaGHpgI/mmI7luqbvvIzovazkuLojUlJHR0JC5qC85byPCiAgICAgICAgICBjYXRlZ29yeUZvcm0uY29sb3IgPSBjYXRlZ29yeUZvcm0uY29sb3IucmVwbGFjZSgvcmdiYVwoKFxkKyksXHMqKFxkKyksXHMqKFxkKyksW14pXStcKS8sIChtYXRjaCwgciwgZywgYikgPT4gewogICAgICAgICAgICBjb25zdCB0b0hleCA9IGMgPT4gewogICAgICAgICAgICAgIGNvbnN0IGhleCA9IHBhcnNlSW50KGMpLnRvU3RyaW5nKDE2KTsKICAgICAgICAgICAgICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/ICcwJyArIGhleCA6IGhleDsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGAjJHt0b0hleChyKX0ke3RvSGV4KGcpfSR7dG9IZXgoYil9YDsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnlGb3JtLmNvbG9yLmluY2x1ZGVzKCdhbHBoYScpKSB7CiAgICAgICAgICAvLyDlpITnkIblhbbku5blj6/og73ljIXlkKthbHBoYeeahOminOiJsuagvOW8jwogICAgICAgICAgY2F0ZWdvcnlGb3JtLmNvbG9yID0gJyM0MDlFRkYnOyAvLyDkvb/nlKjpu5jorqTpopzoibIKICAgICAgICB9CgogICAgICAgIC8vIOWmguaenOminOiJsuWAvOS7jeeEtui2hei/hzIw5Liq5a2X56ym77yM5oiq5pat5oiW5L2/55So6buY6K6k6aKc6ImyCiAgICAgICAgaWYgKGNhdGVnb3J5Rm9ybS5jb2xvci5sZW5ndGggPiAyMCkgewogICAgICAgICAgY2F0ZWdvcnlGb3JtLmNvbG9yID0gY2F0ZWdvcnlGb3JtLmNvbG9yLnN1YnN0cmluZygwLCAyMCk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyDnoa7kv53lp4vnu4jmnInpu5jorqTlgLwKICAgICAgY2F0ZWdvcnlGb3JtLmljb24gPSBjYXRlZ29yeUZvcm0uaWNvbiB8fCAnRG9jdW1lbnQnOwogICAgICBjYXRlZ29yeUZvcm0uY29sb3IgPSBjYXRlZ29yeUZvcm0uY29sb3IgfHwgJyM0MDlFRkYnOwogICAgICB0cnkgewogICAgICAgIGlmIChlZGl0aW5nQ2F0ZWdvcnkudmFsdWUpIHsKICAgICAgICAgIC8vIOabtOaWsOWIhuexu++8jOS9v+eUqEFQSeWHveaVsAogICAgICAgICAgYXdhaXQgdXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnlGb3JtLmlkLCBjYXRlZ29yeUZvcm0pOwogICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+WIhuexu+abtOaWsOaIkOWKnycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDliJvlu7rmlrDliIbnsbvvvIzkvb/nlKhBUEnlh73mlbAKICAgICAgICAgIGF3YWl0IGFkZENhdGVnb3J5KGNhdGVnb3J5Rm9ybSk7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5YiG57G75Yib5bu65oiQ5YqfJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDliLfmlrDliIbnsbvliJfooajlubbph43nva7ooajljZXnirbmgIEKICAgICAgICBhd2FpdCBmZXRjaENhdGVnb3JpZXMoKTsKICAgICAgICBjYW5jZWxDYXRlZ29yeUZvcm0oKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfkv53lrZjliIbnsbvlpLHotKU6JywgZXJyb3IpOwogICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+S/neWtmOWIhuexu+Wksei0pTogJyArIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCB8fCBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgSlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSkpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfkv53lrZjliIbnsbvlpLHotKU6ICcgKyAoZXJyb3IubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJykpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIGNvbnN0IGNhbmNlbENhdGVnb3J5Rm9ybSA9ICgpID0+IHsKICAgICAgc2hvd0FkZENhdGVnb3J5Rm9ybS52YWx1ZSA9IGZhbHNlOwogICAgICBlZGl0aW5nQ2F0ZWdvcnkudmFsdWUgPSBudWxsOwogICAgICBjYXRlZ29yeUZvcm0uaWQgPSBudWxsOwogICAgICBjYXRlZ29yeUZvcm0ubmFtZSA9ICcnOwogICAgICBjYXRlZ29yeUZvcm0uZGVzY3JpcHRpb24gPSAnJzsKICAgICAgY2F0ZWdvcnlGb3JtLmljb24gPSAnRG9jdW1lbnQnOwogICAgICBjYXRlZ29yeUZvcm0uY29sb3IgPSAnIzQwOUVGRic7CiAgICB9OwogICAgY29uc3QgcmVzZXRDYXRlZ29yeUZvcm0gPSAoKSA9PiB7CiAgICAgIGVkaXRpbmdDYXRlZ29yeS52YWx1ZSA9IG51bGw7CiAgICAgIGNhdGVnb3J5Rm9ybS5pZCA9IG51bGw7CiAgICAgIGNhdGVnb3J5Rm9ybS5uYW1lID0gJyc7CiAgICAgIGNhdGVnb3J5Rm9ybS5kZXNjcmlwdGlvbiA9ICcnOwogICAgICBjYXRlZ29yeUZvcm0uaWNvbiA9ICdEb2N1bWVudCc7CiAgICAgIGNhdGVnb3J5Rm9ybS5jb2xvciA9ICcjNDA5RUZGJzsKICAgICAgc2hvd0FkZENhdGVnb3J5Rm9ybS52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIC8vIOaWh+S7tuaTjeS9nOWHveaVsAogICAgY29uc3QgcHJldmlld0RvY3VtZW50ID0gZG9jID0+IHsKICAgICAgaWYgKGRvYy5zdGF0dXMgIT09ICdjb21wbGV0ZWQnKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+aWh+aho+ato+WcqOWkhOeQhuS4re+8jOaaguaXtuaXoOazlemihOiniCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5aKe5Yqg5p+l55yL6K6h5pWwCiAgICAgIGF4aW9zLmdldChgJHtBUElfVVJMfS9kb2N1bWVudHMvJHtkb2MuaWR9L2ApLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCfmm7TmlrDmn6XnnIvorqHmlbDlpLHotKU6JywgZXJyKSk7CgogICAgICAvLyDov5nph4zlupTor6Xlrp7njrDmlofmoaPpooTop4jlip/og70KICAgICAgd2luZG93Lm9wZW4oZG9jLmZpbGVfdXJsLCAnX2JsYW5rJyk7CiAgICB9OwogICAgY29uc3QgZG93bmxvYWREb2N1bWVudCA9IGFzeW5jIGRvYyA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX1VSTH0vZG9jdW1lbnRzLyR7ZG9jLmlkfS9kb3dubG9hZC9gLCB7CiAgICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJwogICAgICAgIH0pOwoKICAgICAgICAvLyDliJvlu7rkuLTml7bkuIvovb3pk77mjqUKICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbcmVzcG9uc2UuZGF0YV0pKTsKICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IHVybDsKICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBkb2MudGl0bGUpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+aWh+aho+S4i+i9veaIkOWKnycpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+S4i+i9veaWh+aho+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfkuIvovb3mlofmoaPlpLHotKUnKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHNoYXJlRG9jdW1lbnQgPSBkb2MgPT4gewogICAgICAvLyDlrp7njrDmlofmoaPliIbkuqvlip/og70KICAgICAgY29uc29sZS5sb2coJ+WHhuWkh+WIhuS6q+aWh+ahozonLCBkb2MudGl0bGUpOwogICAgICBFbE1lc3NhZ2UuaW5mbyhg5paH5qGjIiR7ZG9jLnRpdGxlfSLnmoTliIbkuqvlip/og73ljbPlsIbkuIrnur9gKTsKICAgIH07CiAgICBjb25zdCBlZGl0RG9jdW1lbnQgPSBkb2MgPT4gewogICAgICAvLyDlrp7njrDmlofmoaPnvJbovpHlip/og70KICAgICAgY29uc29sZS5sb2coJ+WHhuWkh+e8lui+keaWh+ahozonLCBkb2MudGl0bGUpOwogICAgICBFbE1lc3NhZ2UuaW5mbyhg5paH5qGjIiR7ZG9jLnRpdGxlfSLnmoTnvJbovpHlip/og73ljbPlsIbkuIrnur9gKTsKICAgIH07CiAgICBjb25zdCBkZWxldGVEb2N1bWVudCA9IGFzeW5jIGRvYyA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgRWxNZXNzYWdlQm94LmNvbmZpcm0oYOehruWumuimgeWIoOmZpOaWh+ahoyAiJHtkb2MudGl0bGV9IiDlkJfvvJ/mraTmk43kvZzkuI3lj6/mkqTplIDjgIJgLCAn5Yig6Zmk56Gu6K6kJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoYCR7QVBJX1VSTH0vZG9jdW1lbnRzLyR7ZG9jLmlkfS9gKTsKICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5paH5qGj5Yig6Zmk5oiQ5YqfJyk7CiAgICAgICAgZmV0Y2hEb2N1bWVudHMoKTsKICAgICAgICBmZXRjaENhdGVnb3JpZXMoKTsgLy8g5pu05paw5YiG57G75paH5qGj6K6h5pWwCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yICE9PSAnY2FuY2VsJykgewogICAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTIsIF9lcnJvciRyZXNwb25zZTIkZGF0YTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOaWh+aho+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOaWh+aho+Wksei0pTogJyArICgoKF9lcnJvciRyZXNwb25zZTIgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnJvciRyZXNwb25zZTIkZGF0YSA9IF9lcnJvciRyZXNwb25zZTIuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlMiRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2UyJGRhdGEuZGV0YWlsKSB8fCBlcnJvci5tZXNzYWdlIHx8ICfmnKrnn6XplJnor68nKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgY29uc3QgcmVwcm9jZXNzRG9jdW1lbnQgPSBhc3luYyBkb2MgPT4gewogICAgICB0cnkgewogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vZG9jdW1lbnRzLyR7ZG9jLmlkfS9yZXByb2Nlc3MvYCk7CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+aWh+aho+mHjeaWsOWkhOeQhuW3suW8gOWniycpOwoKICAgICAgICAvLyDkv67mlLnmnKzlnLDnirbmgIHmmL7npLrmraPlnKjlpITnkIYKICAgICAgICBjb25zdCBpbmRleCA9IGRvY3VtZW50cy52YWx1ZS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBkb2MuaWQpOwogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgIGRvY3VtZW50cy52YWx1ZVtpbmRleF0uc3RhdHVzID0gJ3Byb2Nlc3NpbmcnOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB2YXIgX2Vycm9yJHJlc3BvbnNlMywgX2Vycm9yJHJlc3BvbnNlMyRkYXRhOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+mHjeaWsOWkhOeQhuaWh+aho+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfph43mlrDlpITnkIbmlofmoaPlpLHotKU6ICcgKyAoKChfZXJyb3IkcmVzcG9uc2UzID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyb3IkcmVzcG9uc2UzJGRhdGEgPSBfZXJyb3IkcmVzcG9uc2UzLmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTMkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlMyRkYXRhLmRldGFpbCkgfHwgZXJyb3IubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJykpOwogICAgICB9CiAgICB9OwoKICAgIC8vIOiOt+WPluaWh+S7tuWbvuaghwogICAgY29uc3QgZ2V0RmlsZUljb24gPSB0eXBlID0+IHsKICAgICAgY29uc3QgaWNvbk1hcCA9IHsKICAgICAgICBwZGY6IERvY3VtZW50LAogICAgICAgIGRvYzogRG9jdW1lbnQsCiAgICAgICAgeGxzOiBEYXRhQW5hbHlzaXMsCiAgICAgICAgcHB0OiBUaWNrZXRzLAogICAgICAgIGltZzogUGljdHVyZUZpbGxlZCwKICAgICAgICB0eHQ6IEZpbGVzLAogICAgICAgIG90aGVyOiBGaWxlcwogICAgICB9OwogICAgICByZXR1cm4gaWNvbk1hcFt0eXBlXSB8fCBEb2N1bWVudDsKICAgIH07CgogICAgLy8g5qC85byP5YyW5pel5pyfCiAgICBjb25zdCBmb3JtYXREYXRlID0gZGF0ZVN0cmluZyA9PiB7CiAgICAgIGlmICghZGF0ZVN0cmluZykgcmV0dXJuICcnOwogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7CiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nLCB7CiAgICAgICAgeWVhcjogJ251bWVyaWMnLAogICAgICAgIG1vbnRoOiAnMi1kaWdpdCcsCiAgICAgICAgZGF5OiAnMi1kaWdpdCcKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOagvOW8j+WMluaXpeacn+S4ukFQSeagvOW8jwogICAgY29uc3QgZm9ybWF0RGF0ZUZvckFQSSA9IGRhdGUgPT4gewogICAgICBpZiAoIWRhdGUpIHJldHVybiAnJzsKICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgfTsKCiAgICAvLyDmoLzlvI/ljJbmlofku7blpKflsI8KICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gc2l6ZUluS0IgPT4gewogICAgICBpZiAoIXNpemVJbktCKSByZXR1cm4gJzAgS0InOwogICAgICBpZiAoc2l6ZUluS0IgPCAxMDI0KSB7CiAgICAgICAgcmV0dXJuIGAke3NpemVJbktCfSBLQmA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGAkeyhzaXplSW5LQiAvIDEwMjQpLnRvRml4ZWQoMil9IE1CYDsKICAgICAgfQogICAgfTsKCiAgICAvLyDojrflj5bmoIfnrb7liJfooagKICAgIGNvbnN0IGdldFRhZ3NMaXN0ID0gdGFncyA9PiB7CiAgICAgIGlmICghdGFncykgcmV0dXJuIFtdOwogICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YWdzKSkgcmV0dXJuIHRhZ3M7CiAgICAgIHJldHVybiB0YWdzLnNwbGl0KCcsJykubWFwKHRhZyA9PiB0YWcudHJpbSgpKS5maWx0ZXIodGFnID0+IHRhZyk7CiAgICB9OwoKICAgIC8vIOi9ruivouajgOafpeWkhOeQhuS4reeahOaWh+aho+eKtuaAgQogICAgbGV0IHBvbGxpbmdJbnRlcnZhbCA9IG51bGw7CiAgICBjb25zdCBzdGFydFBvbGxpbmcgPSAoKSA9PiB7CiAgICAgIC8vIOavjzEw56eS5qOA5p+l5LiA5qyh5aSE55CG5Lit55qE5paH5qGjCiAgICAgIHBvbGxpbmdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAocHJvY2Vzc2luZ0NvdW50LnZhbHVlID4gMCkgewogICAgICAgICAgZmV0Y2hEb2N1bWVudHMoKTsKICAgICAgICB9CiAgICAgIH0sIDEwMDAwKTsKICAgIH07CgogICAgLy8g55Sf5ZG95ZGo5pyf6ZKp5a2QCiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAvLyDmt7vliqDliqDovb3nirbmgIHlkozplJnor6/lpITnkIYKICAgICAgUHJvbWlzZS5hbGwoW2ZldGNoQ2F0ZWdvcmllcygpLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yid5aeL5YyW5Yqg6L295YiG57G75aSx6LSlOicsIGVycik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3nn6Xor4blupPliIbnsbvlpLHotKXvvIzor7fnqI3lkI7ph43or5UnKTsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0pLCBmZXRjaERvY3VtZW50cygpLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yid5aeL5YyW5Yqg6L295paH5qGj5aSx6LSlOicsIGVycik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3nn6Xor4blupPmlofmoaPlpLHotKXvvIzor7fnqI3lkI7ph43or5UnKTsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0pXSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgLy8g5Yid5aeL5YyW5a6M5oiQ5ZCO5byA5aeL6L2u6K+iCiAgICAgICAgc3RhcnRQb2xsaW5nKCk7CiAgICAgIH0pOwogICAgfSk7CiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4gewogICAgICBpZiAocG9sbGluZ0ludGVydmFsKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsaW5nSW50ZXJ2YWwpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFF1ZXJ5LAogICAgICBzZWxlY3RlZENhdGVnb3J5LAogICAgICBjYXRlZ29yaWVzLAogICAgICBkb2N1bWVudHMsCiAgICAgIGZpbHRlcnMsCiAgICAgIGN1cnJlbnRQYWdlLAogICAgICBwYWdlU2l6ZSwKICAgICAgdG90YWxEb2NzLAogICAgICB1cGxvYWRWaXNpYmxlLAogICAgICB1cGxvYWRGb3JtLAogICAgICB1cGxvYWRGb3JtUmVmLAogICAgICB1cGxvYWRSdWxlcywKICAgICAgdXBsb2FkaW5nLAogICAgICBsb2FkaW5nLAogICAgICB2aWV3TW9kZSwKICAgICAgc29ydE9yZGVyLAogICAgICBzaG93Q2F0ZWdvcnlEaWFsb2csCiAgICAgIHNob3dBZGRDYXRlZ29yeUZvcm0sCiAgICAgIGVkaXRpbmdDYXRlZ29yeSwKICAgICAgY2F0ZWdvcnlGb3JtLAogICAgICBjYXRlZ29yeUxvYWRpbmcsCiAgICAgIHNob3dDaHVua3NEaWFsb2csCiAgICAgIHNlbGVjdGVkRG9jdW1lbnQsCiAgICAgIGRvY3VtZW50Q2h1bmtzLAogICAgICBjaHVua3NMb2FkaW5nLAogICAgICBpc0FkbWluLAogICAgICBjdXJyZW50Q2F0ZWdvcnlOYW1lLAogICAgICBwcm9jZXNzaW5nQ291bnQsCiAgICAgIC8vIOWbvuaghwogICAgICBTZWFyY2gsCiAgICAgIFVwbG9hZCwKICAgICAgRm9sZGVyQWRkLAogICAgICBWaWV3LAogICAgICBEb3dubG9hZCwKICAgICAgTW9yZSwKICAgICAgU2hhcmUsCiAgICAgIEVkaXQsCiAgICAgIEVkaXRQZW4sCiAgICAgIEZvbGRlck9wZW5lZCwKICAgICAgU3RhciwKICAgICAgRGVsZXRlLAogICAgICBEb2N1bWVudCwKICAgICAgRmlsZXMsCiAgICAgIFRpY2tldHMsCiAgICAgIERhdGFBbmFseXNpcywKICAgICAgUGljdHVyZUZpbGxlZCwKICAgICAgVXBsb2FkRmlsbGVkLAogICAgICBMb2FkaW5nLAogICAgICBMaXN0LAogICAgICBHcmlkLAogICAgICBDcm9wLAogICAgICBTcGxpdENlbGxzLAogICAgICBQbHVzLAogICAgICAvLyDmlrnms5UKICAgICAgc2VsZWN0Q2F0ZWdvcnksCiAgICAgIGhhbmRsZVNlYXJjaCwKICAgICAgYXBwbHlGaWx0ZXJzLAogICAgICBnZXRGaWxlSWNvbiwKICAgICAgZm9ybWF0RGF0ZSwKICAgICAgZm9ybWF0RmlsZVNpemUsCiAgICAgIGdldFRhZ3NMaXN0LAogICAgICBwcmV2aWV3RG9jdW1lbnQsCiAgICAgIGRvd25sb2FkRG9jdW1lbnQsCiAgICAgIHNoYXJlRG9jdW1lbnQsCiAgICAgIGVkaXREb2N1bWVudCwKICAgICAgZGVsZXRlRG9jdW1lbnQsCiAgICAgIHJlcHJvY2Vzc0RvY3VtZW50LAogICAgICBoYW5kbGVGaWxlQ2hhbmdlLAogICAgICBoYW5kbGVSZW1vdmUsCiAgICAgIHN1Ym1pdFVwbG9hZCwKICAgICAgaGFuZGxlUGFnZUNoYW5nZSwKICAgICAgaGFuZGxlU2l6ZUNoYW5nZSwKICAgICAgc2hvd0RvY3VtZW50Q2h1bmtzLAogICAgICBlZGl0Q2F0ZWdvcnksCiAgICAgIGhhbmRsZURlbGV0ZUNhdGVnb3J5LAogICAgICBzYXZlQ2F0ZWdvcnlGb3JtLAogICAgICBjYW5jZWxDYXRlZ29yeUZvcm0sCiAgICAgIHJlc2V0Q2F0ZWdvcnlGb3JtCiAgICB9OwogIH0KfTs="},{"version":3,"names":["ref","reactive","computed","onMounted","onBeforeUnmount","ElMessage","ElMessageBox","axios","Search","Upload","FolderAdd","View","Download","More","Share","Edit","EditPen","FolderOpened","Star","Delete","Document","Files","Tickets","DataAnalysis","PictureFilled","UploadFilled","Loading","List","Grid","Crop","SplitCells","Plus","getCategories","getDocuments","getDocumentChunks","uploadDocument","deleteCategory","updateCategory","addCategory","name","setup","API_URL","searchQuery","selectedCategory","currentPage","pageSize","uploadVisible","showCategoryDialog","showAddCategoryForm","showChunksDialog","editingCategory","viewMode","sortOrder","categoryLoading","loading","uploading","chunksLoading","isAdmin","selectedDocument","documentChunks","uploadFormRef","totalDocs","uploadForm","title","description","category","tags","file","chunk_size","chunk_overlap","is_public","uploadRules","required","message","trigger","min","max","categoryForm","id","icon","color","filters","types","pdf","doc","xls","ppt","img","txt","status","date","dateRange","categories","document_count","documents","currentCategoryName","value","find","cat","processingCount","filter","length","fetchCategories","console","log","response","allCategory","categoryList","results","Array","isArray","possibleArrayFields","field","reduce","sum","error","warning","data","fetchDocuments","params","page","page_size","ordering","search","selectedTypes","type","selected","Object","entries","push","file_type","join","now","Date","startDate","setHours","setDate","getDate","getDay","endDate","created_after","formatDateForAPI","created_before","count","total","possibleDocuments","values","item","fetchDocumentChunks","documentId","handlePageChange","handleSizeChange","size","selectCategory","categoryId","handleSearch","applyFilters","handleFileChange","raw","split","handleRemove","submitUpload","validate","valid","formData","FormData","append","success","resetFields","errorMsg","detail","showDocumentChunks","editCategory","handleDeleteCategory","confirm","confirmButtonText","cancelButtonText","_error$response","_error$response$data","saveCategoryForm","startsWith","replace","match","r","g","b","toHex","c","hex","parseInt","toString","includes","substring","cancelCategoryForm","JSON","stringify","resetCategoryForm","previewDocument","get","catch","err","window","open","file_url","downloadDocument","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","shareDocument","info","editDocument","deleteDocument","delete","_error$response2","_error$response2$data","reprocessDocument","post","index","findIndex","d","_error$response3","_error$response3$data","getFileIcon","iconMap","other","formatDate","dateString","toLocaleDateString","year","month","day","toISOString","formatFileSize","sizeInKB","toFixed","getTagsList","map","tag","trim","pollingInterval","startPolling","setInterval","Promise","all","finally","clearInterval"],"sources":["C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\src\\views\\knowledge\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"knowledge-container\" v-stop-propagation>\n    <div class=\"row\">\n      <!-- 左侧导航 -->\n      <div class=\"col-lg-3\">\n        <el-card class=\"category-card\">\n          <div class=\"search-box\">\n            <el-input \n              v-model=\"searchQuery\" \n              placeholder=\"搜索文档...\"\n              clearable\n              :prefix-icon=\"Search\"\n              @input=\"handleSearch\"\n            ></el-input>\n          </div>\n          \n          <div class=\"category-list\">\n            <div v-for=\"(category, index) in categories\" :key=\"category.id || index\" \n                 class=\"category-item\" \n                 :class=\"{'active': selectedCategory === (category.id || index)}\"\n                 @click=\"selectCategory(category.id || index)\">\n              <div class=\"category-icon\" :style=\"{'background-color': category.color}\">\n                <el-icon :size=\"20\" color=\"white\">\n                  <component :is=\"category.icon\"></component>\n                </el-icon>\n              </div>\n              <span class=\"category-name\">{{ category.name }}</span>\n              <span class=\"category-count\">{{ category.document_count || 0 }}</span>\n            </div>\n            \n            <el-button \n              v-if=\"isAdmin\"\n              type=\"primary\" \n              size=\"small\" \n              class=\"add-category-btn\"\n              @click=\"showCategoryDialog = true\">\n              <el-icon><Plus /></el-icon> 添加分类\n            </el-button>\n          </div>\n          \n          <div class=\"filter-section\">\n            <h6>筛选条件</h6>\n            <div class=\"filter-group\">\n              <h6>文件类型</h6>\n              <div class=\"filter-options\">\n                <el-checkbox v-model=\"filters.types.pdf\" @change=\"applyFilters\">PDF文档</el-checkbox>\n                <el-checkbox v-model=\"filters.types.doc\" @change=\"applyFilters\">Word文档</el-checkbox>\n                <el-checkbox v-model=\"filters.types.xls\" @change=\"applyFilters\">Excel表格</el-checkbox>\n                <el-checkbox v-model=\"filters.types.ppt\" @change=\"applyFilters\">PPT演示文稿</el-checkbox>\n                <el-checkbox v-model=\"filters.types.img\" @change=\"applyFilters\">图片</el-checkbox>\n                <el-checkbox v-model=\"filters.types.txt\" @change=\"applyFilters\">文本文件</el-checkbox>\n              </div>\n            </div>\n            \n            <div class=\"filter-group mt-3\">\n              <h6>文档状态</h6>\n              <div class=\"filter-options\">\n                <el-radio-group v-model=\"filters.status\" @change=\"applyFilters\">\n                  <el-radio :value=\"'all'\">全部状态</el-radio>\n                  <el-radio :value=\"'completed'\">处理完成</el-radio>\n                  <el-radio :value=\"'processing'\">处理中</el-radio>\n                  <el-radio :value=\"'pending'\">待处理</el-radio>\n                  <el-radio :value=\"'failed'\">处理失败</el-radio>\n                </el-radio-group>\n              </div>\n            </div>\n            \n            <div class=\"filter-group mt-3\">\n              <h6>创建日期</h6>\n              <div class=\"filter-options\">\n                <el-radio-group v-model=\"filters.date\" @change=\"applyFilters\">\n                  <el-radio :value=\"'all'\">全部时间</el-radio>\n                  <el-radio :value=\"'today'\">今天</el-radio>\n                  <el-radio :value=\"'week'\">本周</el-radio>\n                  <el-radio :value=\"'month'\">本月</el-radio>\n                  <el-radio :value=\"'custom'\">自定义</el-radio>\n                </el-radio-group>\n                <div v-if=\"filters.date === 'custom'\" class=\"mt-2\">\n                  <el-date-picker\n                    v-model=\"filters.dateRange\"\n                    type=\"daterange\"\n                    range-separator=\"至\"\n                    start-placeholder=\"开始日期\"\n                    end-placeholder=\"结束日期\"\n                    format=\"YYYY/MM/DD\"\n                    style=\"width: 100%\"\n                    @change=\"applyFilters\"\n                  ></el-date-picker>\n                </div>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </div>\n      \n      <!-- 右侧内容区 -->\n      <div class=\"col-lg-9\">\n        <el-card class=\"mb-3\">\n          <div class=\"card-header-flex\">\n            <div class=\"header-title\">\n              <span>{{ currentCategoryName }}</span>\n              <el-tag v-if=\"totalDocs > 0\" class=\"ml-2\">{{ totalDocs }}个文档</el-tag>\n            </div>\n            <div class=\"header-actions\">\n              <el-button type=\"primary\" @click=\"uploadVisible = true\">\n                <el-icon><Upload /></el-icon> 上传文档\n              </el-button>\n              <el-button v-if=\"isAdmin\" @click=\"showCategoryDialog = true\">\n                <el-icon><FolderAdd /></el-icon> 管理分类\n              </el-button>\n            </div>\n          </div>\n          \n          <div class=\"upload-zone\" @click=\"uploadVisible = true\" v-if=\"documents.length === 0\">\n            <el-icon class=\"upload-icon\"><Upload /></el-icon>\n            <div class=\"upload-text\">点击或拖拽文件到此处上传</div>\n            <div class=\"upload-hint\">支持单个或批量上传，最大支持10MB</div>\n          </div>\n          \n          <div v-else class=\"document-list\">\n            <div v-for=\"(doc, index) in documents\" :key=\"index\" class=\"document-card\">\n              <div class=\"document-icon\" :class=\"'icon-' + doc.type\">\n                <component :is=\"getFileIcon(doc.type)\"></component>\n              </div>\n              <div class=\"document-content\">\n                <div class=\"document-title\">{{ doc.title }}</div>\n                <div class=\"document-info\">\n                  <span>{{ doc.creator }} · {{ doc.date }}</span>\n                  <div class=\"document-tags\">\n                    <span v-for=\"(tag, i) in doc.tags\" :key=\"i\" class=\"tag\">{{ tag }}</span>\n                  </div>\n                </div>\n              </div>\n              <div class=\"document-actions\">\n                <el-button circle size=\"small\" @click.stop=\"previewDocument(doc)\">\n                  <el-icon><View /></el-icon>\n                </el-button>\n                <el-button circle size=\"small\" @click.stop=\"downloadDocument(doc)\">\n                  <el-icon><Download /></el-icon>\n                </el-button>\n                <el-dropdown trigger=\"click\" :teleported=\"true\">\n                  <el-button circle size=\"small\">\n                    <el-icon><More /></el-icon>\n                  </el-button>\n                  <template #dropdown>\n                    <el-dropdown-menu>\n                      <el-dropdown-item @click=\"shareDocument(doc)\">\n                        <el-icon><Share /></el-icon> 分享\n                      </el-dropdown-item>\n                      <el-dropdown-item @click=\"editDocument(doc)\">\n                        <el-icon><Edit /></el-icon> 编辑\n                      </el-dropdown-item>\n                      <el-dropdown-item @click=\"renameDocument(doc)\">\n                        <el-icon><EditPen /></el-icon> 重命名\n                      </el-dropdown-item>\n                      <el-dropdown-item @click=\"moveDocument(doc)\">\n                        <el-icon><FolderOpened /></el-icon> 移动到\n                      </el-dropdown-item>\n                      <el-dropdown-item @click=\"starDocument(doc)\">\n                        <el-icon><Star /></el-icon> 收藏\n                      </el-dropdown-item>\n                      <el-dropdown-item divided @click=\"deleteDocument(doc)\">\n                        <el-icon><Delete /></el-icon> 删除\n                      </el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"pagination-container\">\n            <el-pagination\n              v-if=\"documents.length > 0\"\n              background\n              layout=\"prev, pager, next\"\n              :total=\"100\"\n              :page-size=\"10\"\n              :current-page=\"currentPage\"\n              @current-change=\"handlePageChange\"\n            ></el-pagination>\n          </div>\n        </el-card>\n      </div>\n    </div>\n    \n    <!-- 文件上传对话框 -->\n    <el-dialog\n      v-model=\"uploadVisible\"\n      title=\"上传文档\"\n      width=\"500px\"\n    >\n      <el-form ref=\"uploadFormRef\" :model=\"uploadForm\" :rules=\"uploadRules\">\n        <el-form-item label=\"文档标题\" prop=\"title\">\n          <el-input v-model=\"uploadForm.title\" placeholder=\"请输入文档标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"文档描述\">\n          <el-input v-model=\"uploadForm.description\" type=\"textarea\" :rows=\"3\" placeholder=\"请输入文档描述\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"选择分类\">\n          <el-select v-model=\"uploadForm.category\" placeholder=\"请选择分类\" style=\"width: 100%\">\n            <el-option\n              v-for=\"(cat, idx) in categories.filter(c => c.id !== 'all')\"\n              :key=\"idx\"\n              :label=\"cat.name\"\n              :value=\"cat.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"文档文件\" prop=\"file\">\n          <el-upload\n            class=\"upload-demo\"\n            drag\n            action=\"#\"\n            :auto-upload=\"false\"\n            :on-change=\"handleFileChange\"\n            :on-remove=\"handleRemove\"\n            :limit=\"1\"\n          >\n            <el-icon class=\"el-icon--upload\"><upload-filled /></el-icon>\n            <div class=\"el-upload__text\">\n              拖拽文件到此处或<em>点击上传</em>\n            </div>\n            <template #tip>\n              <div class=\"el-upload__tip\">\n                支持上传PDF、Word、Excel、PPT等文档，单个文件不超过10MB\n              </div>\n            </template>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"uploadVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"submitUpload\" :loading=\"uploading\">上传</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <!-- 分类管理对话框 -->\n    <el-dialog\n      v-model=\"showCategoryDialog\"\n      title=\"分类管理\"\n      width=\"650px\"\n    >\n      <div class=\"category-dialog-content\">\n        <div class=\"category-list-section\">\n          <div class=\"section-header\">\n            <h5>已有分类</h5>\n            <el-button \n              type=\"primary\" \n              size=\"small\" \n              @click=\"resetCategoryForm\">\n              <el-icon><Plus /></el-icon> 新增分类\n            </el-button>\n          </div>\n          \n          <div v-if=\"categoryLoading\" class=\"text-center p-4\">\n            <el-icon class=\"is-loading\"><Loading /></el-icon> 加载中...\n          </div>\n          \n          <div v-else-if=\"categories.length <= 1\" class=\"empty-categories\">\n            <el-empty description=\"暂无分类数据\" />\n          </div>\n          \n          <div v-else class=\"category-items\">\n            <div v-for=\"(category, index) in categories.filter(c => c.id !== 'all')\" :key=\"index\" class=\"category-list-item\">\n              <div class=\"category-info\">\n                <div class=\"category-color\" :style=\"{ backgroundColor: category.color }\"></div>\n                <div class=\"category-name-section\">\n                  <span class=\"category-name\">{{ category.name }}</span>\n                  <span class=\"category-desc\">{{ category.description }}</span>\n                </div>\n                <span class=\"category-count\">{{ category.document_count || 0 }}个文档</span>\n              </div>\n              \n              <div class=\"category-actions\">\n                <el-button type=\"primary\" size=\"small\" plain @click=\"editCategory(category)\">\n                  <el-icon><Edit /></el-icon>\n                </el-button>\n                <el-button type=\"danger\" size=\"small\" plain @click=\"handleDeleteCategory(category)\">\n                  <el-icon><Delete /></el-icon>\n                </el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div v-if=\"showAddCategoryForm\" class=\"category-form-section\">\n          <div class=\"section-header\">\n            <h5>{{ editingCategory ? '编辑分类' : '新增分类' }}</h5>\n            <el-button size=\"small\" @click=\"cancelCategoryForm\">\n              取消\n            </el-button>\n          </div>\n          \n          <el-form :model=\"categoryForm\" label-width=\"80px\">\n            <el-form-item label=\"分类名称\" required>\n              <el-input v-model=\"categoryForm.name\" placeholder=\"请输入分类名称\"></el-input>\n            </el-form-item>\n            \n            <el-form-item label=\"分类描述\">\n              <el-input type=\"textarea\" v-model=\"categoryForm.description\" :rows=\"2\" placeholder=\"请输入分类描述\"></el-input>\n            </el-form-item>\n            \n            <el-form-item label=\"图标\">\n              <el-select v-model=\"categoryForm.icon\" placeholder=\"选择图标\" style=\"width: 100%\">\n                <el-option value=\"Document\" label=\"文档\">\n                  <div class=\"d-flex align-items-center\">\n                    <el-icon><Document /></el-icon> <span class=\"ml-2\">文档</span>\n                  </div>\n                </el-option>\n                <el-option value=\"Files\" label=\"文件夹\">\n                  <div class=\"d-flex align-items-center\">\n                    <el-icon><Files /></el-icon> <span class=\"ml-2\">文件夹</span>\n                  </div>\n                </el-option>\n                <el-option value=\"Tickets\" label=\"票据\">\n                  <div class=\"d-flex align-items-center\">\n                    <el-icon><Tickets /></el-icon> <span class=\"ml-2\">票据</span>\n                  </div>\n                </el-option>\n                <el-option value=\"DataAnalysis\" label=\"数据分析\">\n                  <div class=\"d-flex align-items-center\">\n                    <el-icon><DataAnalysis /></el-icon> <span class=\"ml-2\">数据分析</span>\n                  </div>\n                </el-option>\n                <el-option value=\"PictureFilled\" label=\"图片\">\n                  <div class=\"d-flex align-items-center\">\n                    <el-icon><PictureFilled /></el-icon> <span class=\"ml-2\">图片</span>\n                  </div>\n                </el-option>\n              </el-select>\n            </el-form-item>\n            \n            <el-form-item label=\"颜色\">\n              <el-color-picker v-model=\"categoryForm.color\" show-alpha></el-color-picker>\n              <span class=\"ml-2\">{{ categoryForm.color }}</span>\n            </el-form-item>\n            \n            <el-form-item>\n              <el-button type=\"primary\" @click=\"saveCategoryForm\">保存</el-button>\n              <el-button @click=\"cancelCategoryForm\">取消</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted, onBeforeUnmount } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport axios from 'axios'\nimport { \n  Search, Upload, FolderAdd, View, Download, More, Share, \n  Edit, EditPen, FolderOpened, Star, Delete, Document, \n  Files, Tickets, DataAnalysis, PictureFilled, UploadFilled,\n  Loading, List, Grid, Crop, SplitCells, Plus\n} from '@element-plus/icons-vue'\nimport { getCategories, getDocuments, getDocumentChunks, uploadDocument, deleteCategory, updateCategory, addCategory } from '@/api/knowledge'\n\nexport default {\n  name: 'Knowledge',\n  setup() {\n    const API_URL = '/api/knowledge'\n    \n    // 状态变量\n    const searchQuery = ref('')\n    const selectedCategory = ref('all')\n    const currentPage = ref(1)\n    const pageSize = ref(10)\n    const uploadVisible = ref(false)\n    const showCategoryDialog = ref(false)\n    const showAddCategoryForm = ref(false)\n    const showChunksDialog = ref(false)\n    const editingCategory = ref(null)\n    const viewMode = ref('list')\n    const sortOrder = ref('-created_at')\n    const categoryLoading = ref(false)\n    const loading = ref(false)\n    const uploading = ref(false)\n    const chunksLoading = ref(false)\n    const isAdmin = ref(true) // 实际应用中从用户会话获取\n    const selectedDocument = ref(null)\n    const documentChunks = ref([])\n    const uploadFormRef = ref(null)\n    const totalDocs = ref(0)\n    \n    // 上传表单\n    const uploadForm = reactive({\n      title: '',\n      description: '',\n      category: null,\n      tags: '',\n      file: null,\n      chunk_size: 1000,\n      chunk_overlap: 200,\n      is_public: false\n    })\n    \n    // 上传表单验证规则\n    const uploadRules = {\n      title: [\n        { required: true, message: '请输入文档标题', trigger: 'blur' },\n        { min: 2, max: 100, message: '标题长度应在2到100个字符之间', trigger: 'blur' }\n      ],\n      file: [\n        { required: true, message: '请上传文件', trigger: 'change' }\n      ]\n    }\n    \n    // 分类表单\n    const categoryForm = reactive({\n      id: null,\n      name: '',\n      description: '',\n      icon: 'Document',\n      color: '#409EFF'\n    })\n    \n    // 筛选条件\n    const filters = reactive({\n      types: {\n        pdf: false,\n        doc: false,\n        xls: false,\n        ppt: false,\n        img: false,\n        txt: false\n      },\n      status: 'all',\n      date: 'all',\n      dateRange: []\n    })\n    \n    // 知识分类\n    const categories = ref([\n      { id: 'all', name: '全部文档', icon: 'Files', color: '#007bff', document_count: 0 }\n    ])\n    \n    // 文档列表\n    const documents = ref([])\n    \n    // 计算属性\n    const currentCategoryName = computed(() => {\n      const category = categories.value.find(cat => cat.id === selectedCategory.value)\n      return category ? category.name : '全部文档'\n    })\n    \n    const processingCount = computed(() => {\n      return documents.value.filter(doc => doc.status === 'processing').length\n    })\n    \n    // 方法\n    const fetchCategories = async () => {\n      categoryLoading.value = true\n      console.log('开始获取知识库分类...')\n      try {\n        console.log('请求URL:', `${API_URL}/categories/`)\n        const response = await getCategories()\n        console.log('获取分类响应:', response)\n        \n        // 添加\"全部\"分类\n        const allCategory = { \n          id: 'all', \n          name: '全部文档', \n          icon: 'Files', \n          color: '#007bff', \n          document_count: 0 \n        }\n        \n        let categoryList = []\n        \n        // 处理不同格式的响应\n        if (response) {\n          // 检查新的API格式\n          if (response.results && Array.isArray(response.results)) {\n            categoryList = response.results\n          } \n          // 向后兼容，处理旧格式\n          else if (Array.isArray(response)) {\n            categoryList = response\n          } \n          // 其他格式处理\n          else if (typeof response === 'object') {\n            // 尝试提取可能的数据数组\n            const possibleArrayFields = ['data', 'categories', 'items'];\n            for (const field of possibleArrayFields) {\n              if (response[field] && Array.isArray(response[field])) {\n                categoryList = response[field];\n                break;\n              }\n            }\n          }\n          \n          if (categoryList && categoryList.length > 0) {\n            console.log('找到分类数据，数量:', categoryList.length);\n            allCategory.document_count = categoryList.reduce((sum, cat) => sum + (cat.document_count || 0), 0)\n            categories.value = [allCategory, ...categoryList]\n          } else {\n            console.error('未找到有效的分类数据');\n            if (response.message) {\n              ElMessage.warning(response.message);\n            } else {\n              ElMessage.warning('未找到分类数据，请先创建分类');\n            }\n            categories.value = [allCategory]; // 至少显示\"全部文档\"分类\n          }\n        } else {\n          console.error('响应为空');\n          ElMessage.warning('获取分类失败，请检查网络连接');\n          categories.value = [allCategory];\n        }\n      } catch (error) {\n        console.error('获取分类失败:', error)\n        if (error.response) {\n          console.error('错误响应状态:', error.response.status)\n          console.error('错误响应数据:', error.response.data)\n        }\n        ElMessage.error('无法加载知识库分类，请检查网络连接或联系管理员')\n        // 确保至少有\"全部\"分类可显示\n        categories.value = [{ \n          id: 'all', \n          name: '全部文档', \n          icon: 'Files', \n          color: '#007bff', \n          document_count: 0 \n        }];\n      } finally {\n        categoryLoading.value = false\n      }\n    }\n    \n    const fetchDocuments = async () => {\n      loading.value = true\n      try {\n        // 构建参数对象\n        const params = {\n          page: currentPage.value,\n          page_size: pageSize.value,\n          ordering: sortOrder.value\n        }\n        \n        // 添加筛选条件\n        if (selectedCategory.value && selectedCategory.value !== 'all') {\n          params.category = selectedCategory.value\n        }\n        \n        // 添加搜索查询\n        if (searchQuery.value) {\n          params.search = searchQuery.value\n        }\n        \n        // 添加文件类型筛选\n        const selectedTypes = []\n        for (const [type, selected] of Object.entries(filters.types)) {\n          if (selected) selectedTypes.push(type)\n        }\n        if (selectedTypes.length > 0) {\n          params.file_type = selectedTypes.join(',')\n        }\n        \n        // 添加状态筛选\n        if (filters.status !== 'all') {\n          params.status = filters.status\n        }\n        \n        // 添加日期筛选\n        if (filters.date !== 'all') {\n          const now = new Date()\n          let startDate = new Date()\n          \n          if (filters.date === 'today') {\n            startDate.setHours(0, 0, 0, 0)\n          } else if (filters.date === 'week') {\n            startDate.setDate(now.getDate() - now.getDay())\n            startDate.setHours(0, 0, 0, 0)\n          } else if (filters.date === 'month') {\n            startDate.setDate(1)\n            startDate.setHours(0, 0, 0, 0)\n          } else if (filters.date === 'custom' && filters.dateRange.length === 2) {\n            startDate = filters.dateRange[0]\n            const endDate = filters.dateRange[1]\n            params.created_after = formatDateForAPI(startDate)\n            params.created_before = formatDateForAPI(endDate)\n          } else {\n            params.created_after = formatDateForAPI(startDate)\n          }\n        }\n        \n        const response = await getDocuments(params)\n        if (response) {\n          console.log('获取文档响应:', response)\n          \n          // 处理不同格式的响应\n          if (response.results && Array.isArray(response.results)) {\n            // 分页格式的响应\n            documents.value = response.results\n            totalDocs.value = response.count || response.total || documents.value.length\n          } else if (Array.isArray(response)) {\n            // 数组格式的响应\n            documents.value = response\n            totalDocs.value = response.length\n          } else if (response.data && Array.isArray(response.data)) {\n            // 另一种常见的对象包装格式\n            documents.value = response.data\n            totalDocs.value = response.total || response.count || documents.value.length\n          } else if (typeof response === 'object') {\n            // 尝试提取可能的文档列表\n            const possibleDocuments = Object.values(response).filter(item => \n              item && typeof item === 'object' && ('title' in item || 'file' in item)\n            )\n            if (possibleDocuments.length > 0) {\n              documents.value = possibleDocuments\n              totalDocs.value = possibleDocuments.length\n            } else {\n              console.error('无法从响应中提取文档列表:', response)\n              documents.value = []\n              totalDocs.value = 0\n              ElMessage.warning('获取文档列表格式异常')\n            }\n          } else {\n            console.error('文档响应格式不支持:', typeof response, response)\n            documents.value = []\n            totalDocs.value = 0\n            ElMessage.warning('获取文档列表格式不支持')\n          }\n        } else {\n          documents.value = []\n          totalDocs.value = 0\n        }\n      } catch (error) {\n        console.error('获取文档失败:', error)\n        ElMessage.error('无法加载知识库文档')\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    const fetchDocumentChunks = async (documentId) => {\n      chunksLoading.value = true\n      try {\n        const response = await getDocumentChunks(documentId)\n        documentChunks.value = response\n      } catch (error) {\n        console.error('获取文档分块失败:', error)\n        ElMessage.error('无法加载文档分块数据')\n      } finally {\n        chunksLoading.value = false\n      }\n    }\n    \n    const handlePageChange = (page) => {\n      currentPage.value = page\n      fetchDocuments()\n    }\n    \n    const handleSizeChange = (size) => {\n      pageSize.value = size\n      currentPage.value = 1\n      fetchDocuments()\n    }\n    \n    const selectCategory = (categoryId) => {\n      selectedCategory.value = categoryId\n      currentPage.value = 1\n      fetchDocuments()\n    }\n    \n    const handleSearch = () => {\n      currentPage.value = 1\n      fetchDocuments()\n    }\n    \n    const applyFilters = () => {\n      currentPage.value = 1\n      fetchDocuments()\n    }\n    \n    const handleFileChange = (file) => {\n      if (file && file.raw) {\n        uploadForm.file = file.raw\n        uploadForm.title = uploadForm.title || file.name.split('.')[0]\n      }\n    }\n    \n    const handleRemove = () => {\n      uploadForm.file = null\n    }\n    \n    const submitUpload = async () => {\n      if (!uploadFormRef.value) return\n      \n      uploadFormRef.value.validate(async (valid) => {\n        if (!valid) return\n        \n        if (!uploadForm.file) {\n          ElMessage.warning('请选择要上传的文件')\n          return\n        }\n        \n        uploading.value = true\n        \n        try {\n          const formData = new FormData()\n          formData.append('title', uploadForm.title)\n          formData.append('description', uploadForm.description || '')\n          formData.append('file', uploadForm.file)\n          formData.append('chunk_size', uploadForm.chunk_size)\n          formData.append('chunk_overlap', uploadForm.chunk_overlap)\n          formData.append('is_public', uploadForm.is_public)\n          \n          if (uploadForm.category) {\n            formData.append('category', uploadForm.category)\n          }\n          \n          if (uploadForm.tags) {\n            formData.append('tags', uploadForm.tags)\n          }\n          \n          await uploadDocument(formData)\n          \n          ElMessage.success('文档上传成功，后台正在处理文件内容')\n          uploadVisible.value = false\n          \n          // 重置表单和上传组件状态\n          if (uploadFormRef.value) {\n            uploadFormRef.value.resetFields()\n          }\n          uploadForm.title = ''\n          uploadForm.description = ''\n          uploadForm.file = null\n          uploadForm.tags = ''\n          uploadForm.category = null\n          \n          // 刷新文档列表\n          fetchDocuments()\n          fetchCategories() // 更新分类文档计数\n        } catch (error) {\n          console.error('上传文档失败:', error)\n          let errorMsg = '文档上传失败'\n          if (error.response) {\n            if (error.response.data) {\n              if (typeof error.response.data === 'string') {\n                errorMsg += ': ' + error.response.data\n              } else if (error.response.data.detail) {\n                errorMsg += ': ' + error.response.data.detail\n              } else if (error.response.data.message) {\n                errorMsg += ': ' + error.response.data.message\n              }\n            }\n          } else if (error.message) {\n            errorMsg += ': ' + error.message\n          }\n          ElMessage.error(errorMsg)\n        } finally {\n          uploading.value = false\n        }\n      })\n    }\n    \n    const showDocumentChunks = async (doc) => {\n      selectedDocument.value = doc\n      showChunksDialog.value = true\n      await fetchDocumentChunks(doc.id)\n    }\n    \n    const editCategory = (category) => {\n      editingCategory.value = category\n      categoryForm.id = category.id\n      categoryForm.name = category.name\n      categoryForm.description = category.description || ''\n      categoryForm.icon = category.icon || 'Document'\n      categoryForm.color = category.color || '#409EFF'\n      showAddCategoryForm.value = true // 显示编辑表单\n    }\n    \n    const handleDeleteCategory = async (category) => {\n      try {\n        await ElMessageBox.confirm(`确定要删除分类 \"${category.name}\" 吗？`, '删除确认', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        \n        await deleteCategory(category.id)\n        ElMessage.success('分类删除成功')\n        fetchCategories()\n      } catch (error) {\n        if (error !== 'cancel') {\n          console.error('删除分类失败:', error)\n          ElMessage.error('删除分类失败: ' + (error.response?.data?.detail || error.message || '未知错误'))\n        }\n      }\n    }\n    \n    const saveCategoryForm = async () => {\n      if (!categoryForm.name) {\n        ElMessage.warning('请输入分类名称')\n        return\n      }\n      \n      // 处理颜色值，确保符合后端20字符长度限制\n      if (categoryForm.color && categoryForm.color.length > 20) {\n        // 如果是带alpha通道的rgba颜色，将其转为hex格式\n        if (categoryForm.color.startsWith('rgba')) {\n          // 简单处理：移除alpha透明度，转为#RRGGBB格式\n          categoryForm.color = categoryForm.color.replace(/rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),[^)]+\\)/, (match, r, g, b) => {\n            const toHex = (c) => {\n              const hex = parseInt(c).toString(16)\n              return hex.length === 1 ? '0' + hex : hex\n            }\n            return `#${toHex(r)}${toHex(g)}${toHex(b)}`\n          })\n        } else if (categoryForm.color.includes('alpha')) {\n          // 处理其他可能包含alpha的颜色格式\n          categoryForm.color = '#409EFF' // 使用默认颜色\n        }\n        \n        // 如果颜色值仍然超过20个字符，截断或使用默认颜色\n        if (categoryForm.color.length > 20) {\n          categoryForm.color = categoryForm.color.substring(0, 20)\n        }\n      }\n      \n      // 确保始终有默认值\n      categoryForm.icon = categoryForm.icon || 'Document'\n      categoryForm.color = categoryForm.color || '#409EFF'\n      \n      try {\n        if (editingCategory.value) {\n          // 更新分类，使用API函数\n          await updateCategory(categoryForm.id, categoryForm)\n          ElMessage.success('分类更新成功')\n        } else {\n          // 创建新分类，使用API函数\n          await addCategory(categoryForm)\n          ElMessage.success('分类创建成功')\n        }\n        \n        // 刷新分类列表并重置表单状态\n        await fetchCategories()\n        cancelCategoryForm()\n      } catch (error) {\n        console.error('保存分类失败:', error)\n        if (error.response && error.response.data) {\n          ElMessage.error('保存分类失败: ' + (error.response.data.detail || error.response.data.message || JSON.stringify(error.response.data)))\n        } else {\n          ElMessage.error('保存分类失败: ' + (error.message || '未知错误'))\n        }\n      }\n    }\n    \n    const cancelCategoryForm = () => {\n      showAddCategoryForm.value = false\n      editingCategory.value = null\n      categoryForm.id = null\n      categoryForm.name = ''\n      categoryForm.description = ''\n      categoryForm.icon = 'Document'\n      categoryForm.color = '#409EFF'\n    }\n    \n    const resetCategoryForm = () => {\n      editingCategory.value = null\n      categoryForm.id = null\n      categoryForm.name = ''\n      categoryForm.description = ''\n      categoryForm.icon = 'Document'\n      categoryForm.color = '#409EFF'\n      showAddCategoryForm.value = true\n    }\n    \n    // 文件操作函数\n    const previewDocument = (doc) => {\n      if (doc.status !== 'completed') {\n        ElMessage.warning('文档正在处理中，暂时无法预览')\n        return\n      }\n      \n      // 增加查看计数\n      axios.get(`${API_URL}/documents/${doc.id}/`)\n        .catch(err => console.error('更新查看计数失败:', err))\n      \n      // 这里应该实现文档预览功能\n      window.open(doc.file_url, '_blank')\n    }\n    \n    const downloadDocument = async (doc) => {\n      try {\n        const response = await axios.get(`${API_URL}/documents/${doc.id}/download/`, {\n          responseType: 'blob'\n        })\n        \n        // 创建临时下载链接\n        const url = window.URL.createObjectURL(new Blob([response.data]))\n        const link = document.createElement('a')\n        link.href = url\n        link.setAttribute('download', doc.title)\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n        \n        ElMessage.success('文档下载成功')\n      } catch (error) {\n        console.error('下载文档失败:', error)\n        ElMessage.error('下载文档失败')\n      }\n    }\n    \n    const shareDocument = (doc) => {\n      // 实现文档分享功能\n      console.log('准备分享文档:', doc.title)\n      ElMessage.info(`文档\"${doc.title}\"的分享功能即将上线`)\n    }\n    \n    const editDocument = (doc) => {\n      // 实现文档编辑功能\n      console.log('准备编辑文档:', doc.title)\n      ElMessage.info(`文档\"${doc.title}\"的编辑功能即将上线`)\n    }\n    \n    const deleteDocument = async (doc) => {\n      try {\n        await ElMessageBox.confirm(`确定要删除文档 \"${doc.title}\" 吗？此操作不可撤销。`, '删除确认', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        \n        await axios.delete(`${API_URL}/documents/${doc.id}/`)\n        ElMessage.success('文档删除成功')\n        fetchDocuments()\n        fetchCategories() // 更新分类文档计数\n      } catch (error) {\n        if (error !== 'cancel') {\n          console.error('删除文档失败:', error)\n          ElMessage.error('删除文档失败: ' + (error.response?.data?.detail || error.message || '未知错误'))\n        }\n      }\n    }\n    \n    const reprocessDocument = async (doc) => {\n      try {\n        await axios.post(`${API_URL}/documents/${doc.id}/reprocess/`)\n        ElMessage.success('文档重新处理已开始')\n        \n        // 修改本地状态显示正在处理\n        const index = documents.value.findIndex(d => d.id === doc.id)\n        if (index !== -1) {\n          documents.value[index].status = 'processing'\n        }\n      } catch (error) {\n        console.error('重新处理文档失败:', error)\n        ElMessage.error('重新处理文档失败: ' + (error.response?.data?.detail || error.message || '未知错误'))\n      }\n    }\n    \n    // 获取文件图标\n    const getFileIcon = (type) => {\n      const iconMap = {\n        pdf: Document,\n        doc: Document,\n        xls: DataAnalysis,\n        ppt: Tickets,\n        img: PictureFilled,\n        txt: Files,\n        other: Files\n      }\n      return iconMap[type] || Document\n    }\n    \n    // 格式化日期\n    const formatDate = (dateString) => {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleDateString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      })\n    }\n    \n    // 格式化日期为API格式\n    const formatDateForAPI = (date) => {\n      if (!date) return ''\n      return date.toISOString().split('T')[0]\n    }\n    \n    // 格式化文件大小\n    const formatFileSize = (sizeInKB) => {\n      if (!sizeInKB) return '0 KB'\n      \n      if (sizeInKB < 1024) {\n        return `${sizeInKB} KB`\n      } else {\n        return `${(sizeInKB / 1024).toFixed(2)} MB`\n      }\n    }\n    \n    // 获取标签列表\n    const getTagsList = (tags) => {\n      if (!tags) return []\n      if (Array.isArray(tags)) return tags\n      return tags.split(',').map(tag => tag.trim()).filter(tag => tag)\n    }\n    \n    // 轮询检查处理中的文档状态\n    let pollingInterval = null\n    \n    const startPolling = () => {\n      // 每10秒检查一次处理中的文档\n      pollingInterval = setInterval(() => {\n        if (processingCount.value > 0) {\n          fetchDocuments()\n        }\n      }, 10000)\n    }\n    \n    // 生命周期钩子\n    onMounted(() => {\n      // 添加加载状态和错误处理\n      Promise.all([\n        fetchCategories().catch(err => {\n          console.error('初始化加载分类失败:', err);\n          ElMessage.error('加载知识库分类失败，请稍后重试');\n          return [];\n        }),\n        fetchDocuments().catch(err => {\n          console.error('初始化加载文档失败:', err);\n          ElMessage.error('加载知识库文档失败，请稍后重试');\n          return [];\n        })\n      ]).finally(() => {\n        // 初始化完成后开始轮询\n        startPolling();\n      });\n    })\n    \n    onBeforeUnmount(() => {\n      if (pollingInterval) {\n        clearInterval(pollingInterval)\n      }\n    })\n    \n    return {\n      searchQuery,\n      selectedCategory,\n      categories,\n      documents,\n      filters,\n      currentPage,\n      pageSize,\n      totalDocs,\n      uploadVisible,\n      uploadForm,\n      uploadFormRef,\n      uploadRules,\n      uploading,\n      loading,\n      viewMode,\n      sortOrder,\n      showCategoryDialog,\n      showAddCategoryForm,\n      editingCategory,\n      categoryForm,\n      categoryLoading,\n      showChunksDialog,\n      selectedDocument,\n      documentChunks,\n      chunksLoading,\n      isAdmin,\n      currentCategoryName,\n      processingCount,\n      \n      // 图标\n      Search,\n      Upload,\n      FolderAdd,\n      View,\n      Download,\n      More,\n      Share,\n      Edit,\n      EditPen,\n      FolderOpened,\n      Star,\n      Delete,\n      Document,\n      Files,\n      Tickets,\n      DataAnalysis,\n      PictureFilled,\n      UploadFilled,\n      Loading,\n      List,\n      Grid,\n      Crop,\n      SplitCells,\n      Plus,\n      \n      // 方法\n      selectCategory,\n      handleSearch,\n      applyFilters,\n      getFileIcon,\n      formatDate,\n      formatFileSize,\n      getTagsList,\n      previewDocument,\n      downloadDocument,\n      shareDocument,\n      editDocument,\n      deleteDocument,\n      reprocessDocument,\n      handleFileChange,\n      handleRemove,\n      submitUpload,\n      handlePageChange,\n      handleSizeChange,\n      showDocumentChunks,\n      editCategory,\n      handleDeleteCategory,\n      saveCategoryForm,\n      cancelCategoryForm,\n      resetCategoryForm\n    }\n  }\n}\n</script>\n\n<style scoped>\n.knowledge-container {\n  padding: 20px;\n}\n\n.category-card {\n  height: calc(100vh - 150px);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.search-box {\n  margin-bottom: 20px;\n}\n\n.category-list {\n  flex: 1;\n  overflow-y: auto;\n  padding-right: 5px;\n  margin-bottom: 15px;\n}\n\n.card-header-flex {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 15px;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.header-title {\n  font-weight: 600;\n  font-size: 18px;\n  display: flex;\n  align-items: center;\n}\n\n.header-title .el-tag {\n  margin-left: 10px;\n}\n\n.category-item {\n  display: flex;\n  align-items: center;\n  padding: 12px 15px;\n  border-radius: 8px;\n  margin-bottom: 10px;\n  transition: all 0.2s;\n  color: #495057;\n  cursor: pointer;\n  background-color: #f8f9fa;\n}\n\n.category-item:hover {\n  background-color: #e9ecef;\n  transform: translateY(-2px);\n}\n\n.category-item.active {\n  background-color: #e9f4ff;\n  color: #007bff;\n  font-weight: 500;\n  box-shadow: 0 2px 6px rgba(0, 123, 255, 0.15);\n}\n\n.category-icon {\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 15px;\n}\n\n.category-name {\n  font-weight: 500;\n  flex: 1;\n}\n\n.category-count {\n  background-color: #e9ecef;\n  border-radius: 15px;\n  padding: 2px 10px;\n  font-size: 12px;\n  color: #6c757d;\n}\n\n.add-category-btn {\n  width: 100%;\n  margin-top: 10px;\n}\n\n.filter-section {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid #f0f0f0;\n  overflow-y: auto;\n}\n\n.filter-section h6 {\n  margin-bottom: 10px;\n  font-weight: 600;\n  color: #495057;\n}\n\n.filter-group {\n  margin-bottom: 15px;\n}\n\n.filter-options {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.document-list {\n  margin-top: 20px;\n}\n\n.view-controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.list-view {\n  margin-bottom: 20px;\n}\n\n.grid-view {\n  margin-bottom: 20px;\n}\n\n.document-card {\n  display: flex;\n  padding: 15px;\n  border-radius: 8px;\n  background-color: #fff;\n  margin-bottom: 15px;\n  transition: all 0.2s;\n  border: 1px solid #f0f0f0;\n  align-items: center;\n}\n\n.document-card:hover {\n  box-shadow: 0 5px 15px rgba(0,0,0,0.08);\n  transform: translateY(-2px);\n}\n\n.document-card.processing {\n  background-color: #fff9e6;\n  border-color: #ffd04b;\n}\n\n.document-icon {\n  width: 45px;\n  height: 45px;\n  border-radius: 5px;\n  margin-right: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 22px;\n  color: white;\n}\n\n.document-content {\n  flex: 1;\n}\n\n.document-title {\n  font-weight: 500;\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n}\n\n.document-title .el-tag {\n  margin-left: 10px;\n  font-weight: normal;\n}\n\n.document-info {\n  color: #6c757d;\n  font-size: 13px;\n}\n\n.document-meta {\n  display: flex;\n  gap: 15px;\n  margin-top: 5px;\n  color: #909399;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.document-tags {\n  margin-top: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 5px;\n}\n\n.document-progress {\n  margin-top: 10px;\n  padding: 8px;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n}\n\n.progress-info {\n  margin-top: 5px;\n  font-size: 12px;\n  color: #606266;\n}\n\n.document-actions {\n  display: flex;\n  gap: 5px;\n}\n\n.icon-pdf {\n  background-color: #dc3545;\n}\n\n.icon-doc {\n  background-color: #007bff;\n}\n\n.icon-xls {\n  background-color: #28a745;\n}\n\n.icon-ppt {\n  background-color: #fd7e14;\n}\n\n.icon-img {\n  background-color: #6f42c1;\n}\n\n.icon-txt {\n  background-color: #17a2b8;\n}\n\n.icon-other {\n  background-color: #6c757d;\n}\n\n.grid-card {\n  height: 220px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #f0f0f0;\n  overflow: hidden;\n  transition: all 0.2s;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n}\n\n.grid-card:hover {\n  box-shadow: 0 5px 15px rgba(0,0,0,0.08);\n  transform: translateY(-5px);\n}\n\n.grid-card-icon {\n  height: 120px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 42px;\n}\n\n.grid-card-content {\n  padding: 12px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n}\n\n.grid-card-title {\n  font-weight: 500;\n  margin-bottom: 8px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.grid-card-meta {\n  display: flex;\n  justify-content: space-between;\n  color: #909399;\n  font-size: 12px;\n  margin-bottom: 8px;\n}\n\n.grid-card-status {\n  margin-bottom: 8px;\n}\n\n.grid-card-actions {\n  margin-top: auto;\n  display: flex;\n  justify-content: flex-end;\n  gap: 5px;\n}\n\n.upload-zone {\n  border: 2px dashed #ced4da;\n  border-radius: 10px;\n  padding: 40px 30px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-top: 20px;\n}\n\n.upload-zone:hover {\n  border-color: #007bff;\n  background-color: #f8f9fa;\n}\n\n.upload-icon {\n  font-size: 48px;\n  color: #6c757d;\n  margin-bottom: 15px;\n}\n\n.upload-text {\n  font-size: 18px;\n  color: #495057;\n  margin-bottom: 10px;\n}\n\n.upload-hint {\n  font-size: 14px;\n  color: #6c757d;\n  margin-bottom: 20px;\n}\n\n.upload-features {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  gap: 30px;\n}\n\n.feature-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #495057;\n}\n\n.feature-item .el-icon {\n  font-size: 32px;\n  margin-bottom: 8px;\n  color: #007bff;\n}\n\n.tag {\n  display: inline-block;\n  padding: 2px 10px;\n  background-color: #e9ecef;\n  border-radius: 15px;\n  font-size: 12px;\n  color: #495057;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n}\n\n.knowledge-status-bar {\n  margin-bottom: 15px;\n}\n\n.processing-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 14px;\n  color: #e6a23c;\n}\n\n.form-help-text {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 5px;\n}\n\n.category-row {\n  display: flex;\n  align-items: center;\n}\n\n.category-color {\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  margin-right: 10px;\n}\n\n.dialog-add-section {\n  margin-top: 20px;\n  text-align: center;\n}\n\n.category-form {\n  margin-top: 20px;\n}\n\n.chunks-container {\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.chunk-item {\n  margin-bottom: 15px;\n  border: 1px solid #f0f0f0;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.chunk-header {\n  display: flex;\n  justify-content: space-between;\n  background-color: #f8f9fa;\n  padding: 10px 15px;\n}\n\n.chunk-index {\n  font-weight: 500;\n}\n\n.chunk-meta {\n  color: #909399;\n  font-size: 13px;\n}\n\n.chunk-content {\n  padding: 15px;\n  white-space: pre-wrap;\n  line-height: 1.6;\n}\n\n.category-dialog-content {\n  display: flex;\n  flex-direction: column;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.section-header h5 {\n  margin: 0;\n  font-weight: 600;\n}\n\n.category-list-section {\n  margin-bottom: 20px;\n}\n\n.category-items {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.category-list-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 15px;\n  border-radius: 6px;\n  margin-bottom: 10px;\n  background-color: #f8f9fa;\n  transition: all 0.2s;\n}\n\n.category-list-item:hover {\n  background-color: #f0f2f5;\n  transform: translateY(-2px);\n}\n\n.category-info {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.category-color {\n  width: 16px;\n  height: 16px;\n  border-radius: 3px;\n  margin-right: 12px;\n}\n\n.category-name-section {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.category-name {\n  font-weight: 500;\n}\n\n.category-desc {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 2px;\n}\n\n.category-count {\n  font-size: 13px;\n  color: #606266;\n  margin-left: 10px;\n}\n\n.category-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.category-form-section {\n  padding: 15px;\n  border-radius: 6px;\n  background-color: #f8f9fa;\n  margin-top: 20px;\n}\n\n.empty-categories {\n  padding: 40px 0;\n  text-align: center;\n}\n</style> "],"mappings":"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","ignoreList":[]}]}