{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\ChatCalendarEvent.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\ChatCalendarEvent.vue","mtime":1747722058606},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKaW1wb3J0IHsgQ2FsZW5kYXIsIENsb2NrLCBMb2NhdGlvbiwgSW5mb0ZpbGxlZCB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKaW1wb3J0IHsgYWRkQ2FsZW5kYXJFdmVudCB9IGZyb20gJ0AvYXBpL2NoYXQnOwppbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnQC91dGlscy9kYXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGF0Q2FsZW5kYXJFdmVudCcsCiAgY29tcG9uZW50czogewogICAgQ2FsZW5kYXIsCiAgICBDbG9jaywKICAgIExvY2F0aW9uLAogICAgSW5mb0ZpbGxlZAogIH0sCiAgcHJvcHM6IHsKICAgIG1lc3NhZ2VJZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgZXZlbnREYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGVtaXRzOiBbJ2NhbGVuZGFyLWV2ZW50LWFkZGVkJywgJ2NhbGVuZGFyLWV2ZW50LWhpZGRlbiddLAogIHNldHVwKHByb3BzLCB7CiAgICBlbWl0CiAgfSkgewogICAgY29uc3QgY2FsZW5kYXJFdmVudEFkZGVkID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGRldGFpbHNWaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IHsKICAgICAgZXZlbnREYXRhCiAgICB9ID0gdG9SZWZzKHByb3BzKTsKCiAgICAvLyDliJvlu7rlj6/nvJbovpHnmoTkuovku7blr7nosaEKICAgIGNvbnN0IGVkaXRhYmxlRXZlbnQgPSByZWFjdGl2ZSh7CiAgICAgIHRpdGxlOiAnJywKICAgICAgc3RhcnQ6ICcnLAogICAgICBlbmQ6ICcnLAogICAgICBsb2NhdGlvbjogJycsCiAgICAgIHR5cGU6ICdibHVlJywKICAgICAgcmVtaW5kZXI6ICczMG1pbicsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgaXNfYWxsX2RheTogZmFsc2UKICAgIH0pOwoKICAgIC8vIOW9k+aJk+W8gOivpuaDheWvueivneahhuaXtu+8jOWIneWni+WMluWPr+e8lui+keS6i+S7tgogICAgY29uc3QgaW5pdEVkaXRhYmxlRXZlbnQgPSAoKSA9PiB7CiAgICAgIGlmIChldmVudERhdGEudmFsdWUpIHsKICAgICAgICBlZGl0YWJsZUV2ZW50LnRpdGxlID0gZXZlbnREYXRhLnZhbHVlLnRpdGxlIHx8ICcnOwogICAgICAgIGVkaXRhYmxlRXZlbnQuc3RhcnQgPSBmb3JtYXREYXRlRm9yUGlja2VyKGV2ZW50RGF0YS52YWx1ZS5zdGFydCk7CiAgICAgICAgZWRpdGFibGVFdmVudC5lbmQgPSBmb3JtYXREYXRlRm9yUGlja2VyKGV2ZW50RGF0YS52YWx1ZS5lbmQpOwogICAgICAgIGVkaXRhYmxlRXZlbnQubG9jYXRpb24gPSBldmVudERhdGEudmFsdWUubG9jYXRpb24gfHwgJyc7CiAgICAgICAgZWRpdGFibGVFdmVudC50eXBlID0gZXZlbnREYXRhLnZhbHVlLnR5cGUgfHwgJ2JsdWUnOwogICAgICAgIGVkaXRhYmxlRXZlbnQucmVtaW5kZXIgPSBldmVudERhdGEudmFsdWUucmVtaW5kZXIgfHwgJzMwbWluJzsKICAgICAgICBlZGl0YWJsZUV2ZW50LmRlc2NyaXB0aW9uID0gZXZlbnREYXRhLnZhbHVlLmRlc2NyaXB0aW9uIHx8ICcnOwogICAgICAgIGVkaXRhYmxlRXZlbnQuaXNfYWxsX2RheSA9IGV2ZW50RGF0YS52YWx1ZS5pc19hbGxfZGF5IHx8IGZhbHNlOwogICAgICB9CiAgICB9OwoKICAgIC8vIOagvOW8j+WMluaXpeacn+S4uuaXpeacn+mAieaLqeWZqOaJgOmcgOagvOW8jwogICAgY29uc3QgZm9ybWF0RGF0ZUZvclBpY2tlciA9IGRhdGVTdHJpbmcgPT4gewogICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnJzsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7CiAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgJ1lZWVktTU0tREQgSEg6bW06c3MnKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfTsKCiAgICAvLyDmmL7npLror6bmg4Xlr7nor53moYYKICAgIGNvbnN0IHNob3dEZXRhaWxzID0gKCkgPT4gewogICAgICBpbml0RWRpdGFibGVFdmVudCgpOwogICAgICBkZXRhaWxzVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIC8vIOa3u+WKoOWIsOaXpeWOhgogICAgY29uc3QgYWRkVG9DYWxlbmRhciA9IGFzeW5jICgpID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBhZGRDYWxlbmRhckV2ZW50KHByb3BzLm1lc3NhZ2VJZCk7CiAgICAgICAgY2FsZW5kYXJFdmVudEFkZGVkLnZhbHVlID0gdHJ1ZTsKICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5pel56iL5re75Yqg5oiQ5YqfJyk7CiAgICAgICAgZW1pdCgnY2FsZW5kYXItZXZlbnQtYWRkZWQnKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB2YXIgX2Vycm9yJHJlc3BvbnNlLCBfZXJyb3IkcmVzcG9uc2UkZGF0YTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOaXpeeoi+Wksei0pe+8micgKyAoKChfZXJyb3IkcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9yJHJlc3BvbnNlJGRhdGEgPSBfZXJyb3IkcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZSRkYXRhLmVycm9yKSB8fCBlcnJvci5tZXNzYWdlKSk7CiAgICAgIH0KICAgIH07CgogICAgLy8g5L2/55So57yW6L6R5ZCO55qE5YaF5a655re75Yqg5Yiw5pel5Y6GCiAgICBjb25zdCBhZGRUb0NhbGVuZGFyV2l0aEVkaXRzID0gYXN5bmMgKCkgPT4gewogICAgICB0cnkgewogICAgICAgIGF3YWl0IGFkZENhbGVuZGFyRXZlbnQocHJvcHMubWVzc2FnZUlkLCBlZGl0YWJsZUV2ZW50KTsKICAgICAgICBjYWxlbmRhckV2ZW50QWRkZWQudmFsdWUgPSB0cnVlOwogICAgICAgIGRldGFpbHNWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+aXpeeoi+a3u+WKoOaIkOWKnycpOwogICAgICAgIGVtaXQoJ2NhbGVuZGFyLWV2ZW50LWFkZGVkJyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTIsIF9lcnJvciRyZXNwb25zZTIkZGF0YTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOaXpeeoi+Wksei0pe+8micgKyAoKChfZXJyb3IkcmVzcG9uc2UyID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyb3IkcmVzcG9uc2UyJGRhdGEgPSBfZXJyb3IkcmVzcG9uc2UyLmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTIkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlMiRkYXRhLmVycm9yKSB8fCBlcnJvci5tZXNzYWdlKSk7CiAgICAgIH0KICAgIH07CgogICAgLy8g6ZqQ6JeP5pel56iL5Y2h54mHCiAgICBjb25zdCBoaWRlQ2FsZW5kYXJFdmVudCA9ICgpID0+IHsKICAgICAgZW1pdCgnY2FsZW5kYXItZXZlbnQtaGlkZGVuJyk7CiAgICB9OwoKICAgIC8vIOagvOW8j+WMluaXpeacn+iMg+WbtAogICAgY29uc3QgZm9ybWF0RGF0ZVJhbmdlID0gKHN0YXJ0LCBlbmQpID0+IHsKICAgICAgaWYgKCFzdGFydCkgcmV0dXJuICfml7bpl7TmnKrmjIflrponOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0KTsKICAgICAgICBjb25zdCBlbmREYXRlID0gZW5kID8gbmV3IERhdGUoZW5kKSA6IG51bGw7CiAgICAgICAgY29uc3Qgc3RhcnREYXRlU3RyID0gZm9ybWF0RGF0ZShzdGFydERhdGUsICdZWVlZ5bm0TU3mnIhEROaXpSBISDptbScpOwogICAgICAgIGlmICghZW5kRGF0ZSkgcmV0dXJuIHN0YXJ0RGF0ZVN0cjsKCiAgICAgICAgLy8g5aaC5p6c5piv5ZCM5LiA5aSp77yM5Y+q5pi+56S65LiA5qyh5pel5pyfCiAgICAgICAgaWYgKHN0YXJ0RGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gZW5kRGF0ZS50b0RhdGVTdHJpbmcoKSkgewogICAgICAgICAgcmV0dXJuIGAke2Zvcm1hdERhdGUoc3RhcnREYXRlLCAnWVlZWeW5tE1N5pyIRETml6UgSEg6bW0nKX0gLSAke2Zvcm1hdERhdGUoZW5kRGF0ZSwgJ0hIOm1tJyl9YDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGAke2Zvcm1hdERhdGUoc3RhcnREYXRlLCAnWVlZWeW5tE1N5pyIRETml6UgSEg6bW0nKX0gLSAke2Zvcm1hdERhdGUoZW5kRGF0ZSwgJ1lZWVnlubRNTeaciERE5pelIEhIOm1tJyl9YDsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiAn5pe26Ze05qC85byP6ZSZ6K+vJzsKICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgIGNhbGVuZGFyRXZlbnRBZGRlZCwKICAgICAgZGV0YWlsc1Zpc2libGUsCiAgICAgIGVkaXRhYmxlRXZlbnQsCiAgICAgIHNob3dEZXRhaWxzLAogICAgICBhZGRUb0NhbGVuZGFyLAogICAgICBhZGRUb0NhbGVuZGFyV2l0aEVkaXRzLAogICAgICBoaWRlQ2FsZW5kYXJFdmVudCwKICAgICAgZm9ybWF0RGF0ZVJhbmdlCiAgICB9OwogIH0KfTs="},{"version":3,"names":["ref","reactive","toRefs","ElMessage","Calendar","Clock","Location","InfoFilled","addCalendarEvent","formatDate","name","components","props","messageId","type","Number","required","eventData","Object","emits","setup","emit","calendarEventAdded","detailsVisible","editableEvent","title","start","end","location","reminder","description","is_all_day","initEditableEvent","value","formatDateForPicker","dateString","date","Date","e","showDetails","addToCalendar","success","error","_error$response","_error$response$data","response","data","message","addToCalendarWithEdits","_error$response2","_error$response2$data","hideCalendarEvent","formatDateRange","startDate","endDate","startDateStr","toDateString"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\ChatCalendarEvent.vue"],"sourcesContent":["<template>\n  <div class=\"calendar-event-container\" v-if=\"eventData\">\n    <div class=\"calendar-event-card\">\n      <div class=\"calendar-event-header\" :class=\"'event-type-' + eventData.type\">\n        <i class=\"el-icon calendar-icon\"><Calendar /></i>\n        <span class=\"event-title\">{{ eventData.title }}</span>\n      </div>\n      <div class=\"calendar-event-content\">\n        <div class=\"event-time\">\n          <i class=\"el-icon\"><Clock /></i>\n          <span>{{ formatDateRange(eventData.start, eventData.end) }}</span>\n        </div>\n        <div class=\"event-location\" v-if=\"eventData.location\">\n          <i class=\"el-icon\"><Location /></i>\n          <span>{{ eventData.location }}</span>\n        </div>\n        <div class=\"event-description\" v-if=\"eventData.description\">\n          <i class=\"el-icon\"><InfoFilled /></i>\n          <span>{{ eventData.description }}</span>\n        </div>\n      </div>\n      <div class=\"calendar-event-actions\" v-if=\"!calendarEventAdded\">\n        <el-button type=\"primary\" size=\"small\" @click=\"showDetails\">详情</el-button>\n        <el-button type=\"success\" size=\"small\" @click=\"addToCalendar\">添加</el-button>\n        <el-button type=\"default\" size=\"small\" @click=\"hideCalendarEvent\">取消</el-button>\n      </div>\n      <div class=\"calendar-event-success\" v-else>\n        <el-alert\n          type=\"success\"\n          :closable=\"false\"\n          show-icon\n        >\n          <span>已成功添加到日程</span>\n        </el-alert>\n      </div>\n    </div>\n\n    <!-- 日程详情对话框 -->\n    <el-dialog\n      v-model=\"detailsVisible\"\n      title=\"日程详情\"\n      width=\"500px\"\n    >\n      <el-form :model=\"editableEvent\" label-width=\"80px\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"editableEvent.title\" placeholder=\"请输入日程标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"开始时间\">\n          <el-date-picker\n            v-model=\"editableEvent.start\"\n            type=\"datetime\"\n            placeholder=\"选择开始时间\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm:ss\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"结束时间\">\n          <el-date-picker\n            v-model=\"editableEvent.end\"\n            type=\"datetime\"\n            placeholder=\"选择结束时间\"\n            format=\"YYYY-MM-DD HH:mm\"\n            value-format=\"YYYY-MM-DD HH:mm:ss\"\n          ></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"地点\">\n          <el-input v-model=\"editableEvent.location\" placeholder=\"请输入地点\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"类型\">\n          <el-select v-model=\"editableEvent.type\" placeholder=\"请选择日程类型\">\n            <el-option label=\"会议\" value=\"blue\"></el-option>\n            <el-option label=\"出差\" value=\"orange\"></el-option>\n            <el-option label=\"假期\" value=\"green\"></el-option>\n            <el-option label=\"截止日期\" value=\"red\"></el-option>\n            <el-option label=\"其他\" value=\"purple\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"提醒\">\n          <el-select v-model=\"editableEvent.reminder\" placeholder=\"请选择提醒时间\">\n            <el-option label=\"不提醒\" value=\"none\"></el-option>\n            <el-option label=\"10分钟前\" value=\"10min\"></el-option>\n            <el-option label=\"30分钟前\" value=\"30min\"></el-option>\n            <el-option label=\"1小时前\" value=\"1hour\"></el-option>\n            <el-option label=\"1天前\" value=\"1day\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"全天事件\">\n          <el-switch v-model=\"editableEvent.is_all_day\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"描述\">\n          <el-input \n            v-model=\"editableEvent.description\" \n            type=\"textarea\" \n            :rows=\"3\"\n            placeholder=\"请输入描述信息\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"detailsVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"addToCalendarWithEdits\">添加</el-button>\n        </div>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, toRefs } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { Calendar, Clock, Location, InfoFilled } from '@element-plus/icons-vue'\nimport { addCalendarEvent } from '@/api/chat'\nimport { formatDate } from '@/utils/date'\n\nexport default {\n  name: 'ChatCalendarEvent',\n  \n  components: {\n    Calendar,\n    Clock,\n    Location,\n    InfoFilled\n  },\n  \n  props: {\n    messageId: {\n      type: Number,\n      required: true\n    },\n    eventData: {\n      type: Object,\n      required: true\n    }\n  },\n  \n  emits: ['calendar-event-added', 'calendar-event-hidden'],\n  \n  setup(props, { emit }) {\n    const calendarEventAdded = ref(false)\n    const detailsVisible = ref(false)\n    const { eventData } = toRefs(props)\n    \n    // 创建可编辑的事件对象\n    const editableEvent = reactive({\n      title: '',\n      start: '',\n      end: '',\n      location: '',\n      type: 'blue',\n      reminder: '30min',\n      description: '',\n      is_all_day: false\n    })\n    \n    // 当打开详情对话框时，初始化可编辑事件\n    const initEditableEvent = () => {\n      if (eventData.value) {\n        editableEvent.title = eventData.value.title || ''\n        editableEvent.start = formatDateForPicker(eventData.value.start)\n        editableEvent.end = formatDateForPicker(eventData.value.end)\n        editableEvent.location = eventData.value.location || ''\n        editableEvent.type = eventData.value.type || 'blue'\n        editableEvent.reminder = eventData.value.reminder || '30min'\n        editableEvent.description = eventData.value.description || ''\n        editableEvent.is_all_day = eventData.value.is_all_day || false\n      }\n    }\n    \n    // 格式化日期为日期选择器所需格式\n    const formatDateForPicker = (dateString) => {\n      if (!dateString) return ''\n      \n      try {\n        const date = new Date(dateString)\n        return formatDate(date, 'YYYY-MM-DD HH:mm:ss')\n      } catch (e) {\n        return ''\n      }\n    }\n    \n    // 显示详情对话框\n    const showDetails = () => {\n      initEditableEvent()\n      detailsVisible.value = true\n    }\n    \n    // 添加到日历\n    const addToCalendar = async () => {\n      try {\n        await addCalendarEvent(props.messageId)\n        calendarEventAdded.value = true\n        ElMessage.success('日程添加成功')\n        emit('calendar-event-added')\n      } catch (error) {\n        ElMessage.error('添加日程失败：' + (error.response?.data?.error || error.message))\n      }\n    }\n    \n    // 使用编辑后的内容添加到日历\n    const addToCalendarWithEdits = async () => {\n      try {\n        await addCalendarEvent(props.messageId, editableEvent)\n        calendarEventAdded.value = true\n        detailsVisible.value = false\n        ElMessage.success('日程添加成功')\n        emit('calendar-event-added')\n      } catch (error) {\n        ElMessage.error('添加日程失败：' + (error.response?.data?.error || error.message))\n      }\n    }\n    \n    // 隐藏日程卡片\n    const hideCalendarEvent = () => {\n      emit('calendar-event-hidden')\n    }\n    \n    // 格式化日期范围\n    const formatDateRange = (start, end) => {\n      if (!start) return '时间未指定'\n      \n      try {\n        const startDate = new Date(start)\n        const endDate = end ? new Date(end) : null\n        \n        const startDateStr = formatDate(startDate, 'YYYY年MM月DD日 HH:mm')\n        \n        if (!endDate) return startDateStr\n        \n        // 如果是同一天，只显示一次日期\n        if (startDate.toDateString() === endDate.toDateString()) {\n          return `${formatDate(startDate, 'YYYY年MM月DD日 HH:mm')} - ${formatDate(endDate, 'HH:mm')}`\n        }\n        \n        return `${formatDate(startDate, 'YYYY年MM月DD日 HH:mm')} - ${formatDate(endDate, 'YYYY年MM月DD日 HH:mm')}`\n      } catch (e) {\n        return '时间格式错误'\n      }\n    }\n    \n    return {\n      calendarEventAdded,\n      detailsVisible,\n      editableEvent,\n      showDetails,\n      addToCalendar,\n      addToCalendarWithEdits,\n      hideCalendarEvent,\n      formatDateRange\n    }\n  }\n}\n</script>\n\n<style scoped>\n.calendar-event-container {\n  margin: 4px 0;\n  width: 100%;\n}\n\n.calendar-event-card {\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n  border: 1px solid #ebeef5;\n}\n\n.calendar-event-header {\n  padding: 10px 12px;\n  display: flex;\n  align-items: center;\n  color: #fff;\n  font-weight: 500;\n  font-size: 14px;\n}\n\n.event-type-blue {\n  background-color: #409eff;\n}\n\n.event-type-orange {\n  background-color: #e6a23c;\n}\n\n.event-type-green {\n  background-color: #67c23a;\n}\n\n.event-type-red {\n  background-color: #f56c6c;\n}\n\n.event-type-purple {\n  background-color: #909399;\n}\n\n.calendar-icon {\n  margin-right: 8px;\n}\n\n.event-title {\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.calendar-event-content {\n  padding: 12px;\n  font-size: 13px;\n  color: #606266;\n}\n\n.event-time, .event-location, .event-description {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n}\n\n.event-description {\n  margin-bottom: 0;\n}\n\n.el-icon {\n  margin-right: 8px;\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.calendar-event-actions {\n  display: flex;\n  justify-content: flex-end;\n  padding: 8px 12px;\n  border-top: 1px solid #ebeef5;\n  gap: 8px;\n}\n\n.calendar-event-success {\n  padding: 8px 12px;\n}\n</style> "],"mappings":"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","ignoreList":[]}]}