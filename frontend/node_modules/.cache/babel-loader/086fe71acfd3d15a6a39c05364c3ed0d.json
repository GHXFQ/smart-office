{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\Index.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\Index.vue","mtime":1748670979734},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB1bnJlZiBhcyBfdW5yZWYsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHdpdGhLZXlzIGFzIF93aXRoS2V5cyB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb250YWluZXItZmx1aWQiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJyb3ciCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjb2wtbWQtMyIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNhcmQiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJjYXJkLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogImNhcmQtYm9keSBwLTAiCn07CmNvbnN0IF9ob2lzdGVkXzcgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZW1wdHktc3RhdGUtbmF2Igp9Owpjb25zdCBfaG9pc3RlZF84ID0gewogIGtleTogMSwKICBjbGFzczogInByb2plY3QtbmF2Igp9Owpjb25zdCBfaG9pc3RlZF85ID0gWyJvbkNsaWNrIl07CmNvbnN0IF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAiY29sLW1kLTkiCn07CmNvbnN0IF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAiY2FyZCIKfTsKY29uc3QgX2hvaXN0ZWRfMTIgPSB7CiAgY2xhc3M6ICJjYXJkLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTMgPSB7CiAgY2xhc3M6ICJzZWFyY2gtYm94Igp9Owpjb25zdCBfaG9pc3RlZF8xNCA9IHsKICBjbGFzczogImNhcmQtYm9keSIKfTsKY29uc3QgX2hvaXN0ZWRfMTUgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZW1wdHktc3RhdGUiCn07CmNvbnN0IF9ob2lzdGVkXzE2ID0gewogIGtleTogMSwKICBjbGFzczogInJvdyIKfTsKY29uc3QgX2hvaXN0ZWRfMTcgPSB7CiAgY2xhc3M6ICJwcm9qZWN0LWNhcmQiCn07CmNvbnN0IF9ob2lzdGVkXzE4ID0gewogIGNsYXNzOiAicHJvamVjdC1jYXJkLWhlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTkgPSB7CiAgY2xhc3M6ICJwcm9qZWN0LWNhcmQtYm9keSIKfTsKY29uc3QgX2hvaXN0ZWRfMjAgPSB7CiAgY2xhc3M6ICJwcm9qZWN0LWNhcmQtc3RhdHMiCn07CmNvbnN0IF9ob2lzdGVkXzIxID0gewogIGNsYXNzOiAic3RhdC1pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF8yMiA9IHsKICBjbGFzczogInN0YXQtaXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfMjMgPSB7CiAgY2xhc3M6ICJwcm9qZWN0LWNhcmQtZm9vdGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yNCA9IHsKICBjbGFzczogImFpLWFzc2lzdGFudCIKfTsKY29uc3QgX2hvaXN0ZWRfMjUgPSB7CiAgY2xhc3M6ICJhaS1hc3Npc3RhbnQtaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yNiA9IHsKICBjbGFzczogImFpLWFzc2lzdGFudC1mb290ZXIiCn07CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgUHJvbW90aW9uLCBGb2xkZXJPcGVuZWQgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmltcG9ydCB7IEVsTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBfX25hbWU6ICdJbmRleCcsCiAgc2V0dXAoX19wcm9wcykgewogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCBzZWFyY2hUZXh0ID0gcmVmKCcnKTsKICAgIGNvbnN0IHByb2plY3RzID0gcmVmKFtdKTsKICAgIGNvbnN0IGFjdGl2ZVByb2plY3RJZHggPSByZWYoMCk7CiAgICBjb25zdCBzaG93TmV3UHJvamVjdCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBuZXdQcm9qZWN0ID0gcmVmKHsKICAgICAgbmFtZTogJycsCiAgICAgIGRlc2M6ICcnLAogICAgICBzdGFydDogJycsCiAgICAgIGVuZDogJycsCiAgICAgIG1lbWJlcnM6IFtdCiAgICB9KTsKICAgIGNvbnN0IG1lbWJlck9wdGlvbnMgPSByZWYoW10pOwogICAgY29uc3QgYWlQYW5lbCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBhaUlucHV0ID0gcmVmKCcnKTsKICAgIGZ1bmN0aW9uIGZldGNoUHJvamVjdHMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdmZXRjaFByb2plY3RzOiDlvIDlp4vor7fmsYLpobnnm67liJfooagnKTsKICAgICAgcmVxdWVzdC5nZXQoJy9hcGkvcHJvamVjdHMvJykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdmZXRjaFByb2plY3RzOiDojrflj5bmiJDlip8nLCByZXMuZGF0YSk7CiAgICAgICAgcHJvamVjdHMudmFsdWUgPSByZXMuZGF0YSB8fCBbXTsKCiAgICAgICAgLy8g5Li65q+P5Liq6aG555uu5re75Yqg54q25oCB5paH5pys5ZKM5qC35byPCiAgICAgICAgcHJvamVjdHMudmFsdWUuZm9yRWFjaChwcm9qZWN0ID0+IHsKICAgICAgICAgIGlmIChwcm9qZWN0LnN0YXR1cyA9PT0gJ2RvaW5nJykgewogICAgICAgICAgICBwcm9qZWN0LnN0YXR1c1RleHQgPSAn6L+b6KGM5LitJzsKICAgICAgICAgICAgcHJvamVjdC5zdGF0dXNDbGFzcyA9ICdiZy1wcmltYXJ5IHRleHQtd2hpdGUnOwogICAgICAgICAgfSBlbHNlIGlmIChwcm9qZWN0LnN0YXR1cyA9PT0gJ2RvbmUnKSB7CiAgICAgICAgICAgIHByb2plY3Quc3RhdHVzVGV4dCA9ICflt7LlrozmiJAnOwogICAgICAgICAgICBwcm9qZWN0LnN0YXR1c0NsYXNzID0gJ2JnLXN1Y2Nlc3MgdGV4dC13aGl0ZSc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm9qZWN0LnN0YXR1c1RleHQgPSBwcm9qZWN0LnN0YXR1cyB8fCAn5pyq55+lJzsKICAgICAgICAgICAgcHJvamVjdC5zdGF0dXNDbGFzcyA9ICdiZy1zZWNvbmRhcnkgdGV4dC13aGl0ZSc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgdmFyIF9lcnIkcmVzcG9uc2UsIF9lcnIkcmVzcG9uc2UyLCBfZXJyJHJlc3BvbnNlMiRkYXRhOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZldGNoUHJvamVjdHM6IOivt+axguWksei0pScsIChlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2VyciRyZXNwb25zZSA9IGVyci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZS5kYXRhKSB8fCBlcnIpOwogICAgICAgIGFsZXJ0KCfojrflj5bpobnnm67liJfooajlpLHotKU6ICcgKyAoKGVyciA9PT0gbnVsbCB8fCBlcnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyJHJlc3BvbnNlMiA9IGVyci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyJHJlc3BvbnNlMiRkYXRhID0gX2VyciRyZXNwb25zZTIuZGF0YSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZTIkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTIkZGF0YS5kZXRhaWwpIHx8ICfor7fmo4Dmn6XmnYPpmZDmiJbnvZHnu5zov57mjqUnKSk7CiAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gZ2V0Q29tcGFueUlkRnJvbVVzZXIodXNlcikgewogICAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsOwogICAgICBpZiAodHlwZW9mIHVzZXIuY29tcGFueV9pZCA9PT0gJ251bWJlcicpIHJldHVybiB1c2VyLmNvbXBhbnlfaWQ7CiAgICAgIGlmICh0eXBlb2YgdXNlci5jb21wYW55ID09PSAnbnVtYmVyJykgcmV0dXJuIHVzZXIuY29tcGFueTsKICAgICAgLy8g5YW85a655ZCO56uv6L+U5Zue5a2X56ym5Liy5pWw5a2XCiAgICAgIGlmICghaXNOYU4odXNlci5jb21wYW55X2lkKSkgcmV0dXJuIE51bWJlcih1c2VyLmNvbXBhbnlfaWQpOwogICAgICBpZiAoIWlzTmFOKHVzZXIuY29tcGFueSkpIHJldHVybiBOdW1iZXIodXNlci5jb21wYW55KTsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBmdW5jdGlvbiBmZXRjaE1lbWJlcnMoY29tcGFueUlkKSB7CiAgICAgIGNvbXBhbnlJZCA9IE51bWJlcihjb21wYW55SWQpOwogICAgICBpZiAoIWNvbXBhbnlJZCB8fCBpc05hTihjb21wYW55SWQpKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdmZXRjaE1lbWJlcnM6IGNvbXBhbnlJZOaXoOaViCcsIGNvbXBhbnlJZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgIGlmICghdG9rZW4pIHsKICAgICAgICBhbGVydCgn5pyq5qOA5rWL5Yiw55m75b2V5Yet6K+B77yM6K+36YeN5paw55m75b2V77yBJyk7CiAgICAgICAgbWVtYmVyT3B0aW9ucy52YWx1ZSA9IFtdOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygnZmV0Y2hNZW1iZXJzOiBjb21wYW55SWQ9JywgY29tcGFueUlkLCAndG9rZW49JywgdG9rZW4pOwogICAgICByZXF1ZXN0LmdldChgL2FwaS9hdXRoL2NvbXBhbmllcy8ke2NvbXBhbnlJZH0vdXNlcnMvYCkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXMuZGF0YSkpIHsKICAgICAgICAgIGFyciA9IHJlcy5kYXRhOwogICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEgJiYgQXJyYXkuaXNBcnJheShyZXMuZGF0YS5kYXRhKSkgewogICAgICAgICAgYXJyID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcignZmV0Y2hNZW1iZXJzOiDov5Tlm57mlbDmja7kuI3mmK/mlbDnu4QnLCByZXMuZGF0YSk7CiAgICAgICAgfQogICAgICAgIG1lbWJlck9wdGlvbnMudmFsdWUgPSBhcnIubWFwKHUgPT4gKHsKICAgICAgICAgIHZhbHVlOiB1LmlkLAogICAgICAgICAgbGFiZWw6IHUubmFtZSB8fCB1LnVzZXJuYW1lCiAgICAgICAgfSkpOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIHZhciBfZXJyJHJlc3BvbnNlMywgX2VyciRyZXNwb25zZTQ7CiAgICAgICAgaWYgKChlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2VyciRyZXNwb25zZTMgPSBlcnIucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyJHJlc3BvbnNlMy5zdGF0dXMpID09PSA0MDMpIHsKICAgICAgICAgIGFsZXJ0KCfml6DmnYPpmZDorr/pl67lhazlj7jmiJDlkZjmjqXlj6PvvIzor7fph43mlrDnmbvlvZXmiJbogZTns7vnrqHnkIblkZjvvIEnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoJ+iOt+WPluWFrOWPuOaIkOWRmOWksei0pe+8jOivt+ajgOafpee9kee7nOaIluiBlOezu+euoeeQhuWRmO+8gScpOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmVycm9yKCdmZXRjaE1lbWJlcnM6IOivt+axguWHuumUmScsIGVyciwgZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnIkcmVzcG9uc2U0ID0gZXJyLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyJHJlc3BvbnNlNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTQuZGF0YSk7CiAgICAgICAgbWVtYmVyT3B0aW9ucy52YWx1ZSA9IFtdOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOehruS/neW9k+WJjeeUqOaIt+WFs+iBlOS6huWFrOWPuAogICAgICovCiAgICBmdW5jdGlvbiBlbnN1cmVVc2VyQ29tcGFueSgpIHsKICAgICAgY29uc3QgdXNlciA9IHN0b3JlLmdldHRlcnMudXNlcjsKICAgICAgaWYgKCF1c2VyKSB7CiAgICAgICAgY29uc29sZS53YXJuKCfmnKrmib7liLDnlKjmiLfkv6Hmga8nKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgLy8g5qOA5p+l55So5oi35piv5ZCm5pyJ5YWs5Y+45L+h5oGvCiAgICAgIGNvbnN0IGNvbXBhbnlJZCA9IGdldENvbXBhbnlJZEZyb21Vc2VyKHVzZXIpOwogICAgICBpZiAoIWNvbXBhbnlJZCkgewogICAgICAgIGNvbnNvbGUud2Fybign55So5oi35pyq5YWz6IGU5YWs5Y+4Jyk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGNvbXBhbnlJZDsKICAgIH0KICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCfpobnnm67pobXpnaLmjILovb0nKTsKICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgY29uc3QgdXNlclN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgICAgIGlmICghdG9rZW4pIHsKICAgICAgICBjb25zb2xlLndhcm4oJ+acquaJvuWIsHRva2Vu77yM6K+356Gu5L+d5bey55m75b2VJyk7CiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodXNlclN0cikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCB1c2VyID0gSlNPTi5wYXJzZSh1c2VyU3RyKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCflvZPliY3nlKjmiLfkv6Hmga86JywgdXNlcik7CiAgICAgICAgICBjb25zb2xlLmxvZygn55So5oi35YWs5Y+4SUQ6JywgZ2V0Q29tcGFueUlkRnJvbVVzZXIodXNlcikpOwoKICAgICAgICAgIC8vIOajgOafpeeUqOaIt+WFrOWPuAogICAgICAgICAgY29uc3QgY29tcGFueUlkID0gZW5zdXJlVXNlckNvbXBhbnkoKTsKICAgICAgICAgIGlmICghY29tcGFueUlkKSB7CiAgICAgICAgICAgIGFsZXJ0KCfmgqjmnKrlhbPogZTliLDku7vkvZXlhazlj7jvvIzml6Dms5Xorr/pl67pobnnm67nrqHnkIbpobXpnaInKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfop6PmnpDnlKjmiLfkv6Hmga/lpLHotKUnLCBlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIOiOt+WPlumhueebruWIl+ihqAogICAgICBmZXRjaFByb2plY3RzKCk7CiAgICB9KTsKICAgIGNvbnN0IGZpbHRlcmVkUHJvamVjdHMgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmICghc2VhcmNoVGV4dC52YWx1ZSkgcmV0dXJuIHByb2plY3RzLnZhbHVlOwogICAgICBjb25zdCBrZXl3b3JkID0gc2VhcmNoVGV4dC52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICByZXR1cm4gcHJvamVjdHMudmFsdWUuZmlsdGVyKHAgPT4gcC5uYW1lICYmIHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpIHx8IHAuZGVzYyAmJiBwLmRlc2MudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhrZXl3b3JkKSk7CiAgICB9KTsKICAgIGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cikgewogICAgICBpZiAoIWRhdGVTdHIpIHJldHVybiAn5pyq6K6+572uJzsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpOwogICAgICByZXR1cm4gYCR7ZGF0ZS5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpfS0ke1N0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgfQogICAgZnVuY3Rpb24gc2VuZEFJTWVzc2FnZSgpIHsKICAgICAgYWlJbnB1dC52YWx1ZSA9ICcnOwogICAgfQogICAgZnVuY3Rpb24gc2VsZWN0UHJvamVjdChpZHgpIHsKICAgICAgYWN0aXZlUHJvamVjdElkeC52YWx1ZSA9IGlkeDsKICAgIH0KICAgIGZ1bmN0aW9uIGdvVG9Qcm9qZWN0RGV0YWlsKGlkKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnUHJvamVjdERldGFpbCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBoYW5kbGVDb21tYW5kKGNvbW1hbmQsIHByb2plY3RJZCkgewogICAgICBpZiAoY29tbWFuZCA9PT0gJ2VkaXQnKSB7CiAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzLnZhbHVlLmZpbmQocCA9PiBwLmlkID09PSBwcm9qZWN0SWQpOwogICAgICAgIGlmIChwcm9qZWN0KSB7CiAgICAgICAgICBuZXdQcm9qZWN0LnZhbHVlID0gewogICAgICAgICAgICAuLi5wcm9qZWN0CiAgICAgICAgICB9OwogICAgICAgICAgc2hvd05ld1Byb2plY3QudmFsdWUgPSB0cnVlOwogICAgICAgICAgZmV0Y2hNZW1iZXJzKHByb2plY3QuY29tcGFueSk7IC8vIOaLieWPluWFrOWPuOaIkOWRmAogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAnZGVsZXRlJykgewogICAgICAgIEVsTWVzc2FnZUJveC5jb25maXJtKCfnoa7lrpropoHliKDpmaTor6Xpobnnm67lkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHJlcXVlc3QuZGVsZXRlKGAvYXBpL3Byb2plY3RzLyR7cHJvamVjdElkfS9gKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgZmV0Y2hQcm9qZWN0cygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBhZGRQcm9qZWN0KCkgewogICAgICBpZiAoIW5ld1Byb2plY3QudmFsdWUubmFtZSkgcmV0dXJuOwogICAgICBjb25zdCB1c2VyID0gc3RvcmUuZ2V0dGVycy51c2VyOwogICAgICBjb25zdCBjb21wYW55SWQgPSBnZXRDb21wYW55SWRGcm9tVXNlcih1c2VyKTsKICAgICAgaWYgKCFjb21wYW55SWQpIHsKICAgICAgICBhbGVydCgn5oKo5rKh5pyJ5YWz6IGU5Yiw5Lu75L2V5YWs5Y+477yM5peg5rOV5Yib5bu66aG555uuJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOaXpeacn+agvOW8j+WMlgogICAgICBmdW5jdGlvbiBmb3JtYXREYXRlU3RyKHZhbCkgewogICAgICAgIGlmICghdmFsKSByZXR1cm4gJyc7CiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIC9eXGR7NH0tXGR7Mn0tXGR7Mn0kLy50ZXN0KHZhbCkpIHJldHVybiB2YWw7CiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKHZhbCk7CiAgICAgICAgaWYgKGlzTmFOKGQpKSByZXR1cm4gJyc7CiAgICAgICAgcmV0dXJuIGAke2QuZ2V0RnVsbFllYXIoKX0tJHtTdHJpbmcoZC5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0tJHtTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDsKICAgICAgfQogICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IHsKICAgICAgICAuLi5uZXdQcm9qZWN0LnZhbHVlLAogICAgICAgIGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCwKICAgICAgICAvLyDlhbPplK7vvJrlrZfmrrXlkI3lv4XpobvmmK8gY29tcGFueV9pZAogICAgICAgIHN0YXJ0OiBmb3JtYXREYXRlU3RyKG5ld1Byb2plY3QudmFsdWUuc3RhcnQpLAogICAgICAgIGVuZDogZm9ybWF0RGF0ZVN0cihuZXdQcm9qZWN0LnZhbHVlLmVuZCkKICAgICAgfTsKICAgICAgZGVsZXRlIHByb2plY3REYXRhLmNvbXBhbnk7IC8vIOmYsuW+oeaAp+WIoOmZpAogICAgICBkZWxldGUgcHJvamVjdERhdGEuY29tcGFueUlkOwogICAgICBjb25zb2xlLmxvZygn5YeG5aSH5L+d5a2Y55qE6aG555uu5pWw5o2uOicsIHByb2plY3REYXRhKTsKICAgICAgaWYgKG5ld1Byb2plY3QudmFsdWUuaWQpIHsKICAgICAgICByZXF1ZXN0LnB1dChgL2FwaS9wcm9qZWN0cy8ke25ld1Byb2plY3QudmFsdWUuaWR9L2AsIHByb2plY3REYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygn6aG555uu5pu05paw5oiQ5YqfOicsIHJlcy5kYXRhKTsKICAgICAgICAgIHNob3dOZXdQcm9qZWN0LnZhbHVlID0gZmFsc2U7CiAgICAgICAgICBmZXRjaFByb2plY3RzKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHZhciBfZXJyJHJlc3BvbnNlNSwgX2VyciRyZXNwb25zZTYsIF9lcnIkcmVzcG9uc2U2JGRhdGE7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfnvJbovpHpobnnm67lpLHotKUnLCAoZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnIkcmVzcG9uc2U1ID0gZXJyLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyJHJlc3BvbnNlNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTUuZGF0YSkgfHwgZXJyKTsKICAgICAgICAgIGFsZXJ0KCfnvJbovpHpobnnm67lpLHotKU6ICcgKyAoKGVyciA9PT0gbnVsbCB8fCBlcnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyJHJlc3BvbnNlNiA9IGVyci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyJHJlc3BvbnNlNiRkYXRhID0gX2VyciRyZXNwb25zZTYuZGF0YSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZTYkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTYkZGF0YS5kZXRhaWwpIHx8ICfor7fmo4Dmn6XmnYPpmZDmiJbnvZHnu5zov57mjqUnKSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVxdWVzdC5wb3N0KCcvYXBpL3Byb2plY3RzLycsIHByb2plY3REYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygn6aG555uu5Yib5bu65oiQ5YqfOicsIHJlcy5kYXRhKTsKICAgICAgICAgIHNob3dOZXdQcm9qZWN0LnZhbHVlID0gZmFsc2U7CiAgICAgICAgICBmZXRjaFByb2plY3RzKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHZhciBfZXJyJHJlc3BvbnNlNywgX2VyciRyZXNwb25zZTgsIF9lcnIkcmVzcG9uc2U4JGRhdGE7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rpobnnm67lpLHotKUnLCAoZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnIkcmVzcG9uc2U3ID0gZXJyLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyJHJlc3BvbnNlNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTcuZGF0YSkgfHwgZXJyKTsKICAgICAgICAgIGFsZXJ0KCfliJvlu7rpobnnm67lpLHotKU6ICcgKyAoKGVyciA9PT0gbnVsbCB8fCBlcnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyJHJlc3BvbnNlOCA9IGVyci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyJHJlc3BvbnNlOCRkYXRhID0gX2VyciRyZXNwb25zZTguZGF0YSkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZTgkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZTgkZGF0YS5kZXRhaWwpIHx8ICfor7fmo4Dmn6XmnYPpmZDmiJbnvZHnu5zov57mjqUnKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgbmV3UHJvamVjdC52YWx1ZSA9IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBkZXNjOiAnJywKICAgICAgICBzdGFydDogJycsCiAgICAgICAgZW5kOiAnJywKICAgICAgICBtZW1iZXJzOiBbXQogICAgICB9OwogICAgfQoKICAgIC8vIOaWsOW7uumhueebruW8ueeql+aJk+W8gOaXtuiHquWKqOaLieWPluWFrOWPuOaIkOWRmO+8jOW5tuiHquWKqOWbnuWhq+W3sumAieaIkOWRmAogICAgd2F0Y2goc2hvd05ld1Byb2plY3QsIHZhbCA9PiB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICBjb25zdCB1c2VyID0gc3RvcmUuZ2V0dGVycy51c2VyOwogICAgICAgIGNvbnN0IGNvbXBhbnlJZCA9IGdldENvbXBhbnlJZEZyb21Vc2VyKHVzZXIpOwogICAgICAgIGlmIChjb21wYW55SWQpIGZldGNoTWVtYmVycyhjb21wYW55SWQpOwogICAgICAgIC8vIOe8lui+keaXtuiHquWKqOWbnuWhq+aIkOWRmAogICAgICAgIGlmIChuZXdQcm9qZWN0LnZhbHVlLmlkICYmIEFycmF5LmlzQXJyYXkobmV3UHJvamVjdC52YWx1ZS5tZW1iZXJzKSkgewogICAgICAgICAgbmV3UHJvamVjdC52YWx1ZS5tZW1iZXJzID0gWy4uLm5ld1Byb2plY3QudmFsdWUubWVtYmVyc107CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5ld1Byb2plY3QudmFsdWUubWVtYmVycyA9IFtdOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaWNvbiIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWJ1dHRvbiIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2Ryb3Bkb3duX2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZHJvcGRvd24taXRlbSIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2Ryb3Bkb3duX21lbnUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZHJvcGRvd24tbWVudSIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2Ryb3Bkb3duID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRyb3Bkb3duIik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0taXRlbSIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX2RhdGVfcGlja2VyID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRhdGUtcGlja2VyIik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfb3B0aW9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLW9wdGlvbiIpOwogICAgICBjb25zdCBfY29tcG9uZW50X2VsX3NlbGVjdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1zZWxlY3QiKTsKICAgICAgY29uc3QgX2NvbXBvbmVudF9lbF9mb3JtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0iKTsKICAgICAgY29uc3QgX2NvbXBvbmVudF9lbF9kaWFsb2cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGlhbG9nIik7CiAgICAgIGNvbnN0IF9jb21wb25lbnRfZWxfZHJhd2VyID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRyYXdlciIpOwogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jYWNoZVsxNF0gfHwgKF9jYWNoZVsxNF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuaIkeeahOmhueebriIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgICAgICBjbGFzczogImJ0biBidG4tc20gYnRuLXByaW1hcnkiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+IHNob3dOZXdQcm9qZWN0LnZhbHVlID0gdHJ1ZSkKICAgICAgfSwgX2NhY2hlWzEzXSB8fCAoX2NhY2hlWzEzXSA9IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgICAgIGNsYXNzOiAiYmkgYmktcGx1cyIKICAgICAgfSwgbnVsbCwgLTEpLCBfY3JlYXRlVGV4dFZOb2RlKCIg5paw5bu6ICIpXSkpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtmaWx0ZXJlZFByb2plY3RzLnZhbHVlLmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICJmb250LXNpemUiOiAiNDBweCIsCiAgICAgICAgICAiY29sb3IiOiAiI2QzZDNkMyIsCiAgICAgICAgICAibWFyZ2luLWJvdHRvbSI6ICIxMHB4IgogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX3VucmVmKEZvbGRlck9wZW5lZCkpXSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NhY2hlWzE1XSB8fCAoX2NhY2hlWzE1XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICBjbGFzczogImVtcHR5LXRpdGxlLW5hdiIKICAgICAgfSwgIuaaguaXoOmhueebriIsIC0xKSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChwcm9qZWN0cy52YWx1ZSwgKHByb2plY3QsIGlkeCkgPT4gewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGtleTogcHJvamVjdC5pZCwKICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJwcm9qZWN0LWl0ZW0iLCB7CiAgICAgICAgICAgIGFjdGl2ZTogaWR4ID09PSBhY3RpdmVQcm9qZWN0SWR4LnZhbHVlCiAgICAgICAgICB9XSksCiAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gc2VsZWN0UHJvamVjdChpZHgpCiAgICAgICAgfSwgW19jYWNoZVsxNl0gfHwgKF9jYWNoZVsxNl0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgICAgICAgY2xhc3M6ICJiaSBiaS1rYW5iYW4iCiAgICAgICAgfSwgbnVsbCwgLTEpKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcocHJvamVjdC5uYW1lKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsiYmFkZ2UiLCBwcm9qZWN0LnN0YXR1c0NsYXNzXSkKICAgICAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKHByb2plY3Quc3RhdHVzVGV4dCksIDMpXSwgMTAsIF9ob2lzdGVkXzkpOwogICAgICB9KSwgMTI4KSldKSldKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMiwgW19jYWNoZVsxN10gfHwgKF9jYWNoZVsxN10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIumhueebruWIl+ihqCIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICBtb2RlbFZhbHVlOiBzZWFyY2hUZXh0LnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gc2VhcmNoVGV4dC52YWx1ZSA9ICRldmVudCksCiAgICAgICAgcGxhY2Vob2xkZXI6ICLmkJzntKLpobnnm64uLi4iLAogICAgICAgICJwcmVmaXgtaWNvbiI6ICJTZWFyY2giLAogICAgICAgIGNsZWFyYWJsZTogIiIKICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTQsIFtmaWx0ZXJlZFByb2plY3RzLnZhbHVlLmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzE1LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAiZm9udC1zaXplIjogIjEyMHB4IiwKICAgICAgICAgICJjb2xvciI6ICIjZDNkM2QzIiwKICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjE2cHgiCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfdW5yZWYoRm9sZGVyT3BlbmVkKSldKSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY2FjaGVbMThdIHx8IChfY2FjaGVbMThdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiZW1wdHktdGl0bGUiCiAgICAgIH0sICLmmoLml6Dpobnnm64iLCAtMSkpLCBfY2FjaGVbMTldIHx8IChfY2FjaGVbMTldID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiZW1wdHktZGVzYyIKICAgICAgfSwgIuaCqOi/mOayoeacieS7u+S9lemhueebru+8jOeCueWHu+WPs+S4iuinklwi5paw5bu6XCLmjInpkq7mt7vliqDmgqjnmoTnrKzkuIDkuKrpobnnm67lkKfvvIEiLCAtMSkpXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTYsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGZpbHRlcmVkUHJvamVjdHMudmFsdWUsIHByb2plY3QgPT4gewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGtleTogcHJvamVjdC5pZCwKICAgICAgICAgIGNsYXNzOiAiY29sLW1kLTYgbWItNCIKICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTcsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImg1IiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhwcm9qZWN0Lm5hbWUpLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJiYWRnZSIsIHByb2plY3Quc3RhdHVzQ2xhc3NdKQogICAgICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcocHJvamVjdC5zdGF0dXNUZXh0KSwgMyldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhwcm9qZWN0LmRlc2MgfHwgJ+aaguaXoOaPj+i/sCcpLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjAsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMSwgW19jYWNoZVsyMF0gfHwgKF9jYWNoZVsyMF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgICAgICAgY2xhc3M6ICJiaSBiaS1jYWxlbmRhciIKICAgICAgICB9LCBudWxsLCAtMSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhwcm9qZWN0LnN0YXJ0ID8gZm9ybWF0RGF0ZShwcm9qZWN0LnN0YXJ0KSA6ICfmnKrorr7nva4nKSwgMSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjIsIFtfY2FjaGVbMjFdIHx8IChfY2FjaGVbMjFdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgIGNsYXNzOiAiYmkgYmktcGVvcGxlIgogICAgICAgIH0sIG51bGwsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKHByb2plY3QubWVtYmVycyA/IHByb2plY3QubWVtYmVycy5sZW5ndGggOiAwKSArICLkuroiLCAxKV0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gZ29Ub1Byb2plY3REZXRhaWwocHJvamVjdC5pZCkKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMjJdIHx8IChfY2FjaGVbMjJdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuafpeeci+ivpuaDhSIpXSkpLAogICAgICAgICAgXzogMgogICAgICAgIH0sIDEwMzIsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd24sIHsKICAgICAgICAgIG9uQ29tbWFuZDogJGV2ZW50ID0+IGhhbmRsZUNvbW1hbmQoJGV2ZW50LCBwcm9qZWN0LmlkKSwKICAgICAgICAgIHRyaWdnZXI6ICJjbGljayIKICAgICAgICB9LCB7CiAgICAgICAgICBkcm9wZG93bjogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX21lbnUsIG51bGwsIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX2l0ZW0sIHsKICAgICAgICAgICAgICBjb21tYW5kOiAiZWRpdCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyNF0gfHwgKF9jYWNoZVsyNF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi57yW6L6R6aG555uuIildKSksCiAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwgewogICAgICAgICAgICAgIGNvbW1hbmQ6ICJkZWxldGUiLAogICAgICAgICAgICAgIGRpdmlkZWQ6ICIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMjVdIHx8IChfY2FjaGVbMjVdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWIoOmZpOmhueebriIpXSkpLAogICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgfSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldKSwKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgICAgcGxhaW46ICIiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyM10gfHwgKF9jYWNoZVsyM10gPSBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgICAgICBjbGFzczogImJpIGJpLXRocmVlLWRvdHMiCiAgICAgICAgICAgIH0sIG51bGwsIC0xKV0pKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDMyLCBbIm9uQ29tbWFuZCJdKV0pXSldKTsKICAgICAgfSksIDEyOCkpXSkpXSldKV0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgICAgIG1vZGVsVmFsdWU6IHNob3dOZXdQcm9qZWN0LnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzhdIHx8IChfY2FjaGVbOF0gPSAkZXZlbnQgPT4gc2hvd05ld1Byb2plY3QudmFsdWUgPSAkZXZlbnQpLAogICAgICAgIHRpdGxlOiBuZXdQcm9qZWN0LnZhbHVlLmlkID8gJ+e8lui+kemhueebricgOiAn5paw5bu66aG555uuJywKICAgICAgICB3aWR0aDogIjUwMHB4IgogICAgICB9LCB7CiAgICAgICAgZm9vdGVyOiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbN10gfHwgKF9jYWNoZVs3XSA9ICRldmVudCA9PiBzaG93TmV3UHJvamVjdC52YWx1ZSA9IGZhbHNlKQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVsyNl0gfHwgKF9jYWNoZVsyNl0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5Y+W5raIIildKSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgb25DbGljazogYWRkUHJvamVjdAogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcobmV3UHJvamVjdC52YWx1ZS5pZCA/ICfkv53lrZgnIDogJ+WIm+W7uicpLCAxKV0pLAogICAgICAgICAgXzogMQogICAgICAgIH0pXSksCiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgICAgICJsYWJlbC13aWR0aCI6ICI4MHB4IgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgICAgbGFiZWw6ICLpobnnm67lkI3np7AiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICAgIG1vZGVsVmFsdWU6IG5ld1Byb2plY3QudmFsdWUubmFtZSwKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gJGV2ZW50ID0+IG5ld1Byb2plY3QudmFsdWUubmFtZSA9ICRldmVudCkKICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICAgICAgbGFiZWw6ICLpobnnm67mj4/ov7AiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICAgIG1vZGVsVmFsdWU6IG5ld1Byb2plY3QudmFsdWUuZGVzYywKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gJGV2ZW50ID0+IG5ld1Byb2plY3QudmFsdWUuZGVzYyA9ICRldmVudCksCiAgICAgICAgICAgICAgdHlwZTogInRleHRhcmVhIgogICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICBsYWJlbDogIuW8gOWni+aXpeacnyIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RhdGVfcGlja2VyLCB7CiAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogbmV3UHJvamVjdC52YWx1ZS5zdGFydCwKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gJGV2ZW50ID0+IG5ld1Byb2plY3QudmFsdWUuc3RhcnQgPSAkZXZlbnQpCiAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgICAgIGxhYmVsOiAi57uT5p2f5pel5pyfIgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGF0ZV9waWNrZXIsIHsKICAgICAgICAgICAgICBtb2RlbFZhbHVlOiBuZXdQcm9qZWN0LnZhbHVlLmVuZCwKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gJGV2ZW50ID0+IG5ld1Byb2plY3QudmFsdWUuZW5kID0gJGV2ZW50KQogICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICBsYWJlbDogIumhueebruaIkOWRmCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3NlbGVjdCwgewogICAgICAgICAgICAgIG1vZGVsVmFsdWU6IG5ld1Byb2plY3QudmFsdWUubWVtYmVycywKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gJGV2ZW50ID0+IG5ld1Byb2plY3QudmFsdWUubWVtYmVycyA9ICRldmVudCksCiAgICAgICAgICAgICAgbXVsdGlwbGU6ICIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChtZW1iZXJPcHRpb25zLnZhbHVlLCBtID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICAgICAgICBrZXk6IG0udmFsdWUsCiAgICAgICAgICAgICAgICAgIGxhYmVsOiBtLmxhYmVsLAogICAgICAgICAgICAgICAgICB2YWx1ZTogbS52YWx1ZQogICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJsYWJlbCIsICJ2YWx1ZSJdKTsKICAgICAgICAgICAgICB9KSwgMTI4KSldKSwKICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgIH0sIDgsIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KV0pLAogICAgICAgICAgXzogMQogICAgICAgIH0pXSksCiAgICAgICAgXzogMQogICAgICB9LCA4LCBbIm1vZGVsVmFsdWUiLCAidGl0bGUiXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI0LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiYWktYXNzaXN0YW50LWJ0biIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzldIHx8IChfY2FjaGVbOV0gPSAkZXZlbnQgPT4gYWlQYW5lbC52YWx1ZSA9ICFhaVBhbmVsLnZhbHVlKQogICAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX3VucmVmKFByb21vdGlvbikpXSksCiAgICAgICAgXzogMQogICAgICB9KV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcmF3ZXIsIHsKICAgICAgICBtb2RlbFZhbHVlOiBhaVBhbmVsLnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9ICRldmVudCA9PiBhaVBhbmVsLnZhbHVlID0gJGV2ZW50KSwKICAgICAgICBkaXJlY3Rpb246ICJidHQiLAogICAgICAgIHNpemU6ICIzNTBweCIsCiAgICAgICAgIndpdGgtaGVhZGVyIjogZmFsc2UsCiAgICAgICAgY2xhc3M6ICJhaS1hc3Npc3RhbnQtcGFuZWwiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjUsIFtfY2FjaGVbMjddIHx8IChfY2FjaGVbMjddID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICJBSeWKqeaJiyIsIC0xKSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgaWNvbjogIkNsb3NlIiwKICAgICAgICAgIGNpcmNsZTogIiIsCiAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgb25DbGljazogX2NhY2hlWzEwXSB8fCAoX2NhY2hlWzEwXSA9ICRldmVudCA9PiBhaVBhbmVsLnZhbHVlID0gZmFsc2UpCiAgICAgICAgfSldKSwgX2NhY2hlWzI4XSB8fCAoX2NhY2hlWzI4XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiAiYWktYXNzaXN0YW50LWJvZHkiCiAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiAiYWktbWVzc2FnZSIKICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJhaS1tZXNzYWdlLWNvbnRlbnQiCiAgICAgICAgfSwgW19jcmVhdGVUZXh0Vk5vZGUoIiDmgqjlpb3vvIHmiJHmmK/mgqjnmoRBSeWKqeaJi++8jOaIkeWPr+S7peW4ruaCqO+8miAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidWwiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAi5YiG5p6Q6aG555uu6L+b5bqm5ZKM6aOO6ZmpIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgbnVsbCwgIuaPkOS+m+S7u+WKoeS8mOWMluW7uuiuriIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJsaSIsIG51bGwsICLnlJ/miJDpobnnm67miqXlkYoiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAi5Zue562U6aG555uu55u45YWz6Zeu6aKYIildKSwgX2NyZWF0ZVRleHRWTm9kZSgiIOivt+mXruacieS7gOS5iOWPr+S7peW4ruaCqO+8nyAiKV0pXSldLCAtMSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yNiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiBhaUlucHV0LnZhbHVlLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTFdIHx8IChfY2FjaGVbMTFdID0gJGV2ZW50ID0+IGFpSW5wdXQudmFsdWUgPSAkZXZlbnQpLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICLovpPlhaXmgqjnmoTpl67popguLi4iLAogICAgICAgICAgb25LZXl1cDogX3dpdGhLZXlzKHNlbmRBSU1lc3NhZ2UsIFsiZW50ZXIiXSkKICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgaWNvbjogIlByb21vdGlvbiIsCiAgICAgICAgICBvbkNsaWNrOiBzZW5kQUlNZXNzYWdlCiAgICAgICAgfSldKV0pLAogICAgICAgIF86IDEKICAgICAgfSwgOCwgWyJtb2RlbFZhbHVlIl0pXSldKTsKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","computed","onMounted","watch","useRouter","useStore","Promotion","FolderOpened","ElMessageBox","request","router","store","searchText","projects","activeProjectIdx","showNewProject","newProject","name","desc","start","end","members","memberOptions","aiPanel","aiInput","fetchProjects","console","log","get","then","res","data","value","forEach","project","status","statusText","statusClass","catch","err","_err$response","_err$response2","_err$response2$data","error","response","alert","detail","getCompanyIdFromUser","user","company_id","company","isNaN","Number","fetchMembers","companyId","warn","token","localStorage","getItem","arr","Array","isArray","map","u","id","label","username","_err$response3","_err$response4","ensureUserCompany","getters","userStr","push","JSON","parse","e","filteredProjects","keyword","toLowerCase","filter","p","includes","formatDate","dateStr","date","Date","getFullYear","String","getMonth","padStart","getDate","sendAIMessage","selectProject","idx","goToProjectDetail","params","handleCommand","command","projectId","find","confirm","confirmButtonText","cancelButtonText","type","delete","addProject","formatDateStr","val","test","d","projectData","put","_err$response5","_err$response6","_err$response6$data","post","_err$response7","_err$response8","_err$response8$data"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/Index.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <!-- 左侧项目导航 -->\n      <div class=\"col-md-3\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <span>我的项目</span>\n            <button class=\"btn btn-sm btn-primary\" @click=\"showNewProject = true\">\n              <i class=\"bi bi-plus\"></i> 新建\n            </button>\n          </div>\n          <div class=\"card-body p-0\">\n            <div v-if=\"filteredProjects.length === 0\" class=\"empty-state-nav\">\n              <el-icon style=\"font-size:40px;color:#d3d3d3;margin-bottom:10px;\"><FolderOpened /></el-icon>\n              <div class=\"empty-title-nav\">暂无项目</div>\n            </div>\n            <div v-else class=\"project-nav\">\n              <div v-for=\"(project, idx) in projects\" :key=\"project.id\" class=\"project-item\" :class=\"{active: idx === activeProjectIdx}\" @click=\"selectProject(idx)\">\n                <i class=\"bi bi-kanban\"></i>\n                <span>{{ project.name }}</span>\n                <span class=\"badge\" :class=\"project.statusClass\">{{ project.statusText }}</span>\n              </div>\n            </div>\n          </div>\n    </div>\n      </div>\n      <!-- 右侧内容区域 -->\n      <div class=\"col-md-9\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <span>项目列表</span>\n            <div class=\"search-box\">\n              <el-input v-model=\"searchText\" placeholder=\"搜索项目...\" prefix-icon=\"Search\" clearable />\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <div v-if=\"filteredProjects.length === 0\" class=\"empty-state\">\n              <el-icon style=\"font-size:120px;color:#d3d3d3;margin-bottom:16px;\"><FolderOpened /></el-icon>\n              <div class=\"empty-title\">暂无项目</div>\n              <div class=\"empty-desc\">您还没有任何项目，点击右上角\"新建\"按钮添加您的第一个项目吧！</div>\n            </div>\n            <div v-else class=\"row\">\n              <div v-for=\"project in filteredProjects\" :key=\"project.id\" class=\"col-md-6 mb-4\">\n                <div class=\"project-card\">\n                  <div class=\"project-card-header\">\n                    <h5>{{ project.name }}</h5>\n                    <span class=\"badge\" :class=\"project.statusClass\">{{ project.statusText }}</span>\n                  </div>\n                  <div class=\"project-card-body\">\n                    <p>{{ project.desc || '暂无描述' }}</p>\n                    <div class=\"project-card-stats\">\n                      <div class=\"stat-item\">\n                        <i class=\"bi bi-calendar\"></i>\n                        <span>{{ project.start ? formatDate(project.start) : '未设置' }}</span>\n                      </div>\n                      <div class=\"stat-item\">\n                        <i class=\"bi bi-people\"></i>\n                        <span>{{ project.members ? project.members.length : 0 }}人</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"project-card-footer\">\n                    <el-button type=\"primary\" size=\"small\" @click=\"goToProjectDetail(project.id)\">查看详情</el-button>\n                    <el-dropdown @command=\"handleCommand($event, project.id)\" trigger=\"click\">\n                      <el-button size=\"small\" plain>\n                        <i class=\"bi bi-three-dots\"></i>\n                      </el-button>\n                      <template #dropdown>\n                        <el-dropdown-menu>\n                          <el-dropdown-item command=\"edit\">编辑项目</el-dropdown-item>\n                          <el-dropdown-item command=\"delete\" divided>删除项目</el-dropdown-item>\n                        </el-dropdown-menu>\n                      </template>\n                    </el-dropdown>\n                  </div>\n                </div>\n      </div>\n      </div>\n      </div>\n      </div>\n      </div>\n    </div>\n    <!-- 新建/编辑项目弹窗 -->\n    <el-dialog v-model=\"showNewProject\" :title=\"newProject.id ? '编辑项目' : '新建项目'\" width=\"500px\">\n      <el-form label-width=\"80px\">\n        <el-form-item label=\"项目名称\"><el-input v-model=\"newProject.name\" /></el-form-item>\n        <el-form-item label=\"项目描述\"><el-input v-model=\"newProject.desc\" type=\"textarea\" /></el-form-item>\n        <el-form-item label=\"开始日期\"><el-date-picker v-model=\"newProject.start\" /></el-form-item>\n        <el-form-item label=\"结束日期\"><el-date-picker v-model=\"newProject.end\" /></el-form-item>\n        <el-form-item label=\"项目成员\"><el-select v-model=\"newProject.members\" multiple><el-option v-for=\"m in memberOptions\" :key=\"m.value\" :label=\"m.label\" :value=\"m.value\" /></el-select></el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"showNewProject=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addProject\">{{ newProject.id ? '保存' : '创建' }}</el-button>\n      </template>\n    </el-dialog>\n    <!-- AI助手浮动按钮 -->\n    <div class=\"ai-assistant\">\n      <div class=\"ai-assistant-btn\" @click=\"aiPanel = !aiPanel\">\n        <el-icon><Promotion /></el-icon>\n      </div>\n      <el-drawer v-model=\"aiPanel\" direction=\"btt\" size=\"350px\" :with-header=\"false\" class=\"ai-assistant-panel\">\n        <div class=\"ai-assistant-header\">\n          <span>AI助手</span>\n          <el-button icon=\"Close\" circle size=\"small\" @click=\"aiPanel = false\" />\n        </div>\n        <div class=\"ai-assistant-body\">\n          <div class=\"ai-message\">\n            <div class=\"ai-message-content\">\n              您好！我是您的AI助手，我可以帮您：\n              <ul>\n                <li>分析项目进度和风险</li>\n                <li>提供任务优化建议</li>\n                <li>生成项目报告</li>\n                <li>回答项目相关问题</li>\n              </ul>\n              请问有什么可以帮您？\n            </div>\n          </div>\n        </div>\n        <div class=\"ai-assistant-footer\">\n          <el-input v-model=\"aiInput\" placeholder=\"输入您的问题...\" @keyup.enter=\"sendAIMessage\" />\n          <el-button type=\"primary\" icon=\"Promotion\" @click=\"sendAIMessage\" />\n        </div>\n      </el-drawer>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { Promotion, FolderOpened } from '@element-plus/icons-vue'\nimport { ElMessageBox } from 'element-plus'\nimport request from '@/utils/request'\n\nconst router = useRouter()\nconst store = useStore()\nconst searchText = ref('')\nconst projects = ref([])\nconst activeProjectIdx = ref(0)\nconst showNewProject = ref(false)\nconst newProject = ref({ name: '', desc: '', start: '', end: '', members: [] })\nconst memberOptions = ref([])\nconst aiPanel = ref(false)\nconst aiInput = ref('')\n\nfunction fetchProjects() {\n  console.log('fetchProjects: 开始请求项目列表')\n  request.get('/api/projects/').then(res => {\n    console.log('fetchProjects: 获取成功', res.data)\n    projects.value = res.data || []\n    \n    // 为每个项目添加状态文本和样式\n    projects.value.forEach(project => {\n      if (project.status === 'doing') {\n        project.statusText = '进行中'\n        project.statusClass = 'bg-primary text-white'\n      } else if (project.status === 'done') {\n        project.statusText = '已完成'\n        project.statusClass = 'bg-success text-white'\n      } else {\n        project.statusText = project.status || '未知'\n        project.statusClass = 'bg-secondary text-white'\n      }\n    })\n  }).catch(err => {\n    console.error('fetchProjects: 请求失败', err?.response?.data || err)\n    alert('获取项目列表失败: ' + (err?.response?.data?.detail || '请检查权限或网络连接'))\n  })\n}\n\nfunction getCompanyIdFromUser(user) {\n  if (!user) return null\n  if (typeof user.company_id === 'number') return user.company_id\n  if (typeof user.company === 'number') return user.company\n  // 兼容后端返回字符串数字\n  if (!isNaN(user.company_id)) return Number(user.company_id)\n  if (!isNaN(user.company)) return Number(user.company)\n  return null\n}\n\nfunction fetchMembers(companyId) {\n  companyId = Number(companyId)\n  if (!companyId || isNaN(companyId)) {\n    console.warn('fetchMembers: companyId无效', companyId)\n    return\n  }\n  const token = localStorage.getItem('token')\n  if (!token) {\n    alert('未检测到登录凭证，请重新登录！')\n    memberOptions.value = []\n    return\n  }\n  console.log('fetchMembers: companyId=', companyId, 'token=', token)\n  request.get(`/api/auth/companies/${companyId}/users/`).then(res => {\n    let arr = []\n    if (Array.isArray(res.data)) {\n      arr = res.data\n    } else if (res.data && Array.isArray(res.data.data)) {\n      arr = res.data.data\n    } else {\n      console.error('fetchMembers: 返回数据不是数组', res.data)\n    }\n    memberOptions.value = arr.map(u => ({\n      value: u.id,\n      label: u.name || u.username\n    }))\n  }).catch(err => {\n    if (err?.response?.status === 403) {\n      alert('无权限访问公司成员接口，请重新登录或联系管理员！')\n    } else {\n      alert('获取公司成员失败，请检查网络或联系管理员！')\n    }\n    console.error('fetchMembers: 请求出错', err, err?.response?.data)\n    memberOptions.value = []\n  })\n}\n\n/**\n * 确保当前用户关联了公司\n */\nfunction ensureUserCompany() {\n  const user = store.getters.user\n  \n  if (!user) {\n    console.warn('未找到用户信息')\n    return null\n  }\n  \n  // 检查用户是否有公司信息\n  const companyId = getCompanyIdFromUser(user)\n  \n  if (!companyId) {\n    console.warn('用户未关联公司')\n    return null\n  }\n  \n  return companyId\n}\n\nonMounted(() => {\n  console.log('项目页面挂载')\n  const token = localStorage.getItem('token')\n  const userStr = localStorage.getItem('user')\n  \n  if (!token) {\n    console.warn('未找到token，请确保已登录')\n    router.push('/login')\n    return\n  }\n  \n  if (userStr) {\n    try {\n      const user = JSON.parse(userStr)\n      console.log('当前用户信息:', user)\n      console.log('用户公司ID:', getCompanyIdFromUser(user))\n      \n      // 检查用户公司\n      const companyId = ensureUserCompany()\n      if (!companyId) {\n        alert('您未关联到任何公司，无法访问项目管理页面')\n      }\n    } catch(e) {\n      console.error('解析用户信息失败', e)\n    }\n  }\n  \n  // 获取项目列表\n  fetchProjects()\n})\n\nconst filteredProjects = computed(() => {\n  if (!searchText.value) return projects.value\n  const keyword = searchText.value.toLowerCase()\n  return projects.value.filter(p =>\n    (p.name && p.name.toLowerCase().includes(keyword)) ||\n    (p.desc && p.desc.toLowerCase().includes(keyword))\n  )\n})\n\nfunction formatDate(dateStr) {\n  if (!dateStr) return '未设置'\n  const date = new Date(dateStr)\n  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n}\n\nfunction sendAIMessage() {\n  aiInput.value = ''\n}\n\nfunction selectProject(idx) {\n  activeProjectIdx.value = idx\n}\n\nfunction goToProjectDetail(id) {\n  router.push({ name: 'ProjectDetail', params: { id } })\n}\n\nfunction handleCommand(command, projectId) {\n  if (command === 'edit') {\n    const project = projects.value.find(p => p.id === projectId)\n    if (project) {\n      newProject.value = { ...project }\n      showNewProject.value = true\n      fetchMembers(project.company) // 拉取公司成员\n    }\n  } else if (command === 'delete') {\n    ElMessageBox.confirm('确定要删除该项目吗？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(() => {\n      request.delete(`/api/projects/${projectId}/`).then(() => {\n        fetchProjects()\n      })\n    }).catch(() => {})\n  }\n}\n\nfunction addProject() {\n  if (!newProject.value.name) return\n  const user = store.getters.user\n  const companyId = getCompanyIdFromUser(user)\n  if (!companyId) {\n    alert('您没有关联到任何公司，无法创建项目')\n    return\n  }\n  // 日期格式化\n  function formatDateStr(val) {\n    if (!val) return ''\n    if (typeof val === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(val)) return val\n    const d = new Date(val)\n    if (isNaN(d)) return ''\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`\n  }\n  const projectData = {\n    ...newProject.value,\n    company_id: companyId, // 关键：字段名必须是 company_id\n    start: formatDateStr(newProject.value.start),\n    end: formatDateStr(newProject.value.end)\n  }\n  delete projectData.company // 防御性删除\n  delete projectData.companyId\n  console.log('准备保存的项目数据:', projectData)\n  if (newProject.value.id) {\n    request.put(`/api/projects/${newProject.value.id}/`, projectData)\n      .then((res) => {\n        console.log('项目更新成功:', res.data)\n        showNewProject.value = false\n        fetchProjects()\n      })\n      .catch(err => {\n        console.error('编辑项目失败', err?.response?.data || err)\n        alert('编辑项目失败: ' + (err?.response?.data?.detail || '请检查权限或网络连接'))\n      })\n  } else {\n    request.post('/api/projects/', projectData)\n      .then((res) => {\n        console.log('项目创建成功:', res.data)\n        showNewProject.value = false\n        fetchProjects()\n      })\n      .catch(err => {\n        console.error('创建项目失败', err?.response?.data || err)\n        alert('创建项目失败: ' + (err?.response?.data?.detail || '请检查权限或网络连接'))\n      })\n  }\n  newProject.value = { name: '', desc: '', start: '', end: '', members: [] }\n}\n\n// 新建项目弹窗打开时自动拉取公司成员，并自动回填已选成员\nwatch(showNewProject, (val) => {\n  if (val) {\n    const user = store.getters.user\n    const companyId = getCompanyIdFromUser(user)\n    if (companyId) fetchMembers(companyId)\n    // 编辑时自动回填成员\n    if (newProject.value.id && Array.isArray(newProject.value.members)) {\n      newProject.value.members = [...newProject.value.members]\n    } else {\n      newProject.value.members = []\n    }\n  }\n})\n</script>\n\n<style scoped>\n@import url('https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css');\n@import url('https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css');\n.container-fluid { background: var(--bg-color); min-height: 100vh; }\n.card { border: none; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.05); margin-bottom: 20px; background: var(--bg-color-secondary); }\n.card-header { background-color: var(--bg-color); border-bottom: 1px solid var(--border-color); padding: 15px 20px; font-weight: 600; font-size: 16px; color: var(--text-color); display: flex; justify-content: space-between; align-items: center; }\n.card-body { padding: 20px; }\n.btn-primary { background-color: var(--primary-color); border-color: var(--primary-color); }\n.project-nav { height: 620px; overflow-y: auto; }\n.project-item { display: flex; align-items: center; padding: 12px 15px; color: var(--text-color-secondary); text-decoration: none; transition: all 0.2s; cursor: pointer; border-radius: 5px; margin-bottom: 5px; }\n.project-item:hover {\n  background: var(--hover-color);\n  color: var(--primary-color);\n}\n.project-item.active { background-color: var(--active-color); color: var(--primary-color); font-weight: 500; }\n.project-item i { margin-right: 10px; font-size: 18px; width: 24px; text-align: center; }\n.project-item .badge { margin-left: auto; background-color: var(--border-color); font-weight: 500; padding: 4px 8px; border-radius: 10px; color: var(--text-color); }\n.bg-primary { background: var(--primary-color)!important; }\n.bg-success { background: var(--success-color)!important; }\n.bg-warning { background: var(--warning-color)!important; }\n.bg-secondary { background: var(--border-color)!important; }\n.bg-info { background: var(--info-color)!important; }\n.text-white { color: #fff!important; }\n.ai-assistant { position: fixed; bottom: 30px; right: 30px; z-index: 1000; }\n.ai-assistant-btn { width: 60px; height: 60px; border-radius: 50%; background: var(--primary-color); color: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 28px; transition: all 0.3s; }\n.ai-assistant-btn:hover { transform: scale(1.1); }\n.ai-assistant-panel { border-radius: 10px 10px 0 0; box-shadow: 0 2px 20px rgba(0,0,0,0.1); background: var(--bg-color-secondary); }\n.ai-assistant-header { padding: 15px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; font-weight: 600; color: var(--text-color); }\n.ai-assistant-body { padding: 15px; max-height: 300px; overflow-y: auto; }\n.ai-message { margin-bottom: 15px; display: flex; align-items: flex-start; }\n.ai-message-content { background: var(--bg-color-tertiary); padding: 10px; border-radius: 10px; margin-left: 10px; max-width: 80%; font-size: 14px; color: var(--text-color); }\n.ai-assistant-footer { padding: 15px; border-top: 1px solid var(--border-color); display: flex; gap: 10px; }\n.search-box { width: 250px; }\n.project-card { background: var(--bg-color); border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 20px; height: 100%; cursor: pointer; transition: all 0.2s; }\n.project-card:hover {\n  background: var(--hover-color);\n  box-shadow: 0 5px 15px rgba(0,0,0,0.18);\n}\n.project-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n.project-card-header h5 { margin: 0; font-size: 18px; font-weight: 600; color: var(--text-color); }\n.project-card-body { margin-bottom: 15px; }\n.project-card-body p { color: var(--text-color-secondary); margin-bottom: 15px; }\n.project-card-stats { display: flex; gap: 15px; margin-bottom: 15px; }\n.stat-item { display: flex; align-items: center; color: var(--text-color-tertiary); font-size: 14px; }\n.stat-item i { margin-right: 5px; }\n.project-card-footer { display: flex; justify-content: space-between; }\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  color: var(--text-color-tertiary);\n  background: var(--bg-color);\n  border-radius: 8px;\n}\n.empty-title {\n  font-size: 20px;\n  font-weight: 600;\n  margin-bottom: 8px;\n  color: var(--text-color-secondary);\n}\n.empty-desc {\n  font-size: 15px;\n  color: var(--text-color-tertiary);\n}\n.empty-state-nav {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  color: var(--text-color-tertiary);\n  background: var(--bg-color);\n  border-radius: 8px;\n}\n.empty-title-nav {\n  font-size: 16px;\n  font-weight: 500;\n  color: var(--text-color-tertiary);\n  margin-bottom: 8px;\n}\n</style> "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,KAAK,QAAQ,KAAI;AACpD,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,QAAQ,QAAQ,MAAK;AAC9B,SAASC,SAAS,EAAEC,YAAY,QAAQ,yBAAwB;AAChE,SAASC,YAAY,QAAQ,cAAa;AAC1C,OAAOC,OAAO,MAAM,iBAAgB;;;;IAEpC,MAAMC,MAAM,GAAGN,SAAS,CAAC;IACzB,MAAMO,KAAK,GAAGN,QAAQ,CAAC;IACvB,MAAMO,UAAU,GAAGZ,GAAG,CAAC,EAAE;IACzB,MAAMa,QAAQ,GAAGb,GAAG,CAAC,EAAE;IACvB,MAAMc,gBAAgB,GAAGd,GAAG,CAAC,CAAC;IAC9B,MAAMe,cAAc,GAAGf,GAAG,CAAC,KAAK;IAChC,MAAMgB,UAAU,GAAGhB,GAAG,CAAC;MAAEiB,IAAI,EAAE,EAAE;MAAEC,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,GAAG,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC;IAC9E,MAAMC,aAAa,GAAGtB,GAAG,CAAC,EAAE;IAC5B,MAAMuB,OAAO,GAAGvB,GAAG,CAAC,KAAK;IACzB,MAAMwB,OAAO,GAAGxB,GAAG,CAAC,EAAE;IAEtB,SAASyB,aAAaA,CAAA,EAAG;MACvBC,OAAO,CAACC,GAAG,CAAC,yBAAyB;MACrClB,OAAO,CAACmB,GAAG,CAAC,gBAAgB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAI;QACxCJ,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEG,GAAG,CAACC,IAAI;QAC3ClB,QAAQ,CAACmB,KAAK,GAAGF,GAAG,CAACC,IAAI,IAAI,EAAC;;QAE9B;QACAlB,QAAQ,CAACmB,KAAK,CAACC,OAAO,CAACC,OAAO,IAAI;UAChC,IAAIA,OAAO,CAACC,MAAM,KAAK,OAAO,EAAE;YAC9BD,OAAO,CAACE,UAAU,GAAG,KAAI;YACzBF,OAAO,CAACG,WAAW,GAAG,uBAAsB;UAC9C,CAAC,MAAM,IAAIH,OAAO,CAACC,MAAM,KAAK,MAAM,EAAE;YACpCD,OAAO,CAACE,UAAU,GAAG,KAAI;YACzBF,OAAO,CAACG,WAAW,GAAG,uBAAsB;UAC9C,CAAC,MAAM;YACLH,OAAO,CAACE,UAAU,GAAGF,OAAO,CAACC,MAAM,IAAI,IAAG;YAC1CD,OAAO,CAACG,WAAW,GAAG,yBAAwB;UAChD;QACF,CAAC;MACH,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAI;QAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,mBAAA;QACdhB,OAAO,CAACiB,KAAK,CAAC,qBAAqB,EAAE,CAAAJ,GAAG,aAAHA,GAAG,wBAAAC,aAAA,GAAHD,GAAG,CAAEK,QAAQ,cAAAJ,aAAA,uBAAbA,aAAA,CAAeT,IAAI,KAAIQ,GAAG;QAC/DM,KAAK,CAAC,YAAY,IAAI,CAAAN,GAAG,aAAHA,GAAG,wBAAAE,cAAA,GAAHF,GAAG,CAAEK,QAAQ,cAAAH,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAeV,IAAI,cAAAW,mBAAA,uBAAnBA,mBAAA,CAAqBI,MAAM,KAAI,YAAY,CAAC;MACpE,CAAC;IACH;IAEA,SAASC,oBAAoBA,CAACC,IAAI,EAAE;MAClC,IAAI,CAACA,IAAI,EAAE,OAAO,IAAG;MACrB,IAAI,OAAOA,IAAI,CAACC,UAAU,KAAK,QAAQ,EAAE,OAAOD,IAAI,CAACC,UAAS;MAC9D,IAAI,OAAOD,IAAI,CAACE,OAAO,KAAK,QAAQ,EAAE,OAAOF,IAAI,CAACE,OAAM;MACxD;MACA,IAAI,CAACC,KAAK,CAACH,IAAI,CAACC,UAAU,CAAC,EAAE,OAAOG,MAAM,CAACJ,IAAI,CAACC,UAAU;MAC1D,IAAI,CAACE,KAAK,CAACH,IAAI,CAACE,OAAO,CAAC,EAAE,OAAOE,MAAM,CAACJ,IAAI,CAACE,OAAO;MACpD,OAAO,IAAG;IACZ;IAEA,SAASG,YAAYA,CAACC,SAAS,EAAE;MAC/BA,SAAS,GAAGF,MAAM,CAACE,SAAS;MAC5B,IAAI,CAACA,SAAS,IAAIH,KAAK,CAACG,SAAS,CAAC,EAAE;QAClC5B,OAAO,CAAC6B,IAAI,CAAC,2BAA2B,EAAED,SAAS;QACnD;MACF;MACA,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO;MAC1C,IAAI,CAACF,KAAK,EAAE;QACVX,KAAK,CAAC,iBAAiB;QACvBvB,aAAa,CAACU,KAAK,GAAG,EAAC;QACvB;MACF;MACAN,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE2B,SAAS,EAAE,QAAQ,EAAEE,KAAK;MAClE/C,OAAO,CAACmB,GAAG,CAAC,uBAAuB0B,SAAS,SAAS,CAAC,CAACzB,IAAI,CAACC,GAAG,IAAI;QACjE,IAAI6B,GAAG,GAAG,EAAC;QACX,IAAIC,KAAK,CAACC,OAAO,CAAC/B,GAAG,CAACC,IAAI,CAAC,EAAE;UAC3B4B,GAAG,GAAG7B,GAAG,CAACC,IAAG;QACf,CAAC,MAAM,IAAID,GAAG,CAACC,IAAI,IAAI6B,KAAK,CAACC,OAAO,CAAC/B,GAAG,CAACC,IAAI,CAACA,IAAI,CAAC,EAAE;UACnD4B,GAAG,GAAG7B,GAAG,CAACC,IAAI,CAACA,IAAG;QACpB,CAAC,MAAM;UACLL,OAAO,CAACiB,KAAK,CAAC,wBAAwB,EAAEb,GAAG,CAACC,IAAI;QAClD;QACAT,aAAa,CAACU,KAAK,GAAG2B,GAAG,CAACG,GAAG,CAACC,CAAC,KAAK;UAClC/B,KAAK,EAAE+B,CAAC,CAACC,EAAE;UACXC,KAAK,EAAEF,CAAC,CAAC9C,IAAI,IAAI8C,CAAC,CAACG;QACrB,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC5B,KAAK,CAACC,GAAG,IAAI;QAAA,IAAA4B,cAAA,EAAAC,cAAA;QACd,IAAI,CAAA7B,GAAG,aAAHA,GAAG,wBAAA4B,cAAA,GAAH5B,GAAG,CAAEK,QAAQ,cAAAuB,cAAA,uBAAbA,cAAA,CAAehC,MAAM,MAAK,GAAG,EAAE;UACjCU,KAAK,CAAC,0BAA0B;QAClC,CAAC,MAAM;UACLA,KAAK,CAAC,uBAAuB;QAC/B;QACAnB,OAAO,CAACiB,KAAK,CAAC,oBAAoB,EAAEJ,GAAG,EAAEA,GAAG,aAAHA,GAAG,wBAAA6B,cAAA,GAAH7B,GAAG,CAAEK,QAAQ,cAAAwB,cAAA,uBAAbA,cAAA,CAAerC,IAAI;QAC5DT,aAAa,CAACU,KAAK,GAAG,EAAC;MACzB,CAAC;IACH;;IAEA;AACA;AACA;IACA,SAASqC,iBAAiBA,CAAA,EAAG;MAC3B,MAAMrB,IAAI,GAAGrC,KAAK,CAAC2D,OAAO,CAACtB,IAAG;MAE9B,IAAI,CAACA,IAAI,EAAE;QACTtB,OAAO,CAAC6B,IAAI,CAAC,SAAS;QACtB,OAAO,IAAG;MACZ;;MAEA;MACA,MAAMD,SAAS,GAAGP,oBAAoB,CAACC,IAAI;MAE3C,IAAI,CAACM,SAAS,EAAE;QACd5B,OAAO,CAAC6B,IAAI,CAAC,SAAS;QACtB,OAAO,IAAG;MACZ;MAEA,OAAOD,SAAQ;IACjB;IAEApD,SAAS,CAAC,MAAM;MACdwB,OAAO,CAACC,GAAG,CAAC,QAAQ;MACpB,MAAM6B,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO;MAC1C,MAAMa,OAAO,GAAGd,YAAY,CAACC,OAAO,CAAC,MAAM;MAE3C,IAAI,CAACF,KAAK,EAAE;QACV9B,OAAO,CAAC6B,IAAI,CAAC,iBAAiB;QAC9B7C,MAAM,CAAC8D,IAAI,CAAC,QAAQ;QACpB;MACF;MAEA,IAAID,OAAO,EAAE;QACX,IAAI;UACF,MAAMvB,IAAI,GAAGyB,IAAI,CAACC,KAAK,CAACH,OAAO;UAC/B7C,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEqB,IAAI;UAC3BtB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEoB,oBAAoB,CAACC,IAAI,CAAC;;UAEjD;UACA,MAAMM,SAAS,GAAGe,iBAAiB,CAAC;UACpC,IAAI,CAACf,SAAS,EAAE;YACdT,KAAK,CAAC,sBAAsB;UAC9B;QACF,CAAC,CAAC,OAAM8B,CAAC,EAAE;UACTjD,OAAO,CAACiB,KAAK,CAAC,UAAU,EAAEgC,CAAC;QAC7B;MACF;;MAEA;MACAlD,aAAa,CAAC;IAChB,CAAC;IAED,MAAMmD,gBAAgB,GAAG3E,QAAQ,CAAC,MAAM;MACtC,IAAI,CAACW,UAAU,CAACoB,KAAK,EAAE,OAAOnB,QAAQ,CAACmB,KAAI;MAC3C,MAAM6C,OAAO,GAAGjE,UAAU,CAACoB,KAAK,CAAC8C,WAAW,CAAC;MAC7C,OAAOjE,QAAQ,CAACmB,KAAK,CAAC+C,MAAM,CAACC,CAAC,IAC3BA,CAAC,CAAC/D,IAAI,IAAI+D,CAAC,CAAC/D,IAAI,CAAC6D,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,OAAO,CAAC,IAChDG,CAAC,CAAC9D,IAAI,IAAI8D,CAAC,CAAC9D,IAAI,CAAC4D,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,OAAO,CAClD;IACF,CAAC;IAED,SAASK,UAAUA,CAACC,OAAO,EAAE;MAC3B,IAAI,CAACA,OAAO,EAAE,OAAO,KAAI;MACzB,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,OAAO;MAC7B,OAAO,GAAGC,IAAI,CAACE,WAAW,CAAC,CAAC,IAAIC,MAAM,CAACH,IAAI,CAACI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIF,MAAM,CAACH,IAAI,CAACM,OAAO,CAAC,CAAC,CAAC,CAACD,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC;IAC1H;IAEA,SAASE,aAAaA,CAAA,EAAG;MACvBnE,OAAO,CAACQ,KAAK,GAAG,EAAC;IACnB;IAEA,SAAS4D,aAAaA,CAACC,GAAG,EAAE;MAC1B/E,gBAAgB,CAACkB,KAAK,GAAG6D,GAAE;IAC7B;IAEA,SAASC,iBAAiBA,CAAC9B,EAAE,EAAE;MAC7BtD,MAAM,CAAC8D,IAAI,CAAC;QAAEvD,IAAI,EAAE,eAAe;QAAE8E,MAAM,EAAE;UAAE/B;QAAG;MAAE,CAAC;IACvD;IAEA,SAASgC,aAAaA,CAACC,OAAO,EAAEC,SAAS,EAAE;MACzC,IAAID,OAAO,KAAK,MAAM,EAAE;QACtB,MAAM/D,OAAO,GAAGrB,QAAQ,CAACmB,KAAK,CAACmE,IAAI,CAACnB,CAAC,IAAIA,CAAC,CAAChB,EAAE,KAAKkC,SAAS;QAC3D,IAAIhE,OAAO,EAAE;UACXlB,UAAU,CAACgB,KAAK,GAAG;YAAE,GAAGE;UAAQ;UAChCnB,cAAc,CAACiB,KAAK,GAAG,IAAG;UAC1BqB,YAAY,CAACnB,OAAO,CAACgB,OAAO,CAAC,EAAC;QAChC;MACF,CAAC,MAAM,IAAI+C,OAAO,KAAK,QAAQ,EAAE;QAC/BzF,YAAY,CAAC4F,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE;UACvCC,iBAAiB,EAAE,IAAI;UACvBC,gBAAgB,EAAE,IAAI;UACtBC,IAAI,EAAE;QACR,CAAC,CAAC,CAAC1E,IAAI,CAAC,MAAM;UACZpB,OAAO,CAAC+F,MAAM,CAAC,iBAAiBN,SAAS,GAAG,CAAC,CAACrE,IAAI,CAAC,MAAM;YACvDJ,aAAa,CAAC;UAChB,CAAC;QACH,CAAC,CAAC,CAACa,KAAK,CAAC,MAAM,CAAC,CAAC;MACnB;IACF;IAEA,SAASmE,UAAUA,CAAA,EAAG;MACpB,IAAI,CAACzF,UAAU,CAACgB,KAAK,CAACf,IAAI,EAAE;MAC5B,MAAM+B,IAAI,GAAGrC,KAAK,CAAC2D,OAAO,CAACtB,IAAG;MAC9B,MAAMM,SAAS,GAAGP,oBAAoB,CAACC,IAAI;MAC3C,IAAI,CAACM,SAAS,EAAE;QACdT,KAAK,CAAC,mBAAmB;QACzB;MACF;MACA;MACA,SAAS6D,aAAaA,CAACC,GAAG,EAAE;QAC1B,IAAI,CAACA,GAAG,EAAE,OAAO,EAAC;QAClB,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,qBAAqB,CAACC,IAAI,CAACD,GAAG,CAAC,EAAE,OAAOA,GAAE;QACzE,MAAME,CAAC,GAAG,IAAIxB,IAAI,CAACsB,GAAG;QACtB,IAAIxD,KAAK,CAAC0D,CAAC,CAAC,EAAE,OAAO,EAAC;QACtB,OAAO,GAAGA,CAAC,CAACvB,WAAW,CAAC,CAAC,IAAIC,MAAM,CAACsB,CAAC,CAACrB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIF,MAAM,CAACsB,CAAC,CAACnB,OAAO,CAAC,CAAC,CAAC,CAACD,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC;MACjH;MACA,MAAMqB,WAAW,GAAG;QAClB,GAAG9F,UAAU,CAACgB,KAAK;QACnBiB,UAAU,EAAEK,SAAS;QAAE;QACvBnC,KAAK,EAAEuF,aAAa,CAAC1F,UAAU,CAACgB,KAAK,CAACb,KAAK,CAAC;QAC5CC,GAAG,EAAEsF,aAAa,CAAC1F,UAAU,CAACgB,KAAK,CAACZ,GAAG;MACzC;MACA,OAAO0F,WAAW,CAAC5D,OAAO,EAAC;MAC3B,OAAO4D,WAAW,CAACxD,SAAQ;MAC3B5B,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEmF,WAAW;MACrC,IAAI9F,UAAU,CAACgB,KAAK,CAACgC,EAAE,EAAE;QACvBvD,OAAO,CAACsG,GAAG,CAAC,iBAAiB/F,UAAU,CAACgB,KAAK,CAACgC,EAAE,GAAG,EAAE8C,WAAW,EAC7DjF,IAAI,CAAEC,GAAG,IAAK;UACbJ,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEG,GAAG,CAACC,IAAI;UAC/BhB,cAAc,CAACiB,KAAK,GAAG,KAAI;UAC3BP,aAAa,CAAC;QAChB,CAAC,EACAa,KAAK,CAACC,GAAG,IAAI;UAAA,IAAAyE,cAAA,EAAAC,cAAA,EAAAC,mBAAA;UACZxF,OAAO,CAACiB,KAAK,CAAC,QAAQ,EAAE,CAAAJ,GAAG,aAAHA,GAAG,wBAAAyE,cAAA,GAAHzE,GAAG,CAAEK,QAAQ,cAAAoE,cAAA,uBAAbA,cAAA,CAAejF,IAAI,KAAIQ,GAAG;UAClDM,KAAK,CAAC,UAAU,IAAI,CAAAN,GAAG,aAAHA,GAAG,wBAAA0E,cAAA,GAAH1E,GAAG,CAAEK,QAAQ,cAAAqE,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAelF,IAAI,cAAAmF,mBAAA,uBAAnBA,mBAAA,CAAqBpE,MAAM,KAAI,YAAY,CAAC;QAClE,CAAC;MACL,CAAC,MAAM;QACLrC,OAAO,CAAC0G,IAAI,CAAC,gBAAgB,EAAEL,WAAW,EACvCjF,IAAI,CAAEC,GAAG,IAAK;UACbJ,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEG,GAAG,CAACC,IAAI;UAC/BhB,cAAc,CAACiB,KAAK,GAAG,KAAI;UAC3BP,aAAa,CAAC;QAChB,CAAC,EACAa,KAAK,CAACC,GAAG,IAAI;UAAA,IAAA6E,cAAA,EAAAC,cAAA,EAAAC,mBAAA;UACZ5F,OAAO,CAACiB,KAAK,CAAC,QAAQ,EAAE,CAAAJ,GAAG,aAAHA,GAAG,wBAAA6E,cAAA,GAAH7E,GAAG,CAAEK,QAAQ,cAAAwE,cAAA,uBAAbA,cAAA,CAAerF,IAAI,KAAIQ,GAAG;UAClDM,KAAK,CAAC,UAAU,IAAI,CAAAN,GAAG,aAAHA,GAAG,wBAAA8E,cAAA,GAAH9E,GAAG,CAAEK,QAAQ,cAAAyE,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAetF,IAAI,cAAAuF,mBAAA,uBAAnBA,mBAAA,CAAqBxE,MAAM,KAAI,YAAY,CAAC;QAClE,CAAC;MACL;MACA9B,UAAU,CAACgB,KAAK,GAAG;QAAEf,IAAI,EAAE,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,GAAG,EAAE,EAAE;QAAEC,OAAO,EAAE;MAAG;IAC3E;;IAEA;IACAlB,KAAK,CAACY,cAAc,EAAG4F,GAAG,IAAK;MAC7B,IAAIA,GAAG,EAAE;QACP,MAAM3D,IAAI,GAAGrC,KAAK,CAAC2D,OAAO,CAACtB,IAAG;QAC9B,MAAMM,SAAS,GAAGP,oBAAoB,CAACC,IAAI;QAC3C,IAAIM,SAAS,EAAED,YAAY,CAACC,SAAS;QACrC;QACA,IAAItC,UAAU,CAACgB,KAAK,CAACgC,EAAE,IAAIJ,KAAK,CAACC,OAAO,CAAC7C,UAAU,CAACgB,KAAK,CAACX,OAAO,CAAC,EAAE;UAClEL,UAAU,CAACgB,KAAK,CAACX,OAAO,GAAG,CAAC,GAAGL,UAAU,CAACgB,KAAK,CAACX,OAAO;QACzD,CAAC,MAAM;UACLL,UAAU,CAACgB,KAAK,CAACX,OAAO,GAAG,EAAC;QAC9B;MACF;IACF,CAAC","ignoreList":[]}]}