{"remainingRequest":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\utils\\request.js","mtime":1746518022065},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218362}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CgovLyDliJvlu7pheGlvc+WunuS+iwpjb25zdCBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJIHx8ICcnLAogIC8vIEFQSeeahOWfuuehgFVSTAogIHRpbWVvdXQ6IDE1MDAwIC8vIOivt+axgui2heaXtuaXtumXtAp9KTsKCi8vIOivt+axguaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIC8vIOWmguaenOWtmOWcqHRva2Vu77yM5YiZ5q+P5Liq6K+35rGC6YO95bim5LiKdG9rZW4KICBjb25zdCB0b2tlbiA9IHN0b3JlLmdldHRlcnMudG9rZW47CiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7CiAgfQogIHJldHVybiBjb25maWc7Cn0sIGVycm9yID0+IHsKICBjb25zb2xlLmVycm9yKCfor7fmsYLplJnor686JywgZXJyb3IpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g5ZON5bqU5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgLy8g6K+35rGC5oiQ5Yqf77yM55u05o6l6L+U5Zue5pWw5o2uCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBlcnJvciA9PiB7CiAgbGV0IG1lc3NhZ2UgPSAn6K+35rGC5aSx6LSlJzsKICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgIGNvbnN0IHN0YXR1cyA9IGVycm9yLnJlc3BvbnNlLnN0YXR1czsKCiAgICAvLyDmoLnmja7nirbmgIHnoIHlpITnkIbkuI3lkIzmg4XlhrUKICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgIGNhc2UgNDAxOgogICAgICAgIC8vIOacquiupOivgQogICAgICAgIG1lc3NhZ2UgPSAn5pyq55m75b2V5oiW55m75b2V5bey6L+H5pyf77yM6K+36YeN5paw55m75b2VJzsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnbG9nb3V0Jyk7CiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDQwMzoKICAgICAgICAvLyDmsqHmnInmnYPpmZAKICAgICAgICBtZXNzYWdlID0gJ+ayoeacieadg+mZkOaJp+ihjOatpOaTjeS9nCc7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgNDA0OgogICAgICAgIC8vIOi1hOa6kOS4jeWtmOWcqAogICAgICAgIG1lc3NhZ2UgPSAn6K+35rGC55qE6LWE5rqQ5LiN5a2Y5ZyoJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA1MDA6CiAgICAgICAgLy8g5pyN5Yqh5Zmo6ZSZ6K+vCiAgICAgICAgbWVzc2FnZSA9ICfmnI3liqHlmajplJnor6/vvIzor7fnqI3lkI7lho3or5UnOwogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgewogICAgICAgICAgbWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICB9CiAgICB9CiAgfSBlbHNlIGlmIChlcnJvci5yZXF1ZXN0KSB7CiAgICBtZXNzYWdlID0gJ+aXoOazlei/nuaOpeWIsOacjeWKoeWZqO+8jOivt+ajgOafpee9kee7nOi/nuaOpSc7CiAgfQogIEVsTWVzc2FnZS5lcnJvcihtZXNzYWdlKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","ElMessage","router","store","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","token","getters","headers","error","console","Promise","reject","response","message","status","dispatch","push","data"],"sources":["C:/Users/18083/Desktop/新建文件夹 (3)/smart-office/frontend/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { ElMessage } from 'element-plus'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\n\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API || '', // API的基础URL\r\n  timeout: 15000 // 请求超时时间\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // 如果存在token，则每个请求都带上token\r\n    const token = store.getters.token\r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    console.error('请求错误:', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    // 请求成功，直接返回数据\r\n    return response\r\n  },\r\n  error => {\r\n    let message = '请求失败'\r\n    if (error.response) {\r\n      const status = error.response.status\r\n      \r\n      // 根据状态码处理不同情况\r\n      switch (status) {\r\n        case 401: // 未认证\r\n          message = '未登录或登录已过期，请重新登录'\r\n          store.dispatch('logout')\r\n          router.push('/login')\r\n          break\r\n        case 403: // 没有权限\r\n          message = '没有权限执行此操作'\r\n          break\r\n        case 404: // 资源不存在\r\n          message = '请求的资源不存在'\r\n          break\r\n        case 500: // 服务器错误\r\n          message = '服务器错误，请稍后再试'\r\n          break\r\n        default:\r\n          if (error.response.data && error.response.data.message) {\r\n            message = error.response.data.message\r\n          }\r\n      }\r\n    } else if (error.request) {\r\n      message = '无法连接到服务器，请检查网络连接'\r\n    }\r\n    \r\n    ElMessage.error(message)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service "],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,cAAc;AACxC,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;;AAE3B;AACA,MAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC3BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB,IAAI,EAAE;EAAE;EAC7CC,OAAO,EAAE,KAAK,CAAC;AACjB,CAAC,CAAC;;AAEF;AACAN,OAAO,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9BC,MAAM,IAAI;EACR;EACA,MAAMC,KAAK,GAAGZ,KAAK,CAACa,OAAO,CAACD,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTD,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUF,KAAK,EAAE;EACrD;EACA,OAAOD,MAAM;AACf,CAAC,EACDI,KAAK,IAAI;EACPC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;EAC7B,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAd,OAAO,CAACO,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC/BS,QAAQ,IAAI;EACV;EACA,OAAOA,QAAQ;AACjB,CAAC,EACDJ,KAAK,IAAI;EACP,IAAIK,OAAO,GAAG,MAAM;EACpB,IAAIL,KAAK,CAACI,QAAQ,EAAE;IAClB,MAAME,MAAM,GAAGN,KAAK,CAACI,QAAQ,CAACE,MAAM;;IAEpC;IACA,QAAQA,MAAM;MACZ,KAAK,GAAG;QAAE;QACRD,OAAO,GAAG,iBAAiB;QAC3BpB,KAAK,CAACsB,QAAQ,CAAC,QAAQ,CAAC;QACxBvB,MAAM,CAACwB,IAAI,CAAC,QAAQ,CAAC;QACrB;MACF,KAAK,GAAG;QAAE;QACRH,OAAO,GAAG,WAAW;QACrB;MACF,KAAK,GAAG;QAAE;QACRA,OAAO,GAAG,UAAU;QACpB;MACF,KAAK,GAAG;QAAE;QACRA,OAAO,GAAG,aAAa;QACvB;MACF;QACE,IAAIL,KAAK,CAACI,QAAQ,CAACK,IAAI,IAAIT,KAAK,CAACI,QAAQ,CAACK,IAAI,CAACJ,OAAO,EAAE;UACtDA,OAAO,GAAGL,KAAK,CAACI,QAAQ,CAACK,IAAI,CAACJ,OAAO;QACvC;IACJ;EACF,CAAC,MAAM,IAAIL,KAAK,CAACN,OAAO,EAAE;IACxBW,OAAO,GAAG,kBAAkB;EAC9B;EAEAtB,SAAS,CAACiB,KAAK,CAACK,OAAO,CAAC;EACxB,OAAOH,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAed,OAAO","ignoreList":[]}]}