{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\layout\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\layout\\Index.vue","mtime":1748693702434},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwgb25CZWZvcmVVbm1vdW50LCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBTaWRlYmFyIGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvU2lkZWJhci52dWUnOwppbXBvcnQgTmF2YmFyIGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvTmF2YmFyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTGF5b3V0JywKICBjb21wb25lbnRzOiB7CiAgICBTaWRlYmFyLAogICAgTmF2YmFyCiAgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKCiAgICAvLyDorr7lpIfnsbvlnosKICAgIGNvbnN0IGRldmljZSA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMuZGV2aWNlKTsKCiAgICAvLyDkvqfovrnmoI/nirbmgIEKICAgIGNvbnN0IHNpZGViYXJPcGVuZWQgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5nZXR0ZXJzLnNpZGViYXIub3BlbmVkKTsKCiAgICAvLyDliqjmgIHorqHnrpfkuLvlrrnlmajmoLflvI8KICAgIGNvbnN0IG1haW5Db250YWluZXJTdHlsZSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgLy8g5L6n6L655qCP5bGV5byA5a695bqm5Li6MTYwcHjvvIzmlLbotbflrr3luqbkuLo2NHB4CiAgICAgIGNvbnN0IHNpZGViYXJXaWR0aCA9IHNpZGViYXJPcGVuZWQudmFsdWUgPyAnMTYwcHgnIDogJzY0cHgnOwogICAgICByZXR1cm4gewogICAgICAgIG1hcmdpbkxlZnQ6IHNpZGViYXJXaWR0aCwKICAgICAgICB3aWR0aDogYGNhbGMoMTAwJSAtICR7c2lkZWJhcldpZHRofSlgCiAgICAgIH07CiAgICB9KTsKCiAgICAvLyDnm5Hop4bot6/nlLHlj5jljJbvvIzlpITnkIbnprvlvIDmmbrog73mlofmoaPpobXpnaLnmoTmg4XlhrUKICAgIHdhdGNoKCgpID0+IHJvdXRlLnBhdGgsIChuZXdQYXRoLCBvbGRQYXRoKSA9PiB7CiAgICAgIC8vIOWmguaenOaIkeS7rOemu+W8gOS6huaZuuiDveaWh+aho+mhtemdogogICAgICBpZiAob2xkUGF0aCA9PT0gJy9zbWFydGRvYycgJiYgbmV3UGF0aCAhPT0gJy9zbWFydGRvYycpIHsKICAgICAgICAvLyDmuIXnkIblj6/og73lubLmibDlr7zoiKrnmoTnirbmgIEKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIC8vIOenu+mZpOWPr+iDveeahOS6i+S7tuaLpuaIquWZqAogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVsLW92ZXJsYXksIC5lbC1wb3B1cC1wYXJlbnQtLWhpZGRlbicpLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICBpZiAoZWwgJiYgZWwucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmuIXnkIZET03lhYPntKDlpLHotKU6JywgZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyDmgaLlpI1ib2R55qC35byPCiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2VsLXBvcHVwLXBhcmVudC0taGlkZGVuJyk7CgogICAgICAgICAgLy8g56Gu5L+d5a+86Iiq6I+c5Y2V5Y+v54K55Ye7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWwtbWVudS1pdGVtLCAuZWwtc3VibWVudScpLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICAvLyDnp7vpmaTlj6/og73mt7vliqDnmoRwb2ludGVyLWV2ZW50czogbm9uZQogICAgICAgICAgICBlbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfQogICAgfSk7CgogICAgLy8g5ZON5bqU5byP5biD5bGAIC0g56qX5Y+j5bC65a+45Y+Y5YyW55uR5ZCsCiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7CiAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5KSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCA5OTIpIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdzZXREZXZpY2UnLCAnbW9iaWxlJyk7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgndG9nZ2xlU2lkZWJhcicsIGZhbHNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3NldERldmljZScsICdkZXNrdG9wJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgaGFuZGxlUmVzaXplKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpOwogICAgfSk7CiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4gewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZGV2aWNlLAogICAgICBzaWRlYmFyT3BlbmVkLAogICAgICBtYWluQ29udGFpbmVyU3R5bGUKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","computed","onMounted","onBeforeUnmount","watch","useStore","useRoute","Sidebar","Navbar","name","components","setup","store","route","device","getters","sidebarOpened","sidebar","opened","mainContainerStyle","sidebarWidth","value","marginLeft","width","path","newPath","oldPath","setTimeout","document","querySelectorAll","forEach","el","parentNode","removeChild","e","console","error","body","style","overflow","classList","remove","pointerEvents","handleResize","clientWidth","dispatch","window","addEventListener","removeEventListener"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\layout\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"app-wrapper\" :class=\"{ 'mobile': device === 'mobile' }\">\n    <!-- 侧边栏 -->\n    <Sidebar class=\"sidebar-container\" />\n    \n    <!-- 主要内容区域 -->\n    <div class=\"main-container\" :style=\"mainContainerStyle\">\n      <!-- 顶部导航栏 -->\n      <Navbar />\n      \n      <!-- 内容区域 -->\n      <div class=\"app-main\">\n        <router-view v-slot=\"{ Component }\">\n          <keep-alive :exclude=\"['SmartDoc']\">\n            <component :is=\"Component\" :key=\"$route.fullPath\" />\n          </keep-alive>\n        </router-view>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, onBeforeUnmount, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute } from 'vue-router'\nimport Sidebar from '@/components/layout/Sidebar.vue'\nimport Navbar from '@/components/layout/Navbar.vue'\n\nexport default {\n  name: 'Layout',\n  components: {\n    Sidebar,\n    Navbar\n  },\n  setup() {\n    const store = useStore()\n    const route = useRoute()\n    \n    // 设备类型\n    const device = computed(() => store.getters.device)\n    \n    // 侧边栏状态\n    const sidebarOpened = computed(() => store.getters.sidebar.opened)\n    \n    // 动态计算主容器样式\n    const mainContainerStyle = computed(() => {\n      // 侧边栏展开宽度为160px，收起宽度为64px\n      const sidebarWidth = sidebarOpened.value ? '160px' : '64px'\n      return {\n        marginLeft: sidebarWidth,\n        width: `calc(100% - ${sidebarWidth})`\n      }\n    })\n    \n    // 监视路由变化，处理离开智能文档页面的情况\n    watch(() => route.path, (newPath, oldPath) => {\n      // 如果我们离开了智能文档页面\n      if (oldPath === '/smartdoc' && newPath !== '/smartdoc') {\n        // 清理可能干扰导航的状态\n        setTimeout(() => {\n          // 移除可能的事件拦截器\n          document.querySelectorAll('.el-overlay, .el-popup-parent--hidden').forEach(el => {\n            if (el && el.parentNode) {\n              try {\n                el.parentNode.removeChild(el);\n              } catch (e) {\n                console.error('清理DOM元素失败:', e);\n              }\n            }\n          });\n          \n          // 恢复body样式\n          document.body.style.overflow = '';\n          document.body.classList.remove('el-popup-parent--hidden');\n          \n          // 确保导航菜单可点击\n          document.querySelectorAll('.el-menu-item, .el-submenu').forEach(el => {\n            // 移除可能添加的pointer-events: none\n            el.style.pointerEvents = 'auto';\n          });\n        }, 100);\n      }\n    });\n    \n    // 响应式布局 - 窗口尺寸变化监听\n    const handleResize = () => {\n      if (document && document.body) {\n        if (document.body.clientWidth < 992) {\n          store.dispatch('setDevice', 'mobile')\n          store.dispatch('toggleSidebar', false)\n        } else {\n          store.dispatch('setDevice', 'desktop')\n        }\n      }\n    }\n    \n    onMounted(() => {\n      handleResize()\n      window.addEventListener('resize', handleResize)\n    })\n    \n    onBeforeUnmount(() => {\n      window.removeEventListener('resize', handleResize)\n    })\n    \n    return {\n      device,\n      sidebarOpened,\n      mainContainerStyle\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-wrapper {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  \n  &.mobile {\n    .sidebar-container {\n      position: fixed;\n      top: 0;\n      left: 0;\n      height: 100%;\n      transform: translate3d(-100%, 0, 0);\n      transition: transform 0.28s;\n      z-index: 1001;\n      \n      &.opened {\n        transform: translate3d(0, 0, 0);\n      }\n    }\n    \n    .main-container {\n      margin-left: 0 !important;\n      width: 100% !important;\n    }\n  }\n}\n\n.sidebar-container {\n  height: 100%;\n  background-color: var(--bg-color-secondary);\n  box-shadow: 2px 0 8px 0 var(--shadow-color);\n  transition: width 0.28s;\n  z-index: 1001;\n  overflow: hidden;\n}\n\n.main-container {\n  min-height: 100%;\n  transition: margin-left 0.28s, width 0.28s;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.app-main {\n  flex: 1;\n  overflow: auto;\n  padding: 0;\n  position: relative;\n}\n</style> "],"mappings":";;AAuBA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAEC,KAAI,QAAS,KAAI;AACrE,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,QAAO,QAAS,YAAW;AACpC,OAAOC,OAAM,MAAO,iCAAgC;AACpD,OAAOC,MAAK,MAAO,gCAA+B;AAElD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IACVH,OAAO;IACPC;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIP,QAAQ,CAAC;IACvB,MAAMQ,KAAI,GAAIP,QAAQ,CAAC;;IAEvB;IACA,MAAMQ,MAAK,GAAIb,QAAQ,CAAC,MAAMW,KAAK,CAACG,OAAO,CAACD,MAAM;;IAElD;IACA,MAAME,aAAY,GAAIf,QAAQ,CAAC,MAAMW,KAAK,CAACG,OAAO,CAACE,OAAO,CAACC,MAAM;;IAEjE;IACA,MAAMC,kBAAiB,GAAIlB,QAAQ,CAAC,MAAM;MACxC;MACA,MAAMmB,YAAW,GAAIJ,aAAa,CAACK,KAAI,GAAI,OAAM,GAAI,MAAK;MAC1D,OAAO;QACLC,UAAU,EAAEF,YAAY;QACxBG,KAAK,EAAE,eAAeH,YAAY;MACpC;IACF,CAAC;;IAED;IACAhB,KAAK,CAAC,MAAMS,KAAK,CAACW,IAAI,EAAE,CAACC,OAAO,EAAEC,OAAO,KAAK;MAC5C;MACA,IAAIA,OAAM,KAAM,WAAU,IAAKD,OAAM,KAAM,WAAW,EAAE;QACtD;QACAE,UAAU,CAAC,MAAM;UACf;UACAC,QAAQ,CAACC,gBAAgB,CAAC,uCAAuC,CAAC,CAACC,OAAO,CAACC,EAAC,IAAK;YAC/E,IAAIA,EAAC,IAAKA,EAAE,CAACC,UAAU,EAAE;cACvB,IAAI;gBACFD,EAAE,CAACC,UAAU,CAACC,WAAW,CAACF,EAAE,CAAC;cAC/B,EAAE,OAAOG,CAAC,EAAE;gBACVC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEF,CAAC,CAAC;cAChC;YACF;UACF,CAAC,CAAC;;UAEF;UACAN,QAAQ,CAACS,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,EAAE;UACjCX,QAAQ,CAACS,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,yBAAyB,CAAC;;UAEzD;UACAb,QAAQ,CAACC,gBAAgB,CAAC,4BAA4B,CAAC,CAACC,OAAO,CAACC,EAAC,IAAK;YACpE;YACAA,EAAE,CAACO,KAAK,CAACI,aAAY,GAAI,MAAM;UACjC,CAAC,CAAC;QACJ,CAAC,EAAE,GAAG,CAAC;MACT;IACF,CAAC,CAAC;;IAEF;IACA,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACzB,IAAIf,QAAO,IAAKA,QAAQ,CAACS,IAAI,EAAE;QAC7B,IAAIT,QAAQ,CAACS,IAAI,CAACO,WAAU,GAAI,GAAG,EAAE;UACnChC,KAAK,CAACiC,QAAQ,CAAC,WAAW,EAAE,QAAQ;UACpCjC,KAAK,CAACiC,QAAQ,CAAC,eAAe,EAAE,KAAK;QACvC,OAAO;UACLjC,KAAK,CAACiC,QAAQ,CAAC,WAAW,EAAE,SAAS;QACvC;MACF;IACF;IAEA3C,SAAS,CAAC,MAAM;MACdyC,YAAY,CAAC;MACbG,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEJ,YAAY;IAChD,CAAC;IAEDxC,eAAe,CAAC,MAAM;MACpB2C,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEL,YAAY;IACnD,CAAC;IAED,OAAO;MACL7B,MAAM;MACNE,aAAa;MACbG;IACF;EACF;AACF","ignoreList":[]}]}