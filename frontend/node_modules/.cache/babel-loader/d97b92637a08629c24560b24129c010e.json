{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\ReportsView.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\ReportsView.vue","mtime":1748675746256},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIm1vZHVsZS1jYXJkIG1vZGVybi1yZXBvcnQiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJtb2R1bGUtaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiYnRuLWdyb3VwIgp9Owpjb25zdCBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAicm93IG1iLTQiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJjb2wtbWQtNiIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogIm1vZGVybi1jYXJkIgp9Owpjb25zdCBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAiY2hhcnQtY2VudGVyLXdyYXAiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiY2hhcnQtZW1wdHkiCn07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJjb2wtbWQtNiIKfTsKY29uc3QgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJtb2Rlcm4tY2FyZCIKfTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJjaGFydC1jZW50ZXItd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfMTIgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiY2hhcnQtZW1wdHkiCn07CmNvbnN0IF9ob2lzdGVkXzEzID0gewogIGtleTogMCwKICBjbGFzczogIm1vZGVybi1zdW1tYXJ5IG1haW4tdmFsdWUiCn07CmNvbnN0IF9ob2lzdGVkXzE0ID0gewogIGNsYXNzOiAicm93IG1iLTQiCn07CmNvbnN0IF9ob2lzdGVkXzE1ID0gewogIGNsYXNzOiAiY29sLW1kLTYiCn07CmNvbnN0IF9ob2lzdGVkXzE2ID0gewogIGNsYXNzOiAibW9kZXJuLWNhcmQiCn07CmNvbnN0IF9ob2lzdGVkXzE3ID0gewogIGNsYXNzOiAiY2hhcnQtY2VudGVyLXdyYXAiCn07CmNvbnN0IF9ob2lzdGVkXzE4ID0gewogIGtleTogMCwKICBjbGFzczogImNoYXJ0LWVtcHR5Igp9Owpjb25zdCBfaG9pc3RlZF8xOSA9IHsKICBjbGFzczogImNvbC1tZC02Igp9Owpjb25zdCBfaG9pc3RlZF8yMCA9IHsKICBjbGFzczogIm1vZGVybi1jYXJkIgp9Owpjb25zdCBfaG9pc3RlZF8yMSA9IHsKICBjbGFzczogImNoYXJ0LWNlbnRlci13cmFwIgp9Owpjb25zdCBfaG9pc3RlZF8yMiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJjaGFydC1lbXB0eSIKfTsKY29uc3QgX2hvaXN0ZWRfMjMgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibW9kZXJuLXN1bW1hcnkgbWFpbi12YWx1ZSIKfTsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWYsIHdhdGNoLCBvbkJlZm9yZVVubW91bnQsIG5leHRUaWNrLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmltcG9ydCB7IGV4cG9ydFByb2plY3RBaVJlcG9ydCB9IGZyb20gJ0AvYXBpL3Byb2plY3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgX19uYW1lOiAnUmVwb3J0c1ZpZXcnLAogIHByb3BzOiB7CiAgICBwcm9qZWN0OiBPYmplY3QsCiAgICB0YXNrczogQXJyYXksCiAgICBkb2N1bWVudHM6IEFycmF5LAogICAgcmVxdWlyZW1lbnRzOiBBcnJheQogIH0sCiAgc2V0dXAoX19wcm9wcykgewogICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzOwogICAgY29uc3QgZG9jVHJlbmRDaGFydCA9IHJlZihudWxsKTsKICAgIGNvbnN0IHJlcUNoYXJ0ID0gcmVmKG51bGwpOwogICAgY29uc3QgZ2F1Z2VDaGFydCA9IHJlZihudWxsKTsKICAgIGNvbnN0IHRyZW5kQ2hhcnQgPSByZWYobnVsbCk7CiAgICBsZXQgZG9jVHJlbmRDaGFydEluc3RhbmNlID0gbnVsbDsKICAgIGxldCByZXFDaGFydEluc3RhbmNlID0gbnVsbDsKICAgIGxldCBnYXVnZUNoYXJ0SW5zdGFuY2UgPSBudWxsOwogICAgbGV0IHRyZW5kQ2hhcnRJbnN0YW5jZSA9IG51bGw7CgogICAgLy8g5paw5aKe77ya5qCH5YeG5YyW5Lu75Yqh5pWw5o2u77yM5YW85a65IuW3suWujOaIkCLnirbmgIHlkozlrozmiJDml7bpl7QKICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXNrcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BzLnRhc2tzKSkgcmV0dXJuIFtdOwogICAgICByZXR1cm4gcHJvcHMudGFza3MubWFwKHRhc2sgPT4gewogICAgICAgIGxldCBzdGF0dXMgPSB0YXNrLnN0YXR1czsKICAgICAgICBpZiAoc3RhdHVzID09PSAn5bey5a6M5oiQJykgc3RhdHVzID0gJ2RvbmUnOwogICAgICAgIC8vIOWPr+aJqeWxleabtOWkmuaYoOWwhAogICAgICAgIHJldHVybiB7CiAgICAgICAgICAuLi50YXNrLAogICAgICAgICAgc3RhdHVzLAogICAgICAgICAgZHVlX2RhdGU6IHRhc2suZHVlX2RhdGUgfHwgdGFzay51cGRhdGVkX2F0IHx8IHRhc2sudXBkYXRlX3RpbWUgfHwgdGFzay5lbmRfdGltZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIC8vIOe7n+iuoeaVsOaNruaRmOimgQogICAgY29uc3QgcmVxVG90YWwgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHZhciBfcHJvcHMkcmVxdWlyZW1lbnRzOwogICAgICByZXR1cm4gKChfcHJvcHMkcmVxdWlyZW1lbnRzID0gcHJvcHMucmVxdWlyZW1lbnRzKSA9PT0gbnVsbCB8fCBfcHJvcHMkcmVxdWlyZW1lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcHJvcHMkcmVxdWlyZW1lbnRzLmxlbmd0aCkgfHwgMDsKICAgIH0pOwogICAgY29uc3QgdGFza1RvdGFsID0gY29tcHV0ZWQoKCkgPT4gbm9ybWFsaXplZFRhc2tzLnZhbHVlLmxlbmd0aCB8fCAwKTsKCiAgICAvLyDlm77ooajmlbDmja7pooTlpITnkIYKICAgIGNvbnN0IGRvY1RyZW5kSGFzRGF0YSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BzLmRvY3VtZW50cykgfHwgIXByb3BzLmRvY3VtZW50cy5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHByb3BzLmRvY3VtZW50cy5zb21lKGRvYyA9PiBkb2MudXBsb2FkZWRfYXQgfHwgZG9jLmNyZWF0ZWRfYXQpOwogICAgfSk7CiAgICBjb25zdCB0cmVuZEhhc0RhdGEgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmICghQXJyYXkuaXNBcnJheShub3JtYWxpemVkVGFza3MudmFsdWUpIHx8ICFub3JtYWxpemVkVGFza3MudmFsdWUubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiBub3JtYWxpemVkVGFza3MudmFsdWUuc29tZSh0YXNrID0+IHRhc2suY29tcGxldGVkX2F0IHx8IHRhc2suZmluaXNoX3RpbWUgfHwgdGFzay5zdGF0dXMgPT09ICdkb25lJyk7CiAgICB9KTsKICAgIGZ1bmN0aW9uIHJlbmRlckNoYXJ0cygpIHsKICAgICAgLy8g6ZSA5q+B5pen5a6e5L6LCiAgICAgIGlmIChkb2NUcmVuZENoYXJ0SW5zdGFuY2UpIGRvY1RyZW5kQ2hhcnRJbnN0YW5jZS5kaXNwb3NlKCk7CiAgICAgIGlmIChyZXFDaGFydEluc3RhbmNlKSByZXFDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgICAgaWYgKGdhdWdlQ2hhcnRJbnN0YW5jZSkgZ2F1Z2VDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgICAgaWYgKHRyZW5kQ2hhcnRJbnN0YW5jZSkgdHJlbmRDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKCiAgICAgIC8vIOaWh+aho+S4iuS8oOi2i+WKvwogICAgICBpZiAoZG9jVHJlbmRDaGFydC52YWx1ZSkgewogICAgICAgIHZhciBfcHJvcHMkZG9jdW1lbnRzOwogICAgICAgIGRvY1RyZW5kQ2hhcnRJbnN0YW5jZSA9IGVjaGFydHMuaW5pdChkb2NUcmVuZENoYXJ0LnZhbHVlKTsKICAgICAgICBjb25zdCBkb2NNb250aE1hcCA9IHt9OwogICAgICAgIChfcHJvcHMkZG9jdW1lbnRzID0gcHJvcHMuZG9jdW1lbnRzKSA9PT0gbnVsbCB8fCBfcHJvcHMkZG9jdW1lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcHJvcHMkZG9jdW1lbnRzLmZvckVhY2goZG9jID0+IHsKICAgICAgICAgIGlmIChkb2MudXBsb2FkZWRfYXQpIHsKICAgICAgICAgICAgY29uc3QgbW9udGggPSAoZG9jLnVwbG9hZGVkX2F0ICsgJycpLnNsaWNlKDAsIDcpOwogICAgICAgICAgICBkb2NNb250aE1hcFttb250aF0gPSAoZG9jTW9udGhNYXBbbW9udGhdIHx8IDApICsgMTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zdCBkb2NNb250aHMgPSBPYmplY3Qua2V5cyhkb2NNb250aE1hcCkuc29ydCgpOwogICAgICAgIGNvbnN0IGRvY01vbnRoRGF0YSA9IGRvY01vbnRocy5tYXAobSA9PiBkb2NNb250aE1hcFttXSk7CiAgICAgICAgZG9jVHJlbmRDaGFydEluc3RhbmNlLnNldE9wdGlvbih7CiAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgIHRyaWdnZXI6ICdheGlzJwogICAgICAgICAgfSwKICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgbGVmdDogNDAsCiAgICAgICAgICAgIHJpZ2h0OiAyMCwKICAgICAgICAgICAgdG9wOiAzMCwKICAgICAgICAgICAgYm90dG9tOiA0MAogICAgICAgICAgfSwKICAgICAgICAgIHhBeGlzOiB7CiAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICAgIGRhdGE6IGRvY01vbnRocywKICAgICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjODg4JywKICAgICAgICAgICAgICBmb250U2l6ZTogMTMKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbmFtZTogZG9jTW9udGhzLmxlbmd0aCA/ICcnIDogJ+aaguaXoOaVsOaNricKICAgICAgICAgIH0sCiAgICAgICAgICB5QXhpczogewogICAgICAgICAgICB0eXBlOiAndmFsdWUnLAogICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgIGNvbG9yOiAnIzg4OCcsCiAgICAgICAgICAgICAgZm9udFNpemU6IDEzCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICAgIG5hbWU6ICfkuIrkvKDmlofmoaPmlbAnLAogICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgIGRhdGE6IGRvY01vbnRoRGF0YSwKICAgICAgICAgICAgc21vb3RoOiB0cnVlLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM0RjhDRkYnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAncmdiYSg3OSwxNDAsMjU1LDAuMSknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN5bWJvbFNpemU6IDEwCiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIOmcgOaxguS8mOWFiOe6p+WIhuW4gwogICAgICBpZiAocmVxQ2hhcnQudmFsdWUpIHsKICAgICAgICByZXFDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KHJlcUNoYXJ0LnZhbHVlKTsKICAgICAgICBjb25zdCByZXFQcmlvcml0eU1hcCA9IHsKICAgICAgICAgIOmrmDogMCwKICAgICAgICAgIOS4rTogMCwKICAgICAgICAgIOS9jjogMAogICAgICAgIH07CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMucmVxdWlyZW1lbnRzKSkgewogICAgICAgICAgcHJvcHMucmVxdWlyZW1lbnRzLmZvckVhY2gocmVxID0+IHsKICAgICAgICAgICAgbGV0IHByaSA9IHJlcS5wcmlvcml0eTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmkgPT09ICdvYmplY3QnICYmIHByaSAhPT0gbnVsbCkgcHJpID0gcHJpLnZhbHVlIHx8IHByaS5sYWJlbCB8fCBKU09OLnN0cmluZ2lmeShwcmkpOwogICAgICAgICAgICBpZiAodHlwZW9mIHByaSAhPT0gJ3N0cmluZycpIHByaSA9IFN0cmluZyhwcmkgfHwgJycpLnRyaW0oKTsKICAgICAgICAgICAgaWYgKFsnaGlnaCcsICdIaWdoJywgJ0hJR0gnLCAn6auYJywgJzEnXS5pbmNsdWRlcyhwcmkpKSB7CiAgICAgICAgICAgICAgcHJpID0gJ+mrmCc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoWydtZWRpdW0nLCAnTWVkaXVtJywgJ01FRElVTScsICfkuK0nLCAnMiddLmluY2x1ZGVzKHByaSkpIHsKICAgICAgICAgICAgICBwcmkgPSAn5LitJzsKICAgICAgICAgICAgfSBlbHNlIGlmIChbJ2xvdycsICdMb3cnLCAnTE9XJywgJ+S9jicsICczJ10uaW5jbHVkZXMocHJpKSkgewogICAgICAgICAgICAgIHByaSA9ICfkvY4nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOS4jeaYr+mrmC/kuK0v5L2O55qE5YWo6YOo6Lez6L+H77yM5LiN6K6h5YWl5Zu+6KGoCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlcVByaW9yaXR5TWFwW3ByaV0gPSAocmVxUHJpb3JpdHlNYXBbcHJpXSB8fCAwKSArIDE7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmVxQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScKICAgICAgICAgIH0sCiAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgYm90dG9tOiAwLAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM2NjYnLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxMwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6IFsnIzRGOENGRicsICcjMzRDNzU5JywgJyNGRjk1MDAnXSwKICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgbmFtZTogJ+S8mOWFiOe6p+WIhuW4gycsCiAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICByYWRpdXM6IFsnNjAlJywgJzgwJSddLAogICAgICAgICAgICBkYXRhOiBPYmplY3Qua2V5cyhyZXFQcmlvcml0eU1hcCkubWFwKGsgPT4gKHsKICAgICAgICAgICAgICB2YWx1ZTogcmVxUHJpb3JpdHlNYXBba10sCiAgICAgICAgICAgICAgbmFtZTogawogICAgICAgICAgICB9KSksCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogJ291dHNpZGUnLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxNCwKICAgICAgICAgICAgICBjb2xvcjogJyMzMzMnLAogICAgICAgICAgICAgIGZvcm1hdHRlcjogJ3tifToge2R9JScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgbGVuZ3RoOiAxOCwKICAgICAgICAgICAgICBsZW5ndGgyOiAxMAogICAgICAgICAgICB9LAogICAgICAgICAgICBhdm9pZExhYmVsT3ZlcmxhcDogZmFsc2UsCiAgICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgICBzaGFkb3dCbHVyOiAxMCwKICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAsCiAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoMCwwLDAsMC4yKScKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8g6ZyA5rGC5a6M5oiQ546H5Luq6KGo55uYCiAgICAgIGlmIChnYXVnZUNoYXJ0LnZhbHVlKSB7CiAgICAgICAgZ2F1Z2VDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KGdhdWdlQ2hhcnQudmFsdWUpOwogICAgICAgIGxldCByZXFDb21wbGV0ZWQgPSAwOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BzLnJlcXVpcmVtZW50cykpIHsKICAgICAgICAgIC8vIOiwg+ivlei+k+WHuuWOn+Wni+aVsOaNrgogICAgICAgICAgY29uc29sZS5sb2coJ+mcgOaxguWOn+Wni+aVsOaNrjonLCBwcm9wcy5yZXF1aXJlbWVudHMpOwogICAgICAgICAgcHJvcHMucmVxdWlyZW1lbnRzLmZvckVhY2gocmVxID0+IHsKICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHJlcS5zdGF0dXM7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdHVzID09PSAnb2JqZWN0JyAmJiBzdGF0dXMgIT09IG51bGwpIHN0YXR1cyA9IHN0YXR1cy52YWx1ZSB8fCBzdGF0dXMubGFiZWwgfHwgSlNPTi5zdHJpbmdpZnkoc3RhdHVzKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0dXMgIT09ICdzdHJpbmcnKSBzdGF0dXMgPSBTdHJpbmcoc3RhdHVzIHx8ICcnKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgaWYgKFsn5bey5a6M5oiQJywgJ+WujOaIkCcsICdjb21wbGV0ZWQnLCAnZG9uZScsICdmaW5pc2hlZCcsICflt7LlhbPpl60nLCAnY2xvc2VkJywgJ+W3suino+WGsycsICdyZXNvbHZlZCcsICcxJywgJ3RydWUnLCAn5pivJywgJ3N1Y2Nlc3MnXS5zb21lKHMgPT4gc3RhdHVzLmluY2x1ZGVzKHMpKSkgewogICAgICAgICAgICAgIHJlcUNvbXBsZXRlZCsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY29uc3QgcGVyY2VudCA9IHJlcVRvdGFsLnZhbHVlID8gTWF0aC5yb3VuZChyZXFDb21wbGV0ZWQgLyByZXFUb3RhbC52YWx1ZSAqIDEwMCkgOiAwOwogICAgICAgIGdhdWdlQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oewogICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICB0eXBlOiAnZ2F1Z2UnLAogICAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzYwJSddLAogICAgICAgICAgICByYWRpdXM6ICc5MCUnLAogICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICBwcm9ncmVzczogewogICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgd2lkdGg6IDE4CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTgsCiAgICAgICAgICAgICAgICBjb2xvcjogW1sxLCAnIzRGOENGRiddXQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9pbnRlcjogewogICAgICAgICAgICAgIHdpZHRoOiA2LAogICAgICAgICAgICAgIGxlbmd0aDogJzcwJScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgdmFsdWVBbmltYXRpb246IHRydWUsCiAgICAgICAgICAgICAgZm9udFNpemU6IDMyLAogICAgICAgICAgICAgIGNvbG9yOiAnIzRGOENGRicsCiAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLAogICAgICAgICAgICAgIG9mZnNldENlbnRlcjogWzAsICc0MCUnXSwKICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICd7dmFsdWV9JScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogW3sKICAgICAgICAgICAgICB2YWx1ZTogcGVyY2VudCwKICAgICAgICAgICAgICBuYW1lOiAn5a6M5oiQ546HJwogICAgICAgICAgICB9XSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICBmb250U2l6ZTogMTYsCiAgICAgICAgICAgICAgY29sb3I6ICcjODg4JywKICAgICAgICAgICAgICBvZmZzZXRDZW50ZXI6IFswLCAnODAlJ10KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgfQogICAgICAvLyDku7vliqHlrozmiJDotovlir8KICAgICAgaWYgKHRyZW5kQ2hhcnQudmFsdWUpIHsKICAgICAgICAvLyDosIPor5XovpPlh7rljp/lp4vku7vliqHmlbDmja4KICAgICAgICBjb25zb2xlLmxvZygn5Lu75Yqh5Y6f5aeL5pWw5o2uOicsIG5vcm1hbGl6ZWRUYXNrcy52YWx1ZSk7CiAgICAgICAgdHJlbmRDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KHRyZW5kQ2hhcnQudmFsdWUpOwogICAgICAgIGNvbnN0IG1vbnRoTWFwID0ge307CiAgICAgICAgbGV0IGhhc0NvbXBsZXRlZCA9IGZhbHNlOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vcm1hbGl6ZWRUYXNrcy52YWx1ZSkpIHsKICAgICAgICAgIG5vcm1hbGl6ZWRUYXNrcy52YWx1ZS5mb3JFYWNoKHRhc2sgPT4gewogICAgICAgICAgICAvLyDku4XmoLnmja4gc3RhdHVzIOWtl+auteWIpOaWreaYr+WQpuW3suWujOaIkAogICAgICAgICAgICBsZXQgc3RhdHVzID0gKHRhc2suc3RhdHVzIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBpZiAoWyflt7LlrozmiJAnLCAn5a6M5oiQJywgJ2RvbmUnLCAnZmluaXNoZWQnLCAn5bey5YWz6ZetJywgJ2Nsb3NlZCcsICdzdWNjZXNzJywgJ3RydWUnLCAnMSddLnNvbWUocyA9PiBzdGF0dXMuaW5jbHVkZXMocykpKSB7CiAgICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAvLyDlj5YgZHVlX2RhdGUg5oiWIHVwZGF0ZWRfYXQg5L2c5Li65a6M5oiQ5pe26Ze0CiAgICAgICAgICAgICAgbGV0IGZpbmlzaCA9IHRhc2suZHVlX2RhdGUgfHwgdGFzay51cGRhdGVkX2F0IHx8IHRhc2sudXBkYXRlX3RpbWUgfHwgdGFzay5lbmRfdGltZSB8fCAnJzsKICAgICAgICAgICAgICBpZiAoIWZpbmlzaCkgewogICAgICAgICAgICAgICAgLy8g5rKh5pyJ5pe26Ze05a2X5q615pe277yM5L2/55So5b2T5YmN5pyICiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgZmluaXNoID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb25zdCBtb250aCA9IChmaW5pc2ggKyAnJykuc2xpY2UoMCwgNyk7CiAgICAgICAgICAgICAgbW9udGhNYXBbbW9udGhdID0gKG1vbnRoTWFwW21vbnRoXSB8fCAwKSArIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBsZXQgbW9udGhzID0gT2JqZWN0LmtleXMobW9udGhNYXApLnNvcnQoKTsKICAgICAgICBsZXQgbW9udGhEYXRhID0gbW9udGhzLm1hcChtID0+IG1vbnRoTWFwW21dKTsKICAgICAgICAvLyDlpoLmnpzmnInku7vliqHkvYbpg73mnKrlrozmiJDvvIzmmL7npLowCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9ybWFsaXplZFRhc2tzLnZhbHVlKSAmJiBub3JtYWxpemVkVGFza3MudmFsdWUubGVuZ3RoID4gMCAmJiAhaGFzQ29tcGxldGVkKSB7CiAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgY29uc3QgdGhpc01vbnRoID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICAgICAgbW9udGhzID0gW3RoaXNNb250aF07CiAgICAgICAgICBtb250aERhdGEgPSBbMF07CiAgICAgICAgfQogICAgICAgIHRyZW5kQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICAgIH0sCiAgICAgICAgICBncmlkOiB7CiAgICAgICAgICAgIGxlZnQ6IDQwLAogICAgICAgICAgICByaWdodDogMjAsCiAgICAgICAgICAgIHRvcDogMzAsCiAgICAgICAgICAgIGJvdHRvbTogNDAKICAgICAgICAgIH0sCiAgICAgICAgICB4QXhpczogewogICAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgICBkYXRhOiBtb250aHMsCiAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgIGNvbG9yOiAnIzg4OCcsCiAgICAgICAgICAgICAgZm9udFNpemU6IDEzCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5hbWU6IG1vbnRocy5sZW5ndGggPyAnJyA6ICfmmoLml6DmlbDmja4nCiAgICAgICAgICB9LAogICAgICAgICAgeUF4aXM6IHsKICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM4ODgnLAogICAgICAgICAgICAgIGZvbnRTaXplOiAxMwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICBuYW1lOiAn5a6M5oiQ5Lu75Yqh5pWwJywKICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgIGRhdGE6IG1vbnRoRGF0YSwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjMzRDNzU5JwogICAgICAgICAgICB9LAogICAgICAgICAgICBiYXJXaWR0aDogMzIsCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgICAgICAgY29sb3I6ICcjMzRDNzU5JywKICAgICAgICAgICAgICBmb250U2l6ZTogMTYsCiAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIGFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkQWlSZXBvcnQoKSB7CiAgICAgIHZhciBfcHJvcHMkcHJvamVjdDsKICAgICAgaWYgKCEoKF9wcm9wcyRwcm9qZWN0ID0gcHJvcHMucHJvamVjdCkgIT09IG51bGwgJiYgX3Byb3BzJHByb2plY3QgIT09IHZvaWQgMCAmJiBfcHJvcHMkcHJvamVjdC5pZCkpIHJldHVybjsKICAgICAgLy8g5a+85Ye65Zub5LiqRUNoYXJ0c+WbvuihqOS4umJhc2U2NOWbvueJhwogICAgICBjb25zdCBnZXRCYXNlNjQgPSBjaGFydEluc3RhbmNlID0+IGNoYXJ0SW5zdGFuY2UgPyBjaGFydEluc3RhbmNlLmdldERhdGFVUkwoewogICAgICAgIHR5cGU6ICdwbmcnLAogICAgICAgIHBpeGVsUmF0aW86IDIsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicKICAgICAgfSkgOiAnJzsKICAgICAgY29uc3QgZG9jVHJlbmRJbWcgPSBnZXRCYXNlNjQoZG9jVHJlbmRDaGFydEluc3RhbmNlKTsKICAgICAgY29uc3QgcmVxQ2hhcnRJbWcgPSBnZXRCYXNlNjQocmVxQ2hhcnRJbnN0YW5jZSk7CiAgICAgIGNvbnN0IGdhdWdlQ2hhcnRJbWcgPSBnZXRCYXNlNjQoZ2F1Z2VDaGFydEluc3RhbmNlKTsKICAgICAgY29uc3QgdHJlbmRDaGFydEltZyA9IGdldEJhc2U2NCh0cmVuZENoYXJ0SW5zdGFuY2UpOwogICAgICAvLyDnu4Too4XmlbDmja4KICAgICAgY29uc3QgcGF5bG9hZCA9IHsKICAgICAgICBkb2NfdHJlbmRfaW1nOiBkb2NUcmVuZEltZywKICAgICAgICByZXFfY2hhcnRfaW1nOiByZXFDaGFydEltZywKICAgICAgICBnYXVnZV9jaGFydF9pbWc6IGdhdWdlQ2hhcnRJbWcsCiAgICAgICAgdHJlbmRfY2hhcnRfaW1nOiB0cmVuZENoYXJ0SW1nLAogICAgICAgIHByb2plY3RfbmFtZTogcHJvcHMucHJvamVjdC5uYW1lIHx8ICcnLAogICAgICAgIHByb2plY3RfaWQ6IHByb3BzLnByb2plY3QuaWQKICAgICAgfTsKICAgICAgLy8gUE9TVOe7meWQjuerr++8jOi/lOWbnlBERgogICAgICBleHBvcnRQcm9qZWN0QWlSZXBvcnQocHJvcHMucHJvamVjdC5pZCwgcGF5bG9hZCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmVzLmRhdGFdLCB7CiAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vcGRmJwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSBgJHtwcm9wcy5wcm9qZWN0Lm5hbWUgfHwgJ+mhueebrid9X0FJ5YiG5p6Q5oql5ZGKLnBkZmA7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTsKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICB9KTsKICAgIH0KICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIG5leHRUaWNrKCgpID0+IHNldFRpbWVvdXQocmVuZGVyQ2hhcnRzLCAzMDApKTsKICAgIH0pOwogICAgd2F0Y2goKCkgPT4gW3Byb3BzLnRhc2tzLCBwcm9wcy5kb2N1bWVudHMsIHByb3BzLnJlcXVpcmVtZW50c10sICgpID0+IHsKICAgICAgbmV4dFRpY2soKCkgPT4gc2V0VGltZW91dChyZW5kZXJDaGFydHMsIDMwMCkpOwogICAgfSwgewogICAgICBkZWVwOiB0cnVlCiAgICB9KTsKICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7CiAgICAgIGlmIChkb2NUcmVuZENoYXJ0SW5zdGFuY2UpIGRvY1RyZW5kQ2hhcnRJbnN0YW5jZS5kaXNwb3NlKCk7CiAgICAgIGlmIChyZXFDaGFydEluc3RhbmNlKSByZXFDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgICAgaWYgKGdhdWdlQ2hhcnRJbnN0YW5jZSkgZ2F1Z2VDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgICAgaWYgKHRyZW5kQ2hhcnRJbnN0YW5jZSkgdHJlbmRDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsKICAgIH0pOwogICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHsKICAgICAgY29uc3QgX2NvbXBvbmVudF9lbF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNSIsIHsKICAgICAgICBjbGFzczogIm1vZHVsZS10aXRsZSIKICAgICAgfSwgIumhueebruaVsOaNruWIhuaekCIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHBsYWluOiAiIiwKICAgICAgICBpY29uOiAiZWwtaWNvbi1tYWdpYy1zdGljayIsCiAgICAgICAgb25DbGljazogZG93bmxvYWRBaVJlcG9ydAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgiQUnliIbmnpDmiqXlkYoiKV0pKSwKICAgICAgICBfOiAxCiAgICAgIH0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIHsKICAgICAgICBjbGFzczogInRleHQtcHJpbWFyeSIKICAgICAgfSwgIuaWh+aho+S4iuS8oOi2i+WKvyIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgcmVmX2tleTogImRvY1RyZW5kQ2hhcnQiLAogICAgICAgIHJlZjogZG9jVHJlbmRDaGFydCwKICAgICAgICBjbGFzczogIm1vZGVybi1lY2hhcnQiCiAgICAgIH0sIG51bGwsIDUxMiksICFkb2NUcmVuZEhhc0RhdGEudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84LCAi5pqC5peg5pWw5o2uIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgW19jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDYiLCB7CiAgICAgICAgY2xhc3M6ICJ0ZXh0LXByaW1hcnkiCiAgICAgIH0sICLpnIDmsYLkvJjlhYjnuqfliIbluIMiLCAtMSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICByZWZfa2V5OiAicmVxQ2hhcnQiLAogICAgICAgIHJlZjogcmVxQ2hhcnQsCiAgICAgICAgY2xhc3M6ICJtb2Rlcm4tZWNoYXJ0IgogICAgICB9LCBudWxsLCA1MTIpLCAhcmVxVG90YWwudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xMiwgIuaaguaXoOaVsOaNriIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSksIHJlcVRvdGFsLnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTMsICLlhbEgIiArIF90b0Rpc3BsYXlTdHJpbmcocmVxVG90YWwudmFsdWUpICsgIiDkuKrpnIDmsYIiLCAxKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE2LCBbX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIHsKICAgICAgICBjbGFzczogInRleHQtcHJpbWFyeSIKICAgICAgfSwgIumcgOaxguWujOaIkOeOhyIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE3LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIHJlZl9rZXk6ICJnYXVnZUNoYXJ0IiwKICAgICAgICByZWY6IGdhdWdlQ2hhcnQsCiAgICAgICAgY2xhc3M6ICJtb2Rlcm4tZWNoYXJ0IgogICAgICB9LCBudWxsLCA1MTIpLCAhcmVxVG90YWwudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xOCwgIuaaguaXoOaVsOaNriIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIwLCBbX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNiIsIHsKICAgICAgICBjbGFzczogInRleHQtcHJpbWFyeSIKICAgICAgfSwgIuS7u+WKoeWujOaIkOi2i+WKvyIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIxLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIHJlZl9rZXk6ICJ0cmVuZENoYXJ0IiwKICAgICAgICByZWY6IHRyZW5kQ2hhcnQsCiAgICAgICAgY2xhc3M6ICJtb2Rlcm4tZWNoYXJ0IgogICAgICB9LCBudWxsLCA1MTIpLCAhdHJlbmRIYXNEYXRhLnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMjIsICLmmoLml6DmlbDmja4iKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pLCB0YXNrVG90YWwudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yMywgIuWFsSAiICsgX3RvRGlzcGxheVN0cmluZyh0YXNrVG90YWwudmFsdWUpICsgIiDkuKrku7vliqEiLCAxKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pXSldKV0pOwogICAgfTsKICB9Cn07"},{"version":3,"names":["onMounted","ref","watch","onBeforeUnmount","nextTick","computed","echarts","exportProjectAiReport","props","__props","docTrendChart","reqChart","gaugeChart","trendChart","docTrendChartInstance","reqChartInstance","gaugeChartInstance","trendChartInstance","normalizedTasks","Array","isArray","tasks","map","task","status","due_date","updated_at","update_time","end_time","Date","toISOString","reqTotal","_props$requirements","requirements","length","taskTotal","value","docTrendHasData","documents","some","doc","uploaded_at","created_at","trendHasData","completed_at","finish_time","renderCharts","dispose","_props$documents","init","docMonthMap","forEach","month","slice","docMonths","Object","keys","sort","docMonthData","m","setOption","tooltip","trigger","grid","left","right","top","bottom","xAxis","type","data","axisLabel","color","fontSize","name","yAxis","min","series","smooth","itemStyle","areaStyle","symbolSize","reqPriorityMap","高","中","低","req","pri","priority","label","JSON","stringify","String","trim","includes","legend","textStyle","radius","k","show","position","formatter","labelLine","length2","avoidLabelOverlap","emphasis","shadowBlur","shadowOffsetX","shadowColor","reqCompleted","console","log","toLowerCase","s","percent","Math","round","center","max","progress","width","axisLine","lineStyle","pointer","detail","valueAnimation","fontWeight","offsetCenter","title","monthMap","hasCompleted","finish","now","getFullYear","getMonth","padStart","months","monthData","thisMonth","barWidth","downloadAiReport","_props$project","project","id","getBase64","chartInstance","getDataURL","pixelRatio","backgroundColor","docTrendImg","reqChartImg","gaugeChartImg","trendChartImg","payload","doc_trend_img","req_chart_img","gauge_chart_img","trend_chart_img","project_name","project_id","then","res","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","setTimeout","deep"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/components/ReportsView.vue"],"sourcesContent":["<template>\n  <div class=\"module-card modern-report\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">项目数据分析</h5>\n      <div class=\"btn-group\">\n        <el-button size=\"small\" plain icon=\"el-icon-magic-stick\" @click=\"downloadAiReport\">AI分析报告</el-button>\n      </div>\n    </div>\n    <div class=\"row mb-4\">\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">文档上传趋势</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"docTrendChart\" class=\"modern-echart\" />\n            <div v-if=\"!docTrendHasData\" class=\"chart-empty\">暂无数据</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">需求优先级分布</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"reqChart\" class=\"modern-echart\" />\n            <div v-if=\"!reqTotal\" class=\"chart-empty\">暂无数据</div>\n          </div>\n          <div class=\"modern-summary main-value\" v-if=\"reqTotal\">共 {{ reqTotal }} 个需求</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row mb-4\">\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">需求完成率</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"gaugeChart\" class=\"modern-echart\" />\n            <div v-if=\"!reqTotal\" class=\"chart-empty\">暂无数据</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <div class=\"modern-card\">\n          <h6 class=\"text-primary\">任务完成趋势</h6>\n          <div class=\"chart-center-wrap\">\n            <div ref=\"trendChart\" class=\"modern-echart\" />\n            <div v-if=\"!trendHasData\" class=\"chart-empty\">暂无数据</div>\n          </div>\n          <div class=\"modern-summary main-value\" v-if=\"taskTotal\">共 {{ taskTotal }} 个任务</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { onMounted, ref, watch, onBeforeUnmount, nextTick, computed } from 'vue'\nimport * as echarts from 'echarts'\nimport { exportProjectAiReport } from '@/api/project'\n\nconst props = defineProps({\n  project: Object,\n  tasks: Array,\n  documents: Array,\n  requirements: Array\n})\n\nconst docTrendChart = ref(null)\nconst reqChart = ref(null)\nconst gaugeChart = ref(null)\nconst trendChart = ref(null)\n\nlet docTrendChartInstance = null\nlet reqChartInstance = null\nlet gaugeChartInstance = null\nlet trendChartInstance = null\n\n// 新增：标准化任务数据，兼容\"已完成\"状态和完成时间\nconst normalizedTasks = computed(() => {\n  if (!Array.isArray(props.tasks)) return []\n  return props.tasks.map(task => {\n    let status = task.status\n    if (status === '已完成') status = 'done'\n    // 可扩展更多映射\n    return {\n      ...task,\n      status,\n      due_date: task.due_date || task.updated_at || task.update_time || task.end_time || new Date().toISOString()\n    }\n  })\n})\n\n// 统计数据摘要\nconst reqTotal = computed(() => props.requirements?.length || 0)\nconst taskTotal = computed(() => normalizedTasks.value.length || 0)\n\n// 图表数据预处理\nconst docTrendHasData = computed(() => {\n  if (!Array.isArray(props.documents) || !props.documents.length) return false\n  return props.documents.some(doc => doc.uploaded_at || doc.created_at)\n})\n\nconst trendHasData = computed(() => {\n  if (!Array.isArray(normalizedTasks.value) || !normalizedTasks.value.length) return false\n  return normalizedTasks.value.some(task => task.completed_at || task.finish_time || task.status === 'done')\n})\n\nfunction renderCharts() {\n  // 销毁旧实例\n  if (docTrendChartInstance) docTrendChartInstance.dispose()\n  if (reqChartInstance) reqChartInstance.dispose()\n  if (gaugeChartInstance) gaugeChartInstance.dispose()\n  if (trendChartInstance) trendChartInstance.dispose()\n\n  // 文档上传趋势\n  if (docTrendChart.value) {\n    docTrendChartInstance = echarts.init(docTrendChart.value)\n    const docMonthMap = {}\n    props.documents?.forEach(doc => {\n      if (doc.uploaded_at) {\n        const month = (doc.uploaded_at + '').slice(0, 7)\n        docMonthMap[month] = (docMonthMap[month] || 0) + 1\n      }\n    })\n    const docMonths = Object.keys(docMonthMap).sort()\n    const docMonthData = docMonths.map(m => docMonthMap[m])\n    docTrendChartInstance.setOption({\n      tooltip: { trigger: 'axis' },\n      grid: { left: 40, right: 20, top: 30, bottom: 40 },\n      xAxis: {\n        type: 'category',\n        data: docMonths,\n        axisLabel: { color: '#888', fontSize: 13 },\n        name: docMonths.length ? '' : '暂无数据',\n      },\n      yAxis: {\n        type: 'value',\n        min: 0,\n        axisLabel: { color: '#888', fontSize: 13 }\n      },\n      series: [\n        {\n          name: '上传文档数', type: 'line', data: docMonthData, smooth: true,\n          itemStyle: { color: '#4F8CFF' },\n          areaStyle: { color: 'rgba(79,140,255,0.1)' },\n          symbolSize: 10\n        }\n      ]\n    })\n  }\n  // 需求优先级分布\n  if (reqChart.value) {\n    reqChartInstance = echarts.init(reqChart.value)\n    const reqPriorityMap = { 高: 0, 中: 0, 低: 0 }\n    if (Array.isArray(props.requirements)) {\n      props.requirements.forEach(req => {\n        let pri = req.priority\n        if (typeof pri === 'object' && pri !== null) pri = pri.value || pri.label || JSON.stringify(pri)\n        if (typeof pri !== 'string') pri = String(pri || '').trim()\n        if (['high', 'High', 'HIGH', '高', '1'].includes(pri)) {\n          pri = '高'\n        } else if (['medium', 'Medium', 'MEDIUM', '中', '2'].includes(pri)) {\n          pri = '中'\n        } else if (['low', 'Low', 'LOW', '低', '3'].includes(pri)) {\n          pri = '低'\n        } else {\n          // 不是高/中/低的全部跳过，不计入图表\n          return\n        }\n        reqPriorityMap[pri] = (reqPriorityMap[pri] || 0) + 1\n      })\n    }\n    reqChartInstance.setOption({\n      tooltip: { trigger: 'item' },\n      legend: { bottom: 0, textStyle: { color: '#666', fontSize: 13 } },\n      color: ['#4F8CFF', '#34C759', '#FF9500'],\n      series: [\n        {\n          name: '优先级分布', type: 'pie', radius: ['60%', '80%'],\n          data: Object.keys(reqPriorityMap).map(k => ({ value: reqPriorityMap[k], name: k })),\n          label: {\n            show: true,\n            position: 'outside',\n            fontSize: 14,\n            color: '#333',\n            formatter: '{b}: {d}%'\n          },\n          labelLine: { length: 18, length2: 10 },\n          avoidLabelOverlap: false,\n          emphasis: { itemStyle: { shadowBlur: 10, shadowOffsetX: 0, shadowColor: 'rgba(0,0,0,0.2)' } }\n        }\n      ]\n    })\n  }\n  // 需求完成率仪表盘\n  if (gaugeChart.value) {\n    gaugeChartInstance = echarts.init(gaugeChart.value)\n    let reqCompleted = 0\n    if (Array.isArray(props.requirements)) {\n      // 调试输出原始数据\n      console.log('需求原始数据:', props.requirements)\n      props.requirements.forEach(req => {\n        let status = req.status\n        if (typeof status === 'object' && status !== null) status = status.value || status.label || JSON.stringify(status)\n        if (typeof status !== 'string') status = String(status || '').trim().toLowerCase()\n        if ([\n          '已完成', '完成', 'completed', 'done', 'finished', '已关闭', 'closed', '已解决', 'resolved', '1', 'true', '是', 'success'\n        ].some(s => status.includes(s))) {\n          reqCompleted++\n        }\n      })\n    }\n    const percent = reqTotal.value ? Math.round(reqCompleted / reqTotal.value * 100) : 0\n    gaugeChartInstance.setOption({\n      series: [\n        {\n          type: 'gauge',\n          center: ['50%', '60%'],\n          radius: '90%',\n          min: 0,\n          max: 100,\n          progress: { show: true, width: 18 },\n          axisLine: { lineStyle: { width: 18, color: [[1, '#4F8CFF']] } },\n          pointer: { width: 6, length: '70%' },\n          detail: {\n            valueAnimation: true,\n            fontSize: 32,\n            color: '#4F8CFF',\n            fontWeight: 'bold',\n            offsetCenter: [0, '40%'],\n            formatter: '{value}%'\n          },\n          data: [{ value: percent, name: '完成率' }],\n          title: { fontSize: 16, color: '#888', offsetCenter: [0, '80%'] }\n        }\n      ]\n    })\n  }\n  // 任务完成趋势\n  if (trendChart.value) {\n    // 调试输出原始任务数据\n    console.log('任务原始数据:', normalizedTasks.value)\n    trendChartInstance = echarts.init(trendChart.value)\n    const monthMap = {}\n    let hasCompleted = false\n    if (Array.isArray(normalizedTasks.value)) {\n      normalizedTasks.value.forEach(task => {\n        // 仅根据 status 字段判断是否已完成\n        let status = (task.status || '').toLowerCase()\n        if ([\n          '已完成', '完成', 'done', 'finished', '已关闭', 'closed', 'success', 'true', '1'\n        ].some(s => status.includes(s))) {\n          hasCompleted = true\n          // 取 due_date 或 updated_at 作为完成时间\n          let finish = task.due_date || task.updated_at || task.update_time || task.end_time || ''\n          if (!finish) {\n            // 没有时间字段时，使用当前月\n            const now = new Date()\n            finish = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`\n          }\n          const month = (finish + '').slice(0, 7)\n          monthMap[month] = (monthMap[month] || 0) + 1\n        }\n      })\n    }\n    let months = Object.keys(monthMap).sort()\n    let monthData = months.map(m => monthMap[m])\n    // 如果有任务但都未完成，显示0\n    if (Array.isArray(normalizedTasks.value) && normalizedTasks.value.length > 0 && !hasCompleted) {\n      const now = new Date()\n      const thisMonth = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`\n      months = [thisMonth]\n      monthData = [0]\n    }\n    trendChartInstance.setOption({\n      tooltip: { trigger: 'axis' },\n      grid: { left: 40, right: 20, top: 30, bottom: 40 },\n      xAxis: {\n        type: 'category',\n        data: months,\n        axisLabel: { color: '#888', fontSize: 13 },\n        name: months.length ? '' : '暂无数据',\n      },\n      yAxis: {\n        type: 'value',\n        min: 0,\n        axisLabel: { color: '#888', fontSize: 13 }\n      },\n      series: [\n        {\n          name: '完成任务数', type: 'bar', data: monthData,\n          itemStyle: { color: '#34C759' },\n          barWidth: 32,\n          label: { show: true, position: 'top', color: '#34C759', fontSize: 16, fontWeight: 'bold' }\n        }\n      ]\n    })\n  }\n}\n\nasync function downloadAiReport() {\n  if (!props.project?.id) return\n  // 导出四个ECharts图表为base64图片\n  const getBase64 = (chartInstance) => chartInstance ? chartInstance.getDataURL({ type: 'png', pixelRatio: 2, backgroundColor: '#fff' }) : ''\n  const docTrendImg = getBase64(docTrendChartInstance)\n  const reqChartImg = getBase64(reqChartInstance)\n  const gaugeChartImg = getBase64(gaugeChartInstance)\n  const trendChartImg = getBase64(trendChartInstance)\n  // 组装数据\n  const payload = {\n    doc_trend_img: docTrendImg,\n    req_chart_img: reqChartImg,\n    gauge_chart_img: gaugeChartImg,\n    trend_chart_img: trendChartImg,\n    project_name: props.project.name || '',\n    project_id: props.project.id\n  }\n  // POST给后端，返回PDF\n  exportProjectAiReport(props.project.id, payload).then(res => {\n    const blob = new Blob([res.data], { type: 'application/pdf' })\n    const url = window.URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${props.project.name || '项目'}_AI分析报告.pdf`\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    window.URL.revokeObjectURL(url)\n  })\n}\n\nonMounted(() => {\n  nextTick(() => setTimeout(renderCharts, 300))\n})\nwatch(\n  () => [props.tasks, props.documents, props.requirements],\n  () => {\n    nextTick(() => setTimeout(renderCharts, 300))\n  },\n  { deep: true }\n)\nonBeforeUnmount(() => {\n  if (docTrendChartInstance) docTrendChartInstance.dispose()\n  if (reqChartInstance) reqChartInstance.dispose()\n  if (gaugeChartInstance) gaugeChartInstance.dispose()\n  if (trendChartInstance) trendChartInstance.dispose()\n})\n</script>\n<style scoped>\n.modern-report { background: var(--bg-color); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 24px; }\n.modern-card { background: var(--bg-color-secondary); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 18px; margin-bottom: 18px; }\n.modern-echart { width: 100%; height: 260px; min-height: 180px; }\n.chart-center-wrap { position: relative; display: flex; align-items: center; justify-content: center; min-height: 220px; }\n.chart-empty { position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); text-align: center; color: #bbb; font-size: 20px; font-weight: 500; z-index: 2; }\n.main-value { font-size: 18px; color: #222; font-weight: bold; margin-top: 10px; }\n.module-title { font-size: 1.2rem; font-weight: 700; color: var(--text-color) !important; margin: 0; }\n.text-primary { color: #4F8CFF!important; }\n.text-muted { color: #bbb!important; }\n.mb-4 { margin-bottom: 24px; }\n.row { display: flex; flex-wrap: wrap; margin-left: -12px; margin-right: -12px; }\n.col-md-6 { flex: 0 0 50%; max-width: 50%; padding-left: 12px; padding-right: 12px; box-sizing: border-box; }\n.col-md-12 { flex: 0 0 100%; max-width: 100%; padding-left: 12px; padding-right: 12px; box-sizing: border-box; }\n@media (max-width: 900px) {\n  .col-md-6, .col-md-12 { flex: 0 0 100%; max-width: 100%; }\n}\n</style> "],"mappings":"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","ignoreList":[]}]}