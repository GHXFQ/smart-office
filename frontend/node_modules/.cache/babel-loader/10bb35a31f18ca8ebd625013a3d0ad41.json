{"remainingRequest":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\views\\company\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\views\\company\\Index.vue","mtime":1746445948198},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218786}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IEVkaXQsIFBsdXMsIERlbGV0ZSwgT2ZmaWNlQnVpbGRpbmcgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmltcG9ydCB7IEVsTWVzc2FnZSwgRWxNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21wYW55JywKICBzZXR1cCgpIHsKICAgIC8vIOS8geS4muWfuuacrOS/oeaBrwogICAgY29uc3QgY29tcGFueUluZm8gPSByZWFjdGl2ZSh7CiAgICAgIGZ1bGxOYW1lOiAn56S65L6L56eR5oqA5pyJ6ZmQ5YWs5Y+4JywKICAgICAgc2hvcnROYW1lOiAn56S65L6L56eR5oqAJywKICAgICAgaW5kdXN0cnk6ICfkupLogZTnvZEgLyDova/ku7blvIDlj5EnLAogICAgICBzaXplOiAnMTAwLTUwMOS6uicsCiAgICAgIGFkZHJlc3M6ICfmn5Dmn5DluILmn5Dmn5DljLrmn5Dmn5DooZfpgZMxMjPlj7cnLAogICAgICB3ZWJzaXRlOiAnd3d3LmV4YW1wbGUuY29tJywKICAgICAgcGhvbmU6ICcwMTAtMTIzNDU2NzgnCiAgICB9KTsKCiAgICAvLyDnu4Tnu4fmnrbmnoQKICAgIGNvbnN0IG9yZ1N0cnVjdHVyZSA9IHJlZihbewogICAgICBpZDogMSwKICAgICAgbGFiZWw6ICfmgLvnu4/nkIblip7lhazlrqQnLAogICAgICBjb3VudDogNSwKICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbGFiZWw6ICfmioDmnK/pg6gnLAogICAgICAgIGNvdW50OiAzMCwKICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgIGlkOiA2LAogICAgICAgICAgbGFiZWw6ICfliY3nq6/lvIDlj5Hnu4QnLAogICAgICAgICAgY291bnQ6IDEwCiAgICAgICAgfSwgewogICAgICAgICAgaWQ6IDcsCiAgICAgICAgICBsYWJlbDogJ+WQjuerr+W8gOWPkee7hCcsCiAgICAgICAgICBjb3VudDogMTUKICAgICAgICB9LCB7CiAgICAgICAgICBpZDogOCwKICAgICAgICAgIGxhYmVsOiAn5rWL6K+V57uEJywKICAgICAgICAgIGNvdW50OiA1CiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIGlkOiAzLAogICAgICAgIGxhYmVsOiAn5biC5Zy66YOoJywKICAgICAgICBjb3VudDogMTAKICAgICAgfSwgewogICAgICAgIGlkOiA0LAogICAgICAgIGxhYmVsOiAn6ZSA5ZSu6YOoJywKICAgICAgICBjb3VudDogMTUKICAgICAgfSwgewogICAgICAgIGlkOiA1LAogICAgICAgIGxhYmVsOiAn5Lq65Yqb6LWE5rqQ6YOoJywKICAgICAgICBjb3VudDogNQogICAgICB9LCB7CiAgICAgICAgaWQ6IDksCiAgICAgICAgbGFiZWw6ICfooYzmlL/pg6gnLAogICAgICAgIGNvdW50OiA4CiAgICAgIH0sIHsKICAgICAgICBpZDogMTAsCiAgICAgICAgbGFiZWw6ICfotKLliqHpg6gnLAogICAgICAgIGNvdW50OiA3CiAgICAgIH1dCiAgICB9XSk7CiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7CiAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICBsYWJlbDogJ2xhYmVsJwogICAgfTsKCiAgICAvLyDpg6jpl6jliJfooagKICAgIGNvbnN0IGRlcGFydG1lbnRzID0gcmVmKFt7CiAgICAgIGlkOiAxLAogICAgICBuYW1lOiAn5oC757uP55CG5Yqe5YWs5a6kJywKICAgICAgbWFuYWdlcjogJ+W8oOaAuycsCiAgICAgIGNvdW50OiA1LAogICAgICBjcmVhdGVUaW1lOiAnMjAyMi0wMS0wMScKICAgIH0sIHsKICAgICAgaWQ6IDIsCiAgICAgIG5hbWU6ICfmioDmnK/pg6gnLAogICAgICBtYW5hZ2VyOiAn5p2O57uP55CGJywKICAgICAgY291bnQ6IDMwLAogICAgICBjcmVhdGVUaW1lOiAnMjAyMi0wMS0wMScKICAgIH0sIHsKICAgICAgaWQ6IDMsCiAgICAgIG5hbWU6ICfluILlnLrpg6gnLAogICAgICBtYW5hZ2VyOiAn546L57uP55CGJywKICAgICAgY291bnQ6IDEwLAogICAgICBjcmVhdGVUaW1lOiAnMjAyMi0wMS0wMScKICAgIH0sIHsKICAgICAgaWQ6IDQsCiAgICAgIG5hbWU6ICfplIDllK7pg6gnLAogICAgICBtYW5hZ2VyOiAn6LW157uP55CGJywKICAgICAgY291bnQ6IDE1LAogICAgICBjcmVhdGVUaW1lOiAnMjAyMi0wMS0wMScKICAgIH0sIHsKICAgICAgaWQ6IDUsCiAgICAgIG5hbWU6ICfkurrlipvotYTmupDpg6gnLAogICAgICBtYW5hZ2VyOiAn6ZKx57uP55CGJywKICAgICAgY291bnQ6IDUsCiAgICAgIGNyZWF0ZVRpbWU6ICcyMDIyLTAxLTAxJwogICAgfSwgewogICAgICBpZDogOSwKICAgICAgbmFtZTogJ+ihjOaUv+mDqCcsCiAgICAgIG1hbmFnZXI6ICflrZnnu4/nkIYnLAogICAgICBjb3VudDogOCwKICAgICAgY3JlYXRlVGltZTogJzIwMjItMDEtMDEnCiAgICB9LCB7CiAgICAgIGlkOiAxMCwKICAgICAgbmFtZTogJ+i0ouWKoemDqCcsCiAgICAgIG1hbmFnZXI6ICflkajnu4/nkIYnLAogICAgICBjb3VudDogNywKICAgICAgY3JlYXRlVGltZTogJzIwMjItMDEtMDEnCiAgICB9XSk7CgogICAgLy8g6YOo6Zeo6YCJ6aG5CiAgICBjb25zdCBkZXBhcnRtZW50T3B0aW9ucyA9IHJlZihbewogICAgICB2YWx1ZTogMSwKICAgICAgbGFiZWw6ICfmgLvnu4/nkIblip7lhazlrqQnLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICB2YWx1ZTogMiwKICAgICAgICBsYWJlbDogJ+aKgOacr+mDqCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAzLAogICAgICAgIGxhYmVsOiAn5biC5Zy66YOoJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDQsCiAgICAgICAgbGFiZWw6ICfplIDllK7pg6gnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogNSwKICAgICAgICBsYWJlbDogJ+S6uuWKm+i1hOa6kOmDqCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiA5LAogICAgICAgIGxhYmVsOiAn6KGM5pS/6YOoJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDEwLAogICAgICAgIGxhYmVsOiAn6LSi5Yqh6YOoJwogICAgICB9XQogICAgfV0pOwoKICAgIC8vIOS4u+euoemAiemhuQogICAgY29uc3QgbWFuYWdlcnMgPSByZWYoW3sKICAgICAgdmFsdWU6ICflvKDmgLsnLAogICAgICBsYWJlbDogJ+W8oOaAuycKICAgIH0sIHsKICAgICAgdmFsdWU6ICfmnY7nu4/nkIYnLAogICAgICBsYWJlbDogJ+adjue7j+eQhicKICAgIH0sIHsKICAgICAgdmFsdWU6ICfnjovnu4/nkIYnLAogICAgICBsYWJlbDogJ+eOi+e7j+eQhicKICAgIH0sIHsKICAgICAgdmFsdWU6ICfotbXnu4/nkIYnLAogICAgICBsYWJlbDogJ+i1tee7j+eQhicKICAgIH0sIHsKICAgICAgdmFsdWU6ICfpkrHnu4/nkIYnLAogICAgICBsYWJlbDogJ+mSsee7j+eQhicKICAgIH0sIHsKICAgICAgdmFsdWU6ICflrZnnu4/nkIYnLAogICAgICBsYWJlbDogJ+Wtmee7j+eQhicKICAgIH0sIHsKICAgICAgdmFsdWU6ICflkajnu4/nkIYnLAogICAgICBsYWJlbDogJ+WRqOe7j+eQhicKICAgIH1dKTsKCiAgICAvLyDpg6jpl6jlr7nor53moYYKICAgIGNvbnN0IGRlcGFydG1lbnREaWFsb2dWaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGlzRWRpdCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBjdXJyZW50RGVwYXJ0bWVudCA9IHJlYWN0aXZlKHsKICAgICAgaWQ6IG51bGwsCiAgICAgIG5hbWU6ICcnLAogICAgICBtYW5hZ2VyOiAnJywKICAgICAgcGFyZW50SWQ6IG51bGwsCiAgICAgIGRlc2NyaXB0aW9uOiAnJwogICAgfSk7CgogICAgLy8g57yW6L6R5LyB5Lia5L+h5oGvCiAgICBjb25zdCBlZGl0Q29tcGFueUluZm8gPSAoKSA9PiB7CiAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCfnvJbovpHkvIHkuJrkv6Hmga8nKTsKICAgIH07CgogICAgLy8g5re75Yqg6YOo6ZeoCiAgICBjb25zdCBhZGREZXBhcnRtZW50ID0gKCkgPT4gewogICAgICBpc0VkaXQudmFsdWUgPSBmYWxzZTsKICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50RGVwYXJ0bWVudCwgewogICAgICAgIGlkOiBudWxsLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG1hbmFnZXI6ICcnLAogICAgICAgIHBhcmVudElkOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJwogICAgICB9KTsKICAgICAgZGVwYXJ0bWVudERpYWxvZ1Zpc2libGUudmFsdWUgPSB0cnVlOwogICAgfTsKCiAgICAvLyDnvJbovpHpg6jpl6gKICAgIGNvbnN0IGVkaXREZXBhcnRtZW50ID0gcm93ID0+IHsKICAgICAgaXNFZGl0LnZhbHVlID0gdHJ1ZTsKICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50RGVwYXJ0bWVudCwgewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgbmFtZTogcm93Lm5hbWUsCiAgICAgICAgbWFuYWdlcjogcm93Lm1hbmFnZXIsCiAgICAgICAgcGFyZW50SWQ6IG51bGwsCiAgICAgICAgLy8g6L+Z6YeM6ZyA6KaB5qC55o2u5a6e6ZmF5pWw5o2u57uT5p6E6K6+572uCiAgICAgICAgZGVzY3JpcHRpb246ICfpg6jpl6jmj4/ov7DnpLrkvosnCiAgICAgIH0pOwogICAgICBkZXBhcnRtZW50RGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIC8vIOWIoOmZpOmDqOmXqAogICAgY29uc3QgZGVsZXRlRGVwYXJ0bWVudCA9IHJvdyA9PiB7CiAgICAgIEVsTWVzc2FnZUJveC5jb25maXJtKGDnoa7lrpropoHliKDpmaTpg6jpl6giJHtyb3cubmFtZX0i5ZCX77yfYCwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKGDliKDpmaTpg6jpl6g6ICR7cm93Lm5hbWV9YCk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH07CgogICAgLy8g5L+d5a2Y6YOo6ZeoCiAgICBjb25zdCBzYXZlRGVwYXJ0bWVudCA9ICgpID0+IHsKICAgICAgaWYgKGlzRWRpdC52YWx1ZSkgewogICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKGDmm7TmlrDpg6jpl6g6ICR7Y3VycmVudERlcGFydG1lbnQubmFtZX1gKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcyhg5paw5aKe6YOo6ZeoOiAke2N1cnJlbnREZXBhcnRtZW50Lm5hbWV9YCk7CiAgICAgIH0KICAgICAgZGVwYXJ0bWVudERpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZTsKICAgIH07CiAgICByZXR1cm4gewogICAgICBjb21wYW55SW5mbywKICAgICAgb3JnU3RydWN0dXJlLAogICAgICBkZWZhdWx0UHJvcHMsCiAgICAgIGRlcGFydG1lbnRzLAogICAgICBkZXBhcnRtZW50T3B0aW9ucywKICAgICAgbWFuYWdlcnMsCiAgICAgIGRlcGFydG1lbnREaWFsb2dWaXNpYmxlLAogICAgICBpc0VkaXQsCiAgICAgIGN1cnJlbnREZXBhcnRtZW50LAogICAgICAvLyDmlrnms5UKICAgICAgZWRpdENvbXBhbnlJbmZvLAogICAgICBhZGREZXBhcnRtZW50LAogICAgICBlZGl0RGVwYXJ0bWVudCwKICAgICAgZGVsZXRlRGVwYXJ0bWVudCwKICAgICAgc2F2ZURlcGFydG1lbnQsCiAgICAgIC8vIOWbvuaghwogICAgICBFZGl0LAogICAgICBQbHVzLAogICAgICBEZWxldGUsCiAgICAgIE9mZmljZTogT2ZmaWNlQnVpbGRpbmcKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["ref","reactive","Edit","Plus","Delete","OfficeBuilding","ElMessage","ElMessageBox","name","setup","companyInfo","fullName","shortName","industry","size","address","website","phone","orgStructure","id","label","count","children","defaultProps","departments","manager","createTime","departmentOptions","value","managers","departmentDialogVisible","isEdit","currentDepartment","parentId","description","editCompanyInfo","success","addDepartment","Object","assign","editDepartment","row","deleteDepartment","confirm","confirmButtonText","cancelButtonText","type","then","catch","saveDepartment","Office"],"sources":["C:\\Users\\18083\\Desktop\\新建文件夹 (3)\\smart-office\\frontend\\src\\views\\company\\Index.vue"],"sourcesContent":["<template>\r\n  <div class=\"company-container\">\r\n    <!-- 企业基本信息 -->\r\n    <el-card class=\"info-card\">\r\n      <template #header>\r\n        <div class=\"card-header-flex\">\r\n          <span>企业基本信息</span>\r\n          <el-button type=\"primary\" size=\"small\" plain @click=\"editCompanyInfo\">\r\n            <el-icon class=\"mr-5\"><Edit /></el-icon> 编辑\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n      \r\n      <div class=\"company-info\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6 info-item\">\r\n            <span class=\"info-label\">公司全称:</span>\r\n            <span class=\"info-value\">{{ companyInfo.fullName }}</span>\r\n          </div>\r\n          <div class=\"col-md-6 info-item\">\r\n            <span class=\"info-label\">简称:</span>\r\n            <span class=\"info-value\">{{ companyInfo.shortName }}</span>\r\n          </div>\r\n          <div class=\"col-md-6 info-item\">\r\n            <span class=\"info-label\">所属行业:</span>\r\n            <span class=\"info-value\">{{ companyInfo.industry }}</span>\r\n          </div>\r\n          <div class=\"col-md-6 info-item\">\r\n            <span class=\"info-label\">公司规模:</span>\r\n            <span class=\"info-value\">{{ companyInfo.size }}</span>\r\n          </div>\r\n          <div class=\"col-md-12 info-item\">\r\n            <span class=\"info-label\">公司地址:</span>\r\n            <span class=\"info-value\">{{ companyInfo.address }}</span>\r\n          </div>\r\n          <div class=\"col-md-6 info-item\">\r\n            <span class=\"info-label\">官方网站:</span>\r\n            <span class=\"info-value\">\r\n              <a :href=\"companyInfo.website\" target=\"_blank\">{{ companyInfo.website }}</a>\r\n            </span>\r\n          </div>\r\n          <div class=\"col-md-6 info-item\">\r\n            <span class=\"info-label\">联系电话:</span>\r\n            <span class=\"info-value\">{{ companyInfo.phone }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <div class=\"row mt-20\">\r\n      <!-- 组织架构 -->\r\n      <div class=\"col-md-6\">\r\n        <el-card class=\"org-card\">\r\n          <template #header>\r\n            <div class=\"card-header-flex\">\r\n              <span>组织架构</span>\r\n            </div>\r\n          </template>\r\n          \r\n          <div class=\"org-chart\">\r\n            <el-tree\r\n              :data=\"orgStructure\"\r\n              :props=\"defaultProps\"\r\n              node-key=\"id\"\r\n              default-expand-all\r\n            >\r\n              <template #default=\"{ node, data }\">\r\n                <span class=\"org-node\">\r\n                  <el-icon class=\"mr-5\"><OfficeBuilding /></el-icon>\r\n                  {{ node.label }}\r\n                  <span class=\"org-count\">({{ data.count }}人)</span>\r\n                </span>\r\n              </template>\r\n            </el-tree>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n      \r\n      <!-- 部门管理 -->\r\n      <div class=\"col-md-6\">\r\n        <el-card class=\"department-card\">\r\n          <template #header>\r\n            <div class=\"card-header-flex\">\r\n              <span>部门管理</span>\r\n              <el-button type=\"primary\" size=\"small\" @click=\"addDepartment\">\r\n                <el-icon class=\"mr-5\"><Plus /></el-icon> 新增部门\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n          \r\n          <el-table :data=\"departments\" style=\"width: 100%\">\r\n            <el-table-column prop=\"name\" label=\"部门名称\" />\r\n            <el-table-column prop=\"manager\" label=\"部门主管\" />\r\n            <el-table-column prop=\"count\" label=\"人数\" width=\"80\" align=\"center\" />\r\n            <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\" />\r\n            <el-table-column label=\"操作\" width=\"120\" align=\"center\">\r\n              <template #default=\"scope\">\r\n                <el-button \r\n                  type=\"primary\" \r\n                  size=\"small\" \r\n                  circle\r\n                  @click=\"editDepartment(scope.row)\"\r\n                >\r\n                  <el-icon><Edit /></el-icon>\r\n                </el-button>\r\n                <el-button \r\n                  type=\"danger\" \r\n                  size=\"small\" \r\n                  circle\r\n                  @click=\"deleteDepartment(scope.row)\"\r\n                >\r\n                  <el-icon><Delete /></el-icon>\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 编辑部门对话框 -->\r\n    <el-dialog\r\n      v-model=\"departmentDialogVisible\"\r\n      :title=\"isEdit ? '编辑部门' : '新增部门'\"\r\n      width=\"500px\"\r\n    >\r\n      <el-form :model=\"currentDepartment\" label-width=\"100px\">\r\n        <el-form-item label=\"部门名称\">\r\n          <el-input v-model=\"currentDepartment.name\" placeholder=\"请输入部门名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"部门主管\">\r\n          <el-select v-model=\"currentDepartment.manager\" placeholder=\"请选择部门主管\" style=\"width: 100%\">\r\n            <el-option\r\n              v-for=\"item in managers\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"上级部门\">\r\n          <el-cascader\r\n            v-model=\"currentDepartment.parentId\"\r\n            :options=\"departmentOptions\"\r\n            :props=\"{ checkStrictly: true }\"\r\n            clearable\r\n            placeholder=\"请选择上级部门\"\r\n            style=\"width: 100%\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"部门描述\">\r\n          <el-input\r\n            v-model=\"currentDepartment.description\"\r\n            type=\"textarea\"\r\n            :rows=\"3\"\r\n            placeholder=\"请输入部门描述\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"departmentDialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"saveDepartment\">确定</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { Edit, Plus, Delete, OfficeBuilding } from '@element-plus/icons-vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'Company',\r\n  setup() {\r\n    // 企业基本信息\r\n    const companyInfo = reactive({\r\n      fullName: '示例科技有限公司',\r\n      shortName: '示例科技',\r\n      industry: '互联网 / 软件开发',\r\n      size: '100-500人',\r\n      address: '某某市某某区某某街道123号',\r\n      website: 'www.example.com',\r\n      phone: '010-12345678'\r\n    })\r\n    \r\n    // 组织架构\r\n    const orgStructure = ref([\r\n      {\r\n        id: 1,\r\n        label: '总经理办公室',\r\n        count: 5,\r\n        children: [\r\n          {\r\n            id: 2,\r\n            label: '技术部',\r\n            count: 30,\r\n            children: [\r\n              { id: 6, label: '前端开发组', count: 10 },\r\n              { id: 7, label: '后端开发组', count: 15 },\r\n              { id: 8, label: '测试组', count: 5 }\r\n            ]\r\n          },\r\n          { id: 3, label: '市场部', count: 10 },\r\n          { id: 4, label: '销售部', count: 15 },\r\n          { id: 5, label: '人力资源部', count: 5 },\r\n          { id: 9, label: '行政部', count: 8 },\r\n          { id: 10, label: '财务部', count: 7 }\r\n        ]\r\n      }\r\n    ])\r\n    \r\n    const defaultProps = {\r\n      children: 'children',\r\n      label: 'label'\r\n    }\r\n    \r\n    // 部门列表\r\n    const departments = ref([\r\n      {\r\n        id: 1,\r\n        name: '总经理办公室',\r\n        manager: '张总',\r\n        count: 5,\r\n        createTime: '2022-01-01'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: '技术部',\r\n        manager: '李经理',\r\n        count: 30,\r\n        createTime: '2022-01-01'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: '市场部',\r\n        manager: '王经理',\r\n        count: 10,\r\n        createTime: '2022-01-01'\r\n      },\r\n      {\r\n        id: 4,\r\n        name: '销售部',\r\n        manager: '赵经理',\r\n        count: 15,\r\n        createTime: '2022-01-01'\r\n      },\r\n      {\r\n        id: 5,\r\n        name: '人力资源部',\r\n        manager: '钱经理',\r\n        count: 5,\r\n        createTime: '2022-01-01'\r\n      },\r\n      {\r\n        id: 9,\r\n        name: '行政部',\r\n        manager: '孙经理',\r\n        count: 8,\r\n        createTime: '2022-01-01'\r\n      },\r\n      {\r\n        id: 10,\r\n        name: '财务部',\r\n        manager: '周经理',\r\n        count: 7,\r\n        createTime: '2022-01-01'\r\n      }\r\n    ])\r\n    \r\n    // 部门选项\r\n    const departmentOptions = ref([\r\n      {\r\n        value: 1,\r\n        label: '总经理办公室',\r\n        children: [\r\n          { value: 2, label: '技术部' },\r\n          { value: 3, label: '市场部' },\r\n          { value: 4, label: '销售部' },\r\n          { value: 5, label: '人力资源部' },\r\n          { value: 9, label: '行政部' },\r\n          { value: 10, label: '财务部' }\r\n        ]\r\n      }\r\n    ])\r\n    \r\n    // 主管选项\r\n    const managers = ref([\r\n      { value: '张总', label: '张总' },\r\n      { value: '李经理', label: '李经理' },\r\n      { value: '王经理', label: '王经理' },\r\n      { value: '赵经理', label: '赵经理' },\r\n      { value: '钱经理', label: '钱经理' },\r\n      { value: '孙经理', label: '孙经理' },\r\n      { value: '周经理', label: '周经理' }\r\n    ])\r\n    \r\n    // 部门对话框\r\n    const departmentDialogVisible = ref(false)\r\n    const isEdit = ref(false)\r\n    const currentDepartment = reactive({\r\n      id: null,\r\n      name: '',\r\n      manager: '',\r\n      parentId: null,\r\n      description: ''\r\n    })\r\n    \r\n    // 编辑企业信息\r\n    const editCompanyInfo = () => {\r\n      ElMessage.success('编辑企业信息')\r\n    }\r\n    \r\n    // 添加部门\r\n    const addDepartment = () => {\r\n      isEdit.value = false\r\n      Object.assign(currentDepartment, {\r\n        id: null,\r\n        name: '',\r\n        manager: '',\r\n        parentId: null,\r\n        description: ''\r\n      })\r\n      departmentDialogVisible.value = true\r\n    }\r\n    \r\n    // 编辑部门\r\n    const editDepartment = (row) => {\r\n      isEdit.value = true\r\n      Object.assign(currentDepartment, {\r\n        id: row.id,\r\n        name: row.name,\r\n        manager: row.manager,\r\n        parentId: null, // 这里需要根据实际数据结构设置\r\n        description: '部门描述示例'\r\n      })\r\n      departmentDialogVisible.value = true\r\n    }\r\n    \r\n    // 删除部门\r\n    const deleteDepartment = (row) => {\r\n      ElMessageBox.confirm(\r\n        `确定要删除部门\"${row.name}\"吗？`,\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).then(() => {\r\n        ElMessage.success(`删除部门: ${row.name}`)\r\n      }).catch(() => {})\r\n    }\r\n    \r\n    // 保存部门\r\n    const saveDepartment = () => {\r\n      if (isEdit.value) {\r\n        ElMessage.success(`更新部门: ${currentDepartment.name}`)\r\n      } else {\r\n        ElMessage.success(`新增部门: ${currentDepartment.name}`)\r\n      }\r\n      departmentDialogVisible.value = false\r\n    }\r\n    \r\n    return {\r\n      companyInfo,\r\n      orgStructure,\r\n      defaultProps,\r\n      departments,\r\n      departmentOptions,\r\n      managers,\r\n      departmentDialogVisible,\r\n      isEdit,\r\n      currentDepartment,\r\n      // 方法\r\n      editCompanyInfo,\r\n      addDepartment,\r\n      editDepartment,\r\n      deleteDepartment,\r\n      saveDepartment,\r\n      // 图标\r\n      Edit,\r\n      Plus,\r\n      Delete,\r\n      Office: OfficeBuilding\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.company-container {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.mt-20 {\r\n  margin-top: 20px;\r\n}\r\n\r\n.info-card,\r\n.org-card,\r\n.department-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.info-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.info-label {\r\n  font-weight: 500;\r\n  color: #606266;\r\n  width: 100px;\r\n  display: inline-block;\r\n}\r\n\r\n.info-value {\r\n  color: #303133;\r\n}\r\n\r\n.org-chart {\r\n  min-height: 300px;\r\n}\r\n\r\n.org-node {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.org-count {\r\n  margin-left: 8px;\r\n  font-size: 12px;\r\n  color: #909399;\r\n}\r\n\r\n.mr-5 {\r\n  margin-right: 5px;\r\n}\r\n</style> "],"mappings":"AA0KA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,cAAa,QAAS,yBAAwB;AAC3E,SAASC,SAAS,EAAEC,YAAW,QAAS,cAAa;AAErD,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,KAAKA,CAAA,EAAG;IACN;IACA,MAAMC,WAAU,GAAIT,QAAQ,CAAC;MAC3BU,QAAQ,EAAE,UAAU;MACpBC,SAAS,EAAE,MAAM;MACjBC,QAAQ,EAAE,YAAY;MACtBC,IAAI,EAAE,UAAU;MAChBC,OAAO,EAAE,gBAAgB;MACzBC,OAAO,EAAE,iBAAiB;MAC1BC,KAAK,EAAE;IACT,CAAC;;IAED;IACA,MAAMC,YAAW,GAAIlB,GAAG,CAAC,CACvB;MACEmB,EAAE,EAAE,CAAC;MACLC,KAAK,EAAE,QAAQ;MACfC,KAAK,EAAE,CAAC;MACRC,QAAQ,EAAE,CACR;QACEH,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,KAAK;QACZC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,CACR;UAAEH,EAAE,EAAE,CAAC;UAAEC,KAAK,EAAE,OAAO;UAAEC,KAAK,EAAE;QAAG,CAAC,EACpC;UAAEF,EAAE,EAAE,CAAC;UAAEC,KAAK,EAAE,OAAO;UAAEC,KAAK,EAAE;QAAG,CAAC,EACpC;UAAEF,EAAE,EAAE,CAAC;UAAEC,KAAK,EAAE,KAAK;UAAEC,KAAK,EAAE;QAAE;MAEpC,CAAC,EACD;QAAEF,EAAE,EAAE,CAAC;QAAEC,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAG,CAAC,EAClC;QAAEF,EAAE,EAAE,CAAC;QAAEC,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAG,CAAC,EAClC;QAAEF,EAAE,EAAE,CAAC;QAAEC,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAE,CAAC,EACnC;QAAEF,EAAE,EAAE,CAAC;QAAEC,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAE,CAAC,EACjC;QAAEF,EAAE,EAAE,EAAE;QAAEC,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAE;IAErC,EACD;IAED,MAAME,YAAW,GAAI;MACnBD,QAAQ,EAAE,UAAU;MACpBF,KAAK,EAAE;IACT;;IAEA;IACA,MAAMI,WAAU,GAAIxB,GAAG,CAAC,CACtB;MACEmB,EAAE,EAAE,CAAC;MACLX,IAAI,EAAE,QAAQ;MACdiB,OAAO,EAAE,IAAI;MACbJ,KAAK,EAAE,CAAC;MACRK,UAAU,EAAE;IACd,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLX,IAAI,EAAE,KAAK;MACXiB,OAAO,EAAE,KAAK;MACdJ,KAAK,EAAE,EAAE;MACTK,UAAU,EAAE;IACd,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLX,IAAI,EAAE,KAAK;MACXiB,OAAO,EAAE,KAAK;MACdJ,KAAK,EAAE,EAAE;MACTK,UAAU,EAAE;IACd,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLX,IAAI,EAAE,KAAK;MACXiB,OAAO,EAAE,KAAK;MACdJ,KAAK,EAAE,EAAE;MACTK,UAAU,EAAE;IACd,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLX,IAAI,EAAE,OAAO;MACbiB,OAAO,EAAE,KAAK;MACdJ,KAAK,EAAE,CAAC;MACRK,UAAU,EAAE;IACd,CAAC,EACD;MACEP,EAAE,EAAE,CAAC;MACLX,IAAI,EAAE,KAAK;MACXiB,OAAO,EAAE,KAAK;MACdJ,KAAK,EAAE,CAAC;MACRK,UAAU,EAAE;IACd,CAAC,EACD;MACEP,EAAE,EAAE,EAAE;MACNX,IAAI,EAAE,KAAK;MACXiB,OAAO,EAAE,KAAK;MACdJ,KAAK,EAAE,CAAC;MACRK,UAAU,EAAE;IACd,EACD;;IAED;IACA,MAAMC,iBAAgB,GAAI3B,GAAG,CAAC,CAC5B;MACE4B,KAAK,EAAE,CAAC;MACRR,KAAK,EAAE,QAAQ;MACfE,QAAQ,EAAE,CACR;QAAEM,KAAK,EAAE,CAAC;QAAER,KAAK,EAAE;MAAM,CAAC,EAC1B;QAAEQ,KAAK,EAAE,CAAC;QAAER,KAAK,EAAE;MAAM,CAAC,EAC1B;QAAEQ,KAAK,EAAE,CAAC;QAAER,KAAK,EAAE;MAAM,CAAC,EAC1B;QAAEQ,KAAK,EAAE,CAAC;QAAER,KAAK,EAAE;MAAQ,CAAC,EAC5B;QAAEQ,KAAK,EAAE,CAAC;QAAER,KAAK,EAAE;MAAM,CAAC,EAC1B;QAAEQ,KAAK,EAAE,EAAE;QAAER,KAAK,EAAE;MAAM;IAE9B,EACD;;IAED;IACA,MAAMS,QAAO,GAAI7B,GAAG,CAAC,CACnB;MAAE4B,KAAK,EAAE,IAAI;MAAER,KAAK,EAAE;IAAK,CAAC,EAC5B;MAAEQ,KAAK,EAAE,KAAK;MAAER,KAAK,EAAE;IAAM,CAAC,EAC9B;MAAEQ,KAAK,EAAE,KAAK;MAAER,KAAK,EAAE;IAAM,CAAC,EAC9B;MAAEQ,KAAK,EAAE,KAAK;MAAER,KAAK,EAAE;IAAM,CAAC,EAC9B;MAAEQ,KAAK,EAAE,KAAK;MAAER,KAAK,EAAE;IAAM,CAAC,EAC9B;MAAEQ,KAAK,EAAE,KAAK;MAAER,KAAK,EAAE;IAAM,CAAC,EAC9B;MAAEQ,KAAK,EAAE,KAAK;MAAER,KAAK,EAAE;IAAM,EAC9B;;IAED;IACA,MAAMU,uBAAsB,GAAI9B,GAAG,CAAC,KAAK;IACzC,MAAM+B,MAAK,GAAI/B,GAAG,CAAC,KAAK;IACxB,MAAMgC,iBAAgB,GAAI/B,QAAQ,CAAC;MACjCkB,EAAE,EAAE,IAAI;MACRX,IAAI,EAAE,EAAE;MACRiB,OAAO,EAAE,EAAE;MACXQ,QAAQ,EAAE,IAAI;MACdC,WAAW,EAAE;IACf,CAAC;;IAED;IACA,MAAMC,eAAc,GAAIA,CAAA,KAAM;MAC5B7B,SAAS,CAAC8B,OAAO,CAAC,QAAQ;IAC5B;;IAEA;IACA,MAAMC,aAAY,GAAIA,CAAA,KAAM;MAC1BN,MAAM,CAACH,KAAI,GAAI,KAAI;MACnBU,MAAM,CAACC,MAAM,CAACP,iBAAiB,EAAE;QAC/Bb,EAAE,EAAE,IAAI;QACRX,IAAI,EAAE,EAAE;QACRiB,OAAO,EAAE,EAAE;QACXQ,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE;MACf,CAAC;MACDJ,uBAAuB,CAACF,KAAI,GAAI,IAAG;IACrC;;IAEA;IACA,MAAMY,cAAa,GAAKC,GAAG,IAAK;MAC9BV,MAAM,CAACH,KAAI,GAAI,IAAG;MAClBU,MAAM,CAACC,MAAM,CAACP,iBAAiB,EAAE;QAC/Bb,EAAE,EAAEsB,GAAG,CAACtB,EAAE;QACVX,IAAI,EAAEiC,GAAG,CAACjC,IAAI;QACdiB,OAAO,EAAEgB,GAAG,CAAChB,OAAO;QACpBQ,QAAQ,EAAE,IAAI;QAAE;QAChBC,WAAW,EAAE;MACf,CAAC;MACDJ,uBAAuB,CAACF,KAAI,GAAI,IAAG;IACrC;;IAEA;IACA,MAAMc,gBAAe,GAAKD,GAAG,IAAK;MAChClC,YAAY,CAACoC,OAAO,CAClB,WAAWF,GAAG,CAACjC,IAAI,KAAK,EACxB,IAAI,EACJ;QACEoC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,IAAI;QACtBC,IAAI,EAAE;MACR,CACF,CAAC,CAACC,IAAI,CAAC,MAAM;QACXzC,SAAS,CAAC8B,OAAO,CAAC,SAASK,GAAG,CAACjC,IAAI,EAAE;MACvC,CAAC,CAAC,CAACwC,KAAK,CAAC,MAAM,CAAC,CAAC;IACnB;;IAEA;IACA,MAAMC,cAAa,GAAIA,CAAA,KAAM;MAC3B,IAAIlB,MAAM,CAACH,KAAK,EAAE;QAChBtB,SAAS,CAAC8B,OAAO,CAAC,SAASJ,iBAAiB,CAACxB,IAAI,EAAE;MACrD,OAAO;QACLF,SAAS,CAAC8B,OAAO,CAAC,SAASJ,iBAAiB,CAACxB,IAAI,EAAE;MACrD;MACAsB,uBAAuB,CAACF,KAAI,GAAI,KAAI;IACtC;IAEA,OAAO;MACLlB,WAAW;MACXQ,YAAY;MACZK,YAAY;MACZC,WAAW;MACXG,iBAAiB;MACjBE,QAAQ;MACRC,uBAAuB;MACvBC,MAAM;MACNC,iBAAiB;MACjB;MACAG,eAAe;MACfE,aAAa;MACbG,cAAc;MACdE,gBAAgB;MAChBO,cAAc;MACd;MACA/C,IAAI;MACJC,IAAI;MACJC,MAAM;MACN8C,MAAM,EAAE7C;IACV;EACF;AACF","ignoreList":[]}]}