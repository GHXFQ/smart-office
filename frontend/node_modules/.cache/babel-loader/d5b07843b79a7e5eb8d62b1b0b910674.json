{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\Index.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\Index.vue","mtime":1748149854152},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBTZWFyY2gsIFByb21vdGlvbiwgR3JpZCwgTGlzdCwgRG9jdW1lbnQsIExpZ2h0bmluZywgRGF0YUFuYWx5c2lzIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwppbXBvcnQgRGFzaGJvYXJkVmlldyBmcm9tICcuL2NvbXBvbmVudHMvRGFzaGJvYXJkVmlldy52dWUnOwppbXBvcnQgVGFza3NWaWV3IGZyb20gJy4vY29tcG9uZW50cy9UYXNrc1ZpZXcudnVlJzsKaW1wb3J0IERvY3VtZW50c1ZpZXcgZnJvbSAnLi9jb21wb25lbnRzL0RvY3VtZW50c1ZpZXcudnVlJzsKaW1wb3J0IFJlcXVpcmVtZW50c1ZpZXcgZnJvbSAnLi9jb21wb25lbnRzL1JlcXVpcmVtZW50c1ZpZXcudnVlJzsKaW1wb3J0IFJlcG9ydHNWaWV3IGZyb20gJy4vY29tcG9uZW50cy9SZXBvcnRzVmlldy52dWUnOwppbXBvcnQgdXNlckFwaSBmcm9tICdAL2FwaS91c2VyJzsKZXhwb3J0IGRlZmF1bHQgewogIF9fbmFtZTogJ0luZGV4JywKICBzZXR1cChfX3Byb3BzLCB7CiAgICBleHBvc2U6IF9fZXhwb3NlCiAgfSkgewogICAgX19leHBvc2UoKTsKICAgIGNvbnN0IG5hdkl0ZW1zID0gW3sKICAgICAgbGFiZWw6ICflt6XkvZzlj7AnLAogICAgICB2aWV3OiAnZGFzaGJvYXJkJywKICAgICAgaWNvbjogR3JpZAogICAgfSwgewogICAgICBsYWJlbDogJ+S7u+WKoeeuoeeQhicsCiAgICAgIHZpZXc6ICd0YXNrcycsCiAgICAgIGljb246IExpc3QKICAgIH0sIHsKICAgICAgbGFiZWw6ICfmlofmoaPnrqHnkIYnLAogICAgICB2aWV3OiAnZG9jdW1lbnRzJywKICAgICAgaWNvbjogRG9jdW1lbnQKICAgIH0sIHsKICAgICAgbGFiZWw6ICfpnIDmsYLnrqHnkIYnLAogICAgICB2aWV3OiAncmVxdWlyZW1lbnRzJywKICAgICAgaWNvbjogTGlnaHRuaW5nCiAgICB9LCB7CiAgICAgIGxhYmVsOiAn6aG555uu5oql6KGoJywKICAgICAgdmlldzogJ3JlcG9ydHMnLAogICAgICBpY29uOiBEYXRhQW5hbHlzaXMKICAgIH1dOwogICAgY29uc3QgYWN0aXZlVmlldyA9IHJlZignZGFzaGJvYXJkJyk7CiAgICBjb25zdCBzZWFyY2ggPSByZWYoJycpOwogICAgY29uc3QgYWlQYW5lbCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBhaUlucHV0ID0gcmVmKCcnKTsKICAgIGNvbnN0IGhhc0RlcGFydG1lbnQgPSByZWYodHJ1ZSk7CiAgICBvbk1vdW50ZWQoYXN5bmMgKCkgPT4gewogICAgICBjb25zdCB1c2VyUmVzID0gYXdhaXQgdXNlckFwaS5nZXRVc2VyUHJvZmlsZSgpOwogICAgICBpZiAodXNlclJlcyAmJiB1c2VyUmVzLnN1Y2Nlc3MgJiYgdXNlclJlcy5kYXRhKSB7CiAgICAgICAgaWYgKCF1c2VyUmVzLmRhdGEuZGVwYXJ0bWVudCkgewogICAgICAgICAgaGFzRGVwYXJ0bWVudC52YWx1ZSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoYXNEZXBhcnRtZW50LnZhbHVlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGFzRGVwYXJ0bWVudC52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICB9KTsKICAgIGZ1bmN0aW9uIHNlbmRBSU1lc3NhZ2UoKSB7CiAgICAgIGFpSW5wdXQudmFsdWUgPSAnJzsKICAgIH0KICAgIGNvbnN0IF9fcmV0dXJuZWRfXyA9IHsKICAgICAgbmF2SXRlbXMsCiAgICAgIGFjdGl2ZVZpZXcsCiAgICAgIHNlYXJjaCwKICAgICAgYWlQYW5lbCwKICAgICAgYWlJbnB1dCwKICAgICAgaGFzRGVwYXJ0bWVudCwKICAgICAgc2VuZEFJTWVzc2FnZSwKICAgICAgcmVmLAogICAgICBvbk1vdW50ZWQsCiAgICAgIGdldCBTZWFyY2goKSB7CiAgICAgICAgcmV0dXJuIFNlYXJjaDsKICAgICAgfSwKICAgICAgZ2V0IFByb21vdGlvbigpIHsKICAgICAgICByZXR1cm4gUHJvbW90aW9uOwogICAgICB9LAogICAgICBnZXQgR3JpZCgpIHsKICAgICAgICByZXR1cm4gR3JpZDsKICAgICAgfSwKICAgICAgZ2V0IExpc3QoKSB7CiAgICAgICAgcmV0dXJuIExpc3Q7CiAgICAgIH0sCiAgICAgIGdldCBEb2N1bWVudCgpIHsKICAgICAgICByZXR1cm4gRG9jdW1lbnQ7CiAgICAgIH0sCiAgICAgIGdldCBMaWdodG5pbmcoKSB7CiAgICAgICAgcmV0dXJuIExpZ2h0bmluZzsKICAgICAgfSwKICAgICAgZ2V0IERhdGFBbmFseXNpcygpIHsKICAgICAgICByZXR1cm4gRGF0YUFuYWx5c2lzOwogICAgICB9LAogICAgICBEYXNoYm9hcmRWaWV3LAogICAgICBUYXNrc1ZpZXcsCiAgICAgIERvY3VtZW50c1ZpZXcsCiAgICAgIFJlcXVpcmVtZW50c1ZpZXcsCiAgICAgIFJlcG9ydHNWaWV3LAogICAgICBnZXQgdXNlckFwaSgpIHsKICAgICAgICByZXR1cm4gdXNlckFwaTsKICAgICAgfQogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfTs="},{"version":3,"names":["ref","onMounted","Search","Promotion","Grid","List","Document","Lightning","DataAnalysis","DashboardView","TasksView","DocumentsView","RequirementsView","ReportsView","userApi","navItems","label","view","icon","activeView","search","aiPanel","aiInput","hasDepartment","userRes","getUserProfile","success","data","department","value","sendAIMessage"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/Index.vue"],"sourcesContent":["<template>\n  <div v-if=\"hasDepartment\" class=\"main-container\">\n    <!-- 左侧导航栏 -->\n    <div class=\"sidebar\">\n      <h4 class=\"mb-4\">项目管理</h4>\n      <nav class=\"nav flex-column\">\n        <a v-for=\"item in navItems\" :key=\"item.name\" class=\"nav-link\" :class=\"{active: activeView === item.view}\" href=\"#\" @click.prevent=\"activeView = item.view\">\n          <el-icon :size=\"18\"><component :is=\"item.icon\" /></el-icon>\n          {{ item.label }}\n        </a>\n      </nav>\n    </div>\n    <!-- 右侧内容区 -->\n    <div class=\"content-area\">\n      <!-- 搜索栏 -->\n      <div class=\"search-bar\">\n        <el-icon><Search /></el-icon>\n        <el-input v-model=\"search\" placeholder=\"搜索项目、任务、文档...\" clearable />\n      </div>\n      <!-- 内容模块 -->\n      <div v-if=\"activeView === 'dashboard'\">\n        <DashboardView />\n      </div>\n      <div v-else-if=\"activeView === 'tasks'\">\n        <TasksView />\n      </div>\n      <div v-else-if=\"activeView === 'documents'\">\n        <DocumentsView />\n      </div>\n      <div v-else-if=\"activeView === 'requirements'\">\n        <RequirementsView />\n      </div>\n      <div v-else-if=\"activeView === 'reports'\">\n        <ReportsView />\n      </div>\n    </div>\n    <!-- AI助手浮动按钮 -->\n    <div class=\"ai-assistant\">\n      <div class=\"ai-assistant-btn\" @click=\"aiPanel = !aiPanel\">\n        <el-icon><Promotion /></el-icon>\n      </div>\n      <el-drawer v-model=\"aiPanel\" direction=\"btt\" size=\"350px\" :with-header=\"false\" class=\"ai-assistant-panel\">\n        <div class=\"ai-assistant-header\">\n          <span>AI助手</span>\n          <el-button icon=\"Close\" circle size=\"small\" @click=\"aiPanel = false\" />\n        </div>\n        <div class=\"ai-assistant-body\">\n          <div class=\"ai-message\">\n            <div class=\"ai-message-content\">\n              您好！我是您的AI助手，我可以帮您：\n              <ul>\n                <li>分析项目进度和风险</li>\n                <li>提供任务优化建议</li>\n                <li>生成项目报告</li>\n                <li>回答项目相关问题</li>\n              </ul>\n              请问有什么可以帮您？\n            </div>\n          </div>\n        </div>\n        <div class=\"ai-assistant-footer\">\n          <el-input v-model=\"aiInput\" placeholder=\"输入您的问题...\" @keyup.enter=\"sendAIMessage\" />\n          <el-button type=\"primary\" icon=\"Promotion\" @click=\"sendAIMessage\" />\n        </div>\n      </el-drawer>\n    </div>\n  </div>\n  <div v-else style=\"padding: 60px; text-align: center; color: #888; font-size: 20px;\">\n    您未分配部门，无法访问项目管理功能，请联系管理员。\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { Search, Promotion, Grid, List, Document, Lightning, DataAnalysis } from '@element-plus/icons-vue'\nimport DashboardView from './components/DashboardView.vue'\nimport TasksView from './components/TasksView.vue'\nimport DocumentsView from './components/DocumentsView.vue'\nimport RequirementsView from './components/RequirementsView.vue'\nimport ReportsView from './components/ReportsView.vue'\nimport userApi from '@/api/user'\n\nconst navItems = [\n  { label: '工作台', view: 'dashboard', icon: Grid },\n  { label: '任务管理', view: 'tasks', icon: List },\n  { label: '文档管理', view: 'documents', icon: Document },\n  { label: '需求管理', view: 'requirements', icon: Lightning },\n  { label: '项目报表', view: 'reports', icon: DataAnalysis }\n]\nconst activeView = ref('dashboard')\nconst search = ref('')\nconst aiPanel = ref(false)\nconst aiInput = ref('')\nconst hasDepartment = ref(true)\n\nonMounted(async () => {\n  const userRes = await userApi.getUserProfile()\n  if (userRes && userRes.success && userRes.data) {\n    if (!userRes.data.department) {\n      hasDepartment.value = false\n    } else {\n      hasDepartment.value = true\n    }\n  } else {\n    hasDepartment.value = false\n  }\n})\n\nfunction sendAIMessage() {\n  aiInput.value = ''\n}\n</script>\n\n<style scoped>\n.main-container {\n  display: flex;\n  flex-direction: row;\n  min-height: 100vh;\n  background: #f5f7fa;\n  margin-top: 0 !important;\n  padding-top: 0 !important;\n}\n.sidebar {\n  width: 250px;\n  background: #fff;\n  border-right: 1px solid #e9ecef;\n  padding: 20px;\n  flex-shrink: 0;\n}\n.nav-link {\n  color: #495057;\n  padding: 10px 15px;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  transition: all 0.3s;\n}\n.nav-link.active, .nav-link:hover {\n  background: #e9ecef;\n  color: #0d6efd;\n}\n.nav-link .el-icon {\n  margin-right: 10px;\n}\n.content-area {\n  flex: 1;\n  padding: 30px 40px;\n  min-width: 0;\n  margin-top: 0 !important;\n  padding-top: 0 !important;\n}\n.search-bar {\n  position: relative;\n  margin-bottom: 24px;\n  display: flex;\n  align-items: center;\n}\n.search-bar .el-icon {\n  position: absolute;\n  left: 16px;\n  color: #6c757d;\n  z-index: 1;\n}\n.search-bar .el-input {\n  padding-left: 36px;\n  width: 350px;\n}\n.ai-assistant {\n  position: fixed;\n  bottom: 30px;\n  right: 30px;\n  z-index: 1000;\n}\n.ai-assistant-btn {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: #0d6efd;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n  font-size: 28px;\n  transition: all 0.3s;\n}\n.ai-assistant-btn:hover {\n  transform: scale(1.1);\n}\n.ai-assistant-panel {\n  border-radius: 10px 10px 0 0;\n  box-shadow: 0 2px 20px rgba(0,0,0,0.1);\n  background: #fff;\n}\n.ai-assistant-header {\n  padding: 15px;\n  border-bottom: 1px solid #e9ecef;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n}\n.ai-assistant-body {\n  padding: 15px;\n  max-height: 300px;\n  overflow-y: auto;\n}\n.ai-message {\n  margin-bottom: 15px;\n  display: flex;\n  align-items: flex-start;\n}\n.ai-message-content {\n  background: #f8f9fa;\n  padding: 10px;\n  border-radius: 10px;\n  margin-left: 10px;\n  max-width: 80%;\n  font-size: 14px;\n}\n.ai-assistant-footer {\n  padding: 15px;\n  border-top: 1px solid #e9ecef;\n  display: flex;\n  gap: 10px;\n}\n</style> "],"mappings":"AAyEA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAI;AACnC,SAASC,MAAM,EAAEC,SAAS,EAAEC,IAAI,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,YAAY,QAAQ,yBAAwB;AACzG,OAAOC,aAAa,MAAM,gCAA+B;AACzD,OAAOC,SAAS,MAAM,4BAA2B;AACjD,OAAOC,aAAa,MAAM,gCAA+B;AACzD,OAAOC,gBAAgB,MAAM,mCAAkC;AAC/D,OAAOC,WAAW,MAAM,8BAA6B;AACrD,OAAOC,OAAO,MAAM,YAAW;;;;;;;IAE/B,MAAMC,QAAQ,GAAG,CACf;MAAEC,KAAK,EAAE,KAAK;MAAEC,IAAI,EAAE,WAAW;MAAEC,IAAI,EAAEd;IAAK,CAAC,EAC/C;MAAEY,KAAK,EAAE,MAAM;MAAEC,IAAI,EAAE,OAAO;MAAEC,IAAI,EAAEb;IAAK,CAAC,EAC5C;MAAEW,KAAK,EAAE,MAAM;MAAEC,IAAI,EAAE,WAAW;MAAEC,IAAI,EAAEZ;IAAS,CAAC,EACpD;MAAEU,KAAK,EAAE,MAAM;MAAEC,IAAI,EAAE,cAAc;MAAEC,IAAI,EAAEX;IAAU,CAAC,EACxD;MAAES,KAAK,EAAE,MAAM;MAAEC,IAAI,EAAE,SAAS;MAAEC,IAAI,EAAEV;IAAa,EACvD;IACA,MAAMW,UAAU,GAAGnB,GAAG,CAAC,WAAW;IAClC,MAAMoB,MAAM,GAAGpB,GAAG,CAAC,EAAE;IACrB,MAAMqB,OAAO,GAAGrB,GAAG,CAAC,KAAK;IACzB,MAAMsB,OAAO,GAAGtB,GAAG,CAAC,EAAE;IACtB,MAAMuB,aAAa,GAAGvB,GAAG,CAAC,IAAI;IAE9BC,SAAS,CAAC,YAAY;MACpB,MAAMuB,OAAO,GAAG,MAAMV,OAAO,CAACW,cAAc,CAAC;MAC7C,IAAID,OAAO,IAAIA,OAAO,CAACE,OAAO,IAAIF,OAAO,CAACG,IAAI,EAAE;QAC9C,IAAI,CAACH,OAAO,CAACG,IAAI,CAACC,UAAU,EAAE;UAC5BL,aAAa,CAACM,KAAK,GAAG,KAAI;QAC5B,CAAC,MAAM;UACLN,aAAa,CAACM,KAAK,GAAG,IAAG;QAC3B;MACF,CAAC,MAAM;QACLN,aAAa,CAACM,KAAK,GAAG,KAAI;MAC5B;IACF,CAAC;IAED,SAASC,aAAaA,CAAA,EAAG;MACvBR,OAAO,CAACO,KAAK,GAAG,EAAC;IACnB","ignoreList":[]}]}