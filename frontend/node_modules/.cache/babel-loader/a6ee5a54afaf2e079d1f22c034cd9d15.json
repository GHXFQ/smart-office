{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\quill\\formats\\link.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\quill\\formats\\link.js","mtime":1751792162077},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy8xODA4My9EZXNrdG9wL0NDSVQvb2ZmaWNlL28vc21hcnQtb2ZmaWNlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBJbmxpbmUgZnJvbSAnLi4vYmxvdHMvaW5saW5lLmpzJzsKY2xhc3MgTGluayBleHRlbmRzIElubGluZSB7CiAgc3RhdGljIGNyZWF0ZSh2YWx1ZSkgewogICAgY29uc3Qgbm9kZSA9IHN1cGVyLmNyZWF0ZSh2YWx1ZSk7CiAgICBub2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIHRoaXMuc2FuaXRpemUodmFsdWUpKTsKICAgIG5vZGUuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpOwogICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTsKICAgIHJldHVybiBub2RlOwogIH0KICBzdGF0aWMgZm9ybWF0cyhkb21Ob2RlKSB7CiAgICByZXR1cm4gZG9tTm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICB9CiAgc3RhdGljIHNhbml0aXplKHVybCkgewogICAgcmV0dXJuIHNhbml0aXplKHVybCwgdGhpcy5QUk9UT0NPTF9XSElURUxJU1QpID8gdXJsIDogdGhpcy5TQU5JVElaRURfVVJMOwogIH0KICBmb3JtYXQobmFtZSwgdmFsdWUpIHsKICAgIGlmIChuYW1lICE9PSB0aGlzLnN0YXRpY3MuYmxvdE5hbWUgfHwgIXZhbHVlKSB7CiAgICAgIHN1cGVyLmZvcm1hdChuYW1lLCB2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIHRoaXMuZG9tTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB0aGlzLmNvbnN0cnVjdG9yLnNhbml0aXplKHZhbHVlKSk7CiAgICB9CiAgfQp9Cl9kZWZpbmVQcm9wZXJ0eShMaW5rLCAiYmxvdE5hbWUiLCAnbGluaycpOwpfZGVmaW5lUHJvcGVydHkoTGluaywgInRhZ05hbWUiLCAnQScpOwpfZGVmaW5lUHJvcGVydHkoTGluaywgIlNBTklUSVpFRF9VUkwiLCAnYWJvdXQ6YmxhbmsnKTsKX2RlZmluZVByb3BlcnR5KExpbmssICJQUk9UT0NPTF9XSElURUxJU1QiLCBbJ2h0dHAnLCAnaHR0cHMnLCAnbWFpbHRvJywgJ3RlbCcsICdzbXMnXSk7CmZ1bmN0aW9uIHNhbml0aXplKHVybCwgcHJvdG9jb2xzKSB7CiAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogIGFuY2hvci5ocmVmID0gdXJsOwogIGNvbnN0IHByb3RvY29sID0gYW5jaG9yLmhyZWYuc2xpY2UoMCwgYW5jaG9yLmhyZWYuaW5kZXhPZignOicpKTsKICByZXR1cm4gcHJvdG9jb2xzLmluZGV4T2YocHJvdG9jb2wpID4gLTE7Cn0KZXhwb3J0IHsgTGluayBhcyBkZWZhdWx0LCBzYW5pdGl6ZSB9Ow=="},{"version":3,"names":["Inline","Link","create","value","node","setAttribute","sanitize","formats","domNode","getAttribute","url","PROTOCOL_WHITELIST","SANITIZED_URL","format","name","statics","blotName","constructor","_defineProperty","protocols","anchor","document","createElement","href","protocol","slice","indexOf","default"],"sources":["../../src/formats/link.ts"],"sourcesContent":["import Inline from '../blots/inline.js';\n\nclass Link extends Inline {\n  static blotName = 'link';\n  static tagName = 'A';\n  static SANITIZED_URL = 'about:blank';\n  static PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel', 'sms'];\n\n  static create(value: string) {\n    const node = super.create(value) as HTMLElement;\n    node.setAttribute('href', this.sanitize(value));\n    node.setAttribute('rel', 'noopener noreferrer');\n    node.setAttribute('target', '_blank');\n    return node;\n  }\n\n  static formats(domNode: HTMLElement) {\n    return domNode.getAttribute('href');\n  }\n\n  static sanitize(url: string) {\n    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n  }\n\n  format(name: string, value: unknown) {\n    if (name !== this.statics.blotName || !value) {\n      super.format(name, value);\n    } else {\n      // @ts-expect-error\n      this.domNode.setAttribute('href', this.constructor.sanitize(value));\n    }\n  }\n}\n\nfunction sanitize(url: string, protocols: string[]) {\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexport { Link as default, sanitize };\n"],"mappings":";AAAA,OAAOA,MAAM,MAAM,oBAAoB;AAEvC,MAAMC,IAAI,SAASD,MAAM,CAAC;EAMxB,OAAOE,MAAMA,CAACC,KAAa,EAAE;IAC3B,MAAMC,IAAI,GAAG,KAAK,CAACF,MAAM,CAACC,KAAK,CAAgB;IAC/CC,IAAI,CAACC,YAAY,CAAC,MAAM,EAAE,IAAI,CAACC,QAAQ,CAACH,KAAK,CAAC,CAAC;IAC/CC,IAAI,CAACC,YAAY,CAAC,KAAK,EAAE,qBAAqB,CAAC;IAC/CD,IAAI,CAACC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;IACrC,OAAOD,IAAI;EACb;EAEA,OAAOG,OAAOA,CAACC,OAAoB,EAAE;IACnC,OAAOA,OAAO,CAACC,YAAY,CAAC,MAAM,CAAC;EACrC;EAEA,OAAOH,QAAQA,CAACI,GAAW,EAAE;IAC3B,OAAOJ,QAAQ,CAACI,GAAG,EAAE,IAAI,CAACC,kBAAkB,CAAC,GAAGD,GAAG,GAAG,IAAI,CAACE,aAAa;EAC1E;EAEAC,MAAMA,CAACC,IAAY,EAAEX,KAAc,EAAE;IACnC,IAAIW,IAAI,KAAK,IAAI,CAACC,OAAO,CAACC,QAAQ,IAAI,CAACb,KAAK,EAAE;MAC5C,KAAK,CAACU,MAAM,CAACC,IAAI,EAAEX,KAAK,CAAC;IAC3B,CAAC,MAAM;MACL;MACA,IAAI,CAACK,OAAO,CAACH,YAAY,CAAC,MAAM,EAAE,IAAI,CAACY,WAAW,CAACX,QAAQ,CAACH,KAAK,CAAC,CAAC;IACrE;EACF;AACF;AAAAe,eAAA,CA9BMjB,IAAI,cACU,MAAM;AAAAiB,eAAA,CADpBjB,IAAI,aAES,GAAG;AAAAiB,eAAA,CAFhBjB,IAAI,mBAGe,aAAa;AAAAiB,eAAA,CAHhCjB,IAAI,wBAIoB,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,CAAC;AA4BvE,SAASK,QAAQA,CAACI,GAAW,EAAES,SAAmB,EAAE;EAClD,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EAC1CF,MAAM,CAACG,IAAI,GAAGb,GAAG;EACjB,MAAMc,QAAQ,GAAGJ,MAAM,CAACG,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEL,MAAM,CAACG,IAAI,CAACG,OAAO,CAAC,GAAG,CAAC,CAAC;EAC/D,OAAOP,SAAS,CAACO,OAAO,CAACF,QAAQ,CAAC,GAAG,CAAC,CAAC;AACzC;AAEA,SAASvB,IAAI,IAAI0B,OAAO,EAAErB,QAAQ","ignoreList":[]}]}