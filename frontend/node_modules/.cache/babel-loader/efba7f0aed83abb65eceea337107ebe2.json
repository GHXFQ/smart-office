{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\smartdoc\\Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\smartdoc\\Detail.vue","mtime":1748084911652},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIHdhdGNoLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IEVsTWVzc2FnZSwgRWxNZXNzYWdlQm94LCBFbExvYWRpbmcgfSBmcm9tICdlbGVtZW50LXBsdXMnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBnZXREb2N1bWVudHMsIGdldERvY3VtZW50RGV0YWlsLCBjcmVhdGVEb2N1bWVudCwgdXBkYXRlRG9jdW1lbnQsIGRlbGV0ZURvY3VtZW50IGFzIGFwaURlbGV0ZURvY3VtZW50LCBzaGFyZURvY3VtZW50IGFzIGFwaVNoYXJlRG9jdW1lbnQsIGdldFJlbGF0ZWREb2N1bWVudHMsIGdlbmVyYXRlUmVsYXRlZERvY3VtZW50cyB9IGZyb20gJ0AvYXBpL3NtYXJ0ZG9jJzsKaW1wb3J0IHsgRG9jdW1lbnQsIFBsdXMsIENpcmNsZUNoZWNrLCBEb3dubG9hZCwgTW9yZSwgU2VhcmNoLCBBcnJvd0xlZnQsIEFycm93UmlnaHQsIFNoYXJlIGFzIFNoYXJlSWNvbiwgUmVmcmVzaCB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKaW1wb3J0IHsgUXVpbGxFZGl0b3IgfSBmcm9tICdAdnVldXAvdnVlLXF1aWxsJzsKaW1wb3J0ICdAdnVldXAvdnVlLXF1aWxsL2Rpc3QvdnVlLXF1aWxsLnNub3cuY3NzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTbWFydERvY0RldGFpbCcsCiAgY29tcG9uZW50czogewogICAgRG9jdW1lbnQsCiAgICBQbHVzLAogICAgQ2lyY2xlQ2hlY2ssCiAgICBEb3dubG9hZCwKICAgIE1vcmUsCiAgICBTZWFyY2gsCiAgICBBcnJvd0xlZnQsCiAgICBBcnJvd1JpZ2h0LAogICAgU2hhcmVJY29uLAogICAgUXVpbGxFZGl0b3IsCiAgICBSZWZyZXNoCiAgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICAgIC8vIOeKtuaAgeaVsOaNrgogICAgY29uc3QgZG9jdW1lbnRzID0gcmVmKFtdKTsKICAgIGNvbnN0IGN1cnJlbnREb2MgPSByZWYobnVsbCk7CiAgICBjb25zdCBkb2N1bWVudENoYW5nZWQgPSByZWYoZmFsc2UpOwogICAgY29uc3QgaXNEb2NMaXN0Q29sbGFwc2VkID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGlzQXNzaXN0YW50Q29sbGFwc2VkID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGFjdGl2ZUFzc2lzdGFudFRhYiA9IHJlZignY29udGV4dCcpOwogICAgY29uc3Qgc2VhcmNoUXVlcnkgPSByZWYoJycpOwogICAgY29uc3QgZG9jVHlwZUZpbHRlciA9IHJlZignJyk7CiAgICBjb25zdCBzb3J0T3B0aW9uID0gcmVmKCd1cGRhdGUnKTsKICAgIGNvbnN0IG5ld0RvY3VtZW50RGlhbG9nVmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBzaGFyZURpYWxvZ1Zpc2libGUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZGVsZXRlRGlhbG9nVmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBrbm93bGVkZ2VRdWVyeSA9IHJlZignJyk7CiAgICBjb25zdCByZWxhdGVkRG9jdW1lbnRzID0gcmVmKFtdKTsKICAgIGNvbnN0IHNlbGVjdGVkVXNlcnMgPSByZWYoW10pOwogICAgY29uc3QgYXZhaWxhYmxlVXNlcnMgPSByZWYoW10pOwoKICAgIC8vIOWKoOi9veeKtuaAgQogICAgY29uc3Qgc2F2ZUxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgY3JlYXRlTG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBzaGFyZUxvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZGVsZXRlTG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCByZWxhdGVkTG9hZGluZyA9IHJlZihmYWxzZSk7CgogICAgLy8g6KGo5Y2V5pWw5o2uCiAgICBjb25zdCBuZXdEb2N1bWVudEZvcm0gPSByZWYoewogICAgICB0aXRsZTogJycsCiAgICAgIHR5cGU6ICcnCiAgICB9KTsKCiAgICAvLyDooajljZXpqozor4Hop4TliJkKICAgIGNvbnN0IGRvY3VtZW50Rm9ybVJ1bGVzID0gewogICAgICB0aXRsZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paH5qGj5qCH6aKYJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIG1pbjogMiwKICAgICAgICBtYXg6IDUwLAogICAgICAgIG1lc3NhZ2U6ICfmoIfpopjplb/luqbpobvlnKgy5YiwNTDkuKrlrZfnrKbkuYvpl7QnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XQogICAgfTsKICAgIGNvbnN0IGRvY3VtZW50Rm9ybVJlZiA9IHJlZihudWxsKTsKCiAgICAvLyDnvJbovpHlmajphY3nva4KICAgIGNvbnN0IGVkaXRvck9wdGlvbnMgPSB7CiAgICAgIHBsYWNlaG9sZGVyOiAnICcsCiAgICAgIG1vZHVsZXM6IHsKICAgICAgICB0b29sYmFyOiBbWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnc3RyaWtlJ10sIFsnYmxvY2txdW90ZScsICdjb2RlLWJsb2NrJ10sIFt7CiAgICAgICAgICAnaGVhZGVyJzogMQogICAgICAgIH0sIHsKICAgICAgICAgICdoZWFkZXInOiAyCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnbGlzdCc6ICdvcmRlcmVkJwogICAgICAgIH0sIHsKICAgICAgICAgICdsaXN0JzogJ2J1bGxldCcKICAgICAgICB9XSwgW3sKICAgICAgICAgICdzY3JpcHQnOiAnc3ViJwogICAgICAgIH0sIHsKICAgICAgICAgICdzY3JpcHQnOiAnc3VwZXInCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnaW5kZW50JzogJy0xJwogICAgICAgIH0sIHsKICAgICAgICAgICdpbmRlbnQnOiAnKzEnCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnZGlyZWN0aW9uJzogJ3J0bCcKICAgICAgICB9XSwgW3sKICAgICAgICAgICdzaXplJzogWydzbWFsbCcsIGZhbHNlLCAnbGFyZ2UnLCAnaHVnZSddCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnaGVhZGVyJzogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXQogICAgICAgIH1dLCBbewogICAgICAgICAgJ2NvbG9yJzogW10KICAgICAgICB9LCB7CiAgICAgICAgICAnYmFja2dyb3VuZCc6IFtdCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnZm9udCc6IFtdCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnYWxpZ24nOiBbXQogICAgICAgIH1dLCBbJ2NsZWFuJ10sIFsnbGluaycsICdpbWFnZSddXQogICAgICB9CiAgICB9OwoKICAgIC8vIOiuoeeul+WxnuaApwogICAgY29uc3QgZmlsdGVyZWREb2N1bWVudHMgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGxldCByZXN1bHQgPSBbLi4uZG9jdW1lbnRzLnZhbHVlXTsKCiAgICAgIC8vIOaQnOe0ouetm+mAiQogICAgICBpZiAoc2VhcmNoUXVlcnkudmFsdWUpIHsKICAgICAgICBjb25zdCBxdWVyeSA9IHNlYXJjaFF1ZXJ5LnZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihkb2MgPT4gZG9jLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8IGRvYy50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpKTsKICAgICAgfQoKICAgICAgLy8g57G75Z6L562b6YCJCiAgICAgIGlmIChkb2NUeXBlRmlsdGVyLnZhbHVlKSB7CiAgICAgICAgY29uc3QgdHlwZUZpbHRlciA9IGRvY1R5cGVGaWx0ZXIudmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKGRvYyA9PiBkb2MudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHR5cGVGaWx0ZXIpKTsKICAgICAgfQoKICAgICAgLy8g5o6S5bqPCiAgICAgIGlmIChzb3J0T3B0aW9uLnZhbHVlID09PSAndXBkYXRlJykgewogICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnVwZGF0ZV90aW1lKSAtIG5ldyBEYXRlKGEudXBkYXRlX3RpbWUpKTsKICAgICAgfSBlbHNlIGlmIChzb3J0T3B0aW9uLnZhbHVlID09PSAnY3JlYXRlJykgewogICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmNyZWF0ZV90aW1lKSAtIG5ldyBEYXRlKGEuY3JlYXRlX3RpbWUpKTsKICAgICAgfSBlbHNlIGlmIChzb3J0T3B0aW9uLnZhbHVlID09PSAnbmFtZS1hc2MnKSB7CiAgICAgICAgcmVzdWx0LnNvcnQoKGEsIGIpID0+IGEudGl0bGUubG9jYWxlQ29tcGFyZShiLnRpdGxlKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwoKICAgIC8vIOaWueazlQogICAgY29uc3QgZmV0Y2hEb2N1bWVudHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXREb2N1bWVudHMoKTsKICAgICAgICBkb2N1bWVudHMudmFsdWUgPSByZXNwb25zZS5kYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluaWh+aho+WIl+ihqOWksei0pScsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+iOt+WPluaWh+aho+WIl+ihqOWksei0pScpOwogICAgICB9CiAgICB9OwogICAgY29uc3QgZmV0Y2hEb2N1bWVudERldGFpbCA9IGFzeW5jIGlkID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldERvY3VtZW50RGV0YWlsKGlkKTsKICAgICAgICAvLyDmo4Dmn6XmmK/lkKbojrflj5bliLDmnInmlYjnmoTmlofmoaPmlbDmja4KICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgY3VycmVudERvYy52YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBkb2N1bWVudENoYW5nZWQudmFsdWUgPSBmYWxzZTsKCiAgICAgICAgICAvLyDojrflj5bnm7jlhbPmlofmoaMKICAgICAgICAgIGZldGNoUmVsYXRlZERvY3VtZW50cyhpZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5paH5qGj5LiN5a2Y5Zyo5oiW5pWw5o2u5peg5pWIJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluaWh+aho+ivpuaDheWksei0pScsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgPyAn5paH5qGj5LiN5a2Y5ZyoJyA6ICfojrflj5bmlofmoaPor6bmg4XlpLHotKUnKTsKICAgICAgICAvLyDov5Tlm57liLDmlofmoaPliJfooajpobUKICAgICAgICByb3V0ZXIucHVzaCgnL3NtYXJ0ZG9jJyk7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBzZWxlY3REb2N1bWVudCA9IGFzeW5jIGlkID0+IHsKICAgICAgLy8g5aaC5p6c5b2T5YmN5paH5qGj5bey5L+u5pS577yM5o+Q56S65L+d5a2YCiAgICAgIGlmIChkb2N1bWVudENoYW5nZWQudmFsdWUgJiYgY3VycmVudERvYy52YWx1ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBFbE1lc3NhZ2VCb3guY29uZmlybSgn5b2T5YmN5paH5qGj5bey5L+u5pS55L2G5pyq5L+d5a2Y77yM5piv5ZCm5L+d5a2Y5pu05pS577yfJywgJ+S/neWtmOaPkOekuicsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfkv53lrZgnLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5LiN5L+d5a2YJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICB9KTsKICAgICAgICAgIGF3YWl0IHNhdmVEb2N1bWVudCgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAvLyDnlKjmiLfpgInmi6nkuI3kv53lrZjvvIznu6fnu63liIfmjaLmlofmoaMKICAgICAgICAgIGNvbnNvbGUubG9nKCfnlKjmiLfpgInmi6nkuI3kv53lrZgnKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIOabtOaWsOi3r+eUseS7peWPjeaYoOaWsOmAieS4reeahOaWh+ahowogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1NtYXJ0RG9jRGV0YWlsJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgICBjb25zdCBzYXZlRG9jdW1lbnQgPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghY3VycmVudERvYy52YWx1ZSB8fCAhZG9jdW1lbnRDaGFuZ2VkLnZhbHVlKSByZXR1cm47CiAgICAgIHNhdmVMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB1cGRhdGVEb2N1bWVudChjdXJyZW50RG9jLnZhbHVlLmlkLCB7CiAgICAgICAgICB0aXRsZTogY3VycmVudERvYy52YWx1ZS50aXRsZSwKICAgICAgICAgIHR5cGU6IGN1cnJlbnREb2MudmFsdWUudHlwZSwKICAgICAgICAgIGNvbnRlbnQ6IGN1cnJlbnREb2MudmFsdWUuY29udGVudAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50Q2hhbmdlZC52YWx1ZSA9IGZhbHNlOwogICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCfmlofmoaPkv53lrZjmiJDlip8nKTsKCiAgICAgICAgLy8g5Yi35paw55u45YWz5paH5qGjCiAgICAgICAgcmVmcmVzaFJlbGF0ZWREb2N1bWVudHMoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfkv53lrZjmlofmoaPlpLHotKUnLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfkv53lrZjmlofmoaPlpLHotKUnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBzYXZlTG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICB9OwogICAgY29uc3QgdG9nZ2xlRG9jTGlzdCA9ICgpID0+IHsKICAgICAgaXNEb2NMaXN0Q29sbGFwc2VkLnZhbHVlID0gIWlzRG9jTGlzdENvbGxhcHNlZC52YWx1ZTsKICAgIH07CiAgICBjb25zdCB0b2dnbGVBc3Npc3RhbnQgPSAoKSA9PiB7CiAgICAgIGlzQXNzaXN0YW50Q29sbGFwc2VkLnZhbHVlID0gIWlzQXNzaXN0YW50Q29sbGFwc2VkLnZhbHVlOwogICAgfTsKICAgIGNvbnN0IG9uRWRpdG9yQ2hhbmdlID0gKCkgPT4gewogICAgICBkb2N1bWVudENoYW5nZWQudmFsdWUgPSB0cnVlOwogICAgfTsKICAgIGNvbnN0IG9wZW5OZXdEb2N1bWVudERpYWxvZyA9ICgpID0+IHsKICAgICAgbmV3RG9jdW1lbnRGb3JtLnZhbHVlID0gewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICB0eXBlOiAnJwogICAgICB9OwogICAgICBuZXdEb2N1bWVudERpYWxvZ1Zpc2libGUudmFsdWUgPSB0cnVlOwogICAgfTsKICAgIGNvbnN0IGNyZWF0ZU5ld0RvY3VtZW50ID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoIWRvY3VtZW50Rm9ybVJlZi52YWx1ZSkgcmV0dXJuOwogICAgICBhd2FpdCBkb2N1bWVudEZvcm1SZWYudmFsdWUudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY3JlYXRlTG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNyZWF0ZURvY3VtZW50KHsKICAgICAgICAgICAgICB0aXRsZTogbmV3RG9jdW1lbnRGb3JtLnZhbHVlLnRpdGxlLAogICAgICAgICAgICAgIHR5cGU6IG5ld0RvY3VtZW50Rm9ybS52YWx1ZS50eXBlIHx8ICfpgJrnlKgnLAogICAgICAgICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5paH5qGj5Yib5bu65oiQ5YqfJyk7CiAgICAgICAgICAgIG5ld0RvY3VtZW50RGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgICAgLy8g5Yi35paw5paH5qGj5YiX6KGo5bm25omT5byA5paw5paH5qGjCiAgICAgICAgICAgIGF3YWl0IGZldGNoRG9jdW1lbnRzKCk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAnU21hcnREb2NEZXRhaWwnLAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEuaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Yib5bu65paH5qGj5aSx6LSlJywgZXJyb3IpOwogICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WIm+W7uuaWh+aho+Wksei0pScpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgY3JlYXRlTG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgY29uc3Qgc2hhcmVEb2N1bWVudCA9ICgpID0+IHsKICAgICAgaWYgKCFjdXJyZW50RG9jLnZhbHVlKSByZXR1cm47CgogICAgICAvLyDlnKjlrp7pmYXpobnnm67kuK3vvIzov5nph4zlupTor6Xku45BUEnojrflj5blj6/nlKjnlKjmiLfliJfooagKICAgICAgYXZhaWxhYmxlVXNlcnMudmFsdWUgPSBbewogICAgICAgIGlkOiAxLAogICAgICAgIHVzZXJuYW1lOiAn5byg5LiJJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgdXNlcm5hbWU6ICfmnY7lm5snCiAgICAgIH0sIHsKICAgICAgICBpZDogMywKICAgICAgICB1c2VybmFtZTogJ+eOi+S6lCcKICAgICAgfV07CiAgICAgIHNlbGVjdGVkVXNlcnMudmFsdWUgPSBbXTsKICAgICAgc2hhcmVEaWFsb2dWaXNpYmxlLnZhbHVlID0gdHJ1ZTsKICAgIH07CiAgICBjb25zdCBjb25maXJtU2hhcmUgPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghY3VycmVudERvYy52YWx1ZSB8fCBzZWxlY3RlZFVzZXJzLnZhbHVlLmxlbmd0aCA9PT0gMCkgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6noh7PlsJHkuIDkuKrnlKjmiLcnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2hhcmVMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBhcGlTaGFyZURvY3VtZW50KGN1cnJlbnREb2MudmFsdWUuaWQsIHNlbGVjdGVkVXNlcnMudmFsdWUpOwogICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCfmlofmoaPliIbkuqvmiJDlip8nKTsKICAgICAgICBzaGFyZURpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliIbkuqvmlofmoaPlpLHotKUnLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliIbkuqvmlofmoaPlpLHotKUnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBzaGFyZUxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IGRlbGV0ZURvY3VtZW50ID0gKCkgPT4gewogICAgICBpZiAoIWN1cnJlbnREb2MudmFsdWUpIHJldHVybjsKICAgICAgZGVsZXRlRGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICB9OwogICAgY29uc3QgY29uZmlybURlbGV0ZSA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKCFjdXJyZW50RG9jLnZhbHVlKSByZXR1cm47CiAgICAgIGRlbGV0ZUxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGF3YWl0IGFwaURlbGV0ZURvY3VtZW50KGN1cnJlbnREb2MudmFsdWUuaWQpOwogICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCfmlofmoaPliKDpmaTmiJDlip8nKTsKICAgICAgICBkZWxldGVEaWFsb2dWaXNpYmxlLnZhbHVlID0gZmFsc2U7CgogICAgICAgIC8vIOi/lOWbnuWIsOaWh+aho+WIl+ihqOmhtQogICAgICAgIHJvdXRlci5wdXNoKCcvc21hcnRkb2MnKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliKDpmaTmlofmoaPlpLHotKUnLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliKDpmaTmlofmoaPlpLHotKUnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBkZWxldGVMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBmZXRjaFJlbGF0ZWREb2N1bWVudHMgPSBhc3luYyBpZCA9PiB7CiAgICAgIGlmICghaWQgJiYgIWN1cnJlbnREb2MudmFsdWUpIHJldHVybjsKICAgICAgY29uc3QgZG9jSWQgPSBpZCB8fCBjdXJyZW50RG9jLnZhbHVlLmlkOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UmVsYXRlZERvY3VtZW50cyhkb2NJZCk7CiAgICAgICAgcmVsYXRlZERvY3VtZW50cy52YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W55u45YWz5paH5qGj5aSx6LSlJywgZXJyb3IpOwogICAgICB9CiAgICB9OwogICAgY29uc3QgcmVmcmVzaFJlbGF0ZWREb2N1bWVudHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghY3VycmVudERvYy52YWx1ZSkgcmV0dXJuOwogICAgICByZWxhdGVkTG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZVJlbGF0ZWREb2N1bWVudHMoY3VycmVudERvYy52YWx1ZS5pZCk7CiAgICAgICAgcmVsYXRlZERvY3VtZW50cy52YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+W3suWIt+aWsOebuOWFs+aWh+ahoycpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIt+aWsOebuOWFs+aWh+aho+Wksei0pScsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WIt+aWsOebuOWFs+aWh+aho+Wksei0pScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHJlbGF0ZWRMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBvcGVuUmVsYXRlZERvY3VtZW50ID0gZG9jID0+IHsKICAgICAgLy8g6I635Y+W5paH5qGjSUTlubbmiZPlvIAKICAgICAgY29uc3QgZG9jSWQgPSBkb2MucmVsYXRlZF9kb2N1bWVudF9pZDsKICAgICAgaWYgKGRvY0lkKSB7CiAgICAgICAgc2VsZWN0RG9jdW1lbnQoZG9jSWQpOwogICAgICB9CiAgICB9OwogICAgY29uc3QgZXhwb3J0RG9jdW1lbnQgPSAoKSA9PiB7CiAgICAgIC8vIOaYvuekuuWvvOWHuumAiemhueW8ueeqlwogICAgICBFbE1lc3NhZ2VCb3gucHJvbXB0KCfpgInmi6nlr7zlh7rmoLzlvI8nLCAn5a+85Ye65paH5qGjJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBpbnB1dFR5cGU6ICdzZWxlY3QnLAogICAgICAgIGlucHV0VmFsdWU6ICdwZGYnLAogICAgICAgIGlucHV0UGxhY2Vob2xkZXI6ICfor7fpgInmi6nlr7zlh7rmoLzlvI8nLAogICAgICAgIGlucHV0T3B0aW9uczogW3sKICAgICAgICAgIHZhbHVlOiAncGRmJywKICAgICAgICAgIGxhYmVsOiAnUERG5qC85byPJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbHVlOiAnZG9jeCcsCiAgICAgICAgICBsYWJlbDogJ1dvcmTmoLzlvI8nCiAgICAgICAgfV0KICAgICAgfSkudGhlbigoewogICAgICAgIHZhbHVlCiAgICAgIH0pID0+IHsKICAgICAgICBpZiAodmFsdWUgPT09ICdwZGYnKSB7CiAgICAgICAgICBleHBvcnRUb1BkZigpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdkb2N4JykgewogICAgICAgICAgZXhwb3J0VG9Xb3JkKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8g5Y+W5raI5a+85Ye677yM5LiN5YGa5Lu75L2V5aSE55CGCiAgICAgIH0pOwogICAgfTsKCiAgICAvLyDlr7zlh7rkuLpQREYKICAgIGNvbnN0IGV4cG9ydFRvUGRmID0gKCkgPT4gewogICAgICBpZiAoIWN1cnJlbnREb2MudmFsdWUpIHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+ayoeacieWPr+WvvOWHuueahOaWh+ahoycpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBkb2NUaXRsZSA9IGN1cnJlbnREb2MudmFsdWUudGl0bGUgfHwgJ+acquWRveWQjeaWh+ahoyc7CiAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7ZG9jVGl0bGV9LnBkZmA7CgogICAgICAvLyDliJvlu7rkuIDkuKrlhYPntKDmnaXljIXlkKvmlofmoaPlhoXlrrkKICAgICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgY29udGVudEVsZW1lbnQuaW5uZXJIVE1MID0gY3VycmVudERvYy52YWx1ZS5jb250ZW50OwogICAgICBjb250ZW50RWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzIwcHgnOwoKICAgICAgLy8g5re75Yqg5paH5qGj5qCH6aKYCiAgICAgIGNvbnN0IHRpdGxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7CiAgICAgIHRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IGRvY1RpdGxlOwogICAgICB0aXRsZUVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICAgIHRpdGxlRWxlbWVudC5zdHlsZS5tYXJnaW4gPSAnMCAwIDIwcHggMCc7CgogICAgICAvLyDmt7vliqDmlofmoaPnsbvlnosKICAgICAgY29uc3QgdHlwZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7CiAgICAgIHR5cGVFbGVtZW50LnRleHRDb250ZW50ID0gYOexu+WeizogJHtjdXJyZW50RG9jLnZhbHVlLnR5cGUgfHwgJ+acquWIhuexuyd9YDsKICAgICAgdHlwZUVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICAgIHR5cGVFbGVtZW50LnN0eWxlLm1hcmdpbiA9ICcwIDAgMzBweCAwJzsKICAgICAgdHlwZUVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzY2Nic7CgogICAgICAvLyDliJvlu7rlrozmlbTlhoXlrrnlrrnlmagKICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZUVsZW1lbnQpOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodHlwZUVsZW1lbnQpOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGVudEVsZW1lbnQpOwoKICAgICAgLy8g6K6+572u5a+85Ye66YCJ6aG5CiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgbWFyZ2luOiBbMTUsIDE1LCAxNSwgMTVdLAogICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSwKICAgICAgICBpbWFnZTogewogICAgICAgICAgdHlwZTogJ2pwZWcnLAogICAgICAgICAgcXVhbGl0eTogMC45OAogICAgICAgIH0sCiAgICAgICAgaHRtbDJjYW52YXM6IHsKICAgICAgICAgIHNjYWxlOiAyLAogICAgICAgICAgdXNlQ09SUzogdHJ1ZQogICAgICAgIH0sCiAgICAgICAganNQREY6IHsKICAgICAgICAgIHVuaXQ6ICdtbScsCiAgICAgICAgICBmb3JtYXQ6ICdhNCcsCiAgICAgICAgICBvcmllbnRhdGlvbjogJ3BvcnRyYWl0JwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8vIOaYvuekuuWKoOi9veS4rQogICAgICBjb25zdCBsb2FkaW5nID0gRWxMb2FkaW5nLnNlcnZpY2UoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogJ+ato+WcqOeUn+aIkFBERi4uLicsCiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KScKICAgICAgfSk7CgogICAgICAvLyDkvb/nlKhodG1sMnBkZi5qc+WvvOWHulBERgogICAgICBpbXBvcnQoJ2h0bWwycGRmLmpzJykudGhlbihodG1sMnBkZk1vZHVsZSA9PiB7CiAgICAgICAgY29uc3QgaHRtbDJwZGYgPSBodG1sMnBkZk1vZHVsZS5kZWZhdWx0OwogICAgICAgIGh0bWwycGRmKCkuZnJvbShjb250YWluZXIpLnNldChvcHRpb25zKS5zYXZlKCkudGhlbigoKSA9PiB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2VzcygnUERG5a+85Ye65oiQ5YqfJyk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcignUERG5a+85Ye65aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcignUERG5a+85Ye65aSx6LSlJyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb1odG1sMnBkZi5qc+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgIEVsTWVzc2FnZS5lcnJvcignUERG5a+85Ye65Yqf6IO95Yqg6L295aSx6LSlJyk7CiAgICAgIH0pOwogICAgfTsKCiAgICAvLyDlr7zlh7rkuLpXb3JkCiAgICBjb25zdCBleHBvcnRUb1dvcmQgPSAoKSA9PiB7CiAgICAgIGlmICghY3VycmVudERvYy52YWx1ZSkgewogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5rKh5pyJ5Y+v5a+85Ye655qE5paH5qGjJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IGRvY1RpdGxlID0gY3VycmVudERvYy52YWx1ZS50aXRsZSB8fCAn5pyq5ZG95ZCN5paH5qGjJzsKICAgICAgY29uc3QgZmlsZW5hbWUgPSBgJHtkb2NUaXRsZX0uZG9jeGA7CgogICAgICAvLyDmmL7npLrliqDovb3kuK0KICAgICAgY29uc3QgbG9hZGluZyA9IEVsTG9hZGluZy5zZXJ2aWNlKHsKICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgIHRleHQ6ICfmraPlnKjnlJ/miJBXb3Jk5paH5qGjLi4uJywKICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJwogICAgICB9KTsKCiAgICAgIC8vIOS9v+eUqGRvY3jlupPliJvlu7pXb3Jk5paH5qGjCiAgICAgIFByb21pc2UuYWxsKFtpbXBvcnQoJ2RvY3gnKSwgaW1wb3J0KCdmaWxlLXNhdmVyJyldKS50aGVuKChbZG9jeE1vZHVsZSwgZmlsZU1vZHVsZV0pID0+IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBEb2N1bWVudCwKICAgICAgICAgIFBhcmFncmFwaCwKICAgICAgICAgIFRleHRSdW4sCiAgICAgICAgICBQYWNrZXIsCiAgICAgICAgICBBbGlnbm1lbnRUeXBlLAogICAgICAgICAgSGVhZGluZ0xldmVsCiAgICAgICAgfSA9IGRvY3hNb2R1bGU7CiAgICAgICAgY29uc3QgewogICAgICAgICAgc2F2ZUFzCiAgICAgICAgfSA9IGZpbGVNb2R1bGUuZGVmYXVsdDsKCiAgICAgICAgLy8g5Yib5bu65paH5qGjCiAgICAgICAgY29uc3QgZG9jID0gbmV3IERvY3VtZW50KHsKICAgICAgICAgIHRpdGxlOiBkb2NUaXRsZSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtkb2NUaXRsZX0gLSDnlLFTbWFydCBPZmZpY2XnlJ/miJBgLAogICAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICAgIHBhcmFncmFwaFN0eWxlczogW3sKICAgICAgICAgICAgICBpZDogJ3RpdGxlJywKICAgICAgICAgICAgICBuYW1lOiAnVGl0bGUnLAogICAgICAgICAgICAgIGJhc2VkT246ICdOb3JtYWwnLAogICAgICAgICAgICAgIG5leHQ6ICdOb3JtYWwnLAogICAgICAgICAgICAgIHF1aWNrRm9ybWF0OiB0cnVlLAogICAgICAgICAgICAgIHJ1bjogewogICAgICAgICAgICAgICAgc2l6ZTogMzIsCiAgICAgICAgICAgICAgICBib2xkOiB0cnVlLAogICAgICAgICAgICAgICAgY29sb3I6ICcwMDAwMDAnCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBwYXJhZ3JhcGg6IHsKICAgICAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5DRU5URVIsCiAgICAgICAgICAgICAgICBzcGFjaW5nOiB7CiAgICAgICAgICAgICAgICAgIGFmdGVyOiAyMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIOa3u+WKoOagh+mimOWSjOWkhOeQhuWGheWuuQogICAgICAgIHBhcnNlSHRtbFRvRG9jeFBhcmFncmFwaHMoY3VycmVudERvYy52YWx1ZS5jb250ZW50KS50aGVuKGNvbnRlbnRQYXJhZ3JhcGhzID0+IHsKICAgICAgICAgIGRvYy5hZGRTZWN0aW9uKHsKICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsKICAgICAgICAgICAgICB0ZXh0OiBkb2NUaXRsZSwKICAgICAgICAgICAgICBoZWFkaW5nOiBIZWFkaW5nTGV2ZWwuVElUTEUsCiAgICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLkNFTlRFUgogICAgICAgICAgICB9KSwgbmV3IFBhcmFncmFwaCh7CiAgICAgICAgICAgICAgdGV4dDogYOexu+WeizogJHtjdXJyZW50RG9jLnZhbHVlLnR5cGUgfHwgJ+acquWIhuexuyd9YCwKICAgICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuQ0VOVEVSLAogICAgICAgICAgICAgIHNwYWNpbmc6IHsKICAgICAgICAgICAgICAgIGFmdGVyOiA0MDAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICAvLyDmt7vliqDlpITnkIblkI7nmoTlhoXlrrnmrrXokL0KICAgICAgICAgICAgLi4uY29udGVudFBhcmFncmFwaHNdCiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyDnlJ/miJDlubbkuIvovb3mlofku7YKICAgICAgICAgIHJldHVybiBQYWNrZXIudG9CbG9iKGRvYyk7CiAgICAgICAgfSkudGhlbihibG9iID0+IHsKICAgICAgICAgIHNhdmVBcyhibG9iLCBmaWxlbmFtZSk7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2VzcygnV29yZOaWh+aho+WvvOWHuuaIkOWKnycpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dvcmTlr7zlh7rlpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCdXb3Jk5a+85Ye65aSx6LSlJyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3kvp3otZblpLHotKU6JywgZXJyb3IpOwogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ1dvcmTlr7zlh7rlip/og73liqDovb3lpLHotKUnKTsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOWwhkhUTUzlhoXlrrnop6PmnpDkuLpkb2N45q616JC9CiAgICBjb25zdCBwYXJzZUh0bWxUb0RvY3hQYXJhZ3JhcGhzID0gaHRtbENvbnRlbnQgPT4gewogICAgICAvLyDliJvlu7rkuLTml7ZET03lhYPntKDmnaXop6PmnpBIVE1MCiAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBodG1sQ29udGVudDsKCiAgICAgIC8vIOS9v+eUqOWKqOaAgeWvvOWFpei/lOWbnueahOWPmOmHjwogICAgICByZXR1cm4gaW1wb3J0KCdkb2N4JykudGhlbihkb2N4TW9kdWxlID0+IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBQYXJhZ3JhcGgsCiAgICAgICAgICBUZXh0UnVuLAogICAgICAgICAgQWxpZ25tZW50VHlwZQogICAgICAgIH0gPSBkb2N4TW9kdWxlOwogICAgICAgIGNvbnN0IHBhcmFncmFwaHMgPSBbXTsKCiAgICAgICAgLy8g6YGN5Y6G6aG257qn6IqC54K5CiAgICAgICAgQXJyYXkuZnJvbSh0ZW1wRGl2LmNoaWxkTm9kZXMpLmZvckVhY2gobm9kZSA9PiB7CiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHsKICAgICAgICAgICAgLy8g5paH5pys6IqC54K5CiAgICAgICAgICAgIGlmIChub2RlLnRleHRDb250ZW50LnRyaW0oKSkgewogICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChuZXcgUGFyYWdyYXBoKHsKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4obm9kZS50ZXh0Q29udGVudCldCiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7CiAgICAgICAgICAgIC8vIOWFg+e0oOiKgueCuQogICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgICAvLyDmoLnmja7kuI3lkIzmoIfnrb7nsbvlnovlpITnkIYKICAgICAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdwJykgewogICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChuZXcgUGFyYWdyYXBoKHsKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4obm9kZS50ZXh0Q29udGVudCldLAogICAgICAgICAgICAgICAgc3BhY2luZzogewogICAgICAgICAgICAgICAgICBhZnRlcjogMjAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdoMScpIHsKICAgICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2gobmV3IFBhcmFncmFwaCh7CiAgICAgICAgICAgICAgICB0ZXh0OiBub2RlLnRleHRDb250ZW50LAogICAgICAgICAgICAgICAgaGVhZGluZzogMSwKICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsKICAgICAgICAgICAgICAgICAgYWZ0ZXI6IDIwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnaDInKSB7CiAgICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKG5ldyBQYXJhZ3JhcGgoewogICAgICAgICAgICAgICAgdGV4dDogbm9kZS50ZXh0Q29udGVudCwKICAgICAgICAgICAgICAgIGhlYWRpbmc6IDIsCiAgICAgICAgICAgICAgICBzcGFjaW5nOiB7CiAgICAgICAgICAgICAgICAgIGFmdGVyOiAyMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gJ2gzJykgewogICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChuZXcgUGFyYWdyYXBoKHsKICAgICAgICAgICAgICAgIHRleHQ6IG5vZGUudGV4dENvbnRlbnQsCiAgICAgICAgICAgICAgICBoZWFkaW5nOiAzLAogICAgICAgICAgICAgICAgc3BhY2luZzogewogICAgICAgICAgICAgICAgICBhZnRlcjogMjAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICd1bCcgfHwgdGFnTmFtZSA9PT0gJ29sJykgewogICAgICAgICAgICAgIC8vIOWkhOeQhuWIl+ihqAogICAgICAgICAgICAgIEFycmF5LmZyb20obm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKS5mb3JFYWNoKChsaSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChuZXcgUGFyYWdyYXBoKHsKICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGFnTmFtZSA9PT0gJ29sJyA/IGAke2luZGV4ICsgMX0uIGAgOiAn4oCiICcsCiAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KSwgbmV3IFRleHRSdW4obGkudGV4dENvbnRlbnQpXSwKICAgICAgICAgICAgICAgICAgc3BhY2luZzogewogICAgICAgICAgICAgICAgICAgIGFmdGVyOiAxMjAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdibG9ja3F1b3RlJykgewogICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChuZXcgUGFyYWdyYXBoKHsKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4oewogICAgICAgICAgICAgICAgICB0ZXh0OiBub2RlLnRleHRDb250ZW50LAogICAgICAgICAgICAgICAgICBpdGFsaWNzOiB0cnVlCiAgICAgICAgICAgICAgICB9KV0sCiAgICAgICAgICAgICAgICBpbmRlbnQ6IHsKICAgICAgICAgICAgICAgICAgbGVmdDogNDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3BhY2luZzogewogICAgICAgICAgICAgICAgICBhZnRlcjogMjAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOWFtuS7luWFg+e0oO+8jOebtOaOpea3u+WKoOaWh+acrOWGheWuuQogICAgICAgICAgICAgIGlmIChub2RlLnRleHRDb250ZW50LnRyaW0oKSkgewogICAgICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKG5ldyBQYXJhZ3JhcGgoewogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKG5vZGUudGV4dENvbnRlbnQpXQogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYXJhZ3JhcGhzOwogICAgICB9KTsKICAgIH07CiAgICBjb25zdCBwcmludERvY3VtZW50ID0gKCkgPT4gewogICAgICBFbE1lc3NhZ2UuaW5mbygn5omT5Y2w5paH5qGj5Yqf6IO95pqC5pyq5a6e546wJyk7CiAgICB9OwogICAgY29uc3QgYWRkQ29sbGFib3JhdG9yID0gKCkgPT4gewogICAgICBFbE1lc3NhZ2UuaW5mbygn5re75Yqg5Y2P5L2c6ICF5Yqf6IO95pqC5pyq5a6e546wJyk7CiAgICB9OwogICAgY29uc3Qgdmlld0hpc3RvcnkgPSAoKSA9PiB7CiAgICAgIEVsTWVzc2FnZS5pbmZvKCfmn6XnnIvljoblj7LniYjmnKzlip/og73mmoLmnKrlrp7njrAnKTsKICAgIH07CiAgICBjb25zdCBhcHBseVNtYXJ0QWN0aW9uID0gYWN0aW9uID0+IHsKICAgICAgRWxNZXNzYWdlLmluZm8oYOaZuuiDveaTjeS9nCIke2FjdGlvbn0i5Yqf6IO95pqC5pyq5a6e546wYCk7CiAgICB9OwoKICAgIC8vIOmYsuaKluaQnOe0ogogICAgY29uc3QgZGVib3VuY2VkU2VhcmNoID0gXy5kZWJvdW5jZSgoKSA9PiB7CiAgICAgIC8vIOaQnOe0oumAu+i+keW3sumAmui/h+iuoeeul+WxnuaAp+WkhOeQhgogICAgfSwgMzAwKTsKICAgIGNvbnN0IGZvcm1hdERhdGUgPSBkYXRlU3RyaW5nID0+IHsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOwogICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwoKICAgICAgLy8g5ZCM5LiA5aSp5pi+56S65pe26Ze0CiAgICAgIGlmIChkYXRlLnRvRGF0ZVN0cmluZygpID09PSBub3cudG9EYXRlU3RyaW5nKCkpIHsKICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoJ3poLUNOJywgewogICAgICAgICAgaG91cjogJzItZGlnaXQnLAogICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8g5pio5aSpCiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKG5vdyk7CiAgICAgIHllc3RlcmRheS5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSAxKTsKICAgICAgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHllc3RlcmRheS50b0RhdGVTdHJpbmcoKSkgewogICAgICAgIHJldHVybiAn5pio5aSpJzsKICAgICAgfQoKICAgICAgLy8g5LiA5ZGo5YaF5pi+56S65pif5pyfCiAgICAgIGNvbnN0IHdlZWtEYXlzID0gWyflkajml6UnLCAn5ZGo5LiAJywgJ+WRqOS6jCcsICflkajkuIknLCAn5ZGo5ZubJywgJ+WRqOS6lCcsICflkajlha0nXTsKICAgICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLnJvdW5kKChub3cgLSBkYXRlKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7CiAgICAgIGlmIChkaWZmRGF5cyA8IDcpIHsKICAgICAgICByZXR1cm4gd2Vla0RheXNbZGF0ZS5nZXREYXkoKV07CiAgICAgIH0KCiAgICAgIC8vIOWFtuS7luaDheWGteaYvuekuuaXpeacnwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywgewogICAgICAgIG1vbnRoOiAnbnVtZXJpYycsCiAgICAgICAgZGF5OiAnbnVtZXJpYycKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOebkeWQrOi3r+eUseWPmOWMlgogICAgd2F0Y2goKCkgPT4gcm91dGUucGFyYW1zLmlkLCBuZXdJZCA9PiB7CiAgICAgIGlmIChuZXdJZCkgewogICAgICAgIC8vIOajgOafpUlE5piv5ZCm5Li65pyJ5pWI5YC8CiAgICAgICAgaWYgKGlzTmFOKE51bWJlcihuZXdJZCkpKSB7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+aXoOaViOeahOaWh+aho0lEJyk7CiAgICAgICAgICByb3V0ZXIucHVzaCgnL3NtYXJ0ZG9jJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGZldGNoRG9jdW1lbnREZXRhaWwobmV3SWQpOwogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnREb2MudmFsdWUgPSBudWxsOwogICAgICB9CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CgogICAgLy8g6Ieq5Yqo5L+d5a2Y5Yqf6IO9CiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmIChkb2N1bWVudENoYW5nZWQudmFsdWUgJiYgY3VycmVudERvYy52YWx1ZSAmJiAhc2F2ZUxvYWRpbmcudmFsdWUpIHsKICAgICAgICBzYXZlRG9jdW1lbnQoKTsKICAgICAgfQogICAgfSwgNjAwMDApOyAvLyDmr4/liIbpkp/oh6rliqjkv53lrZjkuIDmrKEKCiAgICAvLyDnlJ/lkb3lkajmnJ/pkqnlrZAKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGZldGNoRG9jdW1lbnRzKCk7CgogICAgICAvLyDku47ot6/nlLHojrflj5bmlofmoaNJRAogICAgICBjb25zdCBkb2NJZCA9IHJvdXRlLnBhcmFtcy5pZDsKICAgICAgaWYgKGRvY0lkKSB7CiAgICAgICAgZmV0Y2hEb2N1bWVudERldGFpbChkb2NJZCk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZG9jdW1lbnRzLAogICAgICBjdXJyZW50RG9jLAogICAgICBkb2N1bWVudENoYW5nZWQsCiAgICAgIGlzRG9jTGlzdENvbGxhcHNlZCwKICAgICAgaXNBc3Npc3RhbnRDb2xsYXBzZWQsCiAgICAgIGFjdGl2ZUFzc2lzdGFudFRhYiwKICAgICAgc2VhcmNoUXVlcnksCiAgICAgIGRvY1R5cGVGaWx0ZXIsCiAgICAgIHNvcnRPcHRpb24sCiAgICAgIGZpbHRlcmVkRG9jdW1lbnRzLAogICAgICBuZXdEb2N1bWVudERpYWxvZ1Zpc2libGUsCiAgICAgIHNoYXJlRGlhbG9nVmlzaWJsZSwKICAgICAgZGVsZXRlRGlhbG9nVmlzaWJsZSwKICAgICAga25vd2xlZGdlUXVlcnksCiAgICAgIHJlbGF0ZWREb2N1bWVudHMsCiAgICAgIHNlbGVjdGVkVXNlcnMsCiAgICAgIGF2YWlsYWJsZVVzZXJzLAogICAgICBzYXZlTG9hZGluZywKICAgICAgY3JlYXRlTG9hZGluZywKICAgICAgc2hhcmVMb2FkaW5nLAogICAgICBkZWxldGVMb2FkaW5nLAogICAgICByZWxhdGVkTG9hZGluZywKICAgICAgbmV3RG9jdW1lbnRGb3JtLAogICAgICBkb2N1bWVudEZvcm1SdWxlcywKICAgICAgZG9jdW1lbnRGb3JtUmVmLAogICAgICBlZGl0b3JPcHRpb25zLAogICAgICBmZXRjaERvY3VtZW50cywKICAgICAgZmV0Y2hEb2N1bWVudERldGFpbCwKICAgICAgc2VsZWN0RG9jdW1lbnQsCiAgICAgIHNhdmVEb2N1bWVudCwKICAgICAgdG9nZ2xlRG9jTGlzdCwKICAgICAgdG9nZ2xlQXNzaXN0YW50LAogICAgICBvbkVkaXRvckNoYW5nZSwKICAgICAgb3Blbk5ld0RvY3VtZW50RGlhbG9nLAogICAgICBjcmVhdGVOZXdEb2N1bWVudCwKICAgICAgc2hhcmVEb2N1bWVudCwKICAgICAgY29uZmlybVNoYXJlLAogICAgICBkZWxldGVEb2N1bWVudCwKICAgICAgY29uZmlybURlbGV0ZSwKICAgICAgZmV0Y2hSZWxhdGVkRG9jdW1lbnRzLAogICAgICByZWZyZXNoUmVsYXRlZERvY3VtZW50cywKICAgICAgb3BlblJlbGF0ZWREb2N1bWVudCwKICAgICAgZXhwb3J0RG9jdW1lbnQsCiAgICAgIGV4cG9ydFRvUGRmLAogICAgICBleHBvcnRUb1dvcmQsCiAgICAgIHByaW50RG9jdW1lbnQsCiAgICAgIGFkZENvbGxhYm9yYXRvciwKICAgICAgdmlld0hpc3RvcnksCiAgICAgIGFwcGx5U21hcnRBY3Rpb24sCiAgICAgIGRlYm91bmNlZFNlYXJjaCwKICAgICAgZm9ybWF0RGF0ZQogICAgfTsKICB9Cn07"},{"version":3,"names":["ref","computed","watch","onMounted","useRoute","useRouter","ElMessage","ElMessageBox","ElLoading","_","getDocuments","getDocumentDetail","createDocument","updateDocument","deleteDocument","apiDeleteDocument","shareDocument","apiShareDocument","getRelatedDocuments","generateRelatedDocuments","Document","Plus","CircleCheck","Download","More","Search","ArrowLeft","ArrowRight","Share","ShareIcon","Refresh","QuillEditor","name","components","setup","route","router","documents","currentDoc","documentChanged","isDocListCollapsed","isAssistantCollapsed","activeAssistantTab","searchQuery","docTypeFilter","sortOption","newDocumentDialogVisible","shareDialogVisible","deleteDialogVisible","knowledgeQuery","relatedDocuments","selectedUsers","availableUsers","saveLoading","createLoading","shareLoading","deleteLoading","relatedLoading","newDocumentForm","title","type","documentFormRules","required","message","trigger","min","max","documentFormRef","editorOptions","placeholder","modules","toolbar","filteredDocuments","result","value","query","toLowerCase","filter","doc","includes","typeFilter","sort","a","b","Date","update_time","create_time","localeCompare","fetchDocuments","response","data","error","console","fetchDocumentDetail","id","fetchRelatedDocuments","Error","status","push","selectDocument","confirm","confirmButtonText","cancelButtonText","saveDocument","log","params","content","success","refreshRelatedDocuments","toggleDocList","toggleAssistant","onEditorChange","openNewDocumentDialog","createNewDocument","validate","valid","username","confirmShare","length","warning","confirmDelete","docId","openRelatedDocument","related_document_id","exportDocument","prompt","inputType","inputValue","inputPlaceholder","inputOptions","label","then","exportToPdf","exportToWord","catch","docTitle","filename","contentElement","document","createElement","innerHTML","style","padding","titleElement","textContent","textAlign","margin","typeElement","color","container","appendChild","options","image","quality","html2canvas","scale","useCORS","jsPDF","unit","format","orientation","loading","service","lock","text","background","html2pdfModule","html2pdf","default","from","set","save","close","Promise","all","docxModule","fileModule","Paragraph","TextRun","Packer","AlignmentType","HeadingLevel","saveAs","description","styles","paragraphStyles","basedOn","next","quickFormat","run","size","bold","paragraph","alignment","CENTER","spacing","after","parseHtmlToDocxParagraphs","contentParagraphs","addSection","children","heading","TITLE","toBlob","blob","htmlContent","tempDiv","paragraphs","Array","childNodes","forEach","node","nodeType","Node","TEXT_NODE","trim","ELEMENT_NODE","tagName","querySelectorAll","li","index","italics","indent","left","printDocument","info","addCollaborator","viewHistory","applySmartAction","action","debouncedSearch","debounce","formatDate","dateString","date","now","toDateString","toLocaleTimeString","hour","minute","yesterday","setDate","getDate","weekDays","diffDays","Math","round","getDay","toLocaleDateString","month","day","newId","isNaN","Number","immediate","setInterval"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\smartdoc\\Detail.vue"],"sourcesContent":["<template>\n  <div class=\"smart-doc-container\">\n    <!-- 文档列表侧边栏 -->\n    <div class=\"sidebar\" :class=\"{ 'collapsed': isDocListCollapsed }\">\n      <!-- 侧边栏头部 -->\n      <div class=\"sidebar-header\">\n        <h4 v-if=\"!isDocListCollapsed\">我的文档</h4>\n        <div class=\"toggle-btn\" @click=\"toggleDocList\">\n          <el-icon><ArrowLeft v-if=\"!isDocListCollapsed\" /><ArrowRight v-else /></el-icon>\n        </div>\n      </div>\n\n      <!-- 展开状态的文档列表 -->\n      <div class=\"sidebar-content\" v-show=\"!isDocListCollapsed\">\n        <!-- 搜索和筛选区域 -->\n        <div class=\"search-area\">\n          <el-input\n            placeholder=\"搜索文档...\"\n            v-model=\"searchQuery\"\n            clearable\n            @input=\"debouncedSearch\"\n          >\n            <template #prefix>\n              <el-icon><Search /></el-icon>\n            </template>\n          </el-input>\n          <div class=\"filter-options\">\n            <el-input v-model=\"docTypeFilter\" placeholder=\"文档类型\" size=\"small\" clearable />\n            <el-select v-model=\"sortOption\" placeholder=\"排序\" size=\"small\">\n              <el-option label=\"最近更新\" value=\"update\" />\n              <el-option label=\"最近创建\" value=\"create\" />\n              <el-option label=\"名称升序\" value=\"name-asc\" />\n            </el-select>\n          </div>\n        </div>\n\n        <!-- 文档列表区域 -->\n        <el-scrollbar class=\"document-list-scrollbar\">\n          <div class=\"document-list\">\n            <div \n              v-for=\"doc in filteredDocuments\" \n              :key=\"doc.id\" \n              class=\"doc-item\"\n              :class=\"{ 'active': currentDoc?.id === doc.id }\"\n              @click=\"selectDocument(doc.id)\"\n            >\n              <div class=\"doc-icon\">\n                <el-icon><Document /></el-icon>\n              </div>\n              <div class=\"doc-info\">\n                <h5>{{ doc.title }}</h5>\n                <div class=\"doc-meta\">\n                  <span>{{ doc.type }}</span>\n                  <span>{{ formatDate(doc.update_time) }}</span>\n                </div>\n              </div>\n            </div>\n            \n            <div v-if=\"filteredDocuments.length === 0\" class=\"empty-state\">\n              <!-- 移除暂无文档的显示 -->\n            </div>\n          </div>\n        </el-scrollbar>\n\n        <!-- 创建按钮区域 -->\n        <div class=\"action-buttons\">\n          <el-button type=\"primary\" @click=\"openNewDocumentDialog\">\n            <el-icon><Plus /></el-icon> 新建文档\n          </el-button>\n        </div>\n      </div>\n\n      <!-- 折叠状态的文档图标列表 -->\n      <div class=\"collapsed-sidebar\" v-if=\"isDocListCollapsed\">\n        <el-tooltip content=\"新建文档\" placement=\"right\">\n          <div class=\"icon-btn create-btn\" @click=\"openNewDocumentDialog\">\n            <el-icon><Plus /></el-icon>\n          </div>\n        </el-tooltip>\n        \n        <div class=\"recent-docs\">\n          <el-tooltip \n            v-for=\"doc in filteredDocuments.slice(0, 5)\" \n            :key=\"doc.id\" \n            :content=\"doc.title\"\n            placement=\"right\"\n          >\n            <div \n              class=\"icon-btn doc-btn\"\n              :class=\"{ 'active': currentDoc?.id === doc.id }\"\n              @click=\"selectDocument(doc.id)\"\n            >\n              <el-icon><Document /></el-icon>\n            </div>\n          </el-tooltip>\n        </div>\n      </div>\n    </div>\n\n    <!-- 主内容区域 -->\n    <div class=\"main-content\">\n      <!-- 文档内容显示区域 -->\n      <div class=\"document-content\">\n        <template v-if=\"currentDoc\">\n          <!-- 文档标题和操作栏 -->\n          <div class=\"document-header\">\n            <div class=\"doc-info-area\">\n              <div class=\"doc-title-label\">标题：</div>\n              <div class=\"doc-title\">\n                <el-input \n                  v-model=\"currentDoc.title\"\n                  placeholder=\"文档标题\"\n                  size=\"large\"\n                  @change=\"documentChanged = true\"\n                />\n              </div>\n              <div class=\"doc-type-label\">类型：</div>\n              <div class=\"doc-type-selector\">\n                <el-input \n                  v-model=\"currentDoc.type\" \n                  placeholder=\"输入文档类型\"\n                  size=\"default\"\n                  @change=\"documentChanged = true\"\n                />\n              </div>\n            </div>\n            <div class=\"doc-actions\">\n              <el-tooltip content=\"保存文档\" placement=\"bottom\">\n                <el-button \n                  circle\n                  :disabled=\"!documentChanged\" \n                  :loading=\"saveLoading\"\n                  @click=\"saveDocument\"\n                >\n                  <el-icon><CircleCheck /></el-icon>\n                </el-button>\n              </el-tooltip>\n              <el-tooltip content=\"分享文档\" placement=\"bottom\">\n                <el-button circle @click=\"shareDocument\"><el-icon><ShareIcon /></el-icon></el-button>\n              </el-tooltip>\n              <el-tooltip content=\"导出文档\" placement=\"bottom\">\n                <el-button circle @click=\"exportDocument\"><el-icon><Download /></el-icon></el-button>\n              </el-tooltip>\n              <el-tooltip content=\"更多操作\" placement=\"bottom\">\n                <el-dropdown trigger=\"click\">\n                  <el-button circle><el-icon><More /></el-icon></el-button>\n                  <template #dropdown>\n                    <el-dropdown-menu>\n                      <el-dropdown-item @click=\"printDocument\">打印文档</el-dropdown-item>\n                      <el-dropdown-item @click=\"addCollaborator\">添加协作者</el-dropdown-item>\n                      <el-dropdown-item @click=\"viewHistory\">查看历史版本</el-dropdown-item>\n                      <el-dropdown-item divided @click=\"deleteDocument\" class=\"text-red-500\">删除文档</el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n              </el-tooltip>\n            </div>\n          </div>\n          \n          <!-- 编辑器区域 -->\n          <div class=\"editor-area\">\n            <QuillEditor\n              v-model:content=\"currentDoc.content\"\n              :options=\"editorOptions\"\n              contentType=\"html\"\n              theme=\"snow\"\n              class=\"quill-editor\"\n              @textChange=\"onEditorChange\"\n              placeholder=\" \"\n            />\n          </div>\n        </template>\n        \n        <!-- 无文档时的提示 -->\n        <div v-else class=\"empty-doc-state\">\n          <el-empty description=\"请选择或创建一个文档\">\n            <el-button type=\"primary\" @click=\"openNewDocumentDialog\">新建文档</el-button>\n          </el-empty>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 智能助手面板 -->\n    <div class=\"assistant-panel\" :class=\"{ 'collapsed': isAssistantCollapsed }\">\n      <div class=\"assistant-header\">\n        <h5 v-if=\"!isAssistantCollapsed\">智能助手</h5>\n        <div class=\"toggle-btn\" @click=\"toggleAssistant\">\n          <el-icon><ArrowRight v-if=\"!isAssistantCollapsed\" /><ArrowLeft v-else /></el-icon>\n        </div>\n      </div>\n      \n      <div class=\"assistant-body\" v-show=\"!isAssistantCollapsed\">\n        <el-tabs v-model=\"activeAssistantTab\">\n          <!-- 上下文感知标签页 -->\n          <el-tab-pane label=\"上下文感知\" name=\"context\">\n            <div class=\"assistant-content\">\n              <div class=\"context-header\">\n              <h6>相关文档</h6>\n                <el-button type=\"primary\" size=\"small\" @click=\"refreshRelatedDocuments\" :loading=\"relatedLoading\">\n                  <el-icon><Refresh /></el-icon> 刷新\n                </el-button>\n              </div>\n              <div class=\"related-docs\">\n                <el-empty v-if=\"relatedDocuments.length === 0\" description=\"暂无相关文档\" />\n                <div \n                  v-for=\"doc in relatedDocuments\" \n                  :key=\"doc.id\" \n                  class=\"related-doc-item\"\n                  @click=\"openRelatedDocument(doc)\"\n                >\n                  <div class=\"doc-title\">{{ doc.title }}</div>\n                  <div class=\"doc-source\">来源: {{ doc.source }} (相关度: {{ (doc.relevance_score * 100).toFixed(0) }}%)</div>\n                </div>\n              </div>\n              \n              <h6>建议操作</h6>\n              <div class=\"suggested-actions\">\n                <el-button size=\"small\" @click=\"applySmartAction('整合相关邮件内容')\">\n                  整合相关邮件内容\n                </el-button>\n                <el-button size=\"small\" @click=\"applySmartAction('引用会议记录')\">\n                  引用会议记录\n                </el-button>\n                <el-button size=\"small\" @click=\"applySmartAction('查找专业内容')\">\n                  查找专业内容\n                </el-button>\n              </div>\n            </div>\n          </el-tab-pane>\n          \n          <!-- 专业知识标签页 -->\n          <el-tab-pane label=\"专业知识\" name=\"knowledge\">\n            <div class=\"assistant-content knowledge-tab\">\n              <el-input\n                v-model=\"knowledgeQuery\"\n                placeholder=\"搜索专业知识...\"\n                class=\"mb-4\"\n              >\n                <template #suffix>\n                  <el-button :icon=\"Search\" circle />\n                </template>\n              </el-input>\n              \n              <el-empty description=\"专业知识功能暂未实现\" />\n            </div>\n          </el-tab-pane>\n          \n          <!-- 决策树标签页 -->\n          <el-tab-pane label=\"决策树\" name=\"decision\">\n            <div class=\"assistant-content decision-tab\">\n              <el-empty description=\"决策树功能暂未实现\" />\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n\n    <!-- 创建新文档对话框 -->\n    <el-dialog\n      v-model=\"newDocumentDialogVisible\"\n      title=\"新建智能文档\"\n      width=\"35%\"\n    >\n      <el-form \n        :model=\"newDocumentForm\" \n        label-width=\"80px\" \n        :rules=\"documentFormRules\"\n        ref=\"documentFormRef\"\n      >\n        <el-form-item label=\"文档标题\" prop=\"title\">\n          <el-input v-model=\"newDocumentForm.title\" placeholder=\"请输入文档标题\" />\n        </el-form-item>\n        <el-form-item label=\"文档类型\">\n          <el-input v-model=\"newDocumentForm.type\" placeholder=\"请输入文档类型\" />\n          <div class=\"form-tip\">如果未填写，默认为通用类型</div>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"newDocumentDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"createNewDocument\" :loading=\"createLoading\">\n            创建\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n    \n    <!-- 分享文档对话框 -->\n    <el-dialog\n      v-model=\"shareDialogVisible\"\n      title=\"分享文档\"\n      width=\"30%\"\n    >\n      <div v-if=\"currentDoc\">\n        <p>您即将分享文档: <strong>{{ currentDoc.title }}</strong></p>\n        <el-form label-width=\"120px\" class=\"mt-4\">\n          <el-form-item label=\"选择用户\">\n            <el-select\n              v-model=\"selectedUsers\"\n              multiple\n              placeholder=\"请选择用户\"\n              style=\"width: 100%\"\n            >\n              <el-option\n                v-for=\"user in availableUsers\"\n                :key=\"user.id\"\n                :label=\"user.username\"\n                :value=\"user.id\"\n              />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"shareDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"confirmShare\" :loading=\"shareLoading\">\n            分享\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n    \n    <!-- 删除确认对话框 -->\n    <el-dialog\n      v-model=\"deleteDialogVisible\"\n      title=\"删除文档\"\n      width=\"30%\"\n    >\n      <div v-if=\"currentDoc\">\n        <p>您确定要删除文档 <strong>{{ currentDoc.title }}</strong> 吗?</p>\n        <p class=\"warning-text\">此操作不可撤销!</p>\n        </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"deleteDialogVisible = false\">取消</el-button>\n          <el-button type=\"danger\" @click=\"confirmDelete\" :loading=\"deleteLoading\">\n            删除\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage, ElMessageBox, ElLoading } from 'element-plus'\nimport _ from 'lodash'\nimport { \n  getDocuments, \n  getDocumentDetail, \n  createDocument, \n  updateDocument,\n  deleteDocument as apiDeleteDocument,\n  shareDocument as apiShareDocument,\n  getRelatedDocuments,\n  generateRelatedDocuments\n} from '@/api/smartdoc'\nimport { Document, Plus, CircleCheck, Download, More, Search, ArrowLeft, ArrowRight, Share as ShareIcon, Refresh } from '@element-plus/icons-vue'\nimport { QuillEditor } from '@vueup/vue-quill'\nimport '@vueup/vue-quill/dist/vue-quill.snow.css'\n\nexport default {\n  name: 'SmartDocDetail',\n  components: {\n    Document, Plus, CircleCheck, Download, More, \n    Search, ArrowLeft, ArrowRight, ShareIcon, QuillEditor, Refresh\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    \n    // 状态数据\n    const documents = ref([])\n    const currentDoc = ref(null)\n    const documentChanged = ref(false)\n    const isDocListCollapsed = ref(false)\n    const isAssistantCollapsed = ref(false)\n    const activeAssistantTab = ref('context')\n    const searchQuery = ref('')\n    const docTypeFilter = ref('')\n    const sortOption = ref('update')\n    const newDocumentDialogVisible = ref(false)\n    const shareDialogVisible = ref(false)\n    const deleteDialogVisible = ref(false)\n    const knowledgeQuery = ref('')\n    const relatedDocuments = ref([])\n    const selectedUsers = ref([])\n    const availableUsers = ref([])\n    \n    // 加载状态\n    const saveLoading = ref(false)\n    const createLoading = ref(false)\n    const shareLoading = ref(false)\n    const deleteLoading = ref(false)\n    const relatedLoading = ref(false)\n    \n    // 表单数据\n    const newDocumentForm = ref({\n        title: '',\n      type: ''\n    })\n    \n    // 表单验证规则\n    const documentFormRules = {\n      title: [\n        { required: true, message: '请输入文档标题', trigger: 'blur' },\n        { min: 2, max: 50, message: '标题长度须在2到50个字符之间', trigger: 'blur' }\n      ]\n    }\n    \n    const documentFormRef = ref(null)\n      \n      // 编辑器配置\n    const editorOptions = {\n      placeholder: ' ',\n        modules: {\n          toolbar: [\n            ['bold', 'italic', 'underline', 'strike'],\n            ['blockquote', 'code-block'],\n          [{ 'header': 1 }, { 'header': 2 }],\n          [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n          [{ 'script': 'sub' }, { 'script': 'super' }],\n          [{ 'indent': '-1' }, { 'indent': '+1' }],\n          [{ 'direction': 'rtl' }],\n          [{ 'size': ['small', false, 'large', 'huge'] }],\n          [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n          [{ 'color': [] }, { 'background': [] }],\n          [{ 'font': [] }],\n          [{ 'align': [] }],\n            ['clean'],\n          ['link', 'image']\n        ]\n      }\n    }\n    \n    // 计算属性\n    const filteredDocuments = computed(() => {\n      let result = [...documents.value]\n      \n      // 搜索筛选\n      if (searchQuery.value) {\n        const query = searchQuery.value.toLowerCase()\n        result = result.filter(doc => \n          doc.title.toLowerCase().includes(query) || \n          doc.type.toLowerCase().includes(query)\n        )\n      }\n      \n      // 类型筛选\n      if (docTypeFilter.value) {\n        const typeFilter = docTypeFilter.value.toLowerCase()\n        result = result.filter(doc => \n          doc.type.toLowerCase().includes(typeFilter)\n        )\n      }\n      \n      // 排序\n      if (sortOption.value === 'update') {\n        result.sort((a, b) => new Date(b.update_time) - new Date(a.update_time))\n      } else if (sortOption.value === 'create') {\n        result.sort((a, b) => new Date(b.create_time) - new Date(a.create_time))\n      } else if (sortOption.value === 'name-asc') {\n        result.sort((a, b) => a.title.localeCompare(b.title))\n      }\n      \n      return result\n    })\n    \n    // 方法\n    const fetchDocuments = async () => {\n      try {\n        const response = await getDocuments()\n        documents.value = response.data\n      } catch (error) {\n        console.error('获取文档列表失败', error)\n        ElMessage.error('获取文档列表失败')\n      }\n    }\n    \n    const fetchDocumentDetail = async (id) => {\n      try {\n        const response = await getDocumentDetail(id)\n        // 检查是否获取到有效的文档数据\n        if (response && response.data) {\n          currentDoc.value = response.data\n          documentChanged.value = false\n          \n          // 获取相关文档\n          fetchRelatedDocuments(id)\n        } else {\n          throw new Error('文档不存在或数据无效')\n        }\n      } catch (error) {\n        console.error('获取文档详情失败', error)\n        ElMessage.error(error.response && error.response.status === 404 ? '文档不存在' : '获取文档详情失败')\n        // 返回到文档列表页\n        router.push('/smartdoc')\n      }\n    }\n    \n    const selectDocument = async (id) => {\n      // 如果当前文档已修改，提示保存\n      if (documentChanged.value && currentDoc.value) {\n        try {\n          await ElMessageBox.confirm(\n            '当前文档已修改但未保存，是否保存更改？',\n            '保存提示',\n            {\n              confirmButtonText: '保存',\n              cancelButtonText: '不保存',\n              type: 'warning'\n            }\n          )\n          await saveDocument()\n        } catch (error) {\n          // 用户选择不保存，继续切换文档\n          console.log('用户选择不保存')\n        }\n      }\n      \n      // 更新路由以反映新选中的文档\n      router.push({ name: 'SmartDocDetail', params: { id } })\n    }\n    \n    const saveDocument = async () => {\n      if (!currentDoc.value || !documentChanged.value) return\n      \n      saveLoading.value = true\n      try {\n        await updateDocument(currentDoc.value.id, {\n          title: currentDoc.value.title,\n          type: currentDoc.value.type,\n          content: currentDoc.value.content\n        })\n        \n        documentChanged.value = false\n        ElMessage.success('文档保存成功')\n        \n        // 刷新相关文档\n        refreshRelatedDocuments()\n      } catch (error) {\n        console.error('保存文档失败', error)\n        ElMessage.error('保存文档失败')\n      } finally {\n        saveLoading.value = false\n      }\n    }\n    \n    const toggleDocList = () => {\n      isDocListCollapsed.value = !isDocListCollapsed.value\n    }\n    \n    const toggleAssistant = () => {\n      isAssistantCollapsed.value = !isAssistantCollapsed.value\n    }\n    \n    const onEditorChange = () => {\n      documentChanged.value = true\n    }\n    \n    const openNewDocumentDialog = () => {\n      newDocumentForm.value = { title: '', type: '' }\n      newDocumentDialogVisible.value = true\n    }\n    \n    const createNewDocument = async () => {\n      if (!documentFormRef.value) return\n      \n      await documentFormRef.value.validate(async (valid) => {\n        if (valid) {\n          createLoading.value = true\n          try {\n            const response = await createDocument({\n              title: newDocumentForm.value.title,\n              type: newDocumentForm.value.type || '通用',\n              content: ''\n            })\n            \n            ElMessage.success('文档创建成功')\n            newDocumentDialogVisible.value = false\n            \n            // 刷新文档列表并打开新文档\n            await fetchDocuments()\n            router.push({ name: 'SmartDocDetail', params: { id: response.data.id } })\n      } catch (error) {\n            console.error('创建文档失败', error)\n            ElMessage.error('创建文档失败')\n          } finally {\n            createLoading.value = false\n          }\n        }\n      })\n    }\n    \n    const shareDocument = () => {\n      if (!currentDoc.value) return\n      \n      // 在实际项目中，这里应该从API获取可用用户列表\n      availableUsers.value = [\n        { id: 1, username: '张三' },\n        { id: 2, username: '李四' },\n        { id: 3, username: '王五' }\n      ]\n      selectedUsers.value = []\n      shareDialogVisible.value = true\n    }\n    \n    const confirmShare = async () => {\n      if (!currentDoc.value || selectedUsers.value.length === 0) {\n        ElMessage.warning('请选择至少一个用户')\n        return\n      }\n      \n      shareLoading.value = true\n      try {\n        await apiShareDocument(currentDoc.value.id, selectedUsers.value)\n        ElMessage.success('文档分享成功')\n        shareDialogVisible.value = false\n      } catch (error) {\n        console.error('分享文档失败', error)\n        ElMessage.error('分享文档失败')\n      } finally {\n        shareLoading.value = false\n      }\n    }\n    \n    const deleteDocument = () => {\n      if (!currentDoc.value) return\n      \n      deleteDialogVisible.value = true\n    }\n    \n    const confirmDelete = async () => {\n      if (!currentDoc.value) return\n      \n      deleteLoading.value = true\n      try {\n        await apiDeleteDocument(currentDoc.value.id)\n        ElMessage.success('文档删除成功')\n        deleteDialogVisible.value = false\n        \n        // 返回到文档列表页\n        router.push('/smartdoc')\n      } catch (error) {\n        console.error('删除文档失败', error)\n        ElMessage.error('删除文档失败')\n      } finally {\n        deleteLoading.value = false\n      }\n    }\n    \n    const fetchRelatedDocuments = async (id) => {\n      if (!id && !currentDoc.value) return\n      \n      const docId = id || currentDoc.value.id\n      \n      try {\n        const response = await getRelatedDocuments(docId)\n        relatedDocuments.value = response.data\n      } catch (error) {\n        console.error('获取相关文档失败', error)\n      }\n    }\n    \n    const refreshRelatedDocuments = async () => {\n      if (!currentDoc.value) return\n      \n      relatedLoading.value = true\n      try {\n        const response = await generateRelatedDocuments(currentDoc.value.id)\n        relatedDocuments.value = response.data\n        ElMessage.success('已刷新相关文档')\n      } catch (error) {\n        console.error('刷新相关文档失败', error)\n        ElMessage.error('刷新相关文档失败')\n      } finally {\n        relatedLoading.value = false\n      }\n    }\n    \n    const openRelatedDocument = (doc) => {\n      // 获取文档ID并打开\n      const docId = doc.related_document_id\n      if (docId) {\n        selectDocument(docId)\n      }\n    }\n    \n    const exportDocument = () => {\n      // 显示导出选项弹窗\n      ElMessageBox.prompt('选择导出格式', '导出文档', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputType: 'select',\n        inputValue: 'pdf',\n        inputPlaceholder: '请选择导出格式',\n        inputOptions: [\n          {\n            value: 'pdf',\n            label: 'PDF格式'\n          },\n          {\n            value: 'docx',\n            label: 'Word格式'\n          }\n        ]\n      }).then(({ value }) => {\n        if (value === 'pdf') {\n          exportToPdf()\n        } else if (value === 'docx') {\n          exportToWord()\n        }\n      }).catch(() => {\n        // 取消导出，不做任何处理\n      })\n    }\n    \n    // 导出为PDF\n    const exportToPdf = () => {\n      if (!currentDoc.value) {\n        ElMessage.error('没有可导出的文档')\n        return\n      }\n      \n      const docTitle = currentDoc.value.title || '未命名文档'\n      const filename = `${docTitle}.pdf`\n      \n      // 创建一个元素来包含文档内容\n      const contentElement = document.createElement('div')\n      contentElement.innerHTML = currentDoc.value.content\n      contentElement.style.padding = '20px'\n      \n      // 添加文档标题\n      const titleElement = document.createElement('h1')\n      titleElement.textContent = docTitle\n      titleElement.style.textAlign = 'center'\n      titleElement.style.margin = '0 0 20px 0'\n      \n      // 添加文档类型\n      const typeElement = document.createElement('p')\n      typeElement.textContent = `类型: ${currentDoc.value.type || '未分类'}`\n      typeElement.style.textAlign = 'center'\n      typeElement.style.margin = '0 0 30px 0'\n      typeElement.style.color = '#666'\n      \n      // 创建完整内容容器\n      const container = document.createElement('div')\n      container.appendChild(titleElement)\n      container.appendChild(typeElement)\n      container.appendChild(contentElement)\n      \n      // 设置导出选项\n      const options = {\n        margin: [15, 15, 15, 15],\n        filename: filename,\n        image: { type: 'jpeg', quality: 0.98 },\n        html2canvas: { scale: 2, useCORS: true },\n        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\n      }\n      \n      // 显示加载中\n      const loading = ElLoading.service({\n        lock: true,\n        text: '正在生成PDF...',\n        background: 'rgba(255, 255, 255, 0.7)'\n      })\n      \n      // 使用html2pdf.js导出PDF\n      import('html2pdf.js').then(html2pdfModule => {\n        const html2pdf = html2pdfModule.default\n        html2pdf().from(container).set(options).save().then(() => {\n          loading.close()\n          ElMessage.success('PDF导出成功')\n        }).catch(error => {\n          console.error('PDF导出失败:', error)\n          loading.close()\n          ElMessage.error('PDF导出失败')\n        })\n      }).catch(error => {\n        console.error('加载html2pdf.js失败:', error)\n        loading.close()\n        ElMessage.error('PDF导出功能加载失败')\n      })\n    }\n    \n    // 导出为Word\n    const exportToWord = () => {\n      if (!currentDoc.value) {\n        ElMessage.error('没有可导出的文档')\n        return\n      }\n      \n      const docTitle = currentDoc.value.title || '未命名文档'\n      const filename = `${docTitle}.docx`\n      \n      // 显示加载中\n      const loading = ElLoading.service({\n        lock: true,\n        text: '正在生成Word文档...',\n        background: 'rgba(255, 255, 255, 0.7)'\n      })\n      \n      // 使用docx库创建Word文档\n      Promise.all([\n        import('docx'),\n        import('file-saver')\n      ]).then(([docxModule, fileModule]) => {\n        const { Document, Paragraph, TextRun, Packer, AlignmentType, HeadingLevel } = docxModule\n        const { saveAs } = fileModule.default\n        \n        // 创建文档\n        const doc = new Document({\n          title: docTitle,\n          description: `${docTitle} - 由Smart Office生成`,\n          styles: {\n            paragraphStyles: [\n              {\n                id: 'title',\n                name: 'Title',\n                basedOn: 'Normal',\n                next: 'Normal',\n                quickFormat: true,\n                run: {\n                  size: 32,\n                  bold: true,\n                  color: '000000'\n                },\n                paragraph: {\n                  alignment: AlignmentType.CENTER,\n                  spacing: { after: 200 }\n                }\n              }\n            ]\n          }\n        })\n        \n        // 添加标题和处理内容\n        parseHtmlToDocxParagraphs(currentDoc.value.content).then(contentParagraphs => {\n          doc.addSection({\n            children: [\n              new Paragraph({\n                text: docTitle,\n                heading: HeadingLevel.TITLE,\n                alignment: AlignmentType.CENTER\n              }),\n              new Paragraph({\n                text: `类型: ${currentDoc.value.type || '未分类'}`,\n                alignment: AlignmentType.CENTER,\n                spacing: { after: 400 }\n              }),\n              // 添加处理后的内容段落\n              ...contentParagraphs\n            ]\n          })\n          \n          // 生成并下载文件\n          return Packer.toBlob(doc)\n        }).then(blob => {\n          saveAs(blob, filename)\n          loading.close()\n          ElMessage.success('Word文档导出成功')\n        }).catch(error => {\n          console.error('Word导出失败:', error)\n          loading.close()\n          ElMessage.error('Word导出失败')\n        })\n      }).catch(error => {\n        console.error('加载依赖失败:', error)\n        loading.close()\n        ElMessage.error('Word导出功能加载失败')\n      })\n    }\n    \n    // 将HTML内容解析为docx段落\n    const parseHtmlToDocxParagraphs = (htmlContent) => {\n      // 创建临时DOM元素来解析HTML\n      const tempDiv = document.createElement('div')\n      tempDiv.innerHTML = htmlContent\n      \n      // 使用动态导入返回的变量\n      return import('docx').then(docxModule => {\n        const { Paragraph, TextRun, AlignmentType } = docxModule\n        const paragraphs = []\n      \n      // 遍历顶级节点\n      Array.from(tempDiv.childNodes).forEach(node => {\n        if (node.nodeType === Node.TEXT_NODE) {\n          // 文本节点\n          if (node.textContent.trim()) {\n            paragraphs.push(new Paragraph({\n              children: [new TextRun(node.textContent)]\n            }))\n          }\n        } else if (node.nodeType === Node.ELEMENT_NODE) {\n          // 元素节点\n          const tagName = node.tagName.toLowerCase()\n          \n          // 根据不同标签类型处理\n          if (tagName === 'p') {\n            paragraphs.push(new Paragraph({\n              children: [new TextRun(node.textContent)],\n              spacing: { after: 200 }\n            }))\n          } else if (tagName === 'h1') {\n            paragraphs.push(new Paragraph({\n              text: node.textContent,\n              heading: 1,\n              spacing: { after: 200 }\n            }))\n          } else if (tagName === 'h2') {\n            paragraphs.push(new Paragraph({\n              text: node.textContent,\n              heading: 2,\n              spacing: { after: 200 }\n            }))\n          } else if (tagName === 'h3') {\n            paragraphs.push(new Paragraph({\n              text: node.textContent,\n              heading: 3,\n              spacing: { after: 200 }\n            }))\n          } else if (tagName === 'ul' || tagName === 'ol') {\n            // 处理列表\n            Array.from(node.querySelectorAll('li')).forEach((li, index) => {\n              paragraphs.push(new Paragraph({\n                children: [\n                  new TextRun({\n                    text: tagName === 'ol' ? `${index + 1}. ` : '• ',\n                    bold: true\n                  }),\n                  new TextRun(li.textContent)\n                ],\n                spacing: { after: 120 }\n              }))\n            })\n          } else if (tagName === 'blockquote') {\n            paragraphs.push(new Paragraph({\n              children: [new TextRun({ text: node.textContent, italics: true })],\n              indent: { left: 400 },\n              spacing: { after: 200 }\n            }))\n          } else {\n            // 其他元素，直接添加文本内容\n            if (node.textContent.trim()) {\n              paragraphs.push(new Paragraph({\n                children: [new TextRun(node.textContent)]\n              }))\n            }\n          }\n        }\n      })\n      \n      return paragraphs\n      })\n    }\n    \n    const printDocument = () => {\n      ElMessage.info('打印文档功能暂未实现')\n    }\n    \n    const addCollaborator = () => {\n      ElMessage.info('添加协作者功能暂未实现')\n    }\n    \n    const viewHistory = () => {\n      ElMessage.info('查看历史版本功能暂未实现')\n    }\n    \n    const applySmartAction = (action) => {\n      ElMessage.info(`智能操作\"${action}\"功能暂未实现`)\n    }\n    \n    // 防抖搜索\n    const debouncedSearch = _.debounce(() => {\n      // 搜索逻辑已通过计算属性处理\n    }, 300)\n    \n    const formatDate = (dateString) => {\n      const date = new Date(dateString)\n      const now = new Date()\n      \n      // 同一天显示时间\n      if (date.toDateString() === now.toDateString()) {\n        return date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\n      }\n      \n      // 昨天\n      const yesterday = new Date(now)\n      yesterday.setDate(now.getDate() - 1)\n      if (date.toDateString() === yesterday.toDateString()) {\n        return '昨天'\n      }\n      \n      // 一周内显示星期\n      const weekDays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      const diffDays = Math.round((now - date) / (1000 * 60 * 60 * 24))\n      if (diffDays < 7) {\n        return weekDays[date.getDay()]\n      }\n      \n      // 其他情况显示日期\n      return date.toLocaleDateString('zh-CN', { month: 'numeric', day: 'numeric' })\n    }\n    \n    // 监听路由变化\n    watch(() => route.params.id, (newId) => {\n      if (newId) {\n        // 检查ID是否为有效值\n        if (isNaN(Number(newId))) {\n          ElMessage.error('无效的文档ID')\n          router.push('/smartdoc')\n          return\n        }\n        fetchDocumentDetail(newId)\n      } else {\n        currentDoc.value = null\n      }\n    }, { immediate: true })\n    \n    // 自动保存功能\n    setInterval(() => {\n      if (documentChanged.value && currentDoc.value && !saveLoading.value) {\n        saveDocument()\n      }\n    }, 60000) // 每分钟自动保存一次\n    \n    // 生命周期钩子\n    onMounted(() => {\n      fetchDocuments()\n      \n      // 从路由获取文档ID\n      const docId = route.params.id\n      if (docId) {\n        fetchDocumentDetail(docId)\n      }\n    })\n    \n    return {\n      documents,\n      currentDoc,\n      documentChanged,\n      isDocListCollapsed,\n      isAssistantCollapsed,\n      activeAssistantTab,\n      searchQuery,\n      docTypeFilter,\n      sortOption,\n      filteredDocuments,\n      newDocumentDialogVisible,\n      shareDialogVisible,\n      deleteDialogVisible,\n      knowledgeQuery,\n      relatedDocuments,\n      selectedUsers,\n      availableUsers,\n      saveLoading,\n      createLoading,\n      shareLoading,\n      deleteLoading,\n      relatedLoading,\n      newDocumentForm,\n      documentFormRules,\n      documentFormRef,\n      editorOptions,\n      fetchDocuments,\n      fetchDocumentDetail,\n      selectDocument,\n      saveDocument,\n      toggleDocList,\n      toggleAssistant,\n      onEditorChange,\n      openNewDocumentDialog,\n      createNewDocument,\n      shareDocument,\n      confirmShare,\n      deleteDocument,\n      confirmDelete,\n      fetchRelatedDocuments,\n      refreshRelatedDocuments,\n      openRelatedDocument,\n      exportDocument,\n      exportToPdf,\n      exportToWord,\n      printDocument,\n      addCollaborator,\n      viewHistory,\n      applySmartAction,\n      debouncedSearch,\n      formatDate\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* 修改整体布局，调整侧边栏和主内容区域的宽度比例 */\n.smart-doc-container {\n  display: flex;\n  height: 100%;\n  overflow: hidden;\n  background-color: #fff;\n}\n\n.sidebar {\n  width: 240px;\n  height: 100%;\n  border-right: 1px solid #e6e6e6;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: width 0.3s;\n}\n\n.sidebar.collapsed {\n  width: 50px;\n}\n\n.sidebar-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid #e6e6e6;\n  height: 48px;\n  box-sizing: border-box;\n}\n\n.sidebar-header h4 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.toggle-btn {\n  cursor: pointer;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n}\n\n.toggle-btn:hover {\n  background-color: #f2f2f2;\n}\n\n.sidebar-content {\n  display: flex;\n  flex-direction: column;\n  height: calc(100% - 48px);\n  overflow: hidden;\n}\n\n.search-area {\n  padding: 12px;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.filter-options {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.document-list-scrollbar {\n  flex: 1;\n  padding: 8px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.document-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.doc-item {\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.doc-item:hover {\n  background-color: #f5f7fa;\n}\n\n.doc-item.active {\n  background-color: #ecf5ff;\n}\n\n.doc-icon {\n  margin-right: 12px;\n  color: #409eff;\n}\n\n.doc-info {\n  flex: 1;\n  overflow: hidden;\n}\n\n.doc-info h5 {\n  margin: 0 0 4px 0;\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.doc-meta {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  color: #909399;\n}\n\n.action-buttons {\n  padding: 12px;\n  border-top: 1px solid #f0f0f0;\n}\n\n.action-buttons .el-button {\n  width: 100%;\n}\n\n.collapsed-sidebar {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 12px 0;\n  gap: 12px;\n  height: calc(100% - 48px);\n  overflow-y: auto;\n}\n\n.icon-btn {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.icon-btn:hover {\n  background-color: #f2f2f2;\n}\n\n.icon-btn.doc-btn.active {\n  background-color: #ecf5ff;\n  color: #409eff;\n}\n\n.create-btn {\n  background-color: #ecf5ff;\n  color: #409eff;\n}\n\n.recent-docs {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n  align-items: center;\n}\n\n/* 主内容区域样式 */\n.main-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  min-width: 0;\n  height: 100%;\n  background-color: #f6f6f6;\n  position: relative;\n}\n\n.document-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: visible;\n  background-color: #f6f6f6;\n  height: 100%;\n}\n\n/* 文档标题和类型标签样式 */\n.doc-title-label, .doc-type-label {\n  font-size: 14px;\n  font-weight: 600;\n  color: #606266;\n  white-space: nowrap;\n}\n\n.document-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 24px;\n  background-color: #fff;\n  border-bottom: 1px solid #e6e6e6;\n  height: 68px;\n  box-sizing: border-box;\n  width: 100%;\n  z-index: 5;\n}\n\n.doc-info-area {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n\n.doc-title {\n  width: 300px;\n}\n\n.doc-type-selector {\n  width: 150px;\n}\n\n.doc-actions {\n  display: flex;\n  gap: 8px;\n  z-index: 6; /* 确保操作按钮在最上层 */\n}\n\n.editor-area {\n  flex: 1;\n  padding: 24px;\n  overflow: visible;\n  background-color: #fff;\n  height: calc(100% - 68px);\n  position: relative;\n}\n\n.quill-editor {\n  height: 100%;\n  overflow-y: auto;\n}\n\n:deep(.ql-container) {\n  font-size: 16px;\n  height: auto;\n  min-height: 300px;\n}\n\n:deep(.ql-toolbar) {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n:deep(.ql-editor) {\n  min-height: calc(100vh - 250px);\n}\n\n.empty-doc-state {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n}\n\n/* 智能助手面板样式 */\n.assistant-panel {\n  width: 240px;\n  height: 100%;\n  border-left: 1px solid #e6e6e6;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.3s;\n}\n\n.assistant-panel.collapsed {\n  width: 50px;\n}\n\n.assistant-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid #e6e6e6;\n  height: 48px;\n  box-sizing: border-box;\n}\n\n.assistant-header h5 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.assistant-body {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  height: calc(100% - 48px);\n}\n\n.assistant-content {\n  padding: 12px;\n  overflow-y: auto;\n  height: 100%;\n}\n\n.assistant-content h6 {\n  font-size: 14px;\n  margin: 12px 0 8px 0;\n  font-weight: 600;\n}\n\n.related-docs {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.related-doc-item {\n  padding: 8px;\n  background-color: #f5f7fa;\n  border-radius: 4px;\n}\n\n.doc-title {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.doc-source {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 4px;\n}\n\n.suggested-actions {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.knowledge-items {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.knowledge-item {\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.term-header {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 12px;\n  background-color: #f5f7fa;\n  cursor: pointer;\n  font-weight: 500;\n}\n\n.term-explanation {\n  padding: 8px 12px;\n  font-size: 13px;\n  line-height: 1.5;\n  color: #606266;\n}\n\n.more-link {\n  text-align: right;\n  margin-top: 4px;\n}\n\n.decision-tree {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.decision-actions {\n  margin-top: 12px;\n}\n\n.empty-state {\n  padding: 20px;\n  text-align: center;\n}\n\n.context-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.warning-text {\n  color: #f56c6c;\n  font-weight: 500;\n}\n</style> "],"mappings":"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","ignoreList":[]}]}