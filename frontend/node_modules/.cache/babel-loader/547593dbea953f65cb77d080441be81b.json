{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\quill\\themes\\base.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\quill\\themes\\base.js","mtime":1751792161993},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCB7IG1lcmdlIH0gZnJvbSAnbG9kYXNoLWVzJzsKaW1wb3J0IEVtaXR0ZXIgZnJvbSAnLi4vY29yZS9lbWl0dGVyLmpzJzsKaW1wb3J0IFRoZW1lIGZyb20gJy4uL2NvcmUvdGhlbWUuanMnOwppbXBvcnQgQ29sb3JQaWNrZXIgZnJvbSAnLi4vdWkvY29sb3ItcGlja2VyLmpzJzsKaW1wb3J0IEljb25QaWNrZXIgZnJvbSAnLi4vdWkvaWNvbi1waWNrZXIuanMnOwppbXBvcnQgUGlja2VyIGZyb20gJy4uL3VpL3BpY2tlci5qcyc7CmltcG9ydCBUb29sdGlwIGZyb20gJy4uL3VpL3Rvb2x0aXAuanMnOwpjb25zdCBBTElHTlMgPSBbZmFsc2UsICdjZW50ZXInLCAncmlnaHQnLCAnanVzdGlmeSddOwpjb25zdCBDT0xPUlMgPSBbJyMwMDAwMDAnLCAnI2U2MDAwMCcsICcjZmY5OTAwJywgJyNmZmZmMDAnLCAnIzAwOGEwMCcsICcjMDA2NmNjJywgJyM5OTMzZmYnLCAnI2ZmZmZmZicsICcjZmFjY2NjJywgJyNmZmViY2MnLCAnI2ZmZmZjYycsICcjY2NlOGNjJywgJyNjY2UwZjUnLCAnI2ViZDZmZicsICcjYmJiYmJiJywgJyNmMDY2NjYnLCAnI2ZmYzI2NicsICcjZmZmZjY2JywgJyM2NmI5NjYnLCAnIzY2YTNlMCcsICcjYzI4NWZmJywgJyM4ODg4ODgnLCAnI2ExMDAwMCcsICcjYjI2YjAwJywgJyNiMmIyMDAnLCAnIzAwNjEwMCcsICcjMDA0N2IyJywgJyM2YjI0YjInLCAnIzQ0NDQ0NCcsICcjNWMwMDAwJywgJyM2NjNkMDAnLCAnIzY2NjYwMCcsICcjMDAzNzAwJywgJyMwMDI5NjYnLCAnIzNkMTQ2NiddOwpjb25zdCBGT05UUyA9IFtmYWxzZSwgJ3NlcmlmJywgJ21vbm9zcGFjZSddOwpjb25zdCBIRUFERVJTID0gWycxJywgJzInLCAnMycsIGZhbHNlXTsKY29uc3QgU0laRVMgPSBbJ3NtYWxsJywgZmFsc2UsICdsYXJnZScsICdodWdlJ107CmNsYXNzIEJhc2VUaGVtZSBleHRlbmRzIFRoZW1lIHsKICBjb25zdHJ1Y3RvcihxdWlsbCwgb3B0aW9ucykgewogICAgc3VwZXIocXVpbGwsIG9wdGlvbnMpOwogICAgY29uc3QgbGlzdGVuZXIgPSBlID0+IHsKICAgICAgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHF1aWxsLnJvb3QpKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGxpc3RlbmVyKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMudG9vbHRpcCAhPSBudWxsICYmCiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgIXRoaXMudG9vbHRpcC5yb290LmNvbnRhaW5zKGUudGFyZ2V0KSAmJgogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMudG9vbHRpcC50ZXh0Ym94ICYmICF0aGlzLnF1aWxsLmhhc0ZvY3VzKCkpIHsKICAgICAgICB0aGlzLnRvb2x0aXAuaGlkZSgpOwogICAgICB9CiAgICAgIGlmICh0aGlzLnBpY2tlcnMgIT0gbnVsbCkgewogICAgICAgIHRoaXMucGlja2Vycy5mb3JFYWNoKHBpY2tlciA9PiB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgICBpZiAoIXBpY2tlci5jb250YWluZXIuY29udGFpbnMoZS50YXJnZXQpKSB7CiAgICAgICAgICAgIHBpY2tlci5jbG9zZSgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogICAgcXVpbGwuZW1pdHRlci5saXN0ZW5ET00oJ2NsaWNrJywgZG9jdW1lbnQuYm9keSwgbGlzdGVuZXIpOwogIH0KICBhZGRNb2R1bGUobmFtZSkgewogICAgY29uc3QgbW9kdWxlID0gc3VwZXIuYWRkTW9kdWxlKG5hbWUpOwogICAgaWYgKG5hbWUgPT09ICd0b29sYmFyJykgewogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIHRoaXMuZXh0ZW5kVG9vbGJhcihtb2R1bGUpOwogICAgfQogICAgcmV0dXJuIG1vZHVsZTsKICB9CiAgYnVpbGRCdXR0b25zKGJ1dHRvbnMsIGljb25zKSB7CiAgICBBcnJheS5mcm9tKGJ1dHRvbnMpLmZvckVhY2goYnV0dG9uID0+IHsKICAgICAgY29uc3QgY2xhc3NOYW1lID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJzsKICAgICAgY2xhc3NOYW1lLnNwbGl0KC9ccysvKS5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgIGlmICghbmFtZS5zdGFydHNXaXRoKCdxbC0nKSkgcmV0dXJuOwogICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKCdxbC0nLmxlbmd0aCk7CiAgICAgICAgaWYgKGljb25zW25hbWVdID09IG51bGwpIHJldHVybjsKICAgICAgICBpZiAobmFtZSA9PT0gJ2RpcmVjdGlvbicpIHsKICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBpY29uc1tuYW1lXVsnJ10gKyBpY29uc1tuYW1lXS5ydGw7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaWNvbnNbbmFtZV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gaWNvbnNbbmFtZV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnV0dG9uLnZhbHVlIHx8ICcnOwogICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcgogICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgaWNvbnNbbmFtZV1bdmFsdWVdKSB7CiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGljb25zW25hbWVdW3ZhbHVlXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQogIGJ1aWxkUGlja2VycyhzZWxlY3RzLCBpY29ucykgewogICAgdGhpcy5waWNrZXJzID0gQXJyYXkuZnJvbShzZWxlY3RzKS5tYXAoc2VsZWN0ID0+IHsKICAgICAgaWYgKHNlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ3FsLWFsaWduJykpIHsKICAgICAgICBpZiAoc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJ29wdGlvbicpID09IG51bGwpIHsKICAgICAgICAgIGZpbGxTZWxlY3Qoc2VsZWN0LCBBTElHTlMpOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIGljb25zLmFsaWduID09PSAnb2JqZWN0JykgewogICAgICAgICAgcmV0dXJuIG5ldyBJY29uUGlja2VyKHNlbGVjdCwgaWNvbnMuYWxpZ24pOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoc2VsZWN0LmNsYXNzTGlzdC5jb250YWlucygncWwtYmFja2dyb3VuZCcpIHx8IHNlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ3FsLWNvbG9yJykpIHsKICAgICAgICBjb25zdCBmb3JtYXQgPSBzZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdxbC1iYWNrZ3JvdW5kJykgPyAnYmFja2dyb3VuZCcgOiAnY29sb3InOwogICAgICAgIGlmIChzZWxlY3QucXVlcnlTZWxlY3Rvcignb3B0aW9uJykgPT0gbnVsbCkgewogICAgICAgICAgZmlsbFNlbGVjdChzZWxlY3QsIENPTE9SUywgZm9ybWF0ID09PSAnYmFja2dyb3VuZCcgPyAnI2ZmZmZmZicgOiAnIzAwMDAwMCcpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IENvbG9yUGlja2VyKHNlbGVjdCwgaWNvbnNbZm9ybWF0XSk7CiAgICAgIH0KICAgICAgaWYgKHNlbGVjdC5xdWVyeVNlbGVjdG9yKCdvcHRpb24nKSA9PSBudWxsKSB7CiAgICAgICAgaWYgKHNlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ3FsLWZvbnQnKSkgewogICAgICAgICAgZmlsbFNlbGVjdChzZWxlY3QsIEZPTlRTKTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ3FsLWhlYWRlcicpKSB7CiAgICAgICAgICBmaWxsU2VsZWN0KHNlbGVjdCwgSEVBREVSUyk7CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdxbC1zaXplJykpIHsKICAgICAgICAgIGZpbGxTZWxlY3Qoc2VsZWN0LCBTSVpFUyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBuZXcgUGlja2VyKHNlbGVjdCk7CiAgICB9KTsKICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHsKICAgICAgdGhpcy5waWNrZXJzLmZvckVhY2gocGlja2VyID0+IHsKICAgICAgICBwaWNrZXIudXBkYXRlKCk7CiAgICAgIH0pOwogICAgfTsKICAgIHRoaXMucXVpbGwub24oRW1pdHRlci5ldmVudHMuRURJVE9SX0NIQU5HRSwgdXBkYXRlKTsKICB9Cn0KQmFzZVRoZW1lLkRFRkFVTFRTID0gbWVyZ2Uoe30sIFRoZW1lLkRFRkFVTFRTLCB7CiAgbW9kdWxlczogewogICAgdG9vbGJhcjogewogICAgICBoYW5kbGVyczogewogICAgICAgIGZvcm11bGEoKSB7CiAgICAgICAgICB0aGlzLnF1aWxsLnRoZW1lLnRvb2x0aXAuZWRpdCgnZm9ybXVsYScpOwogICAgICAgIH0sCiAgICAgICAgaW1hZ2UoKSB7CiAgICAgICAgICBsZXQgZmlsZUlucHV0ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXQucWwtaW1hZ2VbdHlwZT1maWxlXScpOwogICAgICAgICAgaWYgKGZpbGVJbnB1dCA9PSBudWxsKSB7CiAgICAgICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgIGZpbGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZmlsZScpOwogICAgICAgICAgICBmaWxlSW5wdXQuc2V0QXR0cmlidXRlKCdhY2NlcHQnLCB0aGlzLnF1aWxsLnVwbG9hZGVyLm9wdGlvbnMubWltZXR5cGVzLmpvaW4oJywgJykpOwogICAgICAgICAgICBmaWxlSW5wdXQuY2xhc3NMaXN0LmFkZCgncWwtaW1hZ2UnKTsKICAgICAgICAgICAgZmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHsKICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucXVpbGwuZ2V0U2VsZWN0aW9uKHRydWUpOwogICAgICAgICAgICAgIHRoaXMucXVpbGwudXBsb2FkZXIudXBsb2FkKHJhbmdlLCBmaWxlSW5wdXQuZmlsZXMpOwogICAgICAgICAgICAgIGZpbGVJbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZmlsZUlucHV0KTsKICAgICAgICAgIH0KICAgICAgICAgIGZpbGVJbnB1dC5jbGljaygpOwogICAgICAgIH0sCiAgICAgICAgdmlkZW8oKSB7CiAgICAgICAgICB0aGlzLnF1aWxsLnRoZW1lLnRvb2x0aXAuZWRpdCgndmlkZW8nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0pOwpjbGFzcyBCYXNlVG9vbHRpcCBleHRlbmRzIFRvb2x0aXAgewogIGNvbnN0cnVjdG9yKHF1aWxsLCBib3VuZHNDb250YWluZXIpIHsKICAgIHN1cGVyKHF1aWxsLCBib3VuZHNDb250YWluZXIpOwogICAgdGhpcy50ZXh0Ym94ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9InRleHQiXScpOwogICAgdGhpcy5saXN0ZW4oKTsKICB9CiAgbGlzdGVuKCkgewogICAgLy8gQHRzLWV4cGVjdC1lcnJvciBGaXggbWUgbGF0ZXIKICAgIHRoaXMudGV4dGJveC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4gewogICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7CiAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9KTsKICB9CiAgY2FuY2VsKCkgewogICAgdGhpcy5oaWRlKCk7CiAgICB0aGlzLnJlc3RvcmVGb2N1cygpOwogIH0KICBlZGl0KCkgewogICAgbGV0IG1vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdsaW5rJzsKICAgIGxldCBwcmV2aWV3ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsOwogICAgdGhpcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoJ3FsLWhpZGRlbicpOwogICAgdGhpcy5yb290LmNsYXNzTGlzdC5hZGQoJ3FsLWVkaXRpbmcnKTsKICAgIGlmICh0aGlzLnRleHRib3ggPT0gbnVsbCkgcmV0dXJuOwogICAgaWYgKHByZXZpZXcgIT0gbnVsbCkgewogICAgICB0aGlzLnRleHRib3gudmFsdWUgPSBwcmV2aWV3OwogICAgfSBlbHNlIGlmIChtb2RlICE9PSB0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGUnKSkgewogICAgICB0aGlzLnRleHRib3gudmFsdWUgPSAnJzsKICAgIH0KICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMucXVpbGwuZ2V0Qm91bmRzKHRoaXMucXVpbGwuc2VsZWN0aW9uLnNhdmVkUmFuZ2UpOwogICAgaWYgKGJvdW5kcyAhPSBudWxsKSB7CiAgICAgIHRoaXMucG9zaXRpb24oYm91bmRzKTsKICAgIH0KICAgIHRoaXMudGV4dGJveC5zZWxlY3QoKTsKICAgIHRoaXMudGV4dGJveC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgdGhpcy50ZXh0Ym94LmdldEF0dHJpYnV0ZShgZGF0YS0ke21vZGV9YCkgfHwgJycpOwogICAgdGhpcy5yb290LnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgbW9kZSk7CiAgfQogIHJlc3RvcmVGb2N1cygpIHsKICAgIHRoaXMucXVpbGwuZm9jdXMoewogICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlCiAgICB9KTsKICB9CiAgc2F2ZSgpIHsKICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgRml4IG1lIGxhdGVyCiAgICBsZXQgewogICAgICB2YWx1ZQogICAgfSA9IHRoaXMudGV4dGJveDsKICAgIHN3aXRjaCAodGhpcy5yb290LmdldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJykpIHsKICAgICAgY2FzZSAnbGluayc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBzY3JvbGxUb3AKICAgICAgICAgIH0gPSB0aGlzLnF1aWxsLnJvb3Q7CiAgICAgICAgICBpZiAodGhpcy5saW5rUmFuZ2UpIHsKICAgICAgICAgICAgdGhpcy5xdWlsbC5mb3JtYXRUZXh0KHRoaXMubGlua1JhbmdlLCAnbGluaycsIHZhbHVlLCBFbWl0dGVyLnNvdXJjZXMuVVNFUik7CiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpbmtSYW5nZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucmVzdG9yZUZvY3VzKCk7CiAgICAgICAgICAgIHRoaXMucXVpbGwuZm9ybWF0KCdsaW5rJywgdmFsdWUsIEVtaXR0ZXIuc291cmNlcy5VU0VSKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMucXVpbGwucm9vdC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3ZpZGVvJzoKICAgICAgICB7CiAgICAgICAgICB2YWx1ZSA9IGV4dHJhY3RWaWRlb1VybCh2YWx1ZSk7CiAgICAgICAgfQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2gKICAgICAgY2FzZSAnZm9ybXVsYSc6CiAgICAgICAgewogICAgICAgICAgaWYgKCF2YWx1ZSkgYnJlYWs7CiAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucXVpbGwuZ2V0U2VsZWN0aW9uKHRydWUpOwogICAgICAgICAgaWYgKHJhbmdlICE9IG51bGwpIHsKICAgICAgICAgICAgY29uc3QgaW5kZXggPSByYW5nZS5pbmRleCArIHJhbmdlLmxlbmd0aDsKICAgICAgICAgICAgdGhpcy5xdWlsbC5pbnNlcnRFbWJlZChpbmRleCwKICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBGaXggbWUgbGF0ZXIKICAgICAgICAgICAgdGhpcy5yb290LmdldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJyksIHZhbHVlLCBFbWl0dGVyLnNvdXJjZXMuVVNFUik7CiAgICAgICAgICAgIGlmICh0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGUnKSA9PT0gJ2Zvcm11bGEnKSB7CiAgICAgICAgICAgICAgdGhpcy5xdWlsbC5pbnNlcnRUZXh0KGluZGV4ICsgMSwgJyAnLCBFbWl0dGVyLnNvdXJjZXMuVVNFUik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5xdWlsbC5zZXRTZWxlY3Rpb24oaW5kZXggKyAyLCBFbWl0dGVyLnNvdXJjZXMuVVNFUik7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGRlZmF1bHQ6CiAgICB9CiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEZpeCBtZSBsYXRlcgogICAgdGhpcy50ZXh0Ym94LnZhbHVlID0gJyc7CiAgICB0aGlzLmhpZGUoKTsKICB9Cn0KZnVuY3Rpb24gZXh0cmFjdFZpZGVvVXJsKHVybCkgewogIGxldCBtYXRjaCA9IHVybC5tYXRjaCgvXig/OihodHRwcz8pOlwvXC8pPyg/Oig/Ond3d3xtKVwuKT95b3V0dWJlXC5jb21cL3dhdGNoLip2PShbYS16QS1aMC05Xy1dKykvKSB8fCB1cmwubWF0Y2goL14oPzooaHR0cHM/KTpcL1wvKT8oPzooPzp3d3d8bSlcLik/eW91dHVcLmJlXC8oW2EtekEtWjAtOV8tXSspLyk7CiAgaWYgKG1hdGNoKSB7CiAgICByZXR1cm4gYCR7bWF0Y2hbMV0gfHwgJ2h0dHBzJ306Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHttYXRjaFsyXX0/c2hvd2luZm89MGA7CiAgfQogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnbgogIGlmIChtYXRjaCA9IHVybC5tYXRjaCgvXig/OihodHRwcz8pOlwvXC8pPyg/Ond3d1wuKT92aW1lb1wuY29tXC8oXGQrKS8pKSB7CiAgICByZXR1cm4gYCR7bWF0Y2hbMV0gfHwgJ2h0dHBzJ306Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7bWF0Y2hbMl19L2A7CiAgfQogIHJldHVybiB1cmw7Cn0KZnVuY3Rpb24gZmlsbFNlbGVjdChzZWxlY3QsIHZhbHVlcykgewogIGxldCBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHsKICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgaWYgKHZhbHVlID09PSBkZWZhdWx0VmFsdWUpIHsKICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTsKICAgIH0gZWxzZSB7CiAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgU3RyaW5nKHZhbHVlKSk7CiAgICB9CiAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICB9KTsKfQpleHBvcnQgeyBCYXNlVG9vbHRpcCwgQmFzZVRoZW1lIGFzIGRlZmF1bHQgfTs="},{"version":3,"names":["merge","Emitter","Theme","ColorPicker","IconPicker","Picker","Tooltip","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","constructor","quill","options","listener","e","document","body","contains","root","removeEventListener","tooltip","target","activeElement","textbox","hasFocus","hide","pickers","forEach","picker","container","close","emitter","listenDOM","addModule","name","module","extendToolbar","buildButtons","buttons","icons","Array","from","button","className","getAttribute","split","startsWith","slice","length","innerHTML","rtl","value","buildPickers","selects","map","select","classList","querySelector","fillSelect","align","format","update","on","events","EDITOR_CHANGE","DEFAULTS","modules","toolbar","handlers","formula","theme","edit","image","fileInput","createElement","setAttribute","uploader","mimetypes","join","add","addEventListener","range","getSelection","upload","files","appendChild","click","video","BaseTooltip","boundsContainer","listen","event","key","save","preventDefault","cancel","restoreFocus","mode","arguments","undefined","preview","remove","bounds","getBounds","selection","savedRange","position","focus","preventScroll","scrollTop","linkRange","formatText","sources","USER","extractVideoUrl","index","insertEmbed","insertText","setSelection","url","match","values","defaultValue","option","String","default"],"sources":["../../src/themes/base.ts"],"sourcesContent":["import { merge } from 'lodash-es';\nimport type Quill from '../core/quill.js';\nimport Emitter from '../core/emitter.js';\nimport Theme from '../core/theme.js';\nimport type { ThemeOptions } from '../core/theme.js';\nimport ColorPicker from '../ui/color-picker.js';\nimport IconPicker from '../ui/icon-picker.js';\nimport Picker from '../ui/picker.js';\nimport Tooltip from '../ui/tooltip.js';\nimport type { Range } from '../core/selection.js';\nimport type Clipboard from '../modules/clipboard.js';\nimport type History from '../modules/history.js';\nimport type Keyboard from '../modules/keyboard.js';\nimport type Uploader from '../modules/uploader.js';\nimport type Selection from '../core/selection.js';\n\nconst ALIGNS = [false, 'center', 'right', 'justify'];\n\nconst COLORS = [\n  '#000000',\n  '#e60000',\n  '#ff9900',\n  '#ffff00',\n  '#008a00',\n  '#0066cc',\n  '#9933ff',\n  '#ffffff',\n  '#facccc',\n  '#ffebcc',\n  '#ffffcc',\n  '#cce8cc',\n  '#cce0f5',\n  '#ebd6ff',\n  '#bbbbbb',\n  '#f06666',\n  '#ffc266',\n  '#ffff66',\n  '#66b966',\n  '#66a3e0',\n  '#c285ff',\n  '#888888',\n  '#a10000',\n  '#b26b00',\n  '#b2b200',\n  '#006100',\n  '#0047b2',\n  '#6b24b2',\n  '#444444',\n  '#5c0000',\n  '#663d00',\n  '#666600',\n  '#003700',\n  '#002966',\n  '#3d1466',\n];\n\nconst FONTS = [false, 'serif', 'monospace'];\n\nconst HEADERS = ['1', '2', '3', false];\n\nconst SIZES = ['small', false, 'large', 'huge'];\n\nclass BaseTheme extends Theme {\n  pickers: Picker[];\n  tooltip?: Tooltip;\n\n  constructor(quill: Quill, options: ThemeOptions) {\n    super(quill, options);\n    const listener = (e: MouseEvent) => {\n      if (!document.body.contains(quill.root)) {\n        document.body.removeEventListener('click', listener);\n        return;\n      }\n      if (\n        this.tooltip != null &&\n        // @ts-expect-error\n        !this.tooltip.root.contains(e.target) &&\n        // @ts-expect-error\n        document.activeElement !== this.tooltip.textbox &&\n        !this.quill.hasFocus()\n      ) {\n        this.tooltip.hide();\n      }\n      if (this.pickers != null) {\n        this.pickers.forEach((picker) => {\n          // @ts-expect-error\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n  }\n\n  addModule(name: 'clipboard'): Clipboard;\n  addModule(name: 'keyboard'): Keyboard;\n  addModule(name: 'uploader'): Uploader;\n  addModule(name: 'history'): History;\n  addModule(name: 'selection'): Selection;\n  addModule(name: string): unknown;\n  addModule(name: string) {\n    const module = super.addModule(name);\n    if (name === 'toolbar') {\n      // @ts-expect-error\n      this.extendToolbar(module);\n    }\n    return module;\n  }\n\n  buildButtons(\n    buttons: NodeListOf<HTMLElement>,\n    icons: Record<string, Record<string, string> | string>,\n  ) {\n    Array.from(buttons).forEach((button) => {\n      const className = button.getAttribute('class') || '';\n      className.split(/\\s+/).forEach((name) => {\n        if (!name.startsWith('ql-')) return;\n        name = name.slice('ql-'.length);\n        if (icons[name] == null) return;\n        if (name === 'direction') {\n          // @ts-expect-error\n          button.innerHTML = icons[name][''] + icons[name].rtl;\n        } else if (typeof icons[name] === 'string') {\n          // @ts-expect-error\n          button.innerHTML = icons[name];\n        } else {\n          // @ts-expect-error\n          const value = button.value || '';\n          // @ts-expect-error\n          if (value != null && icons[name][value]) {\n            // @ts-expect-error\n            button.innerHTML = icons[name][value];\n          }\n        }\n      });\n    });\n  }\n\n  buildPickers(\n    selects: NodeListOf<HTMLSelectElement>,\n    icons: Record<string, string | Record<string, string>>,\n  ) {\n    this.pickers = Array.from(selects).map((select) => {\n      if (select.classList.contains('ql-align')) {\n        if (select.querySelector('option') == null) {\n          fillSelect(select, ALIGNS);\n        }\n        if (typeof icons.align === 'object') {\n          return new IconPicker(select, icons.align);\n        }\n      }\n      if (\n        select.classList.contains('ql-background') ||\n        select.classList.contains('ql-color')\n      ) {\n        const format = select.classList.contains('ql-background')\n          ? 'background'\n          : 'color';\n        if (select.querySelector('option') == null) {\n          fillSelect(\n            select,\n            COLORS,\n            format === 'background' ? '#ffffff' : '#000000',\n          );\n        }\n        return new ColorPicker(select, icons[format] as string);\n      }\n      if (select.querySelector('option') == null) {\n        if (select.classList.contains('ql-font')) {\n          fillSelect(select, FONTS);\n        } else if (select.classList.contains('ql-header')) {\n          fillSelect(select, HEADERS);\n        } else if (select.classList.contains('ql-size')) {\n          fillSelect(select, SIZES);\n        }\n      }\n      return new Picker(select);\n    });\n    const update = () => {\n      this.pickers.forEach((picker) => {\n        picker.update();\n      });\n    };\n    this.quill.on(Emitter.events.EDITOR_CHANGE, update);\n  }\n}\nBaseTheme.DEFAULTS = merge({}, Theme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image() {\n          let fileInput = this.container.querySelector(\n            'input.ql-image[type=file]',\n          );\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute(\n              'accept',\n              this.quill.uploader.options.mimetypes.join(', '),\n            );\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', () => {\n              const range = this.quill.getSelection(true);\n              this.quill.uploader.upload(range, fileInput.files);\n              fileInput.value = '';\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video() {\n          this.quill.theme.tooltip.edit('video');\n        },\n      },\n    },\n  },\n});\n\nclass BaseTooltip extends Tooltip {\n  textbox: HTMLInputElement | null;\n  linkRange?: Range;\n\n  constructor(quill: Quill, boundsContainer?: HTMLElement) {\n    super(quill, boundsContainer);\n    this.textbox = this.root.querySelector('input[type=\"text\"]');\n    this.listen();\n  }\n\n  listen() {\n    // @ts-expect-error Fix me later\n    this.textbox.addEventListener('keydown', (event) => {\n      if (event.key === 'Enter') {\n        this.save();\n        event.preventDefault();\n      } else if (event.key === 'Escape') {\n        this.cancel();\n        event.preventDefault();\n      }\n    });\n  }\n\n  cancel() {\n    this.hide();\n    this.restoreFocus();\n  }\n\n  edit(mode = 'link', preview: string | null = null) {\n    this.root.classList.remove('ql-hidden');\n    this.root.classList.add('ql-editing');\n    if (this.textbox == null) return;\n\n    if (preview != null) {\n      this.textbox.value = preview;\n    } else if (mode !== this.root.getAttribute('data-mode')) {\n      this.textbox.value = '';\n    }\n    const bounds = this.quill.getBounds(this.quill.selection.savedRange);\n    if (bounds != null) {\n      this.position(bounds);\n    }\n    this.textbox.select();\n    this.textbox.setAttribute(\n      'placeholder',\n      this.textbox.getAttribute(`data-${mode}`) || '',\n    );\n    this.root.setAttribute('data-mode', mode);\n  }\n\n  restoreFocus() {\n    this.quill.focus({ preventScroll: true });\n  }\n\n  save() {\n    // @ts-expect-error Fix me later\n    let { value } = this.textbox;\n    switch (this.root.getAttribute('data-mode')) {\n      case 'link': {\n        const { scrollTop } = this.quill.root;\n        if (this.linkRange) {\n          this.quill.formatText(\n            this.linkRange,\n            'link',\n            value,\n            Emitter.sources.USER,\n          );\n          delete this.linkRange;\n        } else {\n          this.restoreFocus();\n          this.quill.format('link', value, Emitter.sources.USER);\n        }\n        this.quill.root.scrollTop = scrollTop;\n        break;\n      }\n      case 'video': {\n        value = extractVideoUrl(value);\n      } // eslint-disable-next-line no-fallthrough\n      case 'formula': {\n        if (!value) break;\n        const range = this.quill.getSelection(true);\n        if (range != null) {\n          const index = range.index + range.length;\n          this.quill.insertEmbed(\n            index,\n            // @ts-expect-error Fix me later\n            this.root.getAttribute('data-mode'),\n            value,\n            Emitter.sources.USER,\n          );\n          if (this.root.getAttribute('data-mode') === 'formula') {\n            this.quill.insertText(index + 1, ' ', Emitter.sources.USER);\n          }\n          this.quill.setSelection(index + 2, Emitter.sources.USER);\n        }\n        break;\n      }\n      default:\n    }\n    // @ts-expect-error Fix me later\n    this.textbox.value = '';\n    this.hide();\n  }\n}\n\nfunction extractVideoUrl(url: string) {\n  let match =\n    url.match(\n      /^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/,\n    ) ||\n    url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return `${match[1] || 'https'}://www.youtube.com/embed/${\n      match[2]\n    }?showinfo=0`;\n  }\n  // eslint-disable-next-line no-cond-assign\n  if ((match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/))) {\n    return `${match[1] || 'https'}://player.vimeo.com/video/${match[2]}/`;\n  }\n  return url;\n}\n\nfunction fillSelect(\n  select: HTMLSelectElement,\n  values: Array<string | boolean>,\n  defaultValue: unknown = false,\n) {\n  values.forEach((value) => {\n    const option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', String(value));\n    }\n    select.appendChild(option);\n  });\n}\n\nexport { BaseTooltip, BaseTheme as default };\n"],"mappings":"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","ignoreList":[]}]}