{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\utils\\errorHandler.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\utils\\errorHandler.js","mtime":1747213218167},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7Ci8qKgogKiDkv67lpI1KYXZhU2NyaXB06L+Q6KGM5pe26ZSZ6K+vCiAqIOeJueWIq+aYr21haW4uN2VlODg2ZDguanPkuK3lh7rnjrDnmoQidlt3XSBpcyBub3QgYSBmdW5jdGlvbiLplJnor68KICovCgpleHBvcnQgZnVuY3Rpb24gc2V0dXBFcnJvckhhbmRsZXJzKCkgewogIC8vIOmYsuatouWbvueJh+WKoOi9vemUmeivr+WvvOiHtOeahHZbd13kuI3mmK/lh73mlbDnmoTplJnor68KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIC8vIOajgOafpeaYr+WQpuaYr+WbvueJh+WKoOi9vemUmeivrwogICAgaWYgKGV2ZW50LnRhcmdldCAmJiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnIHx8IGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnU0NSSVBUJykpIHsKICAgICAgLy8g6Zi75q2i6ZSZ6K+v5YaS5rOhCiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zb2xlLndhcm4oJ+i1hOa6kOWKoOi9vemUmeivr+iiq+aNleiOt+W5tuWkhOeQhjonLCBldmVudC50YXJnZXQuc3JjIHx8IGV2ZW50LnRhcmdldC5ocmVmKTsKCiAgICAgIC8vIOi/lOWbnnRydWXooajnpLrplJnor6/lt7LlpITnkIYKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgdHJ1ZSk7CgogIC8vIOS/ruWkjXdpbmRvdy5vbmxvYWTlpITnkIblmagKICBjb25zdCBvcmlnaW5hbFdpbmRvd09ubG9hZCA9IHdpbmRvdy5vbmxvYWQ7CiAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgdHJ5IHsKICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbFdpbmRvd09ubG9hZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG9yaWdpbmFsV2luZG93T25sb2FkKGV2ZW50KTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS53YXJuKCd3aW5kb3cub25sb2Fk6ZSZ6K+v6KKr5o2V6I63OicsIGVycm9yLm1lc3NhZ2UpOwogICAgfQoKICAgIC8vIOa3u+WKoOWuieWFqOeahG9ubG9hZOWkhOeQhuWHveaVsAogICAgY29uc3QgYWxsSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7CiAgICBhbGxJbWFnZXMuZm9yRWFjaChpbWcgPT4gewogICAgICAvLyDkuLrmr4/kuKrlm77niYfmt7vliqDlronlhajnmoRvbmxvYWTlpITnkIYKICAgICAgY29uc3Qgb3JpZ2luYWxPbmxvYWQgPSBpbWcub25sb2FkOwogICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxPbmxvYWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgb3JpZ2luYWxPbmxvYWQuY2FsbCh0aGlzLCBldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign5Zu+54mHb25sb2Fk6ZSZ6K+v6KKr5o2V6I63OicsIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH07CgogIC8vIOmHjeWGmWRvY3VtZW50LmNyZWF0ZUVsZW1lbnTmlrnms5XvvIzkuLrmlrDliJvlu7rnmoRpbWflhYPntKDmt7vliqDlronlhajnmoRvbmxvYWTlpITnkIYKICBjb25zdCBvcmlnaW5hbENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50OwogIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodGFnTmFtZSkgewogICAgY29uc3QgZWxlbWVudCA9IG9yaWdpbmFsQ3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCB0YWdOYW1lKTsKICAgIGlmICh0YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbWcnKSB7CiAgICAgIGNvbnN0IG9yaWdpbmFsT25sb2FkID0gZWxlbWVudC5vbmxvYWQ7CiAgICAgIGVsZW1lbnQub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxPbmxvYWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgb3JpZ2luYWxPbmxvYWQuY2FsbCh0aGlzLCBldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign5Yqo5oCB5Yib5bu655qE5Zu+54mHb25sb2Fk6ZSZ6K+v6KKr5o2V6I63OicsIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH07CgogIC8vIOWkhOeQhuacquaNleiOt+eahFByb21pc2XplJnor68KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5oYW5kbGVkcmVqZWN0aW9uJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBjb25zb2xlLndhcm4oJ+acquWkhOeQhueahFByb21pc2XlvILluLjooqvmjZXojrc6JywgZXZlbnQucmVhc29uKTsKCiAgICAvLyDpkojlr7lWdWUgUm91dGVy55qE5qih5Z2X5Yqg6L296ZSZ6K+v6L+b6KGM54m55q6K5aSE55CGCiAgICBpZiAoZXZlbnQucmVhc29uICYmIChldmVudC5yZWFzb24udG9TdHJpbmcoKS5pbmNsdWRlcygnbW9kdWxlc1ttb2R1bGVJZF0uY2FsbCcpIHx8IGV2ZW50LnJlYXNvbi50b1N0cmluZygpLmluY2x1ZGVzKCdDYW5ub3QgcmVhZCBwcm9wZXJ0eScpIHx8IGV2ZW50LnJlYXNvbi50b1N0cmluZygpLmluY2x1ZGVzKCdpcyBub3QgYW4gb2JqZWN0JykpKSB7CiAgICAgIGNvbnNvbGUud2Fybign5qOA5rWL5YiwVnVlIFJvdXRlcuaooeWdl+WKoOi9vemUmeivr++8jOWwneivleWIt+aWsOmhtemdouino+WGsy4uLicpOwoKICAgICAgLy8g5Y+v5Lul6YCJ5oup5re75Yqg5Lul5LiL5oGi5aSN5py65Yi25LmL5LiAOgogICAgICAvLyAxLiDmt7vliqDmj5DnpLrkvYbkuI3oh6rliqjliLfmlrAKICAgICAgLy8gc2hvd0Vycm9yTm90aWZpY2F0aW9uKCfpobXpnaLliqDovb3lvILluLjvvIzor7flsJ3or5XliLfmlrDpobXpnaInKTsKCiAgICAgIC8vIDIuIOiHquWKqOWwneivleWIt+aWsO+8iOS9hue7meeUqOaIt+S4gOeCueaXtumXtOeci+WIsOmUmeivr++8iQogICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSwgMzAwMCk7CiAgICB9CgogICAgLy8g6Ziy5q2i6ZSZ6K+v5Lyg5pKt5Yiw5o6n5Yi25Y+wCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogIH0pOwoKICAvLyDlhajlsYDplJnor6/lpITnkIYKICB3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlLCBzb3VyY2UsIGxpbmVubywgY29sbm8sIGVycm9yKSB7CiAgICBjb25zb2xlLndhcm4oJ+WFqOWxgOmUmeivr+iiq+aNleiOtzonLCB7CiAgICAgIG1lc3NhZ2UsCiAgICAgIHNvdXJjZSwKICAgICAgbGluZW5vLAogICAgICBjb2xubywKICAgICAgZXJyb3I6IGVycm9yID8gZXJyb3Iuc3RhY2sgOiBudWxsCiAgICB9KTsKCiAgICAvLyDlr7nnibnlrprnmoTplJnor6/nsbvlnovov5vooYzlpITnkIYKICAgIGlmIChtZXNzYWdlICYmIChtZXNzYWdlLmluY2x1ZGVzKCdzdG9wUHJvcGFnYXRpb24gaXMgbm90IGEgZnVuY3Rpb24nKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCd2LXN0b3AtcHJvcGFnYXRpb24nKSkpIHsKICAgICAgY29uc29sZS53YXJuKCfmo4DmtYvliLDkuovku7bkvKDmkq3plJnor6/vvIzov5nlj6/og73mmK/oh6rlrprkuYnmjIfku6TkuK3nmoTpl67popgnKTsKICAgICAgcmV0dXJuIHRydWU7IC8vIOmYsuatoumUmeivr+aYvuekuuWcqOaOp+WItuWPsAogICAgfQoKICAgIC8vIOi/lOWbnmZhbHNl6KGo56S65YWB6K646ZSZ6K+v57un57ut5Lyg5pKt5Yiw5o6n5Yi25Y+wCiAgICByZXR1cm4gZmFsc2U7CiAgfTsKfQ=="},{"version":3,"names":["setupErrorHandlers","window","addEventListener","event","target","tagName","stopPropagation","preventDefault","console","warn","src","href","originalWindowOnload","onload","error","message","allImages","document","querySelectorAll","forEach","img","originalOnload","call","originalCreateElement","createElement","element","toLowerCase","reason","toString","includes","onerror","source","lineno","colno","stack"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/utils/errorHandler.js"],"sourcesContent":["/**\n * 修复JavaScript运行时错误\n * 特别是main.7ee886d8.js中出现的\"v[w] is not a function\"错误\n */\n\nexport function setupErrorHandlers() {\n  // 防止图片加载错误导致的v[w]不是函数的错误\n  window.addEventListener('error', function(event) {\n    // 检查是否是图片加载错误\n    if (event.target && (event.target.tagName === 'IMG' || event.target.tagName === 'SCRIPT')) {\n      // 阻止错误冒泡\n      event.stopPropagation();\n      event.preventDefault();\n      \n      console.warn('资源加载错误被捕获并处理:', event.target.src || event.target.href);\n      \n      // 返回true表示错误已处理\n      return true;\n    }\n  }, true);\n  \n  // 修复window.onload处理器\n  const originalWindowOnload = window.onload;\n  window.onload = function(event) {\n    try {\n      if (typeof originalWindowOnload === 'function') {\n        originalWindowOnload(event);\n      }\n    } catch (error) {\n      console.warn('window.onload错误被捕获:', error.message);\n    }\n    \n    // 添加安全的onload处理函数\n    const allImages = document.querySelectorAll('img');\n    allImages.forEach(img => {\n      // 为每个图片添加安全的onload处理\n      const originalOnload = img.onload;\n      img.onload = function(event) {\n        try {\n          if (typeof originalOnload === 'function') {\n            originalOnload.call(this, event);\n          }\n        } catch (error) {\n          console.warn('图片onload错误被捕获:', error.message);\n        }\n      };\n    });\n  };\n  \n  // 重写document.createElement方法，为新创建的img元素添加安全的onload处理\n  const originalCreateElement = document.createElement;\n  document.createElement = function(tagName) {\n    const element = originalCreateElement.call(document, tagName);\n    if (tagName.toLowerCase() === 'img') {\n      const originalOnload = element.onload;\n      element.onload = function(event) {\n        try {\n          if (typeof originalOnload === 'function') {\n            originalOnload.call(this, event);\n          }\n        } catch (error) {\n          console.warn('动态创建的图片onload错误被捕获:', error.message);\n        }\n      };\n    }\n    return element;\n  };\n\n  // 处理未捕获的Promise错误\n  window.addEventListener('unhandledrejection', function(event) {\n    console.warn('未处理的Promise异常被捕获:', event.reason);\n    \n    // 针对Vue Router的模块加载错误进行特殊处理\n    if (event.reason && \n        (event.reason.toString().includes('modules[moduleId].call') || \n         event.reason.toString().includes('Cannot read property') ||\n         event.reason.toString().includes('is not an object'))) {\n      console.warn('检测到Vue Router模块加载错误，尝试刷新页面解决...');\n      \n      // 可以选择添加以下恢复机制之一:\n      // 1. 添加提示但不自动刷新\n      // showErrorNotification('页面加载异常，请尝试刷新页面');\n      \n      // 2. 自动尝试刷新（但给用户一点时间看到错误）\n      // setTimeout(() => window.location.reload(), 3000);\n    }\n    \n    // 防止错误传播到控制台\n    event.preventDefault();\n  });\n  \n  // 全局错误处理\n  window.onerror = function(message, source, lineno, colno, error) {\n    console.warn('全局错误被捕获:', {\n      message,\n      source,\n      lineno,\n      colno,\n      error: error ? error.stack : null\n    });\n    \n    // 对特定的错误类型进行处理\n    if (message && (\n        message.includes('stopPropagation is not a function') || \n        message.includes('v-stop-propagation')\n    )) {\n      console.warn('检测到事件传播错误，这可能是自定义指令中的问题');\n      return true; // 防止错误显示在控制台\n    }\n    \n    // 返回false表示允许错误继续传播到控制台\n    return false;\n  };\n} "],"mappings":"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","ignoreList":[]}]}