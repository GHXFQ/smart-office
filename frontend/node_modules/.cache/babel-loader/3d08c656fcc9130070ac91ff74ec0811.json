{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\src\\views\\smartdoc\\Index.vue?vue&type=template&id=3005a10c&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\src\\views\\smartdoc\\Index.vue","mtime":1751962445525},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgbm9ybWFsaXplU3R5bGUgYXMgX25vcm1hbGl6ZVN0eWxlLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAic21hcnRkb2MtaG9tZS1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgc3R5bGU6IHsKICAgICJkaXNwbGF5IjogIm5vbmUiCiAgfQp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAicGFnZS1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJyaWdodC1zZWN0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAic2VhcmNoLWNvbnRyb2xzIgp9Owpjb25zdCBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAic3RhdHMtY2FyZHMiCn07CmNvbnN0IF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJzdGF0LWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJzdGF0LWljb24gZG9jLWljb24iCn07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJzdGF0LWluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAic3RhdC12YWx1ZSIKfTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJzdGF0LWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAic3RhdC1pY29uIGVkaXQtaWNvbiIKfTsKY29uc3QgX2hvaXN0ZWRfMTMgPSB7CiAgY2xhc3M6ICJzdGF0LWluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzE0ID0gewogIGNsYXNzOiAic3RhdC12YWx1ZSIKfTsKY29uc3QgX2hvaXN0ZWRfMTUgPSB7CiAgY2xhc3M6ICJzdGF0LWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzE2ID0gewogIGNsYXNzOiAic3RhdC1pY29uIHNoYXJlLWljb24iCn07CmNvbnN0IF9ob2lzdGVkXzE3ID0gewogIGNsYXNzOiAic3RhdC1pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF8xOCA9IHsKICBjbGFzczogInN0YXQtdmFsdWUiCn07CmNvbnN0IF9ob2lzdGVkXzE5ID0gewogIGtleTogMCwKICBjbGFzczogImZpbHRlci1zdGF0dXMtYmFyIgp9Owpjb25zdCBfaG9pc3RlZF8yMCA9IHsKICBjbGFzczogImZpbHRlci1iYXItY29udGVudCIKfTsKY29uc3QgX2hvaXN0ZWRfMjEgPSB7CiAgY2xhc3M6ICJmaWx0ZXItdGl0bGUiCn07CmNvbnN0IF9ob2lzdGVkXzIyID0gewogIGNsYXNzOiAiZmlsdGVyLWFjdGlvbnMiCn07CmNvbnN0IF9ob2lzdGVkXzIzID0gewogIGNsYXNzOiAic2VjdGlvbiBjYXRlZ29yeS1zZWN0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF8yNCA9IHsKICBjbGFzczogInNlY3Rpb24taGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yNSA9IHsKICBjbGFzczogInNlY3Rpb24tYWN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfMjYgPSB7CiAgY2xhc3M6ICJjYXRlZ29yeS1jYXJkcyIKfTsKY29uc3QgX2hvaXN0ZWRfMjcgPSB7CiAgY2xhc3M6ICJjYXRlZ29yeS1pY29uIiwKICBzdHlsZTogewogICAgYmFja2dyb3VuZENvbG9yOiAnIzQwOUVGRicKICB9Cn07CmNvbnN0IF9ob2lzdGVkXzI4ID0gewogIGNsYXNzOiAiY2F0ZWdvcnktaW5mbyIKfTsKY29uc3QgX2hvaXN0ZWRfMjkgPSB7CiAgY2xhc3M6ICJjYXRlZ29yeS1jb3VudCIKfTsKY29uc3QgX2hvaXN0ZWRfMzAgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiY2F0ZWdvcnktc2VsZWN0ZWQtaW5kaWNhdG9yIgp9Owpjb25zdCBfaG9pc3RlZF8zMSA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF8zMiA9IHsKICBjbGFzczogImNhdGVnb3J5LWluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzMzID0gewogIGNsYXNzOiAiY2F0ZWdvcnktY291bnQiCn07CmNvbnN0IF9ob2lzdGVkXzM0ID0gewogIGtleTogMCwKICBjbGFzczogImNhdGVnb3J5LXNlbGVjdGVkLWluZGljYXRvciIKfTsKY29uc3QgX2hvaXN0ZWRfMzUgPSB7CiAgY2xhc3M6ICJzZWN0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF8zNiA9IHsKICBjbGFzczogInNlY3Rpb24taGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF8zNyA9IHsKICBjbGFzczogImZpbHRlci1jb250cm9scyIKfTsKY29uc3QgX2hvaXN0ZWRfMzggPSB7CiAgY2xhc3M6ICJkb2N1bWVudC1jYXJkcyIKfTsKY29uc3QgX2hvaXN0ZWRfMzkgPSB7CiAgY2xhc3M6ICJkb2MtY2FyZC1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzQwID0gewogIGNsYXNzOiAiZG9jLWluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzQxID0gewogIGNsYXNzOiAiZG9jLXR5cGUtdGFnIgp9Owpjb25zdCBfaG9pc3RlZF80MiA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJkb2Mtc2hhcmVkLXRhZyIKfTsKY29uc3QgX2hvaXN0ZWRfNDMgPSB7CiAgY2xhc3M6ICJjYXJkLWNvbnRlbnQtYXJlYSIKfTsKY29uc3QgX2hvaXN0ZWRfNDQgPSBbInRpdGxlIl07CmNvbnN0IF9ob2lzdGVkXzQ1ID0gWyJpbm5lckhUTUwiXTsKY29uc3QgX2hvaXN0ZWRfNDYgPSB7CiAgY2xhc3M6ICJkb2MtZm9vdGVyIgp9Owpjb25zdCBfaG9pc3RlZF80NyA9IHsKICBjbGFzczogImRvYy10aW1lIgp9Owpjb25zdCBfaG9pc3RlZF80OCA9IHsKICBjbGFzczogImRvYy1hY3Rpb25zIGJ0bi1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzQ5ID0gewogIGNsYXNzOiAibmV3LWRvYy1jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF81MCA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJwYWdpbmF0aW9uLWNvbnRhaW5lciIKfTsKY29uc3QgX2hvaXN0ZWRfNTEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAicGFnaW5hdGlvbi1kZWJ1ZyIKfTsKY29uc3QgX2hvaXN0ZWRfNTIgPSB7CiAgY2xhc3M6ICJzZWN0aW9uIgp9Owpjb25zdCBfaG9pc3RlZF81MyA9IHsKICBjbGFzczogInNlY3Rpb24taGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF81NCA9IHsKICBjbGFzczogInNlY3Rpb24tYWN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfNTUgPSB7CiAgY2xhc3M6ICJkb2N1bWVudC1jYXJkcyIKfTsKY29uc3QgX2hvaXN0ZWRfNTYgPSB7CiAgY2xhc3M6ICJkb2MtY2FyZC1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzU3ID0gewogIGNsYXNzOiAiZG9jLWluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzU4ID0gewogIGNsYXNzOiAiZG9jLXR5cGUtdGFnIgp9Owpjb25zdCBfaG9pc3RlZF81OSA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJkb2Mtc2hhcmVkLXRhZyIKfTsKY29uc3QgX2hvaXN0ZWRfNjAgPSB7CiAgY2xhc3M6ICJjYXJkLWNvbnRlbnQtYXJlYSIKfTsKY29uc3QgX2hvaXN0ZWRfNjEgPSBbInRpdGxlIl07CmNvbnN0IF9ob2lzdGVkXzYyID0gWyJpbm5lckhUTUwiXTsKY29uc3QgX2hvaXN0ZWRfNjMgPSB7CiAgY2xhc3M6ICJkb2MtZm9vdGVyIgp9Owpjb25zdCBfaG9pc3RlZF82NCA9IHsKICBjbGFzczogImRvYy10aW1lIgp9Owpjb25zdCBfaG9pc3RlZF82NSA9IHsKICBjbGFzczogImRvYy1hY3Rpb25zIGJ0bi1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzY2ID0gewogIGNsYXNzOiAibmV3LWRvYy1jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF82NyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJlbXB0eS1zdGF0ZSIKfTsKY29uc3QgX2hvaXN0ZWRfNjggPSB7CiAga2V5OiAwCn07CmNvbnN0IF9ob2lzdGVkXzY5ID0gewogIGtleTogMQp9Owpjb25zdCBfaG9pc3RlZF83MCA9IHsKICBjbGFzczogImRpYWxvZy1mb290ZXIiCn07CmNvbnN0IF9ob2lzdGVkXzcxID0gewogIGtleTogMAp9Owpjb25zdCBfaG9pc3RlZF83MiA9IHsKICBjbGFzczogInVzZXItcGVybWlzc2lvbnMtbGlzdCIKfTsKY29uc3QgX2hvaXN0ZWRfNzMgPSB7CiAgY2xhc3M6ICJ1c2VyLW5hbWUiCn07CmNvbnN0IF9ob2lzdGVkXzc0ID0gewogIGNsYXNzOiAicGVybWlzc2lvbi1pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF83NSA9IHsKICBjbGFzczogImZvcm0tdGlwIgp9Owpjb25zdCBfaG9pc3RlZF83NiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJmb3JtLXRpcCIKfTsKY29uc3QgX2hvaXN0ZWRfNzcgPSB7CiAgY2xhc3M6ICJ1c2VyLXBlcm1pc3Npb25zLWxpc3QiCn07CmNvbnN0IF9ob2lzdGVkXzc4ID0gewogIGNsYXNzOiAidXNlci1uYW1lIgp9Owpjb25zdCBfaG9pc3RlZF83OSA9IHsKICBjbGFzczogImRpYWxvZy1mb290ZXIiCn07CmNvbnN0IF9ob2lzdGVkXzgwID0gewogIGtleTogMAp9Owpjb25zdCBfaG9pc3RlZF84MSA9IHsKICBjbGFzczogImRpYWxvZy1mb290ZXIiCn07CmNvbnN0IF9ob2lzdGVkXzgyID0gewogIGNsYXNzOiAiY2F0ZWdvcnktbWFuYWdlbWVudCIKfTsKY29uc3QgX2hvaXN0ZWRfODMgPSB7CiAgY2xhc3M6ICJjYXRlZ29yeS1saXN0Igp9Owpjb25zdCBfaG9pc3RlZF84NCA9IHsKICBjbGFzczogImNhdGVnb3J5LWZvcm0iCn07CmNvbnN0IF9ob2lzdGVkXzg1ID0gewogIGNsYXNzOiAiY29sb3ItdmFsdWUiCn07CmNvbnN0IF9ob2lzdGVkXzg2ID0gewogIGNsYXNzOiAiZGlhbG9nLWZvb3RlciIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X2VsX29wdGlvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1vcHRpb24iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3NlbGVjdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1zZWxlY3QiKTsKICBjb25zdCBfY29tcG9uZW50X1NlYXJjaCA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZWFyY2giKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaWNvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfaW5wdXQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaW5wdXQiKTsKICBjb25zdCBfY29tcG9uZW50X1VwbG9hZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJVcGxvYWQiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKICBjb25zdCBfY29tcG9uZW50X1BsdXMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiUGx1cyIpOwogIGNvbnN0IF9jb21wb25lbnRfRG9jdW1lbnQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRG9jdW1lbnQiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwogIGNvbnN0IF9jb21wb25lbnRfRWRpdFBlbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJFZGl0UGVuIik7CiAgY29uc3QgX2NvbXBvbmVudF9TaGFyZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJTaGFyZSIpOwogIGNvbnN0IF9jb21wb25lbnRfQ2xvc2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQ2xvc2UiKTsKICBjb25zdCBfY29tcG9uZW50X0ZvbGRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJGb2xkZXIiKTsKICBjb25zdCBfY29tcG9uZW50X1VzZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVXNlciIpOwogIGNvbnN0IF9jb21wb25lbnRfTW9yZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJNb3JlIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRyb3Bkb3duLWl0ZW0iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2Ryb3Bkb3duX21lbnUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZHJvcGRvd24tbWVudSIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfZHJvcGRvd24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZHJvcGRvd24iKTsKICBjb25zdCBfY29tcG9uZW50X0Nsb2NrID0gX3Jlc29sdmVDb21wb25lbnQoIkNsb2NrIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF90b29sdGlwID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRvb2x0aXAiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3BhZ2luYXRpb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtcGFnaW5hdGlvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfdGFiX3BhbmUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdGFiLXBhbmUiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3RhYnMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdGFicyIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0taXRlbSIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9kaWFsb2cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGlhbG9nIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9yYWRpbyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1yYWRpbyIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfcmFkaW9fZ3JvdXAgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtcmFkaW8tZ3JvdXAiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3RhZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWciKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWJsZS1jb2x1bW4iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3RhYmxlID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRhYmxlIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9kaXZpZGVyID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRpdmlkZXIiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2NvbG9yX3BpY2tlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1jb2xvci1waWNrZXIiKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOa3u+WKoOmakOiXj+eahOWIt+aWsOinpuWPkeWFg+e0oO+8jOeUqOS6juW8uuWItue7hOS7tuWIt+aWsCAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucmVmcmVzaFRyaWdnZXIpLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg6aG16Z2i5qCH6aKY5ZKM5pON5L2c5Yy6ICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NhY2hlWzQwXSB8fCAoX2NhY2hlWzQwXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibGVmdC1zZWN0aW9uIgogIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIHsKICAgIGNsYXNzOiAicGFnZS10aXRsZSIKICB9LCAi5pm66IO95paH5qGjIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCB7CiAgICBjbGFzczogInBhZ2UtZGVzY3JpcHRpb24iCiAgfSwgIuWIm+W7uuOAgee8lui+keWSjOeuoeeQhuaCqOeahOaZuuiDveaWh+ahoyIpXSwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3NlbGVjdCwgewogICAgbW9kZWxWYWx1ZTogJHNldHVwLnNlYXJjaENhdGVnb3J5LAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAkc2V0dXAuc2VhcmNoQ2F0ZWdvcnkgPSAkZXZlbnQpLAogICAgcGxhY2Vob2xkZXI6ICLpgInmi6nliIbnsbsiLAogICAgb25DaGFuZ2U6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICRzZXR1cC5zZWxlY3RDYXRlZ29yeSgkc2V0dXAuc2VhcmNoQ2F0ZWdvcnkpKSwKICAgIGNsYXNzOiAiY2F0ZWdvcnktc2VsZWN0IgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgbGFiZWw6ICLlhajpg6jliIbnsbsiLAogICAgICB2YWx1ZTogImFsbCIKICAgIH0pLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5kb2N1bWVudENhdGVnb3JpZXMsIGNhdGVnb3J5ID0+IHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAga2V5OiBjYXRlZ29yeS5pZCwKICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZSwKICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQudG9TdHJpbmcoKQogICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbImxhYmVsIiwgInZhbHVlIl0pOwogICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgIHBsYWNlaG9sZGVyOiAi5pCc57Si5paH5qGjLi4uIiwKICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zZWFyY2hRdWVyeSwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAkZXZlbnQgPT4gJHNldHVwLnNlYXJjaFF1ZXJ5ID0gJGV2ZW50KSwKICAgIGNsYXNzOiAic2VhcmNoLWlucHV0IiwKICAgIGNsZWFyYWJsZTogIiIKICB9LCB7CiAgICBwcmVmaXg6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWFyY2gpXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICB0eXBlOiAic3VjY2VzcyIsCiAgICBvbkNsaWNrOiAkc2V0dXAuaGFuZGxlSW1wb3J0V29yZCwKICAgIHN0eWxlOiB7CiAgICAgICJtYXJnaW4tcmlnaHQiOiAiMTBweCIKICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfVXBsb2FkKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSksIF9jYWNoZVszOF0gfHwgKF9jYWNoZVszOF0gPSBfY3JlYXRlVGV4dFZOb2RlKCIg5a+85YWlV29yZCAiKSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIG9uQ2xpY2s6ICRzZXR1cC5jcmVhdGVOZXdEb2N1bWVudAogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9QbHVzKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSksIF9jYWNoZVszOV0gfHwgKF9jYWNoZVszOV0gPSBfY3JlYXRlVGV4dFZOb2RlKCIg5paw5bu65paH5qGjICIpKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siXSldKV0pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5paH5qGj5qaC6KeI57uf6K6h5Y2h54mHICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2FyZCwgewogICAgY2xhc3M6ICJzdGF0LWNhcmQiLAogICAgc2hhZG93OiAiaG92ZXIiLAogICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSAkZXZlbnQgPT4gJHNldHVwLnNlbGVjdENhdGVnb3J5KCdhbGwnKSkKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Eb2N1bWVudCldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAudG90YWxEb2N1bWVudHMpLCAxIC8qIFRFWFQgKi8pLCBfY2FjaGVbNDFdIHx8IChfY2FjaGVbNDFdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICBjbGFzczogInN0YXQtbGFiZWwiCiAgICB9LCAi5YWo6YOo5paH5qGjIiwgLTEgLyogSE9JU1RFRCAqLykpXSldKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfY2FyZCwgewogICAgY2xhc3M6ICJzdGF0LWNhcmQiLAogICAgc2hhZG93OiAiaG92ZXIiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9FZGl0UGVuKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucmVjZW50RWRpdENvdW50KSwgMSAvKiBURVhUICovKSwgX2NhY2hlWzQyXSB8fCAoX2NhY2hlWzQyXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgY2xhc3M6ICJzdGF0LWxhYmVsIgogICAgfSwgIui/keacn+e8lui+kSIsIC0xIC8qIEhPSVNURUQgKi8pKV0pXSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2NhcmQsIHsKICAgIGNsYXNzOiAic3RhdC1jYXJkIiwKICAgIHNoYWRvdzogImhvdmVyIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE2LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2hhcmUpXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE4LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5zaGFyZWREb2N1bWVudHMubGVuZ3RoKSwgMSAvKiBURVhUICovKSwgX2NhY2hlWzQzXSB8fCAoX2NhY2hlWzQzXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgY2xhc3M6ICJzdGF0LWxhYmVsIgogICAgfSwgIuWFseS6q+aWh+ahoyIsIC0xIC8qIEhPSVNURUQgKi8pKV0pXSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSldKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOa3u+WKoOetm+mAiea0u+WKqOeKtuaAgeaPkOekuuagjyAiKSwgJHNldHVwLnNlYXJjaENhdGVnb3J5ICE9PSAnYWxsJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzE5LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjAsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMSwgW19jYWNoZVs0NF0gfHwgKF9jYWNoZVs0NF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuW9k+WJjeetm+mAiTogIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgY2xhc3M6ICJmaWx0ZXItY2F0ZWdvcnkiLAogICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgIGJhY2tncm91bmRDb2xvcjogJHNldHVwLmdldFNlbGVjdGVkQ2F0ZWdvcnlDb2xvcigpCiAgICB9KQogIH0sIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmdldFNlbGVjdGVkQ2F0ZWdvcnlOYW1lKCkpLCA1IC8qIFRFWFQsIFNUWUxFICovKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdHlwZTogInByaW1hcnkiLAogICAgbGluazogIiIsCiAgICBvbkNsaWNrOiAkc2V0dXAucmVzZXRDYXRlZ29yeUZpbHRlcgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9DbG9zZSldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY2FjaGVbNDVdIHx8IChfY2FjaGVbNDVdID0gX2NyZWF0ZVRleHRWTm9kZSgiIOa4hemZpOetm+mAiSAiKSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pXSldKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOaWh+aho+WIhuexu+WMuuWfnyAtIOenu+iHs+aWh+aho+WIl+ihqOS4iuaWuSAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yNCwgW19jYWNoZVs0N10gfHwgKF9jYWNoZVs0N10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICLmlofmoaPliIbnsbsiLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI1LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICB0ZXh0OiAiIiwKICAgIG9uQ2xpY2s6ICRzZXR1cC5tYW5hZ2VDYXRlZ29yaWVzCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzQ2XSB8fCAoX2NhY2hlWzQ2XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLnrqHnkIbliIbnsbsiKV0pKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjYsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIg5YWo6YOo5YiG57G76YCJ6aG5ICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsiY2F0ZWdvcnktY2FyZCIsIHsKICAgICAgJ2NhdGVnb3J5LWFjdGl2ZSc6ICRzZXR1cC5zZWFyY2hDYXRlZ29yeSA9PT0gJ2FsbCcKICAgIH1dKSwKICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gJGV2ZW50ID0+ICRzZXR1cC5zZWxlY3RDYXRlZ29yeSgnYWxsJykpCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI3LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0RvY3VtZW50KV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yOCwgW19jYWNoZVs0OF0gfHwgKF9jYWNoZVs0OF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNCIsIG51bGwsICLlhajpg6jmlofmoaMiLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI5LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC50b3RhbERvY3VtZW50cykgKyAiIOS4quaWh+ahoyIsIDEgLyogVEVYVCAqLyldKSwgJHNldHVwLnNlYXJjaENhdGVnb3J5ID09PSAnYWxsJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzMwKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldLCAyIC8qIENMQVNTICovKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOWIhuexu+WNoeeJhyAiKSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuZG9jdW1lbnRDYXRlZ29yaWVzLCBjYXRlZ29yeSA9PiB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogY2F0ZWdvcnkuaWQsCiAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJjYXRlZ29yeS1jYXJkIiwgewogICAgICAgICdjYXRlZ29yeS1hY3RpdmUnOiAkc2V0dXAuc2VhcmNoQ2F0ZWdvcnkgPT09IGNhdGVnb3J5LmlkLnRvU3RyaW5nKCkKICAgICAgfV0pLAogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLnNlbGVjdENhdGVnb3J5KGNhdGVnb3J5KQogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgY2xhc3M6ICJjYXRlZ29yeS1pY29uIiwKICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjYXRlZ29yeS5jb2xvcgogICAgICB9KQogICAgfSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0ZvbGRlcildKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pXSwgNCAvKiBTVFlMRSAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMyLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGNhdGVnb3J5Lm5hbWUpLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMywgX3RvRGlzcGxheVN0cmluZyhjYXRlZ29yeS5kb2N1bWVudF9jb3VudCkgKyAiIOS4quaWh+ahoyIsIDEgLyogVEVYVCAqLyldKSwgJHNldHVwLnNlYXJjaENhdGVnb3J5ID09PSBjYXRlZ29yeS5pZC50b1N0cmluZygpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMzQpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0sIDEwIC8qIENMQVNTLCBQUk9QUyAqLywgX2hvaXN0ZWRfMzEpOwogIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDmt7vliqDmlofmoaPliJfooajljLrln58gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM1LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzYsIFtfY2FjaGVbNTBdIHx8IChfY2FjaGVbNTBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAi5oiR55qE5paH5qGjIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zNywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdGV4dDogIiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9ICgpID0+ICRzZXR1cC5mZXRjaERvY3VtZW50cyh0cnVlKSkKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbNDldIHx8IChfY2FjaGVbNDldID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWIt+aWsCIpXSkpLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM4LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuZG9jdW1lbnRzLCBkb2MgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfY2FyZCwgewogICAgICBrZXk6IGRvYy5pZCwKICAgICAgY2xhc3M6ICJkb2MtY2FyZCIsCiAgICAgIHNoYWRvdzogImhvdmVyIiwKICAgICAgb25DbGljazogJGV2ZW50ID0+ICRzZXR1cC5vcGVuRG9jdW1lbnQoZG9jKQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80MCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQxLCBfdG9EaXNwbGF5U3RyaW5nKGRvYy50eXBlKSwgMSAvKiBURVhUICovKSwgZG9jLmNhdGVnb3J5ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgIGtleTogMCwKICAgICAgICBjbGFzczogImRvYy1jYXRlZ29yeS10YWciLAogICAgICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUoewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBkb2MuY2F0ZWdvcnkuY29sb3IgfHwgJyM2N0MyM0EnCiAgICAgICAgfSkKICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhkb2MuY2F0ZWdvcnkubmFtZSksIDUgLyogVEVYVCwgU1RZTEUgKi8pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOa3u+WKoOWFseS6q+eKtuaAgeagh+etviAiKSwgZG9jLmlzX3NoYXJlZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzQyLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Vc2VyKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY2FjaGVbNTFdIHx8IChfY2FjaGVbNTFdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLlt7LlhbHkuqsiLCAtMSAvKiBIT0lTVEVEICovKSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiZG9jLW1lbnUgYnRuLWNvbnRhaW5lciIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSBfd2l0aE1vZGlmaWVycygoKSA9PiB7fSwgWyJzdG9wIl0pKQogICAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd24sIHsKICAgICAgICB0cmlnZ2VyOiAiY2xpY2siLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gX3dpdGhNb2RpZmllcnMoKCkgPT4ge30sIFsic3RvcCJdKSkKICAgICAgfSwgewogICAgICAgIGRyb3Bkb3duOiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd25fbWVudSwgbnVsbCwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX2l0ZW0sIHsKICAgICAgICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoJGV2ZW50ID0+ICRzZXR1cC5vcGVuRG9jdW1lbnQoZG9jKSwgWyJzdG9wIl0pCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzUyXSB8fCAoX2NhY2hlWzUyXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLmiZPlvIAiKV0pKV0pLAogICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwgewogICAgICAgICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycygkZXZlbnQgPT4gJHNldHVwLmVkaXREb2N1bWVudChkb2MsICRldmVudCksIFsic3RvcCJdKQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbLi4uKF9jYWNoZVs1M10gfHwgKF9jYWNoZVs1M10gPSBbX2NyZWF0ZVRleHRWTm9kZSgi57yW6L6RIildKSldKSwKICAgICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX2l0ZW0sIHsKICAgICAgICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoJGV2ZW50ID0+ICRzZXR1cC5leHBvcnREb2N1bWVudChkb2MpLCBbInN0b3AiXSkKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbNTRdIHx8IChfY2FjaGVbNTRdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuS4i+i9vSIpXSkpXSksCiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtLCB7CiAgICAgICAgICAgIG9uQ2xpY2s6IF93aXRoTW9kaWZpZXJzKCRldmVudCA9PiAkc2V0dXAuc2hhcmVEb2N1bWVudChkb2MpLCBbInN0b3AiXSkKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbNTVdIHx8IChfY2FjaGVbNTVdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWIhuS6qyIpXSkpXSksCiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtLCB7CiAgICAgICAgICAgIGRpdmlkZWQ6ICIiLAogICAgICAgICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycygkZXZlbnQgPT4gJHNldHVwLmRlbGV0ZURvY3VtZW50KGRvYyksIFsic3RvcCJdKSwKICAgICAgICAgICAgdHlwZTogImRhbmdlciIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbNTZdIHx8IChfY2FjaGVbNTZdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWIoOmZpCIpXSkpXSksCiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pXSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pXSksCiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Nb3JlKV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KV0pLAogICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICB9LCAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoNCIsIHsKICAgICAgICBjbGFzczogImRvYy10aXRsZSIsCiAgICAgICAgdGl0bGU6IGRvYy50aXRsZQogICAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGRvYy50aXRsZSksIDkgLyogVEVYVCwgUFJPUFMgKi8sIF9ob2lzdGVkXzQ0KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiZG9jLXByZXZpZXciLAogICAgICAgIGlubmVySFRNTDogZG9jLnByZXZpZXcgfHwgJ+aXoOmihOiniOWGheWuuScKICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgX2hvaXN0ZWRfNDUpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ2LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDcsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0Nsb2NrKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuZm9ybWF0RGF0ZShkb2MudXBkYXRlX3RpbWUpKSwgMSAvKiBURVhUICovKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80OCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3Rvb2x0aXAsIHsKICAgICAgICBjb250ZW50OiAi57yW6L6RIiwKICAgICAgICBwbGFjZW1lbnQ6ICJ0b3AiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICBsaW5rOiAiIiwKICAgICAgICAgIGNpcmNsZTogIiIsCiAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoJGV2ZW50ID0+ICRzZXR1cC5lZGl0RG9jdW1lbnQoZG9jLCAkZXZlbnQpLCBbInN0b3AiXSkKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRWRpdFBlbildKSwKICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgIH0pXSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSldKSwKICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgfSwgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdG9vbHRpcCwgewogICAgICAgIGNvbnRlbnQ6ICLliIbkuqsiLAogICAgICAgIHBsYWNlbWVudDogInRvcCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIGxpbms6ICIiLAogICAgICAgICAgY2lyY2xlOiAiIiwKICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycygkZXZlbnQgPT4gJHNldHVwLnNoYXJlRG9jdW1lbnQoZG9jKSwgWyJzdG9wIl0pCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1NoYXJlKV0pLAogICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKV0pLAogICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICB9LCAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pXSldKV0pLAogICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKTsKICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDliJvlu7rmlrDmlofmoaPljaHniYcgIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAiZG9jLWNhcmQgbmV3LWRvYy1jYXJkIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVs4XSB8fCAoX2NhY2hlWzhdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC5jcmVhdGVOZXdEb2N1bWVudCAmJiAkc2V0dXAuY3JlYXRlTmV3RG9jdW1lbnQoLi4uYXJncykpCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ5LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1BsdXMpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pLCBfY2FjaGVbNTddIHx8IChfY2FjaGVbNTddID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLmlrDlu7rmlofmoaMiLCAtMSAvKiBIT0lTVEVEICovKSldKV0pXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDliIbpobXmjqfliLbljLogIiksICRzZXR1cC50b3RhbENvdW50ID4gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzUwLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcGFnaW5hdGlvbiwgewogICAgYmFja2dyb3VuZDogIiIsCiAgICBsYXlvdXQ6ICJwcmV2LCBwYWdlciwgbmV4dCwganVtcGVyIiwKICAgIHRvdGFsOiAkc2V0dXAudG90YWxDb3VudCwKICAgICJwYWdlLXNpemUiOiAkc2V0dXAucGFnZVNpemUsCiAgICAiY3VycmVudC1wYWdlIjogJHNldHVwLnBhZ2UsCiAgICAib25VcGRhdGU6Y3VycmVudFBhZ2UiOiBfY2FjaGVbOV0gfHwgKF9jYWNoZVs5XSA9ICRldmVudCA9PiAkc2V0dXAucGFnZSA9ICRldmVudCksCiAgICBvbkN1cnJlbnRDaGFuZ2U6ICRzZXR1cC5vblBhZ2VDaGFuZ2UsCiAgICAicGFnZXItY291bnQiOiA1LAogICAgZGlzYWJsZWQ6ICRzZXR1cC5jcmVhdGVMb2FkaW5nCiAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJ0b3RhbCIsICJwYWdlLXNpemUiLCAiY3VycmVudC1wYWdlIiwgIm9uQ3VycmVudENoYW5nZSIsICJkaXNhYmxlZCJdKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOa3u+WKoOiwg+ivleS/oeaBryjku4XlvIDlj5Hnjq/looPmmL7npLopICIpLCAkc2V0dXAuJF9pc0RldiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzUxLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic21hbGwiLCBudWxsLCAi5b2T5YmN6aG1OiAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucGFnZSkgKyAiIC8g5oC76aG15pWwOiAiICsgX3RvRGlzcGxheVN0cmluZyhNYXRoLmNlaWwoJHNldHVwLnRvdGFsQ291bnQgLyAkc2V0dXAucGFnZVNpemUpIHx8IDApICsgIiAo5YWxIiArIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnRvdGFsQ291bnQpICsgIuadoeiusOW9lSkiLCAxIC8qIFRFWFQgKi8pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDmnIDov5HnvJbovpHmlofmoaPljLrln58gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUyLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNTMsIFtfY2FjaGVbNTldIHx8IChfY2FjaGVbNTldID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAi5pyA6L+R57yW6L6RIiwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81NCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgdGV4dDogIiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMTBdIHx8IChfY2FjaGVbMTBdID0gJGV2ZW50ID0+ICRzZXR1cC52aWV3QWxsRG9jdW1lbnRzKCdyZWNlbnQnKSkKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbNThdIHx8IChfY2FjaGVbNThdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuafpeeci+WFqOmDqCIpXSkpLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzU1LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAucmVjZW50RG9jdW1lbnRzLCBkb2MgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfY2FyZCwgewogICAgICBrZXk6IGRvYy5pZCwKICAgICAgY2xhc3M6ICJkb2MtY2FyZCIsCiAgICAgIHNoYWRvdzogImhvdmVyIiwKICAgICAgb25DbGljazogJGV2ZW50ID0+ICRzZXR1cC5vcGVuRG9jdW1lbnQoZG9jKQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNTYsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81NywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzU4LCBfdG9EaXNwbGF5U3RyaW5nKGRvYy50eXBlKSwgMSAvKiBURVhUICovKSwgZG9jLmNhdGVnb3J5ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgIGtleTogMCwKICAgICAgICBjbGFzczogImRvYy1jYXRlZ29yeS10YWciLAogICAgICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUoewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBkb2MuY2F0ZWdvcnkuY29sb3IgfHwgJyM2N0MyM0EnCiAgICAgICAgfSkKICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhkb2MuY2F0ZWdvcnkubmFtZSksIDUgLyogVEVYVCwgU1RZTEUgKi8pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOa3u+WKoOWFseS6q+eKtuaAgeagh+etviAiKSwgZG9jLmlzX3NoYXJlZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzU5LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Vc2VyKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY2FjaGVbNjBdIHx8IChfY2FjaGVbNjBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLlt7LlhbHkuqsiLCAtMSAvKiBIT0lTVEVEICovKSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiZG9jLW1lbnUgYnRuLWNvbnRhaW5lciIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9IF93aXRoTW9kaWZpZXJzKCgpID0+IHt9LCBbInN0b3AiXSkpCiAgICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93biwgewogICAgICAgIHRyaWdnZXI6ICJjbGljayIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzExXSB8fCAoX2NhY2hlWzExXSA9IF93aXRoTW9kaWZpZXJzKCgpID0+IHt9LCBbInN0b3AiXSkpCiAgICAgIH0sIHsKICAgICAgICBkcm9wZG93bjogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX21lbnUsIG51bGwsIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtLCB7CiAgICAgICAgICAgIG9uQ2xpY2s6IF93aXRoTW9kaWZpZXJzKCRldmVudCA9PiAkc2V0dXAub3BlbkRvY3VtZW50KGRvYyksIFsic3RvcCJdKQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbLi4uKF9jYWNoZVs2MV0gfHwgKF9jYWNoZVs2MV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5omT5byAIildKSldKSwKICAgICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Ryb3Bkb3duX2l0ZW0sIHsKICAgICAgICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoJGV2ZW50ID0+ICRzZXR1cC5lZGl0RG9jdW1lbnQoZG9jLCAkZXZlbnQpLCBbInN0b3AiXSkKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbNjJdIHx8IChfY2FjaGVbNjJdID0gW19jcmVhdGVUZXh0Vk5vZGUoIue8lui+kSIpXSkpXSksCiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kcm9wZG93bl9pdGVtLCB7CiAgICAgICAgICAgIG9uQ2xpY2s6IF93aXRoTW9kaWZpZXJzKCRldmVudCA9PiAkc2V0dXAuZXhwb3J0RG9jdW1lbnQoZG9jKSwgWyJzdG9wIl0pCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzYzXSB8fCAoX2NhY2hlWzYzXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLkuIvovb0iKV0pKV0pLAogICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwgewogICAgICAgICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycygkZXZlbnQgPT4gJHNldHVwLnNoYXJlRG9jdW1lbnQoZG9jKSwgWyJzdG9wIl0pCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzY0XSB8fCAoX2NhY2hlWzY0XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLliIbkuqsiKV0pKV0pLAogICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZHJvcGRvd25faXRlbSwgewogICAgICAgICAgICBkaXZpZGVkOiAiIiwKICAgICAgICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoJGV2ZW50ID0+ICRzZXR1cC5kZWxldGVEb2N1bWVudChkb2MpLCBbInN0b3AiXSksCiAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzY1XSB8fCAoX2NhY2hlWzY1XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLliKDpmaQiKV0pKV0pLAogICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKV0pLAogICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgfSwgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKV0pLAogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfTW9yZSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSldKSwKICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgfSwgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYwLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDQiLCB7CiAgICAgICAgY2xhc3M6ICJkb2MtdGl0bGUiLAogICAgICAgIHRpdGxlOiBkb2MudGl0bGUKICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhkb2MudGl0bGUpLCA5IC8qIFRFWFQsIFBST1BTICovLCBfaG9pc3RlZF82MSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICBjbGFzczogImRvYy1wcmV2aWV3IiwKICAgICAgICBpbm5lckhUTUw6IGRvYy5wcmV2aWV3IHx8ICfml6DpooTop4jlhoXlrrknCiAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzYyKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82MywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzY0LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9DbG9jayldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmZvcm1hdERhdGUoZG9jLnVwZGF0ZV90aW1lKSksIDEgLyogVEVYVCAqLyldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNjUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90b29sdGlwLCB7CiAgICAgICAgY29udGVudDogIue8lui+kSIsCiAgICAgICAgcGxhY2VtZW50OiAidG9wIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgbGluazogIiIsCiAgICAgICAgICBjaXJjbGU6ICIiLAogICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgIG9uQ2xpY2s6IF93aXRoTW9kaWZpZXJzKCRldmVudCA9PiAkc2V0dXAuZWRpdERvY3VtZW50KGRvYywgJGV2ZW50KSwgWyJzdG9wIl0pCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2ljb24sIG51bGwsIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0VkaXRQZW4pXSksCiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICB9KV0pLAogICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pXSksCiAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgIH0sIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLyksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3Rvb2x0aXAsIHsKICAgICAgICBjb250ZW50OiAi5YiG5LqrIiwKICAgICAgICBwbGFjZW1lbnQ6ICJ0b3AiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICBsaW5rOiAiIiwKICAgICAgICAgIGNpcmNsZTogIiIsCiAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoJGV2ZW50ID0+ICRzZXR1cC5zaGFyZURvY3VtZW50KGRvYyksIFsic3RvcCJdKQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TaGFyZSldKSwKICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgIH0pXSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSldKSwKICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgfSwgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKV0pXSldKSwKICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSk7CiAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5Yib5bu65paw5paH5qGj5Y2h54mHICIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogImRvYy1jYXJkIG5ldy1kb2MtY2FyZCIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC5jcmVhdGVOZXdEb2N1bWVudCAmJiAkc2V0dXAuY3JlYXRlTmV3RG9jdW1lbnQoLi4uYXJncykpCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzY2LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1BsdXMpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pLCBfY2FjaGVbNjZdIHx8IChfY2FjaGVbNjZdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLmlrDlu7rmlofmoaMiLCAtMSAvKiBIT0lTVEVEICovKSldKV0pXSksICRzZXR1cC5yZWNlbnREb2N1bWVudHMubGVuZ3RoID09PSAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNjcsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIg56e76Zmk5pqC5peg5pyA6L+R57yW6L6R5paH5qGj55qE5pi+56S6ICIpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDliJvlu7rmlrDmlofmoaPlr7nor53moYYgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgbW9kZWxWYWx1ZTogJHNldHVwLm5ld0RvY3VtZW50RGlhbG9nVmlzaWJsZSwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzIwXSB8fCAoX2NhY2hlWzIwXSA9ICRldmVudCA9PiAkc2V0dXAubmV3RG9jdW1lbnREaWFsb2dWaXNpYmxlID0gJGV2ZW50KSwKICAgIHRpdGxlOiAi5paw5bu65pm66IO95paH5qGjIiwKICAgIHdpZHRoOiAiMzUlIgogIH0sIHsKICAgIGZvb3RlcjogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF83MCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICBvbkNsaWNrOiBfY2FjaGVbMTldIHx8IChfY2FjaGVbMTldID0gJGV2ZW50ID0+ICRzZXR1cC5uZXdEb2N1bWVudERpYWxvZ1Zpc2libGUgPSBmYWxzZSkKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzY5XSB8fCAoX2NhY2hlWzY5XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5bmtogiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICBvbkNsaWNrOiAkc2V0dXAuc3VibWl0TmV3RG9jdW1lbnQsCiAgICAgIGxvYWRpbmc6ICRzZXR1cC5jcmVhdGVMb2FkaW5nCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVs3MF0gfHwgKF9jYWNoZVs3MF0gPSBbX2NyZWF0ZVRleHRWTm9kZSgiIOWIm+W7uiAiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayIsICJsb2FkaW5nIl0pXSldKSwKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJzLCB7CiAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5kb2N1bWVudENyZWF0ZVR5cGUsCiAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE0XSB8fCAoX2NhY2hlWzE0XSA9ICRldmVudCA9PiAkc2V0dXAuZG9jdW1lbnRDcmVhdGVUeXBlID0gJGV2ZW50KQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFiX3BhbmUsIHsKICAgICAgICBsYWJlbDogIuepuueZveaWh+ahoyIsCiAgICAgICAgbmFtZTogImJsYW5rIgogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFiX3BhbmUsIHsKICAgICAgICBsYWJlbDogIkFJ55Sf5oiQ5paH5qGjIiwKICAgICAgICBuYW1lOiAiYWkiCiAgICAgIH0pXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksICRzZXR1cC5kb2N1bWVudENyZWF0ZVR5cGUgPT09ICdibGFuaycgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF82OCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgbW9kZWw6ICRzZXR1cC5uZXdEb2N1bWVudEZvcm0sCiAgICAgICJsYWJlbC13aWR0aCI6ICI4MHB4IiwKICAgICAgY2xhc3M6ICJtdC00IiwKICAgICAgcnVsZXM6ICRzZXR1cC5ibGFua0Zvcm1SdWxlcywKICAgICAgcmVmOiAiYmxhbmtGb3JtUmVmIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLmlofmoaPmoIfpopgiLAogICAgICAgIHByb3A6ICJ0aXRsZSIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLm5ld0RvY3VtZW50Rm9ybS50aXRsZSwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE1XSB8fCAoX2NhY2hlWzE1XSA9ICRldmVudCA9PiAkc2V0dXAubmV3RG9jdW1lbnRGb3JtLnRpdGxlID0gJGV2ZW50KSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5paH5qGj5qCH6aKYIgogICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuaWh+aho+exu+WeiyIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLm5ld0RvY3VtZW50Rm9ybS50eXBlLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTZdIHx8IChfY2FjaGVbMTZdID0gJGV2ZW50ID0+ICRzZXR1cC5uZXdEb2N1bWVudEZvcm0udHlwZSA9ICRldmVudCksCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWh+aho+exu+WeiyIKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jYWNoZVs2N10gfHwgKF9jYWNoZVs2N10gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogImZvcm0tdGlwIgogICAgICAgIH0sICLlpoLmnpzmnKrloavlhpnvvIzpu5jorqTkuLrpgJrnlKjnsbvlnosiLCAtMSAvKiBIT0lTVEVEICovKSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbCIsICJydWxlcyJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJHNldHVwLmRvY3VtZW50Q3JlYXRlVHlwZSA9PT0gJ2FpJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzY5LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybSwgewogICAgICBtb2RlbDogJHNldHVwLmFpRG9jdW1lbnRGb3JtLAogICAgICAibGFiZWwtd2lkdGgiOiAiODBweCIsCiAgICAgIGNsYXNzOiAibXQtNCIsCiAgICAgIHJ1bGVzOiAkc2V0dXAuYWlGb3JtUnVsZXMsCiAgICAgIHJlZjogImFpRm9ybVJlZiIKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5paH5qGj5Li76aKYIiwKICAgICAgICBwcm9wOiAidGl0bGUiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5haURvY3VtZW50Rm9ybS50aXRsZSwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE3XSB8fCAoX2NhY2hlWzE3XSA9ICRldmVudCA9PiAkc2V0dXAuYWlEb2N1bWVudEZvcm0udGl0bGUgPSAkZXZlbnQpLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICLnroDnn63mj4/ov7DmlofmoaPkuLvpopjvvIzlpoLvvJrpobnnm67lkajmiqUiCiAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5paH5qGj6KaB5rGCIiwKICAgICAgICBwcm9wOiAicmVxdWlyZW1lbnRzIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuYWlEb2N1bWVudEZvcm0ucmVxdWlyZW1lbnRzLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMThdIHx8IChfY2FjaGVbMThdID0gJGV2ZW50ID0+ICRzZXR1cC5haURvY3VtZW50Rm9ybS5yZXF1aXJlbWVudHMgPSAkZXZlbnQpLAogICAgICAgICAgdHlwZTogInRleHRhcmVhIiwKICAgICAgICAgIHJvd3M6IDMsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivpue7huaPj+i/sOaCqOmcgOimgeeahOaWh+aho+WGheWuueWSjOimgeaxgiIKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jYWNoZVs2OF0gfHwgKF9jYWNoZVs2OF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogImZvcm0tdGlwIgogICAgICAgIH0sICLkurrlt6Xmmbrog73kvJrmoLnmja7mgqjnmoTmj4/ov7DnlJ/miJDmlofmoaPlhoXlrrkiLCAtMSAvKiBIT0lTVEVEICovKSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbCIsICJydWxlcyJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDliIbkuqvmlofmoaPlr7nor53moYYgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgbW9kZWxWYWx1ZTogJHNldHVwLnNoYXJlRGlhbG9nVmlzaWJsZSwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzI2XSB8fCAoX2NhY2hlWzI2XSA9ICRldmVudCA9PiAkc2V0dXAuc2hhcmVEaWFsb2dWaXNpYmxlID0gJGV2ZW50KSwKICAgIHRpdGxlOiAi5YiG5Lqr5paH5qGjIiwKICAgIHdpZHRoOiAiMzAlIiwKICAgIGNsYXNzOiAic2hhcmUtZGlhbG9nIgogIH0sIHsKICAgIGZvb3RlcjogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF83OSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICBvbkNsaWNrOiBfY2FjaGVbMjVdIHx8IChfY2FjaGVbMjVdID0gJGV2ZW50ID0+ICRzZXR1cC5zaGFyZURpYWxvZ1Zpc2libGUgPSBmYWxzZSkKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzgwXSB8fCAoX2NhY2hlWzgwXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5bmtogiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICBvbkNsaWNrOiAkc2V0dXAuY29uZmlybVNoYXJlLAogICAgICBsb2FkaW5nOiAkc2V0dXAuc2hhcmVMb2FkaW5nCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnNoYXJlTW9kZSA9PT0gJ3Blcm1pc3Npb24nID8gJ+ehruWumicgOiAn5YiG5LqrJyksIDEgLyogVEVYVCAqLyldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayIsICJsb2FkaW5nIl0pXSldKSwKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFskc2V0dXAuc2VsZWN0ZWREb2N1bWVudCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzcxLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsIFtfY2FjaGVbNzFdIHx8IChfY2FjaGVbNzFdID0gX2NyZWF0ZVRleHRWTm9kZSgi5oKo5Y2z5bCG5YiG5Lqr5paH5qGjOiAiKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInN0cm9uZyIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnNlbGVjdGVkRG9jdW1lbnQudGl0bGUpLCAxIC8qIFRFWFQgKi8pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgImxhYmVsLXdpZHRoIjogIjEyMHB4IiwKICAgICAgY2xhc3M6ICJtdC00IgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLliIbkuqvmlrnlvI8iCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcmFkaW9fZ3JvdXAsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zaGFyZU1vZGUsCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyMV0gfHwgKF9jYWNoZVsyMV0gPSAkZXZlbnQgPT4gJHNldHVwLnNoYXJlTW9kZSA9ICRldmVudCksCiAgICAgICAgICBvbkNoYW5nZTogJHNldHVwLmhhbmRsZVNoYXJlTW9kZUNoYW5nZQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFskc2V0dXAuc2VsZWN0ZWREb2N1bWVudC5jcmVhdG9yICYmICRzZXR1cC5zZWxlY3RlZERvY3VtZW50LmNyZWF0b3IuaWQgPT09ICRzZXR1cC5nZXRDdXJyZW50VXNlcklkKCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9yYWRpbywgewogICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgIGxhYmVsOiAncGVybWlzc2lvbicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzcyXSB8fCAoX2NhY2hlWzcyXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLmjojkuojmnYPpmZAiKV0pKSwKICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcmFkaW8sIHsKICAgICAgICAgICAgbGFiZWw6ICdjaGF0JwogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbNzNdIHx8IChfY2FjaGVbNzNdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWPkemAgeWIsOiBiuWkqSIpXSkpLAogICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgfSldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIiwgIm9uQ2hhbmdlIl0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDmnYPpmZDliIbkuqvmqKHlvI8gIiksICRzZXR1cC5zaGFyZU1vZGUgPT09ICdwZXJtaXNzaW9uJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCB7CiAgICAgICAga2V5OiAwCiAgICAgIH0sIFskc2V0dXAuZXhpc3RpbmdTaGFyZWRVc2Vycy5sZW5ndGggPiAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAga2V5OiAwLAogICAgICAgIGxhYmVsOiAi5bey5YiG5Lqr55So5oi3IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcyLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuZXhpc3RpbmdTaGFyZWRVc2VycywgdXNlciA9PiB7CiAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICAgIGtleTogdXNlci51c2VyX2lkLAogICAgICAgICAgICBjbGFzczogInVzZXItcGVybWlzc2lvbi1pdGVtIgogICAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF83MywgX3RvRGlzcGxheVN0cmluZyh1c2VyLnVzZXJuYW1lKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzQsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWcsIHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzc0XSB8fCAoX2NhY2hlWzc0XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj6/nvJbovpEiKV0pKV0pLAogICAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgbGluazogIiIsCiAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAucmVtb3ZlU2hhcmVkVXNlcih1c2VyLnVzZXJfaWQpLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICJtYXJnaW4tbGVmdCI6ICIxMHB4IgogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsuLi4oX2NhY2hlWzc1XSB8fCAoX2NhY2hlWzc1XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLnp7vpmaQiKV0pKV0pLAogICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsib25DbGljayJdKV0pXSk7CiAgICAgICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzc1LCAi5bey5pyJICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5leGlzdGluZ1NoYXJlZFVzZXJzLmxlbmd0aCkgKyAiIOS4queUqOaIt+aLpeacieatpOaWh+aho+eahOadg+mZkCIsIDEgLyogVEVYVCAqLyldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5re75Yqg55So5oi3IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3NlbGVjdCwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLnNlbGVjdGVkVXNlcnMsCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyMl0gfHwgKF9jYWNoZVsyMl0gPSAkZXZlbnQgPT4gJHNldHVwLnNlbGVjdGVkVXNlcnMgPSAkZXZlbnQpLAogICAgICAgICAgbW9kZWxNb2RpZmllcnM6IHsKICAgICAgICAgICAgbnVtYmVyOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgbXVsdGlwbGU6ICIiLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fpgInmi6nopoHmt7vliqDnmoTnlKjmiLciLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgIndpZHRoIjogIjEwMCUiCiAgICAgICAgICB9LAogICAgICAgICAgInBvcHBlci1jbGFzcyI6ICJzaGFyZS1kaWFsb2ctcG9wcGVyIiwKICAgICAgICAgIG9uQ2hhbmdlOiAkc2V0dXAuaGFuZGxlVXNlclNlbGVjdGlvbkNoYW5nZQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5hdmFpbGFibGVVc2VycywgdXNlciA9PiB7CiAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX29wdGlvbiwgewogICAgICAgICAgICAgIGtleTogdXNlci5pZCwKICAgICAgICAgICAgICBsYWJlbDogdXNlci51c2VybmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogdXNlci5pZAogICAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbImxhYmVsIiwgInZhbHVlIl0pOwogICAgICAgICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSIsICJvbkNoYW5nZSJdKSwgJHNldHVwLmF2YWlsYWJsZVVzZXJzLmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzc2LCAi5rKh5pyJ5Y+v5re75Yqg55qE55So5oi3IikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksICRzZXR1cC5zZWxlY3RlZFVzZXJzLmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBrZXk6IDEsCiAgICAgICAgbGFiZWw6ICLmlrDlop7mnYPpmZAiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzcsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5zZWxlY3RlZFVzZXJzV2l0aFBlcm1pc3Npb25zLCB1c2VyUGVybSA9PiB7CiAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICAgIGtleTogdXNlclBlcm0udXNlcl9pZCwKICAgICAgICAgICAgY2xhc3M6ICJ1c2VyLXBlcm1pc3Npb24taXRlbSIKICAgICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNzgsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmdldFVzZXJuYW1lQnlJZCh1c2VyUGVybS51c2VyX2lkKSksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhZywgewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWy4uLihfY2FjaGVbNzZdIHx8IChfY2FjaGVbNzZdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuWPr+e8lui+kSIpXSkpXSksCiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICB9KV0pOwogICAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSwgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDogYrlpKnliIbkuqvmqKHlvI8gIiksICRzZXR1cC5zaGFyZU1vZGUgPT09ICdjaGF0JyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCB7CiAgICAgICAga2V5OiAxCiAgICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuaWh+aho+agvOW8jyIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9yYWRpb19ncm91cCwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLnNoYXJlRm9ybWF0LAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMjNdIHx8IChfY2FjaGVbMjNdID0gJGV2ZW50ID0+ICRzZXR1cC5zaGFyZUZvcm1hdCA9ICRldmVudCkKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcmFkaW8sIHsKICAgICAgICAgICAgbGFiZWw6ICJwZGYiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVs3N10gfHwgKF9jYWNoZVs3N10gPSBbX2NyZWF0ZVRleHRWTm9kZSgiUERG5qC85byPIildKSksCiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcmFkaW8sIHsKICAgICAgICAgICAgbGFiZWw6ICJ3b3JkIgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbNzhdIHx8IChfY2FjaGVbNzhdID0gW19jcmVhdGVUZXh0Vk5vZGUoIldvcmTmoLzlvI8iKV0pKSwKICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgIH0pXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIumAieaLqeeUqOaItyIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zZWxlY3QsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5zZWxlY3RlZENoYXRVc2VycywKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzI0XSB8fCAoX2NhY2hlWzI0XSA9ICRldmVudCA9PiAkc2V0dXAuc2VsZWN0ZWRDaGF0VXNlcnMgPSAkZXZlbnQpLAogICAgICAgICAgbXVsdGlwbGU6ICIiLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fpgInmi6nmjqXmlLbnlKjmiLciLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgIndpZHRoIjogIjEwMCUiCiAgICAgICAgICB9LAogICAgICAgICAgInBvcHBlci1jbGFzcyI6ICJzaGFyZS1kaWFsb2ctcG9wcGVyIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5hdmFpbGFibGVDaGF0VXNlcnMsIHVzZXIgPT4gewogICAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9vcHRpb24sIHsKICAgICAgICAgICAgICBrZXk6IHVzZXIuaWQsCiAgICAgICAgICAgICAgbGFiZWw6IHVzZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgdmFsdWU6IHVzZXIuaWQKICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJsYWJlbCIsICJ2YWx1ZSJdKTsKICAgICAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jYWNoZVs3OV0gfHwgKF9jYWNoZVs3OV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogImZvcm0tdGlwIgogICAgICAgIH0sICLmlofmoaPlsIblj5HpgIHliLDkuI7pgInkuK3nlKjmiLfnmoTogYrlpKnkvJror53kuK0iLCAtMSAvKiBIT0lTVEVEICovKSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0sIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDliKDpmaTnoa7orqTlr7nor53moYYgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgbW9kZWxWYWx1ZTogJHNldHVwLmRlbGV0ZURpYWxvZ1Zpc2libGUsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyOF0gfHwgKF9jYWNoZVsyOF0gPSAkZXZlbnQgPT4gJHNldHVwLmRlbGV0ZURpYWxvZ1Zpc2libGUgPSAkZXZlbnQpLAogICAgdGl0bGU6ICLliKDpmaTmlofmoaMiLAogICAgd2lkdGg6ICIzMCUiCiAgfSwgewogICAgZm9vdGVyOiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzgxLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyN10gfHwgKF9jYWNoZVsyN10gPSAkZXZlbnQgPT4gJHNldHVwLmRlbGV0ZURpYWxvZ1Zpc2libGUgPSBmYWxzZSkKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzg0XSB8fCAoX2NhY2hlWzg0XSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5bmtogiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgIG9uQ2xpY2s6ICRzZXR1cC5jb25maXJtRGVsZXRlLAogICAgICBsb2FkaW5nOiAkc2V0dXAuZGVsZXRlTG9hZGluZwogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbODVdIHx8IChfY2FjaGVbODVdID0gW19jcmVhdGVUZXh0Vk5vZGUoIiDliKDpmaQgIildKSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siLCAibG9hZGluZyJdKV0pXSksCiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbJHNldHVwLnNlbGVjdGVkRG9jdW1lbnQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84MCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCBbX2NhY2hlWzgxXSB8fCAoX2NhY2hlWzgxXSA9IF9jcmVhdGVUZXh0Vk5vZGUoIuaCqOehruWumuimgeWIoOmZpOaWh+ahoyAiKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInN0cm9uZyIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnNlbGVjdGVkRG9jdW1lbnQudGl0bGUpLCAxIC8qIFRFWFQgKi8pLCBfY2FjaGVbODJdIHx8IChfY2FjaGVbODJdID0gX2NyZWF0ZVRleHRWTm9kZSgiIOWQlz8iKSldKSwgX2NhY2hlWzgzXSB8fCAoX2NhY2hlWzgzXSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCB7CiAgICAgIGNsYXNzOiAid2FybmluZy10ZXh0IgogICAgfSwgIuatpOaTjeS9nOS4jeWPr+aSpOmUgCEiLCAtMSAvKiBIT0lTVEVEICovKSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5YiG57G7566h55CG5a+56K+d5qGGICIpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kaWFsb2csIHsKICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5jYXRlZ29yeURpYWxvZ1Zpc2libGUsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszMl0gfHwgKF9jYWNoZVszMl0gPSAkZXZlbnQgPT4gJHNldHVwLmNhdGVnb3J5RGlhbG9nVmlzaWJsZSA9ICRldmVudCksCiAgICB0aXRsZTogIueuoeeQhuaWh+aho+WIhuexuyIsCiAgICB3aWR0aDogIjQwJSIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfODIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84MywgW19jYWNoZVs4OF0gfHwgKF9jYWNoZVs4OF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJoNCIsIG51bGwsICLlvZPliY3nsbvlnosiLCAtMSAvKiBIT0lTVEVEICovKSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlLCB7CiAgICAgIGRhdGE6ICRzZXR1cC5kb2N1bWVudENhdGVnb3JpZXMsCiAgICAgIHN0eWxlOiB7CiAgICAgICAgIndpZHRoIjogIjEwMCUiCiAgICAgIH0KICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgIHByb3A6ICJuYW1lIiwKICAgICAgICBsYWJlbDogIuexu+Wei+WQjeensCIKICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgIGxhYmVsOiAi6aKc6ImyIiwKICAgICAgICB3aWR0aDogIjEyMCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KHNjb3BlID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogImNvbG9yLXByZXZpZXciLAogICAgICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc2NvcGUucm93LmNvbG9yCiAgICAgICAgICB9KQogICAgICAgIH0sIG51bGwsIDQgLyogU1RZTEUgKi8pLCBfY3JlYXRlVGV4dFZOb2RlKCIgIiArIF90b0Rpc3BsYXlTdHJpbmcoc2NvcGUucm93LmNvbG9yKSwgMSAvKiBURVhUICovKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHsKICAgICAgICBsYWJlbDogIuaWh+aho+aVsCIsCiAgICAgICAgd2lkdGg6ICIxMDAiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChzY29wZSA9PiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5kb2N1bWVudF9jb3VudCB8fCAwKSwgMSAvKiBURVhUICovKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHsKICAgICAgICBsYWJlbDogIuaTjeS9nCIsCiAgICAgICAgd2lkdGg6ICIxNTAiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChzY29wZSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgICBsaW5rOiAiIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAuZWRpdENhdGVnb3J5KHNjb3BlLnJvdykKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbODZdIHx8IChfY2FjaGVbODZdID0gW19jcmVhdGVUZXh0Vk5vZGUoIue8lui+kSIpXSkpLAogICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICAgICAgbGluazogIiIsCiAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLmRlbGV0ZUNhdGVnb3J5KHNjb3BlLnJvdyksCiAgICAgICAgICBkaXNhYmxlZDogc2NvcGUucm93LmRvY3VtZW50X2NvdW50ID4gMAogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVs4N10gfHwgKF9jYWNoZVs4N10gPSBbX2NyZWF0ZVRleHRWTm9kZSgi5Yig6ZmkIildKSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siLCAiZGlzYWJsZWQiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJkYXRhIl0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpdmlkZXIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84NCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImg0IiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuZWRpdGluZ0NhdGVnb3J5LmlkID8gJ+e8lui+keWIhuexuycgOiAn5paw5aKe5YiG57G7JyksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgbW9kZWw6ICRzZXR1cC5lZGl0aW5nQ2F0ZWdvcnksCiAgICAgIHJ1bGVzOiAkc2V0dXAuY2F0ZWdvcnlGb3JtUnVsZXMsCiAgICAgICJsYWJlbC13aWR0aCI6ICI4MHB4IiwKICAgICAgcmVmOiAiY2F0ZWdvcnlGb3JtUmVmIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLliIbnsbvlkI3np7AiLAogICAgICAgIHByb3A6ICJuYW1lIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZWRpdGluZ0NhdGVnb3J5Lm5hbWUsCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyOV0gfHwgKF9jYWNoZVsyOV0gPSAkZXZlbnQgPT4gJHNldHVwLmVkaXRpbmdDYXRlZ29yeS5uYW1lID0gJGV2ZW50KSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6L6T5YWl5YiG57G75ZCN56ewIgogICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuWIhuexu+minOiJsiIsCiAgICAgICAgcHJvcDogImNvbG9yIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2NvbG9yX3BpY2tlciwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmVkaXRpbmdDYXRlZ29yeS5jb2xvciwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzMwXSB8fCAoX2NhY2hlWzMwXSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdGluZ0NhdGVnb3J5LmNvbG9yID0gJGV2ZW50KQogICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzg1LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5lZGl0aW5nQ2F0ZWdvcnkuY29sb3IpLCAxIC8qIFRFWFQgKi8pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5o+P6L+wIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZWRpdGluZ0NhdGVnb3J5LmRlc2NyaXB0aW9uLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMzFdIHx8IChfY2FjaGVbMzFdID0gJGV2ZW50ID0+ICRzZXR1cC5lZGl0aW5nQ2F0ZWdvcnkuZGVzY3JpcHRpb24gPSAkZXZlbnQpLAogICAgICAgICAgdHlwZTogInRleHRhcmVhIiwKICAgICAgICAgIHJvd3M6IDMsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIui+k+WFpeWIhuexu+aPj+i/sO+8iOWPr+mAie+8iSIKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCBudWxsLCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgb25DbGljazogJHNldHVwLnN1Ym1pdENhdGVnb3J5LAogICAgICAgICAgbG9hZGluZzogJHNldHVwLmNhdGVnb3J5TG9hZGluZwogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmVkaXRpbmdDYXRlZ29yeS5pZCA/ICfmm7TmlrAnIDogJ+WIm+W7uicpLCAxIC8qIFRFWFQgKi8pXSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayIsICJsb2FkaW5nIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5yZXNldENhdGVnb3J5Rm9ybQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVs4OV0gfHwgKF9jYWNoZVs4OV0gPSBbX2NyZWF0ZVRleHRWTm9kZSgi6YeN572uIildKSksCiAgICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsIiwgInJ1bGVzIl0pXSldKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDmt7vliqDnvJbovpHmlofmoaPnmoTlvLnnqpcgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgbW9kZWxWYWx1ZTogJHNldHVwLmVkaXREaWFsb2dWaXNpYmxlLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMzddIHx8IChfY2FjaGVbMzddID0gJGV2ZW50ID0+ICRzZXR1cC5lZGl0RGlhbG9nVmlzaWJsZSA9ICRldmVudCksCiAgICB0aXRsZTogIue8lui+keaWh+ahoyIsCiAgICB3aWR0aDogIjM1JSIKICB9LCB7CiAgICBmb290ZXI6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfODYsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgb25DbGljazogX2NhY2hlWzM2XSB8fCAoX2NhY2hlWzM2XSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZSkKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzkxXSB8fCAoX2NhY2hlWzkxXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5bmtogiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICBvbkNsaWNrOiAkc2V0dXAuc3VibWl0RWRpdERvY3VtZW50LAogICAgICBsb2FkaW5nOiAkc2V0dXAuZWRpdExvYWRpbmcKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gX2NhY2hlWzkyXSB8fCAoX2NhY2hlWzkyXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCIg5L+d5a2YICIpXSkpLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIiwgImxvYWRpbmciXSldKV0pLAogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgbW9kZWw6ICRzZXR1cC5lZGl0RG9jdW1lbnRGb3JtLAogICAgICAibGFiZWwtd2lkdGgiOiAiODBweCIsCiAgICAgIGNsYXNzOiAibXQtNCIsCiAgICAgIHJ1bGVzOiAkc2V0dXAuZWRpdEZvcm1SdWxlcywKICAgICAgcmVmOiAiZWRpdEZvcm1SZWYiCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuaWh+aho+agh+mimCIsCiAgICAgICAgcHJvcDogInRpdGxlIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZWRpdERvY3VtZW50Rm9ybS50aXRsZSwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzMzXSB8fCAoX2NhY2hlWzMzXSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdERvY3VtZW50Rm9ybS50aXRsZSA9ICRldmVudCksCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWh+aho+agh+mimCIKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLmlofmoaPnsbvlnosiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5lZGl0RG9jdW1lbnRGb3JtLnR5cGUsCiAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszNF0gfHwgKF9jYWNoZVszNF0gPSAkZXZlbnQgPT4gJHNldHVwLmVkaXREb2N1bWVudEZvcm0udHlwZSA9ICRldmVudCksCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWh+aho+exu+WeiyIKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSksIF9jYWNoZVs5MF0gfHwgKF9jYWNoZVs5MF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogImZvcm0tdGlwIgogICAgICAgIH0sICLlpoLmnpzmnKrloavlhpnvvIzpu5jorqTkuLrpgJrnlKjnsbvlnosiLCAtMSAvKiBIT0lTVEVEICovKSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLmiYDlsZ7liIbnsbsiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfc2VsZWN0LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZWRpdERvY3VtZW50Rm9ybS5jYXRlZ29yeV9pZCwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzM1XSB8fCAoX2NhY2hlWzM1XSA9ICRldmVudCA9PiAkc2V0dXAuZWRpdERvY3VtZW50Rm9ybS5jYXRlZ29yeV9pZCA9ICRldmVudCksCiAgICAgICAgICBwbGFjZWhvbGRlcjogIumAieaLqeaWh+aho+WIhuexuyIsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAid2lkdGgiOiAiMTAwJSIKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgIGxhYmVsOiAi5peg5YiG57G7IiwKICAgICAgICAgICAgdmFsdWU6IG51bGwKICAgICAgICAgIH0pLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5kb2N1bWVudENhdGVnb3JpZXMsIGNhdGVnb3J5ID0+IHsKICAgICAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfb3B0aW9uLCB7CiAgICAgICAgICAgICAga2V5OiBjYXRlZ29yeS5pZCwKICAgICAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQKICAgICAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJsYWJlbCIsICJ2YWx1ZSJdKTsKICAgICAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbCIsICJydWxlcyJdKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKTsKfQ=="},{"version":3,"names":["class","style","backgroundColor","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_toDisplayString","$setup","refreshTrigger","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_el_select","searchCategory","$event","placeholder","onChange","_cache","selectCategory","_component_el_option","label","value","_Fragment","_renderList","documentCategories","category","_createBlock","key","id","name","toString","_component_el_input","searchQuery","clearable","prefix","_withCtx","_component_el_icon","_component_Search","_component_el_button","type","onClick","handleImportWord","_component_Upload","createNewDocument","_component_Plus","_hoisted_6","_component_el_card","shadow","_hoisted_7","_hoisted_8","_component_Document","_hoisted_9","_hoisted_10","totalDocuments","_hoisted_11","_hoisted_12","_component_EditPen","_hoisted_13","_hoisted_14","recentEditCount","_hoisted_15","_hoisted_16","_component_Share","_hoisted_17","_hoisted_18","sharedDocuments","length","_hoisted_19","_hoisted_20","_hoisted_21","_normalizeStyle","getSelectedCategoryColor","getSelectedCategoryName","_hoisted_22","link","resetCategoryFilter","_component_Close","_hoisted_23","_hoisted_24","_hoisted_25","text","manageCategories","_hoisted_26","_normalizeClass","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","color","_component_Folder","_hoisted_32","_hoisted_33","document_count","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","fetchDocuments","_hoisted_38","documents","doc","openDocument","_hoisted_39","_hoisted_40","_hoisted_41","is_shared","_hoisted_42","_component_User","_withModifiers","_component_el_dropdown","trigger","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","editDocument","exportDocument","shareDocument","divided","deleteDocument","_component_More","_hoisted_43","title","_hoisted_44","innerHTML","preview","_hoisted_46","_hoisted_47","_component_Clock","formatDate","update_time","_hoisted_48","_component_el_tooltip","content","placement","circle","size","args","_hoisted_49","totalCount","_hoisted_50","_component_el_pagination","background","layout","total","pageSize","page","onCurrentChange","onPageChange","disabled","createLoading","$_isDev","_hoisted_51","Math","ceil","_hoisted_52","_hoisted_53","_hoisted_54","viewAllDocuments","_hoisted_55","recentDocuments","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_component_el_dialog","newDocumentDialogVisible","width","footer","_hoisted_70","submitNewDocument","loading","_component_el_tabs","documentCreateType","_component_el_tab_pane","_hoisted_68","_component_el_form","model","newDocumentForm","rules","blankFormRules","ref","_component_el_form_item","prop","_hoisted_69","aiDocumentForm","aiFormRules","requirements","rows","shareDialogVisible","_hoisted_79","confirmShare","shareLoading","shareMode","selectedDocument","_hoisted_71","_component_el_radio_group","handleShareModeChange","creator","getCurrentUserId","_component_el_radio","existingSharedUsers","_hoisted_72","user","user_id","_hoisted_73","username","_hoisted_74","_component_el_tag","removeSharedUser","_hoisted_75","selectedUsers","number","multiple","handleUserSelectionChange","availableUsers","_hoisted_76","_hoisted_77","selectedUsersWithPermissions","userPerm","_hoisted_78","getUsernameById","shareFormat","selectedChatUsers","availableChatUsers","deleteDialogVisible","_hoisted_81","confirmDelete","deleteLoading","_hoisted_80","categoryDialogVisible","_hoisted_82","_hoisted_83","_component_el_table","data","_component_el_table_column","default","scope","row","editCategory","deleteCategory","_component_el_divider","_hoisted_84","editingCategory","categoryFormRules","_component_el_color_picker","_hoisted_85","description","submitCategory","categoryLoading","resetCategoryForm","editDialogVisible","_hoisted_86","submitEditDocument","editLoading","editDocumentForm","editFormRules","category_id"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\src\\views\\smartdoc\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"smartdoc-home-container\">\n    <!-- 添加隐藏的刷新触发元素，用于强制组件刷新 -->\n    <div style=\"display: none;\">{{ refreshTrigger }}</div>\n    \n    <!-- 页面标题和操作区 -->\n    <div class=\"page-header\">\n      <div class=\"left-section\">\n        <h2 class=\"page-title\">智能文档</h2>\n        <p class=\"page-description\">创建、编辑和管理您的智能文档</p>\n        </div>\n      <div class=\"right-section\">\n        <div class=\"search-controls\">\n          <el-select \n            v-model=\"searchCategory\" \n            placeholder=\"选择分类\" \n            @change=\"selectCategory(searchCategory)\" \n            class=\"category-select\"\n          >\n            <el-option label=\"全部分类\" value=\"all\" />\n            <el-option \n              v-for=\"category in documentCategories\" \n              :key=\"category.id\" \n              :label=\"category.name\" \n              :value=\"category.id.toString()\"\n            />\n          </el-select>\n          \n          <el-input\n            placeholder=\"搜索文档...\"\n            v-model=\"searchQuery\"\n          class=\"search-input\"\n            clearable\n          >\n            <template #prefix>\n              <el-icon><Search /></el-icon>\n            </template>\n          </el-input>\n        </div>\n        \n        <el-button type=\"success\" @click=\"handleImportWord\" style=\"margin-right: 10px;\">\n          <el-icon><Upload /></el-icon> 导入Word\n        </el-button>\n        <el-button type=\"primary\" @click=\"createNewDocument\">\n          <el-icon><Plus /></el-icon> 新建文档\n        </el-button>\n          </div>\n        </div>\n\n    <!-- 文档概览统计卡片 -->\n    <div class=\"stats-cards\">\n      <el-card class=\"stat-card\" shadow=\"hover\" @click=\"selectCategory('all')\">\n        <div class=\"stat-content\">\n          <div class=\"stat-icon doc-icon\">\n                <el-icon><Document /></el-icon>\n              </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-value\">{{ totalDocuments }}</div>\n            <div class=\"stat-label\">全部文档</div>\n                </div>\n              </div>\n      </el-card>\n      \n      <el-card class=\"stat-card\" shadow=\"hover\">\n        <div class=\"stat-content\">\n          <div class=\"stat-icon edit-icon\">\n            <el-icon><EditPen /></el-icon>\n            </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-value\">{{ recentEditCount }}</div>\n            <div class=\"stat-label\">近期编辑</div>\n          </div>\n        </div>\n      </el-card>\n      \n      <el-card class=\"stat-card\" shadow=\"hover\">\n        <div class=\"stat-content\">\n          <div class=\"stat-icon share-icon\">\n            <el-icon><Share /></el-icon>\n          </div>\n          <div class=\"stat-info\">\n            <div class=\"stat-value\">{{ sharedDocuments.length }}</div>\n            <div class=\"stat-label\">共享文档</div>\n            </div>\n        </div>\n      </el-card>\n    </div>\n\n    <!-- 添加筛选活动状态提示栏 -->\n    <div v-if=\"searchCategory !== 'all'\" class=\"filter-status-bar\">\n      <div class=\"filter-bar-content\">\n        <div class=\"filter-title\">\n          <span>当前筛选: </span>\n          <span class=\"filter-category\" :style=\"{ backgroundColor: getSelectedCategoryColor() }\">\n            {{ getSelectedCategoryName() }}\n          </span>\n        </div>\n        <div class=\"filter-actions\">\n          <el-button type=\"primary\" link @click=\"resetCategoryFilter\">\n            <el-icon><Close /></el-icon> 清除筛选\n          </el-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 文档分类区域 - 移至文档列表上方 -->\n    <div class=\"section category-section\">\n      <div class=\"section-header\">\n        <h3>文档分类</h3>\n        <div class=\"section-actions\">\n          <el-button text @click=\"manageCategories\">管理分类</el-button>\n        </div>\n      </div>\n      \n      <div class=\"category-cards\">\n        <!-- 全部分类选项 -->\n        <div \n          class=\"category-card\" \n          :class=\"{ 'category-active': searchCategory === 'all' }\"\n          @click=\"selectCategory('all')\"\n        >\n          <div class=\"category-icon\" :style=\"{ backgroundColor: '#409EFF' }\">\n            <el-icon><Document /></el-icon>\n          </div>\n          <div class=\"category-info\">\n            <h4>全部文档</h4>\n            <div class=\"category-count\">{{ totalDocuments }} 个文档</div>\n          </div>\n          <div v-if=\"searchCategory === 'all'\" class=\"category-selected-indicator\"></div>\n        </div>\n        \n        <!-- 分类卡片 -->\n        <div \n          v-for=\"category in documentCategories\" \n          :key=\"category.id\" \n          class=\"category-card\" \n          :class=\"{ 'category-active': searchCategory === category.id.toString() }\"\n          @click=\"selectCategory(category)\"\n        >\n          <div class=\"category-icon\" :style=\"{ backgroundColor: category.color }\">\n            <el-icon><Folder /></el-icon>\n          </div>\n          <div class=\"category-info\">\n            <h4>{{ category.name }}</h4>\n            <div class=\"category-count\">{{ category.document_count }} 个文档</div>\n          </div>\n          <div v-if=\"searchCategory === category.id.toString()\" class=\"category-selected-indicator\"></div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 添加文档列表区域 -->\n    <div class=\"section\">\n      <div class=\"section-header\">\n        <h3>我的文档</h3>\n        <div class=\"filter-controls\">\n          <el-button text @click=\"() => fetchDocuments(true)\">刷新</el-button>\n        </div>\n              </div>\n      \n      <div class=\"document-cards\">\n        <el-card \n          v-for=\"doc in documents\" \n          :key=\"doc.id\" \n          class=\"doc-card\" \n          shadow=\"hover\"\n          @click=\"openDocument(doc)\"\n        >\n          <div class=\"doc-card-header\">\n            <div class=\"doc-info\">\n              <div class=\"doc-type-tag\">{{ doc.type }}</div>\n              <div v-if=\"doc.category\" \n                   class=\"doc-category-tag\" \n                   :style=\"{ backgroundColor: doc.category.color || '#67C23A' }\"\n              >\n                {{ doc.category.name }}\n              </div>\n              <!-- 添加共享状态标签 -->\n              <div v-if=\"doc.is_shared\" class=\"doc-shared-tag\">\n                <el-icon><User /></el-icon>\n                <span>已共享</span>\n              </div>\n            </div>\n            <div class=\"doc-menu btn-container\" @click.stop>\n              <el-dropdown trigger=\"click\" @click.stop>\n                <el-icon><More /></el-icon>\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item @click.stop=\"openDocument(doc)\">打开</el-dropdown-item>\n                    <el-dropdown-item @click.stop=\"editDocument(doc, $event)\">编辑</el-dropdown-item>\n                    <el-dropdown-item @click.stop=\"exportDocument(doc)\">下载</el-dropdown-item>\n                    <el-dropdown-item @click.stop=\"shareDocument(doc)\">分享</el-dropdown-item>\n                    <el-dropdown-item divided @click.stop=\"deleteDocument(doc)\" type=\"danger\">删除</el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n            </div>\n          </div>\n          \n          <div class=\"card-content-area\">\n            <h4 class=\"doc-title\" :title=\"doc.title\">{{ doc.title }}</h4>\n            <div class=\"doc-preview\" v-html=\"doc.preview || '无预览内容'\"></div>\n          </div>\n          \n          <div class=\"doc-footer\">\n            <div class=\"doc-time\">\n              <el-icon><Clock /></el-icon>\n              <span>{{ formatDate(doc.update_time) }}</span>\n            </div>\n            <div class=\"doc-actions btn-container\">\n              <el-tooltip content=\"编辑\" placement=\"top\">\n                <el-button link circle size=\"small\" @click.stop=\"editDocument(doc, $event)\">\n                  <el-icon><EditPen /></el-icon>\n                </el-button>\n              </el-tooltip>\n              <el-tooltip content=\"分享\" placement=\"top\">\n                <el-button link circle size=\"small\" @click.stop=\"shareDocument(doc)\">\n                  <el-icon><Share /></el-icon>\n                </el-button>\n              </el-tooltip>\n            </div>\n          </div>\n        </el-card>\n        \n        <!-- 创建新文档卡片 -->\n        <div class=\"doc-card new-doc-card\" @click=\"createNewDocument\">\n          <div class=\"new-doc-content\">\n            <el-icon><Plus /></el-icon>\n            <span>新建文档</span>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 分页控制区 -->\n      <div v-if=\"totalCount > 0\" class=\"pagination-container\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next, jumper\"\n          :total=\"totalCount\"\n          :page-size=\"pageSize\"\n          v-model:current-page=\"page\"\n          @current-change=\"onPageChange\"\n          :pager-count=\"5\"\n          :disabled=\"createLoading\"\n        />\n        <!-- 添加调试信息(仅开发环境显示) -->\n        <div v-if=\"$_isDev\" class=\"pagination-debug\">\n          <small>当前页: {{ page }} / 总页数: {{ Math.ceil(totalCount / pageSize) || 0 }} (共{{ totalCount }}条记录)</small>\n        </div>\n      </div>\n    </div>\n\n    <!-- 最近编辑文档区域 -->\n    <div class=\"section\">\n      <div class=\"section-header\">\n        <h3>最近编辑</h3>\n        <div class=\"section-actions\">\n          <el-button text @click=\"viewAllDocuments('recent')\">查看全部</el-button>\n        </div>\n      </div>\n      \n      <div class=\"document-cards\">\n        <el-card \n          v-for=\"doc in recentDocuments\" \n          :key=\"doc.id\" \n          class=\"doc-card\" \n          shadow=\"hover\"\n          @click=\"openDocument(doc)\"\n        >\n          <div class=\"doc-card-header\">\n            <div class=\"doc-info\">\n              <div class=\"doc-type-tag\">{{ doc.type }}</div>\n              <div v-if=\"doc.category\" \n                   class=\"doc-category-tag\" \n                   :style=\"{ backgroundColor: doc.category.color || '#67C23A' }\"\n              >\n                {{ doc.category.name }}\n              </div>\n              <!-- 添加共享状态标签 -->\n              <div v-if=\"doc.is_shared\" class=\"doc-shared-tag\">\n                <el-icon><User /></el-icon>\n                <span>已共享</span>\n              </div>\n            </div>\n            <div class=\"doc-menu btn-container\" @click.stop>\n              <el-dropdown trigger=\"click\" @click.stop>\n                <el-icon><More /></el-icon>\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item @click.stop=\"openDocument(doc)\">打开</el-dropdown-item>\n                    <el-dropdown-item @click.stop=\"editDocument(doc, $event)\">编辑</el-dropdown-item>\n                    <el-dropdown-item @click.stop=\"exportDocument(doc)\">下载</el-dropdown-item>\n                    <el-dropdown-item @click.stop=\"shareDocument(doc)\">分享</el-dropdown-item>\n                    <el-dropdown-item divided @click.stop=\"deleteDocument(doc)\" type=\"danger\">删除</el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n            </div>\n          </div>\n          \n          <div class=\"card-content-area\">\n            <h4 class=\"doc-title\" :title=\"doc.title\">{{ doc.title }}</h4>\n            <div class=\"doc-preview\" v-html=\"doc.preview || '无预览内容'\"></div>\n          </div>\n          \n          <div class=\"doc-footer\">\n            <div class=\"doc-time\">\n              <el-icon><Clock /></el-icon>\n              <span>{{ formatDate(doc.update_time) }}</span>\n            </div>\n            <div class=\"doc-actions btn-container\">\n              <el-tooltip content=\"编辑\" placement=\"top\">\n                <el-button link circle size=\"small\" @click.stop=\"editDocument(doc, $event)\">\n                  <el-icon><EditPen /></el-icon>\n                </el-button>\n              </el-tooltip>\n              <el-tooltip content=\"分享\" placement=\"top\">\n                <el-button link circle size=\"small\" @click.stop=\"shareDocument(doc)\">\n                  <el-icon><Share /></el-icon>\n                </el-button>\n              </el-tooltip>\n            </div>\n          </div>\n        </el-card>\n        \n        <!-- 创建新文档卡片 -->\n        <div class=\"doc-card new-doc-card\" @click=\"createNewDocument\">\n          <div class=\"new-doc-content\">\n            <el-icon><Plus /></el-icon>\n            <span>新建文档</span>\n          </div>\n        </div>\n      </div>\n      \n      <div v-if=\"recentDocuments.length === 0\" class=\"empty-state\">\n        <!-- 移除暂无最近编辑文档的显示 -->\n    </div>\n  </div>\n\n    <!-- 创建新文档对话框 -->\n  <el-dialog\n      v-model=\"newDocumentDialogVisible\"\n      title=\"新建智能文档\"\n      width=\"35%\"\n    >\n      <el-tabs v-model=\"documentCreateType\">\n        <el-tab-pane label=\"空白文档\" name=\"blank\" />\n        <el-tab-pane label=\"AI生成文档\" name=\"ai\" />\n      </el-tabs>\n\n      <div v-if=\"documentCreateType === 'blank'\">\n        <el-form\n          :model=\"newDocumentForm\"\n          label-width=\"80px\"\n          class=\"mt-4\"\n          :rules=\"blankFormRules\"\n          ref=\"blankFormRef\"\n        >\n          <el-form-item label=\"文档标题\" prop=\"title\">\n            <el-input v-model=\"newDocumentForm.title\" placeholder=\"请输入文档标题\" />\n          </el-form-item>\n          <el-form-item label=\"文档类型\">\n            <el-input v-model=\"newDocumentForm.type\" placeholder=\"请输入文档类型\" />\n            <div class=\"form-tip\">如果未填写，默认为通用类型</div>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <div v-if=\"documentCreateType === 'ai'\">\n        <el-form\n          :model=\"aiDocumentForm\"\n          label-width=\"80px\"\n          class=\"mt-4\"\n          :rules=\"aiFormRules\"\n          ref=\"aiFormRef\"\n        >\n          <el-form-item label=\"文档主题\" prop=\"title\">\n            <el-input v-model=\"aiDocumentForm.title\" placeholder=\"简短描述文档主题，如：项目周报\" />\n          </el-form-item>\n          <el-form-item label=\"文档要求\" prop=\"requirements\">\n            <el-input\n              v-model=\"aiDocumentForm.requirements\"\n              type=\"textarea\"\n              :rows=\"3\"\n              placeholder=\"详细描述您需要的文档内容和要求\"\n            />\n            <div class=\"form-tip\">人工智能会根据您的描述生成文档内容</div>\n          </el-form-item>\n        </el-form>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"newDocumentDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"submitNewDocument\" :loading=\"createLoading\">\n            创建\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n    \n    <!-- 分享文档对话框 -->\n    <el-dialog\n      v-model=\"shareDialogVisible\"\n      title=\"分享文档\"\n      width=\"30%\"\n      class=\"share-dialog\"\n    >\n      <div v-if=\"selectedDocument\">\n        <p>您即将分享文档: <strong>{{ selectedDocument.title }}</strong></p>\n        <el-form label-width=\"120px\" class=\"mt-4\">\n          <el-form-item label=\"分享方式\">\n            <el-radio-group v-model=\"shareMode\" @change=\"handleShareModeChange\">\n              <el-radio v-if=\"selectedDocument.creator && selectedDocument.creator.id === getCurrentUserId()\" :label=\"'permission'\">授予权限</el-radio>\n              <el-radio :label=\"'chat'\">发送到聊天</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          \n          <!-- 权限分享模式 -->\n          <template v-if=\"shareMode === 'permission'\">\n            <el-form-item label=\"已分享用户\" v-if=\"existingSharedUsers.length > 0\">\n              <div class=\"user-permissions-list\">\n                <div v-for=\"user in existingSharedUsers\" :key=\"user.user_id\" class=\"user-permission-item\">\n                  <span class=\"user-name\">{{ user.username }}</span>\n                  <div class=\"permission-info\">\n                    <el-tag type=\"info\" size=\"small\">可编辑</el-tag>\n                    <el-button type=\"danger\" link @click=\"removeSharedUser(user.user_id)\" style=\"margin-left: 10px;\">移除</el-button>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-tip\">已有 {{ existingSharedUsers.length }} 个用户拥有此文档的权限</div>\n            </el-form-item>\n            \n            <el-form-item label=\"添加用户\">\n              <el-select\n                v-model.number=\"selectedUsers\"\n                multiple\n                placeholder=\"请选择要添加的用户\"\n                style=\"width: 100%\"\n                popper-class=\"share-dialog-popper\"\n                @change=\"handleUserSelectionChange\"\n              >\n                <el-option\n                  v-for=\"user in availableUsers\"\n                  :key=\"user.id\"\n                  :label=\"user.username\"\n                  :value=\"user.id\"\n                />\n              </el-select>\n              <div class=\"form-tip\" v-if=\"availableUsers.length === 0\">没有可添加的用户</div>\n            </el-form-item>\n            \n            <template v-if=\"selectedUsers.length > 0\">\n              <el-form-item label=\"新增权限\">\n                <div class=\"user-permissions-list\">\n                  <div v-for=\"userPerm in selectedUsersWithPermissions\" :key=\"userPerm.user_id\" class=\"user-permission-item\">\n                    <span class=\"user-name\">{{ getUsernameById(userPerm.user_id) }}</span>\n                    <el-tag type=\"success\">可编辑</el-tag>\n                  </div>\n                </div>\n              </el-form-item>\n            </template>\n          </template>\n          \n          <!-- 聊天分享模式 -->\n          <template v-if=\"shareMode === 'chat'\">\n            <el-form-item label=\"文档格式\">\n              <el-radio-group v-model=\"shareFormat\">\n                <el-radio label=\"pdf\">PDF格式</el-radio>\n                <el-radio label=\"word\">Word格式</el-radio>\n              </el-radio-group>\n            </el-form-item>\n            \n            <el-form-item label=\"选择用户\">\n              <el-select\n                v-model=\"selectedChatUsers\"\n                multiple\n                placeholder=\"请选择接收用户\"\n                style=\"width: 100%\"\n                popper-class=\"share-dialog-popper\"\n              >\n                <el-option\n                  v-for=\"user in availableChatUsers\"\n                  :key=\"user.id\"\n                  :label=\"user.username\"\n                  :value=\"user.id\"\n                />\n              </el-select>\n              <div class=\"form-tip\">文档将发送到与选中用户的聊天会话中</div>\n            </el-form-item>\n          </template>\n        </el-form>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"shareDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"confirmShare\" :loading=\"shareLoading\">\n            {{ shareMode === 'permission' ? '确定' : '分享' }}\n          </el-button>\n        </span>\n    </template>\n  </el-dialog>\n    \n    <!-- 删除确认对话框 -->\n    <el-dialog\n      v-model=\"deleteDialogVisible\"\n      title=\"删除文档\"\n      width=\"30%\"\n    >\n      <div v-if=\"selectedDocument\">\n        <p>您确定要删除文档 <strong>{{ selectedDocument.title }}</strong> 吗?</p>\n        <p class=\"warning-text\">此操作不可撤销!</p>\n  </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"deleteDialogVisible = false\">取消</el-button>\n          <el-button type=\"danger\" @click=\"confirmDelete\" :loading=\"deleteLoading\">\n            删除\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n    \n    <!-- 分类管理对话框 -->\n    <el-dialog\n      v-model=\"categoryDialogVisible\"\n      title=\"管理文档分类\"\n      width=\"40%\"\n    >\n      <div class=\"category-management\">\n        <div class=\"category-list\">\n          <h4>当前类型</h4>\n          <el-table :data=\"documentCategories\" style=\"width: 100%\">\n            <el-table-column prop=\"name\" label=\"类型名称\" />\n            <el-table-column label=\"颜色\" width=\"120\">\n              <template #default=\"scope\">\n                <div class=\"color-preview\" :style=\"{ backgroundColor: scope.row.color }\"></div>\n                {{ scope.row.color }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"文档数\" width=\"100\">\n              <template #default=\"scope\">\n                {{ scope.row.document_count || 0 }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"150\">\n              <template #default=\"scope\">\n                <el-button type=\"primary\" link @click=\"editCategory(scope.row)\">编辑</el-button>\n                <el-button \n                  type=\"danger\" \n                  link \n                  @click=\"deleteCategory(scope.row)\"\n                  :disabled=\"scope.row.document_count > 0\"\n                >删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n        \n        <el-divider />\n        \n        <div class=\"category-form\">\n          <h4>{{ editingCategory.id ? '编辑分类' : '新增分类' }}</h4>\n          <el-form \n            :model=\"editingCategory\" \n            :rules=\"categoryFormRules\" \n            label-width=\"80px\"\n            ref=\"categoryFormRef\"\n          >\n            <el-form-item label=\"分类名称\" prop=\"name\">\n              <el-input v-model=\"editingCategory.name\" placeholder=\"输入分类名称\" />\n            </el-form-item>\n            <el-form-item label=\"分类颜色\" prop=\"color\">\n              <el-color-picker v-model=\"editingCategory.color\" />\n              <span class=\"color-value\">{{ editingCategory.color }}</span>\n            </el-form-item>\n            <el-form-item label=\"描述\">\n              <el-input \n                v-model=\"editingCategory.description\" \n                type=\"textarea\" \n                :rows=\"3\" \n                placeholder=\"输入分类描述（可选）\" \n              />\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"submitCategory\" :loading=\"categoryLoading\">\n                {{ editingCategory.id ? '更新' : '创建' }}\n              </el-button>\n              <el-button @click=\"resetCategoryForm\">重置</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </el-dialog>\n\n    <!-- 添加编辑文档的弹窗 -->\n    <el-dialog\n      v-model=\"editDialogVisible\"\n      title=\"编辑文档\"\n      width=\"35%\"\n    >\n      <el-form \n        :model=\"editDocumentForm\" \n        label-width=\"80px\" \n        class=\"mt-4\"\n        :rules=\"editFormRules\"\n        ref=\"editFormRef\"\n      >\n        <el-form-item label=\"文档标题\" prop=\"title\">\n          <el-input v-model=\"editDocumentForm.title\" placeholder=\"请输入文档标题\" />\n        </el-form-item>\n        <el-form-item label=\"文档类型\">\n          <el-input v-model=\"editDocumentForm.type\" placeholder=\"请输入文档类型\" />\n          <div class=\"form-tip\">如果未填写，默认为通用类型</div>\n        </el-form-item>\n        <el-form-item label=\"所属分类\">\n          <el-select v-model=\"editDocumentForm.category_id\" placeholder=\"选择文档分类\" style=\"width: 100%\">\n            <el-option label=\"无分类\" :value=\"null\" />\n            <el-option \n              v-for=\"category in documentCategories\" \n              :key=\"category.id\" \n              :label=\"category.name\" \n              :value=\"category.id\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"editDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"submitEditDocument\" :loading=\"editLoading\">\n            保存\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, nextTick, getCurrentInstance, provide, onActivated, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ElMessage, ElMessageBox, ElLoading } from 'element-plus'\nimport { Search, Plus, EditPen, Share, Folder, Close, More, Document, Clock, Upload, User } from '@element-plus/icons-vue'\nimport _ from 'lodash'\nimport { \n  getDocuments,\n  getRecentDocuments,\n  getSharedDocuments,\n  getDocumentCategories,\n  createDocument,\n  deleteDocument as apiDeleteDocument,\n  shareDocument as apiShareDocument,\n  createDocumentCategory,\n  updateDocumentCategory,\n  deleteDocumentCategory,\n  aiGenerateDocument,\n  getDocumentDetail,\n  updateDocument,\n  importWordDocument\n} from '@/api/smartdoc'\nimport userApi from '@/api/user';\nimport { createChatSession, getChatSessions } from '@/api/chat';\nimport request from '@/utils/request';\n\nexport default {\n  name: 'SmartDocHome',\n  components: {\n    Search,\n    Plus,\n    EditPen,\n    Share,\n    Folder,\n    Close,\n    More,\n    Document,\n    Clock,\n    Upload,\n    User\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const { proxy } = getCurrentInstance() // 获取组件实例\n    \n    // 判断是否为开发环境\n    const $_isDev = process.env.NODE_ENV === 'development'\n    \n    // 刷新触发器，用于强制组件刷新\n    const refreshTrigger = ref(Date.now())\n    \n    // 状态数据\n    const documents = ref([])\n    const recentDocuments = ref([])\n    const sharedDocuments = ref([])\n    const documentCategories = ref([])\n    const searchQuery = ref('')\n    const searchCategory = ref('all')\n    const newDocumentDialogVisible = ref(false)\n    const shareDialogVisible = ref(false)\n    const deleteDialogVisible = ref(false)\n    const documentCreateType = ref('blank')\n    const selectedDocument = ref(null)\n    const selectedUsers = ref([])\n    const selectedUsersWithPermissions = ref([]) // 添加权限控制数组\n    const availableUsers = ref([])\n    const availableChatUsers = ref([]) // 添加专用于聊天的用户列表\n    const createLoading = ref(false)\n    const shareLoading = ref(false)\n    const deleteLoading = ref(false)\n    const existingSharedUsers = ref([])\n    \n    // 添加分享相关变量\n    const shareMode = ref('permission') // 分享方式：permission(授权) 或 chat(发送到聊天)\n    const shareFormat = ref('pdf') // 分享文档格式：pdf 或 word\n    const selectedChatUsers = ref([]) // 选择的聊天用户\n    \n    // 分页相关状态\n    const page = ref(1)\n    const pageSize = 12 // 每页显示12个文档（不包含\"新建\"卡片）\n    const totalCount = ref(0)\n    const grandTotalCount = ref(0) // 用于存储真实的文档总数\n    // 添加加载更多相关状态\n    const hasMore = ref(true)\n    const loadingMore = ref(false)\n    \n    // 添加编辑文档相关状态\n    const editDialogVisible = ref(false)\n    const editDocumentForm = ref({\n      id: null,\n      title: '',\n      type: '',\n      category_id: null\n    })\n    const editLoading = ref(false)\n    \n    // 表单数据\n    const newDocumentForm = ref({\n        title: '',\n        type: ''\n    })\n    \n    const aiDocumentForm = ref({\n        title: '',\n      requirements: ''\n    })\n    \n    // 表单校验规则\n    const blankFormRules = {\n        title: [\n        { required: true, message: '请输入文档标题', trigger: 'blur' },\n        { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\n        ]\n    }\n    \n    const aiFormRules = {\n        title: [\n        { required: true, message: '请输入文档主题', trigger: 'blur' },\n        { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\n        ],\n        requirements: [\n        { required: true, message: '请输入文档要求', trigger: 'blur' },\n        { min: 10, max: 500, message: '长度在 10 到 500 个字符', trigger: 'blur' }\n      ]\n    }\n    \n    // 添加编辑表单验证规则\n    const editFormRules = {\n      title: [\n        { required: true, message: '请输入文档标题', trigger: 'blur' },\n        { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\n      ]\n    }\n    \n    const blankFormRef = ref(null)\n    const aiFormRef = ref(null)\n    const editFormRef = ref(null)\n    \n    // 计算属性\n    const totalDocuments = computed(() => {\n      return grandTotalCount.value;\n    });\n    \n    const recentEditCount = computed(() => {\n      return recentDocuments.value.length || 0;\n    });\n    \n    // 分类管理相关状态\n    const categoryDialogVisible = ref(false)\n    const editingCategory = ref({\n      name: '',\n      color: '#409EFF',\n      description: '',\n    })\n    const categoryFormRef = ref(null)\n    const categoryLoading = ref(false)\n    const categoryFormRules = {\n      name: [\n        { required: true, message: '请输入类型名称', trigger: 'blur' },\n        { min: 2, max: 20, message: '长度在2到20个字符', trigger: 'blur' }\n      ],\n      color: [\n        { required: true, message: '请选择颜色', trigger: 'change' }\n      ]\n    }\n    \n    // 辅助方法：强制刷新视图\n    const forceUpdate = async () => {\n      // 创建临时数据，触发深度响应式更新\n      documents.value = [...documents.value];\n      recentDocuments.value = [...recentDocuments.value]; \n      sharedDocuments.value = [...sharedDocuments.value];\n      \n      // 使用Vue实例的$forceUpdate方法\n      if (proxy && proxy.$forceUpdate) {\n        proxy.$forceUpdate();\n      }\n      \n      // 等待DOM更新\n      await nextTick();\n    };\n    \n    // 方法\n    const fetchDocuments = async (forceRefresh = false, append = false, timestamp = null) => {\n      if (forceRefresh) {\n        page.value = 1\n        hasMore.value = true\n      }\n      \n      // 只有在加载更多模式下才检查hasMore\n      if (append && !hasMore.value && !forceRefresh) {\n        console.log('没有更多文档，取消获取')\n        return\n      }\n      \n      if (!append) {\n        createLoading.value = true\n      } else {\n        loadingMore.value = true\n      }\n      \n      try {\n        // 构建过滤条件\n        const filters = {}\n        \n        // 添加分类过滤\n        if (searchCategory.value && searchCategory.value !== 'all') {\n          filters.category = searchCategory.value\n        }\n        \n        // 添加搜索查询\n        if (searchQuery.value) {\n          filters.search = searchQuery.value\n        }\n        \n        // API请求参数 - 使用与DRF兼容的page_size参数名\n        const params = {\n          page: page.value,\n          page_size: pageSize, // 将pageSize作为page_size参数传递，与后端REST framework参数保持一致\n          _t: timestamp || new Date().getTime() // 添加时间戳，确保不使用缓存\n        }\n        \n        // 合并过滤条件\n        Object.assign(params, filters)\n        \n        console.log(`获取文档列表，页码: ${page.value}，参数:`, params)\n        \n        const res = await getDocuments(params)\n        console.log('文档列表API响应:', res)\n        \n        let newDocuments = []\n        let currentViewCount = 0;\n        \n        // 处理API可能返回的警告信息\n        if (res && res.warning) {\n          console.warn('API返回警告:', res.warning)\n          ElMessage({\n            message: res.warning,\n            type: 'warning',\n            duration: 5000\n          })\n          // 如果是页码问题，重置当前页为1\n          if (res.warning.includes('页码') && res.warning.includes('无效或超出范围')) {\n            setTimeout(() => {\n              page.value = 1;\n            }, 0);\n          }\n        }\n        \n        // 处理不同格式的响应\n        if (res && res.data && Array.isArray(res.data)) {\n          // 标准格式响应\n          newDocuments = res.data\n          currentViewCount = res.total || res.count || 0\n        } else if (res && res.results && Array.isArray(res.results)) {\n          // Django REST格式响应\n          newDocuments = res.results\n          currentViewCount = res.count || 0\n        } else if (res && res.data && res.data.results && Array.isArray(res.data.results)) {\n          // 嵌套格式响应\n          newDocuments = res.data.results\n          currentViewCount = res.data.count || 0\n        } else {\n          console.warn('API返回的文档数据格式无效:', res)\n          documents.value = []\n          return\n        }\n          \n        // 更新用于分页的总数\n        totalCount.value = currentViewCount;\n\n        // 仅当没有筛选条件时，才更新\"全部文档\"的真实总数\n        if (!filters.category && !filters.search) {\n            grandTotalCount.value = currentViewCount;\n        }\n\n        // 如果是追加模式\n        if (append) {\n          // 检查并避免添加重复的文档\n          const existingIds = new Set(documents.value.map(doc => doc.id))\n          const uniqueNewDocs = newDocuments.filter(doc => !existingIds.has(doc.id))\n          \n          if (uniqueNewDocs.length > 0) {\n            documents.value = [...documents.value, ...uniqueNewDocs]\n            console.log(`追加了 ${uniqueNewDocs.length} 个新文档，当前共 ${documents.value.length} 个`)\n          } else {\n            console.log('没有新的文档被追加')\n            // 即使没有新文档，也可能是因为我们在不同的页码上获取了重复数据\n            hasMore.value = newDocuments.length > 0\n          }\n        } else {\n          // 非追加模式，直接替换\n          documents.value = newDocuments\n          console.log(`设置了 ${documents.value.length} 个文档`)\n        }\n        \n        console.log(`当前文档ID列表: [${documents.value.map(d => d.id).join(', ')}]`)\n        \n        // 计算总页数\n        const totalPages = Math.ceil(currentViewCount / pageSize);\n        console.log(`分页状态 - 当前页: ${page.value}, 总页数: ${totalPages}, 总文档数: ${currentViewCount}`);\n        \n        // 检查当前页是否超出范围\n        if (page.value > totalPages && totalPages > 0 && !append) {\n          console.warn(`当前页 ${page.value} 超出范围，自动修正为最后一页 ${totalPages}`);\n          \n          // 使用setTimeout避免触发watch事件\n          setTimeout(() => {\n            page.value = totalPages;\n          }, 0);\n          \n          return;\n        }\n        \n        // 更新是否有更多页标志\n        hasMore.value = page.value < totalPages;\n        \n        // 如果匹配的文档太少（比如低于一屏），并且有更多数据，自动加载更多\n        if (!append && documents.value.length < 8 && hasMore.value) {\n          console.log('文档数量较少，自动加载下一页')\n          // 延迟100ms避免请求过于频繁\n          await new Promise(resolve => setTimeout(resolve, 100));\n          await fetchDocuments(false, true, timestamp);\n        }\n          \n      } catch (error) {\n        console.error('获取文档列表失败', error)\n        documents.value = []\n        ElMessage.error('获取文档列表失败')\n      } finally {\n        if (!append) {\n          createLoading.value = false\n        } else {\n          loadingMore.value = false\n        }\n      }\n    }\n    \n    const fetchRecentDocuments = async (forceRefresh = false, timestamp = null) => {\n      console.log('开始获取最近文档...');\n      try {\n        // 准备参数，如果强制刷新添加时间戳\n        const params = forceRefresh ? { _t: timestamp || new Date().getTime() } : {};\n        \n        const res = await getRecentDocuments(params);\n        console.log('最近文档API响应:', res);\n        \n        if (res && res.data) {\n          // 完全替换数组而不是修改引用\n          recentDocuments.value = Array.isArray(res.data) ? [...res.data] : [];\n          console.log(`设置最近文档: ${recentDocuments.value.length}条记录`);\n        } else {\n          console.warn('API返回的最近文档数据无效:', res);\n          recentDocuments.value = [];\n        }\n      } catch (error) {\n        console.error('获取最近文档失败:', error);\n        ElMessage.error('获取最近文档失败');\n        recentDocuments.value = [];\n      }\n    }\n    \n    const fetchSharedDocuments = async (timestamp = null) => {\n      try {\n        const params = timestamp ? { _t: timestamp } : {};\n        const response = await getSharedDocuments(params)\n        sharedDocuments.value = response.data\n      } catch (error) {\n        console.error('获取共享文档失败', error)\n        ElMessage.error('获取共享文档失败')\n      }\n    }\n    \n    const fetchDocumentCategories = async (timestamp = null, retryCount = 0) => {\n      console.log('开始获取文档分类...');\n      try {\n        const params = timestamp ? { _t: timestamp } : {};\n        const res = await getDocumentCategories(params);\n        console.log('文档分类API响应:', res);\n        \n        if (res && res.data) {\n          documentCategories.value = res.data;\n          console.log(`设置文档分类: ${documentCategories.value.length}条记录, 数据:`, documentCategories.value);\n        } else {\n          console.warn('API返回的文档分类数据无效:', res);\n          documentCategories.value = [];\n          \n          // 如果返回空数据且未达到最大重试次数，尝试重试\n          if (documentCategories.value.length === 0 && retryCount < 2) {\n            console.log(`文档分类数据为空，${retryCount + 1}秒后重试...`);\n            setTimeout(() => fetchDocumentCategories(timestamp, retryCount + 1), (retryCount + 1) * 1000);\n          }\n        }\n      } catch (error) {\n        console.error('获取文档分类失败:', error);\n        \n        // 如果是服务器错误且未达到最大重试次数，尝试重试\n        if (error.response && error.response.status >= 500 && retryCount < 2) {\n          console.log(`服务器错误，${retryCount + 1}秒后重试...`);\n          setTimeout(() => fetchDocumentCategories(timestamp, retryCount + 1), (retryCount + 1) * 1000);\n        } else {\n          ElMessage.error('获取文档分类失败，请刷新页面重试');\n          // 初始化空数组\n          documentCategories.value = [];\n        }\n      }\n    }\n    \n    // 监听搜索查询变化，实现实时搜索\n    watch(searchQuery, _.debounce(async () => {\n      // 重置分页\n      page.value = 1\n      hasMore.value = true\n      \n      // 清空现有文档列表，显示加载状态\n      documents.value = []\n      createLoading.value = true\n      \n      try {\n        // 获取新的搜索结果\n        await fetchDocuments(true)\n      } catch (error) {\n        console.error('搜索失败:', error)\n        ElMessage.error('搜索文档失败，请重试')\n      } finally {\n        createLoading.value = false\n      }\n    }, 300))\n    \n    const createNewDocument = () => {\n      // 重置表单\n      newDocumentForm.value = { title: '', type: '' }\n      aiDocumentForm.value = { title: '', requirements: '' }\n      documentCreateType.value = 'blank'\n      newDocumentDialogVisible.value = true\n      \n      // 监听对话框关闭事件，清理表单\n      nextTick(() => {\n        try {\n          const dialog = document.querySelector('.el-dialog');\n          if (dialog) {\n            dialog.addEventListener('closed', () => {\n              try {\n                if (blankFormRef.value) {\n                  blankFormRef.value.clearValidate();\n                }\n                if (aiFormRef.value) {\n                  aiFormRef.value.clearValidate();\n                }\n              } catch (err) {\n                console.error('Error clearing form validation:', err);\n              }\n            }, { once: true });\n          }\n        } catch (err) {\n          console.error('Error setting up dialog event listener:', err);\n        }\n      });\n    }\n    \n    const submitNewDocument = async () => {\n      if (documentCreateType.value === 'blank') {\n        if (!blankFormRef.value) {\n          console.warn('表单引用不存在');\n          return;\n        }\n        \n        try {\n          const valid = await blankFormRef.value.validate()\n            .catch(err => {\n              console.error('表单验证失败:', err);\n              return false;\n            });\n          \n          if (valid) {\n            createLoading.value = true;\n            try {\n              console.log('开始创建文档:', {\n                title: newDocumentForm.value.title,\n                type: newDocumentForm.value.type || '通用'\n              });\n              \n              const response = await createDocument({ \n                title: newDocumentForm.value.title,\n                type: newDocumentForm.value.type || '通用',\n                content: ''\n              });\n              \n              console.log('创建文档响应数据：', JSON.stringify(response));\n              \n              // 关闭对话框\n              newDocumentDialogVisible.value = false;\n              ElMessage.success('文档创建成功');\n              \n              // 解析返回的文档ID\n              let docId = null;\n              if (response && response.data) {\n                if (response.data.id) {\n                  docId = response.data.id;\n                } else if (Array.isArray(response.data) && response.data.length > 0) {\n                  docId = response.data[0].id;\n                } else if (response.data.results && Array.isArray(response.data.results) && response.data.results.length > 0) {\n                  docId = response.data.results[0].id;\n                }\n              }\n              \n              // 等待对话框关闭完成后再执行跳转，避免DOM错误\n              setTimeout(() => {\n                if (docId) {\n                  console.log(`准备跳转到文档详情页，ID: ${docId}`);\n                  \n                  // 先刷新文档列表，确保数据是最新的\n                  fetchDocuments();\n                  fetchRecentDocuments();\n                  \n                  // 然后再执行导航\n                  setTimeout(() => {\n                    router.push({\n                      name: 'SmartDocDetail',\n                      params: { id: docId }\n                    }).then(() => {\n                      createLoading.value = false;\n                    }).catch(err => {\n                      console.error('路由导航失败:', err);\n                      ElMessage.error('跳转文档详情页失败，请手动刷新页面');\n                      // 尝试路径跳转\n                      router.push(`/smartdoc/${docId}`).catch(navErr => {\n                        console.error('路径导航也失败:', navErr);\n                        ElMessage.error('路径跳转详情页也失败');\n                      });\n                      createLoading.value = false;\n                    });\n                  }, 300);\n                } else {\n                  console.warn('创建文档成功，但返回的数据格式不正确', response);\n                  // 刷新文档列表\n                  fetchDocuments();\n                  fetchRecentDocuments();\n                }\n              }, 100);\n            } catch (error) {\n              console.error('创建文档失败', error);\n              ElMessage.error('创建文档失败');\n            } finally {\n              createLoading.value = false;\n            }\n          }\n        } catch (error) {\n          console.error('提交表单时发生错误:', error);\n          ElMessage.error('表单提交失败');\n          createLoading.value = false;\n        }\n      } else if (documentCreateType.value === 'ai') {\n        if (!aiFormRef.value) {\n          console.warn('AI表单引用不存在');\n          return;\n        }\n        \n        try {\n          const valid = await aiFormRef.value.validate()\n            .catch(err => {\n              console.error('AI表单验证失败:', err);\n              return false;\n            });\n          \n          if (valid) {\n            createLoading.value = true;\n            try {\n              // 调用AI生成文档API\n              const categoryId = searchCategory.value !== 'all' ? searchCategory.value : null;\n              const response = await aiGenerateDocument({\n                title: aiDocumentForm.value.title,\n                requirement: aiDocumentForm.value.requirements,\n                category_id: categoryId,\n                doc_type: 'AI'\n              });\n              console.log('AI生成文档响应数据：', response);\n              // 检查超时\n              if (response && response.status === 504) {\n                ElMessage.error(response.data?.detail || 'AI生成超时，请简化需求或稍后重试');\n                createLoading.value = false;\n                return;\n              }\n              if (response && response.data && typeof response.data.detail === 'string' && response.data.detail.includes('超时')) {\n                ElMessage.error(response.data.detail);\n                createLoading.value = false;\n                return;\n              }\n              newDocumentDialogVisible.value = false;\n              ElMessage.success('AI生成文档成功');\n              let docId = null;\n              if (response && response.data && response.data.id) {\n                docId = response.data.id;\n              }\n              if (docId) {\n                // 跳转前打印日志\n                console.log('准备跳转到文档详情页，路由名: SmartDocDetail, id:', docId);\n                router.push({\n                  name: 'SmartDocDetail',\n                  params: { id: String(docId) }\n                }).then(() => {\n                  createLoading.value = false;\n                }).catch(err => {\n                  console.error('路由导航失败:', err);\n                  ElMessage.error('跳转文档详情页失败，请手动刷新页面');\n                  // 尝试路径跳转\n                  router.push(`/smartdoc/${docId}`).catch(navErr => {\n                    console.error('路径导航也失败:', navErr);\n                    ElMessage.error('路径跳转详情页也失败');\n                  });\n                  createLoading.value = false;\n                });\n                // 异步刷新数据\n                fetchDocuments();\n                fetchRecentDocuments();\n              } else {\n                fetchDocuments();\n                fetchRecentDocuments();\n                createLoading.value = false;\n              }\n            } catch (error) {\n              console.error('AI生成文档失败', error);\n              ElMessage.error('AI生成文档失败');\n            } finally {\n              createLoading.value = false;\n            }\n          }\n        } catch (error) {\n          console.error('提交AI表单时发生错误:', error);\n          ElMessage.error('表单提交失败');\n          createLoading.value = false;\n        }\n      }\n    }\n    \n    const openDocument = (doc) => {\n      router.push({ name: 'SmartDocDetail', params: { id: doc.id } })\n    }\n    \n    const editDocument = (doc, event) => {\n      // 阻止事件冒泡，防止触发卡片点击事件\n      if (event) {\n        event.stopPropagation();\n      }\n      \n      // 确保分类ID是数字类型\n      let categoryId = null;\n      if (doc.category && doc.category.id) {\n        categoryId = Number(doc.category.id);\n      }\n      \n      console.log('编辑文档:', doc.id, '当前分类:', categoryId);\n      \n      // 设置表单数据\n      editDocumentForm.value = {\n        id: doc.id,\n        title: doc.title,\n        type: doc.type || '',\n        category_id: categoryId\n      };\n      \n      // 显示编辑对话框\n      editDialogVisible.value = true;\n    };\n    \n    // 提交编辑文档\n    const submitEditDocument = async () => {\n      if (!editFormRef.value) return;\n      \n      try {\n        const valid = await editFormRef.value.validate();\n        \n        if (valid) {\n          editLoading.value = true;\n          \n          // 准备更新的数据\n          const updateData = {\n            title: editDocumentForm.value.title,\n            type: editDocumentForm.value.type || '通用',\n            category_id: editDocumentForm.value.category_id\n          };\n          \n          // 调用API更新文档\n          await updateDocument(editDocumentForm.value.id, updateData);\n          \n          ElMessage.success('文档更新成功');\n          editDialogVisible.value = false;\n          \n          // 强制刷新所有数据以确保视图同步\n          await reloadAllData();\n        }\n      } catch (error) {\n        console.error('更新文档失败', error);\n        ElMessage.error('更新文档失败');\n      } finally {\n        editLoading.value = false;\n      }\n    };\n    \n    const exportDocument = (doc) => {\n      ElMessageBox({\n        title: '导出文档',\n        message: '请选择导出格式',\n        showCancelButton: true,\n        confirmButtonText: '导出为PDF',\n        cancelButtonText: '导出为Word',\n        closeOnClickModal: true,\n        callback: (action) => {\n          if (action === 'confirm') {\n            exportToPdf(doc)\n          } else if (action === 'cancel') {\n            exportToWord(doc)\n          }\n        }\n      })\n    }\n    \n    // 导出为PDF\n    const exportToPdf = async (doc) => {\n      if (!doc) {\n        ElMessage.error('没有可导出的文档')\n        return\n      }\n      \n      // 先获取文档详情内容\n      const loading = ElLoading.service({\n        lock: true,\n        text: '正在加载文档内容...',\n        background: 'rgba(255, 255, 255, 0.7)'\n      })\n      \n      try {\n        // 获取文档详情\n        const response = await getDocumentDetail(doc.id)\n        const documentContent = response.data.content\n        \n        if (!documentContent) {\n          loading.close()\n          ElMessage.error('文档内容为空，无法导出')\n          return\n        }\n        \n        const docTitle = doc.title || '未命名文档'\n        const filename = `${docTitle}.pdf`\n        \n        // 创建临时容器用于导出\n        const tempContainer = document.createElement('div')\n        tempContainer.innerHTML = documentContent\n        tempContainer.className = 'temp-export-container'\n        document.body.appendChild(tempContainer)\n        \n        const options = {\n          margin: [15, 15, 15, 15],\n          filename: filename,\n          image: { type: 'jpeg', quality: 0.98 },\n          html2canvas: { scale: 2, useCORS: true },\n          jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\n        }\n        \n        // 更新加载提示\n        loading.setText('正在生成PDF...')\n        \n        // 动态导入html2pdf.js\n        const html2pdfModule = await import('html2pdf.js')\n        const html2pdf = html2pdfModule.default\n        \n        await html2pdf().from(tempContainer).set(options).save()\n        \n        // 清理临时元素\n        document.body.removeChild(tempContainer)\n        \n        loading.close()\n        ElMessage.success('PDF导出成功')\n      } catch (error) {\n        console.error('PDF导出失败:', error)\n        loading.close()\n        ElMessage.error('PDF导出失败: ' + (error.message || '未知错误'))\n      }\n    }\n    \n    // 导出为Word（保留图片）\n    const exportToWord = async (doc) => {\n      if (!doc) {\n        ElMessage.error('没有可导出的文档')\n        return\n      }\n      \n      const loading = ElLoading.service({\n        lock: true,\n        text: '正在加载文档内容...',\n        background: 'rgba(255, 255, 255, 0.7)'\n      })\n      \n      try {\n        // 获取文档详情\n        const response = await getDocumentDetail(doc.id)\n        const documentContent = response.data.content\n        \n        if (!documentContent) {\n          loading.close()\n          ElMessage.error('文档内容为空，无法导出')\n          return\n        }\n        \n        const docTitle = doc.title || '未命名文档'\n        const filename = `${docTitle}.doc`\n        \n        // 创建一个临时文档容器处理内容\n        const contentContainer = document.createElement('div')\n        contentContainer.innerHTML = documentContent\n        \n        // 更新加载提示\n        loading.setText('正在生成Word文档...')\n        \n        // 创建微软Word兼容的HTML文档\n        const msWordHtml = `\n          <html xmlns:o=\"urn:schemas-microsoft-com:office:office\" \n                xmlns:w=\"urn:schemas-microsoft-com:office:word\" \n                xmlns=\"http://www.w3.org/TR/REC-html40\">\n          <head>\n            <meta charset=\"utf-8\">\n            <title>${docTitle}</title>\n            <style>\n              body { font-family: SimSun, Arial, sans-serif; margin: 1cm; }\n              img { max-width: 100%; height: auto; }\n              p { margin: 0; padding: 0; }\n              h1 { font-size: 18pt; }\n              h2 { font-size: 16pt; }\n              h3 { font-size: 14pt; }\n              table { border-collapse: collapse; width: 100%; }\n              td, th { border: 1px solid #000; padding: 5px; }\n            </style>\n          </head>\n          <body>\n            <h1>${docTitle}</h1>\n            ${contentContainer.innerHTML}\n          </body>\n          </html>\n        `\n        \n        // 使用file-saver保存文件\n        const FileSaver = await import('file-saver')\n        const saveAs = FileSaver.saveAs || FileSaver.default\n        const blob = new Blob([msWordHtml], { type: 'application/msword' })\n        saveAs(blob, filename)\n        \n        loading.close()\n        ElMessage.success('Word文档导出成功')\n      } catch (error) {\n        console.error('Word导出失败:', error)\n        loading.close()\n        ElMessage.error(`Word导出失败: ${error.message || '未知错误'}`)\n      }\n    }\n    \n    const shareDocument = async (doc) => {\n      selectedDocument.value = doc\n      shareLoading.value = true\n      \n      try {\n        console.log('获取文档详情，ID:', doc.id);\n        // Fetch document details to get existing permissions\n        const detailRes = await getDocumentDetail(doc.id)\n        console.log('文档详情响应:', detailRes);\n        \n        // 尝试从不同可能的响应结构中提取shared_with数据\n        let sharedWithData = [];\n        if (detailRes && detailRes.data) {\n          if (detailRes.data.shared_with && Array.isArray(detailRes.data.shared_with)) {\n            sharedWithData = detailRes.data.shared_with;\n            console.log('从data.shared_with提取共享用户:', sharedWithData);\n          } else if (detailRes.data.permissions && Array.isArray(detailRes.data.permissions)) {\n            sharedWithData = detailRes.data.permissions;\n            console.log('从data.permissions提取共享用户:', sharedWithData);\n          } else if (detailRes.shared_with && Array.isArray(detailRes.shared_with)) {\n            sharedWithData = detailRes.shared_with;\n            console.log('从直接的shared_with提取共享用户:', sharedWithData);\n          }\n        }\n        \n        // 处理不同格式的用户数据\n        if (sharedWithData.length > 0) {\n          existingSharedUsers.value = sharedWithData.map(item => {\n            // 处理可能的不同数据结构\n            if (item.user && (item.user.id || item.user.user_id)) {\n              return {\n                user_id: item.user.id || item.user.user_id,\n                username: item.user.username || item.user.name || item.user.email || `用户${item.user.id}`,\n                permission: item.permission || 'edit'\n              };\n            } else if (item.user_id || item.userId) {\n              return {\n                user_id: item.user_id || item.userId,\n                username: item.username || item.name || item.email || `用户${item.user_id || item.userId}`,\n                permission: item.permission || 'edit'\n              };\n            }\n            // 默认情况，尝试使用item本身\n            return {\n              user_id: item.id || item.user_id || 0,\n              username: item.username || item.name || item.email || '未知用户',\n              permission: item.permission || 'edit'\n            };\n          });\n        } else {\n          console.log('没有找到已分享用户数据');\n          existingSharedUsers.value = [];\n        }\n        \n        console.log('处理后的已分享用户列表:', existingSharedUsers.value);\n        const existingUserIds = new Set(existingSharedUsers.value.map(u => u.user_id));\n        console.log('已分享用户ID集合:', Array.from(existingUserIds));\n        \n        // Get current user and company info\n        const currentUserJson = localStorage.getItem('user')\n        let currentUserId = null\n        let companyId = null\n        if (currentUserJson) {\n          const currentUser = JSON.parse(currentUserJson)\n          currentUserId = currentUser.id\n          companyId = currentUser.company_id\n          console.log('当前用户ID:', currentUserId, '公司ID:', companyId);\n        }\n        \n        const isCreator = doc.creator && currentUserId && doc.creator.id === currentUserId\n        shareMode.value = isCreator ? 'permission' : 'chat'\n        console.log('是否为创建者:', isCreator, '分享模式:', shareMode.value);\n        \n        // Fetch all company users\n        const usersRes = await userApi.getCompanyUsers()\n        console.log('公司用户列表响应:', usersRes);\n        if (usersRes.success && Array.isArray(usersRes.data)) {\n          // 权限模式下的用户列表（排除已有权限的用户）\n          availableUsers.value = usersRes.data\n            .filter(user => \n              user.id !== currentUserId && \n              (!companyId || user.company_id === companyId) &&\n              !existingUserIds.has(user.id) // 排除已有权限的用户\n            )\n            .map(user => ({\n              id: user.id,\n              username: user.name || user.username || user.email || `用户${user.id}`\n            }));\n          \n          // 聊天模式下的用户列表（包含所有用户，包括已有权限的用户）\n          availableChatUsers.value = usersRes.data\n            .filter(user => \n              user.id !== currentUserId && \n              (!companyId || user.company_id === companyId)\n              // 不排除已有权限的用户\n            )\n            .map(user => ({\n              id: user.id,\n              username: user.name || user.username || user.email || `用户${user.id}`\n            }));\n          \n          console.log('授权模式可选用户列表:', availableUsers.value);\n          console.log('聊天模式可选用户列表:', availableChatUsers.value);\n        } else {\n          console.warn('获取公司用户列表失败:', usersRes);\n          availableUsers.value = [];\n          availableChatUsers.value = [];\n        }\n      } catch (error) {\n        console.error('打开分享对话框失败:', error)\n        ElMessage.error('获取分享信息失败')\n        existingSharedUsers.value = []\n      } finally {\n        shareLoading.value = false\n        \n        // Reset variables for adding new users\n        shareFormat.value = 'pdf'\n        selectedUsers.value = []\n        selectedUsersWithPermissions.value = []\n        selectedChatUsers.value = []\n        \n        shareDialogVisible.value = true\n      }\n    }\n    \n    // 通过ID获取用户名\n    const getUsernameById = (userId) => {\n      const user = availableUsers.value.find(u => u.id === userId)\n      return user ? user.username : '未知用户'\n    }\n    \n    // 获取当前用户ID\n    const getCurrentUserId = () => {\n      try {\n        const currentUserJson = localStorage.getItem('user')\n        if (currentUserJson) {\n          const currentUser = JSON.parse(currentUserJson)\n          return currentUser.id\n        }\n        return null\n      } catch (error) {\n        console.error('获取当前用户ID失败:', error)\n        return null\n      }\n    }\n\n    // 处理用户选择变化\n    const handleUserSelectionChange = (val) => {\n      console.log('选择变化 - 原始值:', val);\n      console.log('选择变化 - selectedUsers:', selectedUsers.value);\n      console.log('选择变化 - 类型:', typeof selectedUsers.value, Array.isArray(selectedUsers.value));\n      \n      // 确保selectedUsers是数组\n      if (!Array.isArray(selectedUsers.value)) {\n        console.warn('selectedUsers不是数组，强制转换为数组');\n        selectedUsers.value = Array.isArray(val) ? val : [];\n      }\n      \n      // 更新权限控制数组\n      selectedUsersWithPermissions.value = selectedUsers.value.map(userId => {\n        console.log('处理用户ID:', userId, '类型:', typeof userId);\n        return {\n          user_id: userId,\n          permission: 'edit' // 默认为只读权限\n        };\n      });\n      \n      console.log('用户选择变化，已选择用户:', selectedUsers.value);\n      console.log('用户权限数组:', selectedUsersWithPermissions.value);\n    }\n\n    // 处理分享模式变化\n    const handleShareModeChange = () => {\n      console.log('分享模式变更为:', shareMode.value);\n      // 切换分享模式时清空之前选择的用户\n      if (shareMode.value === 'permission') {\n        // 切换到权限模式，清空聊天相关的选择\n        selectedChatUsers.value = [];\n        console.log('已清空聊天用户选择');\n      } else if (shareMode.value === 'chat') {\n        // 切换到聊天模式，清空权限相关的选择\n        selectedUsers.value = [];\n        selectedUsersWithPermissions.value = [];\n        console.log('已清空权限用户选择');\n      }\n    }\n    \n    const confirmShare = async () => {\n      // 权限分享方式\n      if (shareMode.value === 'permission') {\n        // 检查是否为文档创建者\n        const currentUserId = getCurrentUserId();\n        const isCreator = selectedDocument.value && selectedDocument.value.creator && \n                          currentUserId && selectedDocument.value.creator.id === currentUserId;\n        \n        if (!isCreator) {\n          ElMessage.warning('只有文档创建者才能授予权限')\n          return\n        }\n        \n        const finalPermissions = [\n          ...existingSharedUsers.value.map(u => ({ user_id: u.user_id, permission: 'edit' })),\n          ...selectedUsersWithPermissions.value\n        ];\n        \n        shareLoading.value = true\n        try {\n          await apiShareDocument(selectedDocument.value.id, finalPermissions)\n          ElMessage.success('权限更新成功')\n          shareDialogVisible.value = false\n        } catch (error) {\n          console.error('分享文档失败', error)\n          ElMessage.error('权限更新失败')\n        } finally {\n          shareLoading.value = false\n        }\n      } \n      // 聊天分享方式\n      else if (shareMode.value === 'chat') {\n        if (!selectedDocument.value || selectedChatUsers.value.length === 0) {\n          ElMessage.warning('请选择至少一个接收用户')\n          return\n        }\n        \n        shareLoading.value = true\n        try {\n          // 获取当前用户信息\n          const currentUserJson = localStorage.getItem('user')\n          let currentUserId = null\n          if (currentUserJson) {\n            const currentUser = JSON.parse(currentUserJson)\n            currentUserId = currentUser.id\n          }\n          \n          if (!currentUserId) {\n            ElMessage.error('无法获取当前用户信息')\n            shareLoading.value = false\n            return\n          }\n          \n          // 需要获取文档内容\n          const docResponse = await getDocumentDetail(selectedDocument.value.id);\n          const currentDoc = docResponse.data;\n          \n          if (!currentDoc || !currentDoc.content) {\n            ElMessage.error('无法获取文档内容')\n            shareLoading.value = false\n            return\n          }\n          \n          // 使用前端导出文件的方式获取文件\n          const loading = ElLoading.service({\n            lock: true,\n            text: `正在准备${shareFormat.value === 'pdf' ? 'PDF' : 'Word'}文件...`,\n            background: 'rgba(255, 255, 255, 0.7)'\n          });\n          \n          try {\n            // 准备文档内容\n            const docTitle = currentDoc.title || '未命名文档';\n            const documentContent = currentDoc.content;\n            \n            // 创建临时容器用于导出\n            const tempContainer = document.createElement('div');\n            tempContainer.innerHTML = documentContent;\n            tempContainer.className = 'temp-export-container';\n            document.body.appendChild(tempContainer);\n            \n            let documentFile = null;\n            let fileName = docTitle;\n            let fileType = '';\n            \n            if (shareFormat.value === 'pdf') {\n              fileName += '.pdf';\n              fileType = 'application/pdf';\n              \n              loading.setText('正在生成PDF文件...');\n              \n              // 动态导入html2pdf.js\n              const html2pdfModule = await import('html2pdf.js');\n              const html2pdf = html2pdfModule.default;\n              \n              const options = {\n                margin: [15, 15, 15, 15],\n                filename: fileName,\n                image: { type: 'jpeg', quality: 0.98 },\n                html2canvas: { scale: 2, useCORS: true },\n                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\n              };\n              \n              // 生成PDF并获取Blob\n              documentFile = await html2pdf().from(tempContainer).set(options).outputPdf('blob');\n            }\n            else {\n              fileName += '.doc';\n              fileType = 'application/msword';\n              \n              loading.setText('正在生成Word文件...');\n              \n              // 创建微软Word兼容的HTML文档\n              const msWordHtml = `\n                <html xmlns:o=\"urn:schemas-microsoft-com:office:office\" \n                      xmlns:w=\"urn:schemas-microsoft-com:office:word\" \n                      xmlns=\"http://www.w3.org/TR/REC-html40\">\n                <head>\n                  <meta charset=\"utf-8\">\n                  <title>${docTitle}</title>\n                  <style>\n                    body { font-family: SimSun, Arial, sans-serif; margin: 1cm; }\n                    img { max-width: 100%; height: auto; }\n                    p { margin: 0; padding: 0; }\n                    h1 { font-size: 18pt; }\n                    h2 { font-size: 16pt; }\n                    h3 { font-size: 14pt; }\n                    table { border-collapse: collapse; width: 100%; }\n                    td, th { border: 1px solid #000; padding: 5px; }\n                  </style>\n                </head>\n                <body>\n                  <h1>${docTitle}</h1>\n                  ${tempContainer.innerHTML}\n                </body>\n                </html>\n              `;\n              \n              // 创建Blob\n              documentFile = new Blob([msWordHtml], { type: fileType });\n            }\n            \n            // 清理临时元素\n            document.body.removeChild(tempContainer);\n            \n            // 先获取所有聊天会话列表，只获取一次\n            loading.setText('正在查找聊天会话...');\n            const sessionsResponse = await getChatSessions();\n            let chatSessions = [];\n            \n            // 处理不同格式的API返回结果\n            if (sessionsResponse && sessionsResponse.data && Array.isArray(sessionsResponse.data)) {\n              chatSessions = sessionsResponse.data;\n            } else if (sessionsResponse && sessionsResponse.results && Array.isArray(sessionsResponse.results)) {\n              chatSessions = sessionsResponse.results;\n            } else if (sessionsResponse && Array.isArray(sessionsResponse)) {\n              chatSessions = sessionsResponse;\n            }\n            \n            console.log(`获取到 ${chatSessions.length} 个会话`);\n            loading.setText('正在准备发送...');\n            \n            // 为每个用户准备会话ID，使用Map存储userId -> chatId的映射\n            const userSessionMap = new Map();\n            \n            // 先批量查找现有会话，减少重复检查\n            for (const userId of selectedChatUsers.value) {\n              // 查找是否有与该用户的会话\n              const existingSession = chatSessions.find(session => {\n                // 检查会话是否为双人会话\n                if (!session.participants || !Array.isArray(session.participants)) {\n                  return false;\n                }\n                \n                // 检查会话是否只有两个参与者\n                if (session.participants.length !== 2) {\n                  return false;\n                }\n                \n                // 检查会话参与者是否包含当前用户和目标用户\n                const hasCurrentUser = session.participants.some(p => \n                  (p.id === currentUserId) || (p.user && p.user.id === currentUserId)\n                );\n                \n                const hasTargetUser = session.participants.some(p => \n                  (p.id === userId) || (p.user && p.user.id === userId)\n                );\n                \n                return hasCurrentUser && hasTargetUser;\n              });\n              \n              if (existingSession) {\n                userSessionMap.set(userId, existingSession.id);\n                console.log(`用户${userId}有现有会话: ${existingSession.id}`);\n              }\n            }\n            \n            // 为没有会话的用户创建新会话\n            const newSessionPromises = [];\n            for (const userId of selectedChatUsers.value) {\n              if (!userSessionMap.has(userId)) {\n                console.log(`为用户${userId}创建新会话...`);\n                newSessionPromises.push(\n                  createChatSession({\n                    participant_ids: [currentUserId, userId],\n                    title: '文档分享'\n                  }).then(response => {\n                    if (response && response.data && response.data.id) {\n                      userSessionMap.set(userId, response.data.id);\n                      console.log(`为用户${userId}创建新会话成功: ${response.data.id}`);\n                    } else if (response && response.id) {\n                      userSessionMap.set(userId, response.id);\n                      console.log(`为用户${userId}创建新会话成功: ${response.id}`);\n                    } else {\n                      console.error('创建聊天会话失败，返回数据格式不正确:', response);\n                      return null;\n                    }\n                  }).catch(error => {\n                    console.error(`为用户${userId}创建会话失败:`, error);\n                    return null;\n                  })\n                );\n              }\n            }\n            \n            // 等待所有新会话创建完成\n            if (newSessionPromises.length > 0) {\n              loading.setText(`正在创建 ${newSessionPromises.length} 个新会话...`);\n              await Promise.all(newSessionPromises);\n            }\n            \n            // 准备发送文件\n            loading.setText('正在发送文件...');\n            const sendPromises = [];\n            const failedUsers = [];\n            \n            // 遍历用户发送文件\n            for (const userId of selectedChatUsers.value) {\n              const chatId = userSessionMap.get(userId);\n              if (!chatId) {\n                console.error(`未能找到或创建用户${userId}的会话`);\n                failedUsers.push(userId);\n                continue;\n              }\n              \n              console.log(`准备向会话 ${chatId} 发送文档...`);\n              \n              // 创建FormData对象，添加文件和相关信息\n              const formData = new FormData();\n              formData.append('chat', chatId);\n              formData.append('message_type', 'file');\n              formData.append('content', `分享了一个${shareFormat.value === 'pdf' ? 'PDF' : 'Word'}文档: ${docTitle}`);\n              \n              // 将文件Blob转换为File对象 - 为每个用户创建新的File对象\n              const file = new File([documentFile], fileName, { type: fileType });\n              formData.append('file', file);\n              \n              // 发送文件消息\n              sendPromises.push(\n                request({\n                  url: '/api/chat/messages/',\n                  method: 'post',\n                  data: formData,\n                  headers: {\n                    'Content-Type': 'multipart/form-data'\n                  },\n                  timeout: 30000 // 增加超时时间\n                }).then(response => {\n                  console.log(`向用户 ${userId} 发送文档成功:`, response);\n                  return { userId, success: true };\n                }).catch(error => {\n                  console.error(`向用户 ${userId} 发送文档失败:`, error);\n                  return { userId, success: false, error };\n                })\n              );\n            }\n            \n            // 等待所有发送操作完成\n            const sendResults = await Promise.all(sendPromises);\n            const successCount = sendResults.filter(result => result.success).length;\n            const totalAttempted = sendResults.length;\n            const totalSelected = selectedChatUsers.value.length;\n            \n            if (successCount > 0) {\n              if (successCount === totalSelected) {\n                ElMessage.success(`成功发送文档到所有 ${successCount} 个用户的聊天`);\n              } else {\n                ElMessage.warning(`部分发送成功: ${successCount}/${totalSelected} 个用户接收到文档`);\n              }\n              shareDialogVisible.value = false;\n            } else if (totalAttempted > 0) {\n              ElMessage.error('发送文档失败，请重试');\n            } else {\n              ElMessage.error('未能创建任何聊天会话，请重试');\n            }\n          } catch (error) {\n            console.error('生成文档文件失败:', error);\n            ElMessage.error('生成文档文件失败');\n          } finally {\n            loading.close();\n          }\n        } catch (error) {\n          console.error('分享文档到聊天失败:', error);\n          ElMessage.error('分享文档到聊天失败');\n        } finally {\n          shareLoading.value = false;\n        }\n      }\n    }\n    \n    const deleteDocument = (doc) => {\n      selectedDocument.value = doc\n      deleteDialogVisible.value = true\n    }\n    \n    const confirmDelete = async () => {\n      if (!selectedDocument.value) return\n      \n      deleteLoading.value = true\n      try {\n        // 记录要删除的文档ID和类别\n        const deletedDocId = selectedDocument.value.id;\n        const deletedDocCategoryId = selectedDocument.value.category?.id;\n        \n        // 先关闭对话框，提高用户体验\n        deleteDialogVisible.value = false;\n        \n        // 执行删除操作\n        await apiDeleteDocument(deletedDocId)\n        ElMessage.success('文档删除成功')\n        \n        // 强制清除选中的文档\n        selectedDocument.value = null;\n        \n        // 清除可能的缓存数据\n        if (window.localStorage) {\n          try {\n            // 移除可能存在的相关缓存\n            localStorage.removeItem(`doc_cache_${deletedDocId}`);\n            localStorage.removeItem(`recent_docs_cache`);\n            localStorage.removeItem(`doc_list_cache`);\n          } catch (e) {\n            console.error('清除本地缓存失败:', e);\n          }\n        }\n        \n        // 更新刷新触发器\n        refreshTrigger.value = Date.now();\n        \n        // 使用新数组替换原数组，确保Vue能检测到变化 \n        documents.value = [...documents.value.filter(doc => doc.id !== deletedDocId)];\n        recentDocuments.value = [...recentDocuments.value.filter(doc => doc.id !== deletedDocId)];\n        sharedDocuments.value = [...sharedDocuments.value.filter(doc => doc.id !== deletedDocId)];\n        \n        // 强制更新视图\n        await forceUpdate();\n        \n        // 更新分类中的文档计数\n        if (deletedDocCategoryId) {\n          const category = documentCategories.value.find(c => c.id === deletedDocCategoryId);\n          if (category && category.document_count > 0) {\n            category.document_count--;\n          }\n        }\n        \n        // 等待DOM更新\n        await nextTick();\n        \n        // 重新导航到文档首页，确保状态全部刷新\n        if (router.currentRoute.value.name === 'SmartDocDetail') {\n          console.log('从详情页删除文档，重新导航到文档首页');\n          \n          // 先强制刷新数据，确保导航后数据是最新的\n          await reloadAllData();\n          \n          // 使用replace模式跳转，不留下历史记录，并添加强制刷新参数\n          router.replace({ \n            name: 'SmartDoc',\n            query: { _refresh: Date.now() } // 添加时间戳参数防止缓存\n          });\n        } else {\n          // 如果已经在文档首页，立即重载数据并强制刷新页面\n          await refreshData();\n        }\n      } catch (error) {\n        console.error('删除文档失败', error);\n        ElMessage.error('删除文档失败');\n        // 如果删除失败，关闭对话框\n        deleteDialogVisible.value = false;\n      } finally {\n        deleteLoading.value = false;\n      }\n    }\n    \n    const viewAllDocuments = (type) => {\n      if (type === 'recent') {\n        // 路由中没有SmartDocList，直接跳转到智能文档首页并滚动到文档列表\n        router.push({ name: 'SmartDoc' }).then(() => {\n          setTimeout(() => {\n            const docSection = document.querySelector('.section');\n            if (docSection) {\n              docSection.scrollIntoView({ behavior: 'smooth' });\n            }\n          }, 300);\n        });\n      }\n    }\n    \n    const selectCategory = (category) => {\n      console.log('选择分类:', category);\n      \n      // 处理不同类型的category参数\n      let categoryId;\n      if (category === 'all') {\n        categoryId = 'all';\n      } else if (typeof category === 'string') {\n        categoryId = category;\n      } else if (typeof category === 'object' && category !== null) {\n        categoryId = category.id.toString();\n      }\n      \n      console.log('处理后的分类ID:', categoryId);\n      \n      // 如果选择的分类与当前分类相同，则不做任何操作\n      if (categoryId === searchCategory.value) {\n        console.log('分类未变化，不重新加载');\n        return;\n      }\n      \n      // 设置新的分类\n      searchCategory.value = categoryId;\n      \n      // 添加动画效果\n      documents.value = [];\n      createLoading.value = true;\n      \n      // 重置分页和加载状态\n      page.value = 1;\n      hasMore.value = true;\n      \n      // 延迟获取，实现过渡效果\n      setTimeout(async () => {\n        try {\n          // 强制刷新文档列表\n          await fetchDocuments(true);\n        } catch (error) {\n          console.error('获取文档失败:', error);\n          ElMessage.error('获取文档列表失败，请刷新页面重试');\n        } finally {\n          createLoading.value = false;\n        }\n        \n        // 触发一个简单的动画效果，突出显示已筛选的文档\n        const docCards = document.querySelectorAll('.doc-card');\n        if (docCards && docCards.length > 0) {\n          docCards.forEach((card, index) => {\n            if (card) {\n              card.style.animationDelay = `${index * 50}ms`;\n              card.classList.remove('fadeIn');\n              setTimeout(() => {\n                if (card) {\n                  card.classList.add('fadeIn');\n                }\n              }, 10);\n            }\n          });\n        }\n      }, 300);\n    };\n\n    // 获取选中分类的颜色\n    const getSelectedCategoryColor = () => {\n      if (searchCategory.value === 'all') return '#409EFF';\n      const selectedCategory = documentCategories.value.find(c => c.id.toString() === searchCategory.value);\n      return selectedCategory?.color || '#67C23A';\n    };\n\n    // 获取选中分类的名称\n    const getSelectedCategoryName = () => {\n      if (searchCategory.value === 'all') return '全部文档';\n      const selectedCategory = documentCategories.value.find(c => c.id.toString() === searchCategory.value);\n      return selectedCategory?.name || '未知分类';\n    };\n    \n    const manageCategories = () => {\n      categoryDialogVisible.value = true\n      resetCategoryForm()\n    }\n    \n    const editCategory = (category) => {\n      editingCategory.value = { ...category }\n    }\n    \n    const resetCategoryForm = () => {\n      editingCategory.value = {\n        id: '',\n        name: '',\n        color: '#409EFF',\n        description: ''\n      }\n      if (categoryFormRef.value) {\n        categoryFormRef.value.resetFields()\n      }\n    }\n    \n    const submitCategory = async () => {\n      if (!categoryFormRef.value) return\n      \n      await categoryFormRef.value.validate(async (valid) => {\n        if (valid) {\n          categoryLoading.value = true\n          try {\n            const categoryData = {\n              name: editingCategory.value.name,\n              color: editingCategory.value.color,\n              description: editingCategory.value.description || ''\n            }\n            \n            if (editingCategory.value.id) {\n              // 更新分类\n              await updateDocumentCategory(editingCategory.value.id, categoryData)\n              ElMessage.success('分类更新成功')\n            } else {\n              // 创建分类\n              await createDocumentCategory(categoryData)\n              ElMessage.success('分类创建成功')\n            }\n            \n            // 重新获取分类列表\n            fetchDocumentCategories()\n            resetCategoryForm()\n          } catch (error) {\n            console.error('保存分类失败:', error)\n            ElMessage.error('保存分类失败')\n          } finally {\n            categoryLoading.value = false\n          }\n        }\n      })\n    }\n    \n    const deleteCategory = (category) => {\n      if (category.document_count > 0) {\n        ElMessage.warning('该分类下有文档，无法删除')\n        return\n      }\n      \n      ElMessageBox.confirm(\n        `确定要删除分类\"${category.name}\"吗？`,\n        '删除分类',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).then(async () => {\n        try {\n          await deleteDocumentCategory(category.id)\n          ElMessage.success('分类删除成功')\n          fetchDocumentCategories()\n        } catch (error) {\n          console.error('删除分类失败:', error)\n          ElMessage.error('删除分类失败')\n        }\n      }).catch(() => {})\n    }\n    \n    const formatDate = (dateString) => {\n      const date = new Date(dateString)\n      const now = new Date()\n      \n      // 同一天显示时间\n      if (date.toDateString() === now.toDateString()) {\n        return date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\n      }\n      \n      // 昨天\n      const yesterday = new Date(now)\n      yesterday.setDate(now.getDate() - 1)\n      if (date.toDateString() === yesterday.toDateString()) {\n        return '昨天'\n      }\n      \n      // 一周内显示星期\n      const weekDays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      const diffDays = Math.round((now - date) / (1000 * 60 * 60 * 24))\n      if (diffDays < 7) {\n        return weekDays[date.getDay()]\n      }\n      \n      // 其他情况显示日期\n      return date.toLocaleDateString('zh-CN', { month: 'numeric', day: 'numeric' })\n    }\n    \n    const resetCategoryFilter = () => {\n      searchCategory.value = 'all'\n      page.value = 1\n      fetchDocuments(true)\n    }\n    \n    // 添加页面激活钩子，确保从其他页面返回时重新获取数据\n    onActivated(() => {\n      console.log('SmartDoc组件被激活，重新获取数据');\n      reloadAllData();\n    });\n\n    // 页面激活后重新加载所有数据的函数\n    const reloadAllData = async () => {\n      page.value = 1\n      try {\n        console.log('重新加载所有文档数据...')\n        createLoading.value = true\n        \n        // 添加时间戳防止缓存\n        const timestamp = Date.now();\n        \n        // 清除本地缓存\n        try {\n          if (window.localStorage) {\n            // 清除文档相关的缓存\n            localStorage.removeItem('doc_list_cache');\n            localStorage.removeItem('recent_docs_cache');\n            localStorage.removeItem('doc_categories_cache');\n          }\n        } catch (e) {\n          console.error('清除缓存失败:', e);\n        }\n        \n        // 先获取分类，因为显示文档时需要分类信息\n        await fetchDocumentCategories(timestamp)\n        \n        // 然后并行获取其他数据，但不需要保存返回值\n        await Promise.all([\n          fetchDocuments(true, false, timestamp),\n          fetchRecentDocuments(true, timestamp),\n          fetchSharedDocuments(timestamp)\n        ])\n        \n        console.log('数据重新加载完成', {\n          分类数量: documentCategories.value.length,\n          文档数量: documents.value.length,\n          最近文档: recentDocuments.value.length,\n          共享文档: sharedDocuments.value.length,\n          总计数: totalCount.value,\n        })\n        \n        // 强制更新视图\n        await forceUpdate()\n        \n      } catch (error) {\n        console.error('数据重新加载失败:', error)\n        ElMessage.error('加载数据失败，请刷新页面')\n      } finally {\n        createLoading.value = false\n      }\n    }\n\n    // 提供重载函数给子组件或父组件使用\n    provide('reloadDocuments', reloadAllData);\n    \n    // 监听路由变化，强制刷新数据\n    watch(() => route.query._refresh, (newVal) => {\n      if (newVal) {\n        console.log('检测到路由刷新参数:', newVal);\n        refreshTrigger.value = Date.now();\n        reloadAllData();\n      }\n    });\n\n    // 监听路由参数，处理不同情况\n    watch(() => route.path, (newPath, oldPath) => {\n      console.log('路由变化:', oldPath, '->', newPath);\n      if (newPath === '/smartdoc' && oldPath && oldPath.startsWith('/smartdoc/')) {\n        // 从文档详情页返回文档列表页，强制刷新\n        console.log('从详情页返回列表页，强制刷新数据');\n        refreshTrigger.value = Date.now();\n        reloadAllData();\n      }\n    });\n\n    // 手动强制刷新方法\n    const refreshData = async () => {\n      page.value = 1\n      await reloadAllData()\n      if (proxy && proxy.$forceUpdate) {\n        proxy.$forceUpdate()\n      }\n    }\n\n    // 处理分页变化的方法 - 简单记录事件\n    const onPageChange = (newPage) => {\n      console.log(`分页点击事件 - 切换到页面: ${newPage}`);\n      \n      // 检查页码范围\n      const maxPage = Math.ceil(totalCount.value / pageSize);\n      if (newPage > maxPage && maxPage > 0) {\n        console.warn(`请求的页码 ${newPage} 超出最大页码 ${maxPage}，自动调整为最大页码`);\n        setTimeout(() => {\n          page.value = maxPage;\n        }, 0);\n        return;\n      }\n    }\n    \n    // 监听页码变化，加载对应页面数据\n    watch(() => page.value, async (newPage, oldPage) => {\n      console.log(`页码变化: ${oldPage} -> ${newPage}`);\n      \n      if (newPage === oldPage) return;\n      \n      // 检查页码范围\n      const maxPage = Math.ceil(totalCount.value / pageSize);\n      if (newPage > maxPage && maxPage > 0) {\n        console.warn(`页码 ${newPage} 超出最大页码 ${maxPage}，自动调整为最大页码`);\n        setTimeout(() => {\n          page.value = maxPage;\n        }, 0);\n        return;\n      }\n      \n      try {\n        // 显示加载状态\n        createLoading.value = true;\n        \n        // 重置hasMore标志，确保可以加载数据\n        hasMore.value = true;\n        \n        // 获取新页面数据\n        await fetchDocuments(false, false, Date.now());\n        \n        // 滚动到列表顶部\n        const docSection = document.querySelector('.section');\n        if (docSection) {\n          docSection.scrollIntoView({ behavior: 'smooth' });\n        }\n      } catch (error) {\n        console.error('页码变化加载失败:', error);\n        ElMessage.error('加载数据失败，请重试');\n        \n        // 如果是404错误，自动返回有效页码\n        if (error.response && error.response.status === 404) {\n          console.warn('页码不存在，返回第一页');\n          setTimeout(() => {\n            page.value = 1;\n          }, 0);\n        }\n      } finally {\n        createLoading.value = false;\n      }\n    });\n\n    // 添加加载更多文档的方法\n    const loadMoreDocuments = () => {\n      if (loadingMore.value || !hasMore.value) return\n      page.value++\n      fetchDocuments(false, true)\n    }\n\n    // 生命周期钩子\n    onMounted(() => {\n      console.log('SmartDoc组件mounted，加载数据');\n      \n      // 检查URL中是否有_refresh参数\n      const refreshParam = route.query._refresh;\n      if (refreshParam) {\n        console.log('检测到URL中的刷新参数:', refreshParam);\n        // 强制刷新，确保文档列表是最新的\n        refreshTrigger.value = Date.now();\n        // 设置一个超短延迟，确保DOM已经完全挂载\n        setTimeout(() => {\n          reloadAllData();\n        }, 10);\n      } else {\n        // 正常加载数据\n        reloadAllData();\n      }\n    })\n    \n    const handleImportWord = () => {\n      // 创建一个隐藏的文件上传input\n      const fileInput = document.createElement('input');\n      fileInput.type = 'file';\n      fileInput.accept = '.docx,.doc';\n      fileInput.style.display = 'none';\n      document.body.appendChild(fileInput);\n      \n      // 监听文件选择事件\n      fileInput.addEventListener('change', async (event) => {\n        if (event.target.files.length > 0) {\n          const file = event.target.files[0];\n          \n          // 显示加载中，使用全屏加载，禁止用户操作\n          const loadingInstance = ElLoading.service({\n            fullscreen: true,\n            text: '正在导入Word文档...',\n            background: 'rgba(255, 255, 255, 0.8)',\n            lock: true // 锁定屏幕，防止用户操作\n          });\n          \n          try {\n            // 创建FormData对象\n            const formData = new FormData();\n            formData.append('file', file);\n            \n            // 发送请求，调用API\n            const response = await importWordDocument(formData);\n            \n            if (response && response.id) {\n              // 先刷新文档首页\n              await reloadAllData();\n              \n              // 显示成功消息\n              ElMessage.success('Word文档导入成功');\n              \n              // 延迟一秒后跳转，确保用户看到刷新效果和成功提示\n              setTimeout(() => {\n                // 导入成功后跳转到文档详情页\n                router.push({\n                  name: 'SmartDocDetail',\n                  params: { id: response.id },\n                  query: { _refresh: Date.now() } // 添加刷新参数，确保详情页刷新\n                });\n              }, 1000);\n            } else {\n              ElMessage.error('导入失败：' + (response?.detail || '未知错误'));\n            }\n          } catch (error) {\n            console.error('导入Word文档出错:', error);\n            ElMessage.error('导入Word文档失败: ' + (error.message || '未知错误'));\n          } finally {\n            // 确保一定时间后关闭加载提示，防止界面卡死\n            setTimeout(() => {\n              loadingInstance.close();\n              document.body.removeChild(fileInput);\n            }, 500);\n          }\n        }\n      });\n      \n      // 触发文件选择对话框\n      fileInput.click();\n    }\n    \n    const removeSharedUser = (userIdToRemove) => {\n      console.log('尝试移除用户权限:', userIdToRemove);\n      const userToRemove = existingSharedUsers.value.find(u => u.user_id === userIdToRemove);\n      if (userToRemove) {\n        console.log('找到要移除权限的用户:', userToRemove);\n        // 将用户添加回可选列表\n        availableUsers.value.push({ \n          id: userToRemove.user_id, \n          username: userToRemove.username \n        });\n        \n        // 从已分享列表中移除\n        existingSharedUsers.value = existingSharedUsers.value.filter(u => u.user_id !== userIdToRemove);\n        console.log('移除后的已分享用户列表:', existingSharedUsers.value);\n        \n        // 显示提示\n        ElMessage({\n          message: `已移除用户 ${userToRemove.username} 的权限，点击分享按钮保存更改`,\n          type: 'warning'\n        });\n      } else {\n        console.warn('未找到要移除的用户:', userIdToRemove);\n      }\n    };\n    \n    return {\n      documents,\n      recentDocuments,\n      sharedDocuments,\n      documentCategories,\n      searchQuery,\n      searchCategory,\n      totalDocuments,\n      recentEditCount,\n      newDocumentDialogVisible,\n      shareDialogVisible,\n      deleteDialogVisible,\n      documentCreateType,\n      newDocumentForm,\n      aiDocumentForm,\n      blankFormRules,\n      aiFormRules,\n      blankFormRef,\n      aiFormRef,\n      selectedDocument,\n      selectedUsers,\n      selectedUsersWithPermissions,\n      availableUsers,\n      availableChatUsers,\n      createLoading,\n      shareLoading,\n      deleteLoading,\n      createNewDocument,\n      submitNewDocument,\n      openDocument,\n      editDocument,\n      submitEditDocument,\n      exportDocument,\n      shareDocument,\n      confirmShare,\n      deleteDocument,\n      confirmDelete,\n      viewAllDocuments,\n      formatDate,\n      categoryDialogVisible,\n      editingCategory,\n      categoryFormRef,\n      categoryLoading,\n      categoryFormRules,\n      editCategory,\n      resetCategoryForm,\n      submitCategory,\n      deleteCategory,\n      resetCategoryFilter,\n      selectCategory,\n      getSelectedCategoryColor,\n      getSelectedCategoryName,\n      manageCategories,\n      reloadAllData,\n      refreshData,\n      refreshTrigger,\n      hasMore,\n      loadingMore,\n      loadMoreDocuments,\n      exportToPdf,\n      exportToWord,\n      // 添加编辑对话框相关变量\n      editDialogVisible,\n      editDocumentForm,\n      editFormRef,\n      editLoading,\n      editFormRules,\n      // 添加分页处理方法\n      onPageChange,\n      page,\n      pageSize,\n      totalCount,\n      // 开发环境标志\n      $_isDev,\n      // 添加直接API调用函数\n      fetchDocuments,\n      // 添加分享方式相关变量\n      shareMode,\n      shareFormat,\n      selectedChatUsers,\n      handleImportWord,\n      getUsernameById,\n      handleUserSelectionChange,\n      handleShareModeChange,\n      getCurrentUserId,\n      existingSharedUsers,\n      removeSharedUser\n    }\n  }\n}\n</script>\n\n<style scoped>\n.smartdoc-home-container {\n  padding: 20px;\n  background-color: var(--el-bg-color-page);\n}\n\n/* 页面标题和操作区 */\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n}\n\n.page-title {\n  font-size: 24px;\n  font-weight: 600;\n  margin: 0;\n  color: var(--el-text-color-primary);\n}\n\n.page-description {\n  color: var(--el-text-color-secondary);\n  margin: 4px 0 0 0;\n}\n\n.right-section {\n  display: flex;\n  gap: 16px;\n  align-items: center;\n}\n\n.search-controls {\n  display: flex;\n  gap: 16px;\n  align-items: center;\n}\n\n.search-input {\n  width: 240px;\n}\n\n/* 统计卡片 */\n.stats-cards {\n  display: flex;\n  gap: 16px;\n  margin-bottom: 24px;\n}\n\n.stat-card {\n  flex: 1;\n  transition: all 0.3s;\n  background-color: var(--el-bg-color-overlay);\n  border-color: var(--el-border-color-lighter);\n}\n\n.stat-card:hover {\n  transform: translateY(-5px);\n  box-shadow: var(--el-box-shadow-light);\n}\n\n.stat-content {\n  display: flex;\n  align-items: center;\n  padding: 8px;\n}\n\n.stat-icon {\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 16px;\n  font-size: 24px;\n  color: white;\n}\n\n.doc-icon {\n  background-color: #409EFF;\n}\n\n.edit-icon {\n  background-color: #67C23A;\n}\n\n.share-icon {\n  background-color: #E6A23C;\n}\n\n.stat-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 4px;\n  color: var(--el-text-color-primary);\n}\n\n.stat-label {\n  font-size: 14px;\n  color: var(--el-text-color-secondary);\n}\n\n/* 区域通用样式 */\n.section {\n  margin-bottom: 32px;\n}\n\n/* 分类区域特殊样式 */\n.category-section {\n  margin-bottom: 16px;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.section-header h3 {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n  color: #303133;\n}\n\n.section-actions {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.filter-tag {\n  background-color: #f0f2f5;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 13px;\n  color: #606266;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* 文档卡片 */\n.document-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.doc-card {\n  transition: all 0.3s ease;\n  height: 230px; /* 设置固定高度 */\n  display: flex;\n  flex-direction: column;\n}\n\n.doc-card :deep(.el-card__body) {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding: 16px;\n  min-height: 0;\n}\n\n.doc-card:hover {\n  transform: translateY(-5px);\n  box-shadow: var(--el-box-shadow-light);\n}\n\n/* 鼠标悬浮时显示操作按钮 */\n.doc-card:hover .doc-actions {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n.doc-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n}\n\n.doc-info {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.doc-type-tag {\n  font-size: 12px;\n  color: #606266;\n  background-color: #f5f7fa;\n  padding: 2px 8px;\n  border-radius: 4px;\n  white-space: nowrap;\n}\n\n.doc-category-tag {\n  font-size: 12px;\n  color: white;\n  padding: 2px 8px;\n  border-radius: 4px;\n  white-space: nowrap;\n  display: inline-flex;\n  align-items: center;\n}\n\n/* 共享标签样式 */\n.doc-shared-tag {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 12px;\n  color: #E6A23C;\n  background-color: #fdf6ec;\n  padding: 2px 8px;\n  border-radius: 4px;\n  white-space: nowrap;\n  border: 1px solid #f5dab1;\n}\n\n\n:deep([data-theme=\"dark\"]) .doc-shared-tag span,\n:deep(body.is-dark) .doc-shared-tag span,\n[data-theme=\"dark\"] .doc-shared-tag span,\nhtml[data-theme=\"dark\"] .doc-shared-tag span {\n  color: #000000 !important; \n  font-weight: 400; \n}\n\n.doc-title {\n  margin: 0 0 8px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--el-text-color-primary);\n  line-height: 1.5;\n  height: calc(1.5em * 2); /* 固定两行高度 */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  word-break: break-all;\n}\n\n.doc-preview {\n  font-size: 14px;\n  color: var(--el-text-color-secondary);\n  line-height: 1.6;\n  height: calc(1.6em * 3); /* 固定三行高度 */\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  word-break: break-all;\n  margin-bottom: 12px;\n}\n\n.doc-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 0 4px;\n  border-top: 1px solid var(--el-border-color-lighter);\n  margin-top: auto;\n  position: relative;\n  z-index: 2;\n}\n\n.doc-time {\n  font-size: 13px;\n  color: var(--el-text-color-secondary);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-weight: 500;\n}\n\n.doc-actions {\n  display: flex;\n  gap: 8px;\n  position: relative;\n  opacity: 0;\n  transform: translateY(10px);\n  transition: all 0.2s ease-in-out;\n}\n\n.new-doc-card {\n  border: 2px dashed var(--el-border-color);\n  background-color: var(--el-fill-color-light);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s;\n  animation: fadeIn 0.4s ease-in-out;\n}\n\n.new-doc-card:hover {\n  border-color: var(--el-color-primary);\n  color: var(--el-color-primary);\n  background-color: var(--el-color-primary-light-9);\n}\n\n.new-doc-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  color: var(--el-text-color-secondary);\n}\n\n.new-doc-content .el-icon {\n  font-size: 32px;\n}\n\n/* 分类卡片 */\n.category-cards {\n  display: flex;\n  gap: 16px;\n  overflow-x: auto;\n  padding-bottom: 8px;\n}\n\n.category-card {\n  min-width: 180px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  transition: all 0.3s;\n  border-radius: 8px;\n  padding: 12px 16px;\n  border: 2px solid transparent;\n  position: relative;\n  overflow: hidden;\n  background-color: var(--el-fill-color-light);\n}\n\n.category-card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--el-box-shadow-light);\n  background-color: var(--el-color-primary-light-9);\n}\n\n.category-active {\n  transform: translateY(-2px);\n  box-shadow: var(--el-box-shadow-light);\n  border-color: var(--el-color-primary);\n  background-color: var(--el-color-primary-light-9);\n}\n\n.category-selected-indicator {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background-color: var(--el-color-primary);\n  transition: all 0.3s;\n}\n\n.category-icon {\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  color: white;\n  margin-right: 12px;\n  transition: all 0.3s;\n}\n\n.category-active .category-icon {\n  transform: scale(1.1);\n}\n\n.category-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.category-info h4 {\n  margin: 0 0 4px 0;\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--el-text-color-primary);\n  transition: all 0.3s;\n}\n\n.category-active .category-info h4 {\n  color: var(--el-color-primary);\n  font-weight: 600;\n}\n\n.category-count {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n}\n\n.mt-4 {\n  margin-top: 16px;\n}\n\n.form-tip {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n  margin-top: 4px;\n}\n\n.category-management {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.category-list {\n  margin-bottom: 20px;\n}\n\n.category-form {\n  margin-top: 20px;\n}\n\n.color-preview {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  margin-right: 8px;\n  vertical-align: middle;\n}\n\n.color-value {\n  margin-left: 12px;\n  color: var(--el-text-color-regular);\n}\n\n.category-select {\n  width: 200px;\n}\n\n.doc-menu {\n  color: var(--el-text-color-secondary);\n  cursor: pointer;\n  position: relative;\n}\n\n/* 筛选状态栏样式 */\n.filter-status-bar {\n  background-color: var(--el-color-primary-light-9);\n  padding: 12px 20px;\n  margin-bottom: 20px;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n  animation: slideDown 0.3s ease-in-out;\n  box-shadow: var(--el-box-shadow-light);\n  border-left: 4px solid var(--el-color-primary);\n  position: relative;\n  overflow: hidden;\n}\n\n/* 确保深色模式下的筛选状态栏有足够的对比度 */\n:deep(.dark .filter-status-bar) {\n  background-color: var(--el-color-primary-dark-2);\n  border-left-color: var(--el-color-primary-light-3);\n}\n\n.filter-bar-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.filter-title {\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: var(--el-text-color-primary);\n}\n\n.filter-category {\n  padding: 4px 10px;\n  border-radius: 4px;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.filter-actions {\n  display: flex;\n  align-items: center;\n}\n\n.section {\n  margin-bottom: 32px;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.section-header h3 {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n  color: var(--el-text-color-primary);\n}\n\n.section-actions {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n/* 添加动画 */\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.empty-state {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 200px;\n}\n\n.loading-state {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 200px;\n}\n\n.pagination-container {\n  display: flex;\n  justify-content: center;\n  margin-top: 24px;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 20;\n}\n\n.pagination-container :deep(.el-pagination) {\n  user-select: none;\n}\n\n.pagination-container :deep(.el-pagination button),\n.pagination-container :deep(.el-pagination .el-pager li) {\n  cursor: pointer !important;\n  z-index: 30;\n  position: relative;\n}\n\n.pagination-debug {\n  margin-top: 8px;\n  color: #909399;\n  font-size: 12px;\n  background-color: #f5f7fa;\n  padding: 4px 8px;\n  border-radius: 4px;\n}\n\n/* 添加以下CSS，确保按钮区域独立可点击 */\n.btn-container {\n  position: relative;\n  z-index: 5;\n}\n\n.doc-actions .el-button {\n  position: relative;\n  z-index: 5;\n}\n\n/* 确保下拉菜单显示在最上层 */\n:deep(.el-dropdown-menu) {\n  z-index: 3000 !important;\n}\n\n/* 调整卡片内容区域的点击行为 */\n.card-content-area {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: 1;\n  min-height: 0;\n}\n\n.filter-controls {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n/* 添加文档卡片的动画效果 */\n.document-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.doc-card {\n  animation: fadeIn 0.4s ease-in-out;\n}\n\n.fadeIn {\n  animation: fadeIn 0.4s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* 临时导出容器样式 */\n.temp-export-container {\n  position: fixed;\n  top: -9999px;\n  left: -9999px;\n  width: 210mm; /* A4宽度 */\n  background: var(--el-bg-color);\n  padding: 20px;\n  z-index: -1;\n  font-family: SimSun, Arial, sans-serif;\n  font-size: 12pt;\n  line-height: 1.5;\n}\n\n.temp-export-container img {\n  max-width: 100%;\n  height: auto;\n}\n\n.user-permissions-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 100%;\n  margin-top: 8px;\n}\n\n.user-permission-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: #f9f9f9;\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid #eaeaea;\n}\n\n.user-name {\n  min-width: 60px;\n  margin-right: 12px;\n  font-weight: 500;\n}\n\n.permission-info {\n  display: flex;\n  align-items: center;\n}\n\n/* 确保表单提示文本样式正确 */\n.form-tip {\n  font-size: 12px;\n  color: var(--el-text-color-secondary);\n  margin-top: 4px;\n}\n\n.dialog-tabs {\n  position: absolute;\n  top: 55px; /* Adjust this value to position the tabs correctly */\n  left: 20px;\n}\n</style> \n\n<style>\n/* --- 深色模式分享弹窗样式 --- */\nhtml[data-theme=\"dark\"] .share-dialog .el-dialog {\n  background-color: #2c2c2c;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-dialog__header {\n  border-bottom: 1px solid #4f4f4f;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-dialog__title {\n  color: #e0e0e0;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-dialog__body {\n  color: #cccccc;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog p {\n  color: #cccccc;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-form-item__label {\n  color: #cccccc;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-radio__label {\n  color: #cccccc;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-radio__input .el-radio__inner {\n    background-color: transparent;\n    border-color: #8c8c8c;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-radio__input.is-checked .el-radio__inner {\n    border-color: var(--el-color-primary);\n    background-color: var(--el-color-primary);\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .user-permission-item {\n  background-color: #383838;\n  border-color: #4f4f4f;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .user-permission-item .user-name {\n  color: #e0e0e0;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-tag {\n    background-color: #4f4f4f;\n    border-color: #6a6a6a;\n    color: #cccccc;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .user-permission-item .el-button--danger.is-link {\n  color: #ff7b7b;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .user-permission-item .el-button--danger.is-link:hover {\n  color: #ff5252;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .form-tip {\n  color: #a0a0a0;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-select .el-input__wrapper {\n  background-color: #383838;\n  box-shadow: none;\n  border: 1px solid #4f4f4f;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog .el-select .el-input__inner {\n  color: #e0e0e0;\n}\n\n/* Select dropdown panel */\nhtml[data-theme=\"dark\"] .share-dialog-popper.el-popper {\n  background-color: #2c2c2c;\n  border: 1px solid #4f4f4f;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog-popper .el-select-dropdown__item {\n  color: #cccccc;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog-popper .el-select-dropdown__item.is-selected {\n  color: var(--el-color-primary);\n}\n\nhtml[data-theme=\"dark\"] .share-dialog-popper .el-select-dropdown__item.hover,\nhtml[data-theme=\"dark\"] .share-dialog-popper .el-select-dropdown__item:hover {\n  background-color: #383838;\n}\n\nhtml[data-theme=\"dark\"] .share-dialog-popper .el-popper__arrow::before {\n  background: #2c2c2c;\n  border-right-color: #4f4f4f !important;\n  border-bottom-color: #4f4f4f !important;\n}\n</style>"],"mappings":"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","ignoreList":[]}]}