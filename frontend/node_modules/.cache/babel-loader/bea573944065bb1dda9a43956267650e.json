{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\layout\\Sidebar.vue?vue&type=template&id=afc9a92c&scoped=true","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\layout\\Sidebar.vue","mtime":1747734852159},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQgYXMgX3Jlc29sdmVEeW5hbWljQ29tcG9uZW50LCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG5vcm1hbGl6ZUNsYXNzIGFzIF9ub3JtYWxpemVDbGFzcywgcmVzb2x2ZURpcmVjdGl2ZSBhcyBfcmVzb2x2ZURpcmVjdGl2ZSwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInNpZGViYXItaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGtleTogMAp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfZWxfaWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pY29uIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9tZW51X2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtbWVudS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9tZW51ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLW1lbnUiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3Njcm9sbGJhciA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1zY3JvbGxiYXIiKTsKICBjb25zdCBfZGlyZWN0aXZlX3N0b3BfcHJvcGFnYXRpb24gPSBfcmVzb2x2ZURpcmVjdGl2ZSgic3RvcC1wcm9wYWdhdGlvbiIpOwogIHJldHVybiBfd2l0aERpcmVjdGl2ZXMoKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbInNpZGViYXIiLCB7CiAgICAgICdpcy1jb2xsYXBzZWQnOiAhJHNldHVwLnNpZGViYXJPcGVuZWQKICAgIH1dKQogIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICBzcmM6ICJodHRwczovL2Nkbi1pY29ucy1wbmcuZmxhdGljb24uY29tLzUxMi8yODkxLzI4OTE0OTEucG5nIiwKICAgIGFsdDogIkxvZ28iCiAgfSwgbnVsbCwgLTEpKSwgJHNldHVwLnNpZGViYXJPcGVuZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJoNSIsIF9ob2lzdGVkXzIsICLmmbrog73lip7lhazns7vnu58iKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zY3JvbGxiYXIsIHsKICAgIGNsYXNzOiAic2lkZWJhci1tZW51LWNvbnRhaW5lciIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfbWVudSwgewogICAgICAiZGVmYXVsdC1hY3RpdmUiOiAkc2V0dXAuYWN0aXZlTWVudSwKICAgICAgY29sbGFwc2U6ICEkc2V0dXAuc2lkZWJhck9wZW5lZCwKICAgICAgImJhY2tncm91bmQtY29sb3IiOiAkc2V0dXAubWVudUJhY2tncm91bmRDb2xvciwKICAgICAgInRleHQtY29sb3IiOiAkc2V0dXAubWVudVRleHRDb2xvciwKICAgICAgImFjdGl2ZS10ZXh0LWNvbG9yIjogJHNldHVwLm1lbnVBY3RpdmVUZXh0Q29sb3IsCiAgICAgICJ1bmlxdWUtb3BlbmVkIjogdHJ1ZSwKICAgICAgcm91dGVyOiAiIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAucm91dGVzLCByb3V0ZSA9PiB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfbWVudV9pdGVtLCB7CiAgICAgICAgICBrZXk6IHJvdXRlLnBhdGgsCiAgICAgICAgICBpbmRleDogcm91dGUucGF0aCwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAuaGFuZGxlTWVudUNsaWNrKHJvdXRlLnBhdGgpCiAgICAgICAgfSwgewogICAgICAgICAgdGl0bGU6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhyb3V0ZS5tZXRhLnRpdGxlKSwgMSldKSwKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pY29uLCBudWxsLCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX3Jlc29sdmVEeW5hbWljQ29tcG9uZW50KCRzZXR1cC5pY29uQ29tcG9uZW50KHJvdXRlLm1ldGEuaWNvbikpKSldKSwKICAgICAgICAgICAgXzogMgogICAgICAgICAgfSwgMTAyNCldKSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDMyLCBbImluZGV4IiwgIm9uQ2xpY2siXSk7CiAgICAgIH0pLCAxMjgpKV0pLAogICAgICBfOiAxCiAgICB9LCA4LCBbImRlZmF1bHQtYWN0aXZlIiwgImNvbGxhcHNlIiwgImJhY2tncm91bmQtY29sb3IiLCAidGV4dC1jb2xvciIsICJhY3RpdmUtdGV4dC1jb2xvciJdKV0pLAogICAgXzogMQogIH0pXSwgMikpLCBbW19kaXJlY3RpdmVfc3RvcF9wcm9wYWdhdGlvbl1dKTsKfQ=="},{"version":3,"names":["class","_createElementBlock","_normalizeClass","$setup","sidebarOpened","_createElementVNode","_hoisted_1","src","alt","_hoisted_2","_createVNode","_component_el_scrollbar","_component_el_menu","activeMenu","collapse","menuBackgroundColor","menuTextColor","menuActiveTextColor","router","_Fragment","_renderList","routes","route","_createBlock","_component_el_menu_item","key","path","index","onClick","$event","handleMenuClick","title","_withCtx","_toDisplayString","meta","_component_el_icon","_resolveDynamicComponent","iconComponent","icon"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\layout\\Sidebar.vue"],"sourcesContent":["<template>\n  <div class=\"sidebar\" :class=\"{ 'is-collapsed': !sidebarOpened }\" v-stop-propagation>\n    <!-- 侧边栏头部 -->\n    <div class=\"sidebar-header\">\n      <img src=\"https://cdn-icons-png.flaticon.com/512/2891/2891491.png\" alt=\"Logo\">\n      <h5 v-if=\"sidebarOpened\">智能办公系统</h5>\n    </div>\n\n    <!-- 侧边栏菜单 -->\n    <el-scrollbar class=\"sidebar-menu-container\">\n      <el-menu\n        :default-active=\"activeMenu\"\n        :collapse=\"!sidebarOpened\"\n        :background-color=\"menuBackgroundColor\"\n        :text-color=\"menuTextColor\"\n        :active-text-color=\"menuActiveTextColor\"\n        :unique-opened=\"true\"\n        router\n      >\n        <el-menu-item \n          v-for=\"route in routes\" \n          :key=\"route.path\" \n          :index=\"route.path\"\n          @click=\"handleMenuClick(route.path)\"\n        >\n          <el-icon>\n            <component :is=\"iconComponent(route.meta.icon)\"></component>\n          </el-icon>\n          <template #title>\n            <span>{{ route.meta.title }}</span>\n          </template>\n        </el-menu-item>\n      </el-menu>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport { computed, watch, ref } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: 'Sidebar',\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const route = useRoute()\n    \n    // 跟踪上一个路由\n    const lastPath = ref('');\n\n    // 从Vuex中获取侧边栏状态\n    const sidebarOpened = computed(() => store.getters.sidebar.opened)\n\n    // 菜单路由\n    const routes = computed(() => {\n      return router.options.routes.find(r => r.path === '/').children\n        .filter(route => !route.hidden)\n    })\n\n    // 当前激活的菜单\n    const activeMenu = computed(() => {\n      return route.path\n    })\n    \n    // 获取主题相关的颜色\n    const currentTheme = computed(() => {\n      const theme = localStorage.getItem('theme') || 'light';\n      return theme;\n    });\n    \n    // 根据主题计算菜单颜色\n    const menuBackgroundColor = computed(() => {\n      return currentTheme.value === 'dark' ? 'var(--bg-color-secondary)' : 'var(--bg-color)';\n    });\n    \n    const menuTextColor = computed(() => {\n      return 'var(--text-color)';\n    });\n    \n    const menuActiveTextColor = computed(() => {\n      return 'var(--primary-color)';\n    });\n    \n    // 处理菜单点击\n    const handleMenuClick = (path) => {\n      // 如果是从smartdoc页面点击其他页面，强制刷新\n      if (route.path === '/smartdoc' && path !== '/smartdoc') {\n        try {\n          // 清理可能存在的遮罩\n          document.querySelectorAll('.el-overlay').forEach(el => {\n            if (el && el.parentNode) el.parentNode.removeChild(el);\n          });\n          \n          // 强制跳转（硬刷新）\n          window.location.href = path;\n        } catch (e) {\n          console.error('导航处理错误:', e);\n          // 如果出错，尝试常规导航\n          router.replace(path);\n        }\n      }\n      // 否则正常导航处理\n    }\n    \n    // 监视路由变化，确保导航菜单正常工作\n    watch(() => route.path, () => {\n      // 记录上一个路径\n      lastPath.value = route.path;\n      \n      // 在路由变化时确保导航菜单可点击\n      setTimeout(() => {\n        document.querySelectorAll('.el-menu-item, .el-submenu').forEach(el => {\n          el.style.pointerEvents = 'auto';\n        });\n      }, 50);\n    });\n\n    // 将Bootstrap图标类名转换为Element Plus图标组件\n    const iconComponent = (icon) => {\n      // 如果是bootstrap图标类，转换为Element Plus图标\n      if (icon && icon.includes('bi-')) {\n        // 移除bi-前缀\n        const iconName = icon.replace('bi-', '');\n        \n        // 图标映射表 - Bootstrap图标到Element Plus图标的映射\n        const iconMap = {\n          'grid-1x2': 'Menu',\n          'calendar-week': 'Calendar',\n          'book': 'Collection',\n          'chat-dots': 'ChatDotRound',\n          'camera-video': 'VideoCamera',\n          'file-earmark-text': 'Document',\n          'file-earmark-ruled': 'Tickets',\n          'envelope': 'Message',\n          'check2-square': 'CheckboxButton',\n          'box-seam': 'Box',\n          'person-lines-fill': 'User',\n          'kanban': 'Opportunity',\n          'list-check': 'Finished',\n          'people': 'UserFilled',\n          'building': 'OfficeBuilding',\n          'gear': 'Setting',\n          'house': 'HomeFilled',\n          'grid': 'Grid',\n          'person': 'User'\n        };\n        \n        // 如果在映射表中找到对应的图标，则返回它，否则返回默认图标\n        return iconMap[iconName] || 'Document';\n      }\n      \n      // 如果不是bi-前缀，则原样返回\n      return icon || 'Document';\n    }\n\n    return {\n      sidebarOpened,\n      routes,\n      activeMenu,\n      iconComponent,\n      handleMenuClick,\n      menuBackgroundColor,\n      menuTextColor,\n      menuActiveTextColor\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sidebar {\n  width: 160px;\n  height: 100%;\n  background-color: var(--bg-color);\n  border-right: 1px solid var(--border-color);\n  box-shadow: 0 0 10px var(--shadow-color);\n  z-index: 1000;\n  transition: width 0.3s;\n}\n\n.sidebar.is-collapsed {\n  width: 64px;\n}\n\n.sidebar-header {\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid var(--border-color);\n  height: 60px;\n  background-color: var(--bg-color);\n}\n\n.sidebar-header img {\n  width: 24px;\n  height: 24px;\n}\n\n.sidebar-header h5 {\n  margin: 0 0 0 12px;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--text-color);\n  white-space: nowrap;\n}\n\n.sidebar-menu-container {\n  height: calc(100% - 60px);\n}\n\n.el-menu {\n  border-right: none;\n}\n\n.el-menu-item {\n  height: 50px;\n  line-height: 50px;\n}\n\n.el-menu-item .el-icon {\n  margin-right: 10px;\n  width: 24px;\n  text-align: center;\n  font-size: 18px;\n}\n</style> "],"mappings":";;EAGSA,KAAK,EAAC;AAAgB;;;;;;;;;;wCAF7BC,mBAAA,CAiCM;IAjCDD,KAAK,EAAAE,eAAA,EAAC,SAAS;MAAA,iBAA4BC,MAAA,CAAAC;IAAa;MAE3DC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFJD,mBAAA,CAA8E;IAAzEE,GAAG,EAAC,yDAAyD;IAACC,GAAG,EAAC;iBAC7DL,MAAA,CAAAC,aAAa,I,cAAvBH,mBAAA,CAAoC,MAAAQ,UAAA,EAAX,QAAM,K,iCAIjCC,YAAA,CAwBeC,uBAAA;IAxBDX,KAAK,EAAC;EAAwB;sBAC1C,MAsBU,CAtBVU,YAAA,CAsBUE,kBAAA;MArBP,gBAAc,EAAET,MAAA,CAAAU,UAAU;MAC1BC,QAAQ,GAAGX,MAAA,CAAAC,aAAa;MACxB,kBAAgB,EAAED,MAAA,CAAAY,mBAAmB;MACrC,YAAU,EAAEZ,MAAA,CAAAa,aAAa;MACzB,mBAAiB,EAAEb,MAAA,CAAAc,mBAAmB;MACtC,eAAa,EAAE,IAAI;MACpBC,MAAM,EAAN;;wBAGE,MAAuB,E,kBADzBjB,mBAAA,CAYekB,SAAA,QAAAC,WAAA,CAXGjB,MAAA,CAAAkB,MAAM,EAAfC,KAAK;6BADdC,YAAA,CAYeC,uBAAA;UAVZC,GAAG,EAAEH,KAAK,CAACI,IAAI;UACfC,KAAK,EAAEL,KAAK,CAACI,IAAI;UACjBE,OAAK,EAAAC,MAAA,IAAE1B,MAAA,CAAA2B,eAAe,CAACR,KAAK,CAACI,IAAI;;UAKvBK,KAAK,EAAAC,QAAA,CACd,MAAmC,CAAnC3B,mBAAA,CAAmC,cAAA4B,gBAAA,CAA1BX,KAAK,CAACY,IAAI,CAACH,KAAK,M;4BAJ3B,MAEU,CAFVrB,YAAA,CAEUyB,kBAAA;8BADR,MAA4D,E,cAA5DZ,YAAA,CAA4Da,wBAAA,CAA5CjC,MAAA,CAAAkC,aAAa,CAACf,KAAK,CAACY,IAAI,CAACI,IAAI,K","ignoreList":[]}]}