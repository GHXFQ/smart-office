{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\utils\\overlayCleanup.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\utils\\overlayCleanup.js","mtime":1750142138396},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7Ci8vIOi/memHjOaWsOWinuS4gOS4quW3peWFt++8jOeUqOS6juiHquWKqOa4heeQhuaui+eVmeeahCBFbGVtZW50IFBsdXMg5LiO6Ieq5a6a5LmJ6YGu572p5bGC77yIb3Zlcmxhee+8ieOAggovLyDlvZPpga7nvanlsYLnmoTpgI/mmI7luqbkuLogMOOAgWRpc3BsYXkg5Li6IG5vbmUg5oiWIHZpc2liaWxpdHkg5Li6IGhpZGRlbiDml7bvvIzor7TmmI7lroPlt7Lnu4/kuI3lj6/op4HvvIzljbTku43lgZznlZnlnKggRE9NIOS4reOAggovLyDov5nkupvkuI3lj6/op4Hpga7nvanlsYLkvJrpmLvmjKHpvKDmoIfkuovku7bvvIzpgKDmiJDlr7zoiKrmoI/mjInpkq7lgbblsJTml6Dms5Xngrnlh7vnmoTpl67popjjgIIKCmV4cG9ydCBmdW5jdGlvbiBpbml0T3ZlcmxheUF1dG9DbGVhbnVwKCkgewogIC8vIOWIqeeUqCBNdXRhdGlvbk9ic2VydmVyIOebkeaOpyBib2R5IOS4i+iKgueCueeahOWinuWKoC/lsZ7mgKflj5jljJYKICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHsKICAgIGNsZWFudXBJbnZpc2libGVPdmVybGF5cygpOwogIH0pOwogIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgY2hpbGRMaXN0OiB0cnVlLAogICAgYXR0cmlidXRlczogdHJ1ZSwKICAgIHN1YnRyZWU6IHRydWUsCiAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnc3R5bGUnLCAnY2xhc3MnXQogIH0pOwoKICAvLyDlnKjnlKjmiLfmr4/mrKHngrnlh7vpobXpnaLml7bkuZ/lsJ3or5XmuIXnkIbkuIDmrKHvvIzlj4zkv53pmakKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAvLyDlu7bov5/kuIDkuKrlro/ku7vliqHvvIzkv53or4HmraTml7bmlrDlop7nmoQgb3ZlcmxheSDog73ooqvmjZXojrcKICAgIHNldFRpbWVvdXQoY2xlYW51cEludmlzaWJsZU92ZXJsYXlzLCAwKTsKICB9LCB0cnVlKTsKfQpmdW5jdGlvbiBjbGVhbnVwSW52aXNpYmxlT3ZlcmxheXMoKSB7CiAgY29uc3Qgc2VsZWN0b3IgPSAnLmVsLW92ZXJsYXksIC5zZXR0aW5ncy1kaWFsb2ctb3ZlcmxheSc7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChlbCA9PiB7CiAgICAvLyDmjpLpmaTnnJ/mraPlj6/op4HnmoTpga7nvanlsYLvvIhvcGFjaXR5PjAg5LiUIGRpc3BsYXkhPT1ub25l77yJCiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgIGNvbnN0IGlzSGlkZGVuID0gc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnIHx8IHN0eWxlLnZpc2liaWxpdHkgPT09ICdoaWRkZW4nIHx8IHBhcnNlRmxvYXQoc3R5bGUub3BhY2l0eSkgPT09IDA7CiAgICBpZiAoaXNIaWRkZW4pIHsKICAgICAgdHJ5IHsKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgIGNvbnNvbGUud2Fybign6Ieq5Yqo5riF55CG6YGu572p5bGC5aSx6LSlOicsIGVycik7CiAgICAgIH0KICAgIH0KICB9KTsKfQ=="},{"version":3,"names":["initOverlayAutoCleanup","observer","MutationObserver","cleanupInvisibleOverlays","observe","document","body","childList","attributes","subtree","attributeFilter","window","addEventListener","setTimeout","selector","querySelectorAll","forEach","el","style","getComputedStyle","isHidden","display","visibility","parseFloat","opacity","parentNode","removeChild","err","console","warn"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/utils/overlayCleanup.js"],"sourcesContent":["// 这里新增一个工具，用于自动清理残留的 Element Plus 与自定义遮罩层（overlay）。\r\n// 当遮罩层的透明度为 0、display 为 none 或 visibility 为 hidden 时，说明它已经不可见，却仍停留在 DOM 中。\r\n// 这些不可见遮罩层会阻挡鼠标事件，造成导航栏按钮偶尔无法点击的问题。\r\n\r\nexport function initOverlayAutoCleanup() {\r\n  // 利用 MutationObserver 监控 body 下节点的增加/属性变化\r\n  const observer = new MutationObserver(() => {\r\n    cleanupInvisibleOverlays();\r\n  });\r\n\r\n  observer.observe(document.body, {\r\n    childList: true,\r\n    attributes: true,\r\n    subtree: true,\r\n    attributeFilter: ['style', 'class'],\r\n  });\r\n\r\n  // 在用户每次点击页面时也尝试清理一次，双保险\r\n  window.addEventListener(\r\n    'click',\r\n    () => {\r\n      // 延迟一个宏任务，保证此时新增的 overlay 能被捕获\r\n      setTimeout(cleanupInvisibleOverlays, 0);\r\n    },\r\n    true\r\n  );\r\n}\r\n\r\nfunction cleanupInvisibleOverlays() {\r\n  const selector = '.el-overlay, .settings-dialog-overlay';\r\n  document.querySelectorAll(selector).forEach((el) => {\r\n    // 排除真正可见的遮罩层（opacity>0 且 display!==none）\r\n    const style = window.getComputedStyle(el);\r\n    const isHidden =\r\n      style.display === 'none' ||\r\n      style.visibility === 'hidden' ||\r\n      parseFloat(style.opacity) === 0;\r\n\r\n    if (isHidden) {\r\n      try {\r\n        el.parentNode && el.parentNode.removeChild(el);\r\n      } catch (err) {\r\n        // eslint-disable-next-line no-console\r\n        console.warn('自动清理遮罩层失败:', err);\r\n      }\r\n    }\r\n  });\r\n} "],"mappings":";;AAAA;AACA;AACA;;AAEA,OAAO,SAASA,sBAAsBA,CAAA,EAAG;EACvC;EACA,MAAMC,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,MAAM;IAC1CC,wBAAwB,CAAC,CAAC;EAC5B,CAAC,CAAC;EAEFF,QAAQ,CAACG,OAAO,CAACC,QAAQ,CAACC,IAAI,EAAE;IAC9BC,SAAS,EAAE,IAAI;IACfC,UAAU,EAAE,IAAI;IAChBC,OAAO,EAAE,IAAI;IACbC,eAAe,EAAE,CAAC,OAAO,EAAE,OAAO;EACpC,CAAC,CAAC;;EAEF;EACAC,MAAM,CAACC,gBAAgB,CACrB,OAAO,EACP,MAAM;IACJ;IACAC,UAAU,CAACV,wBAAwB,EAAE,CAAC,CAAC;EACzC,CAAC,EACD,IACF,CAAC;AACH;AAEA,SAASA,wBAAwBA,CAAA,EAAG;EAClC,MAAMW,QAAQ,GAAG,uCAAuC;EACxDT,QAAQ,CAACU,gBAAgB,CAACD,QAAQ,CAAC,CAACE,OAAO,CAAEC,EAAE,IAAK;IAClD;IACA,MAAMC,KAAK,GAAGP,MAAM,CAACQ,gBAAgB,CAACF,EAAE,CAAC;IACzC,MAAMG,QAAQ,GACZF,KAAK,CAACG,OAAO,KAAK,MAAM,IACxBH,KAAK,CAACI,UAAU,KAAK,QAAQ,IAC7BC,UAAU,CAACL,KAAK,CAACM,OAAO,CAAC,KAAK,CAAC;IAEjC,IAAIJ,QAAQ,EAAE;MACZ,IAAI;QACFH,EAAE,CAACQ,UAAU,IAAIR,EAAE,CAACQ,UAAU,CAACC,WAAW,CAACT,EAAE,CAAC;MAChD,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZ;QACAC,OAAO,CAACC,IAAI,CAAC,YAAY,EAAEF,GAAG,CAAC;MACjC;IACF;EACF,CAAC,CAAC;AACJ","ignoreList":[]}]}