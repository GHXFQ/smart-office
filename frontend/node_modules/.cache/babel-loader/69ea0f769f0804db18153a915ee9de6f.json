{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\layout\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\layout\\Index.vue","mtime":1748848207772},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGNvbXB1dGVkLCBvbk1vdW50ZWQsIG9uQmVmb3JlVW5tb3VudCwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgU2lkZWJhciBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0L1NpZGViYXIudnVlJzsKaW1wb3J0IE5hdmJhciBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0L05hdmJhci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xheW91dCcsCiAgY29tcG9uZW50czogewogICAgU2lkZWJhciwKICAgIE5hdmJhcgogIH0sCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7CgogICAgLy8g6K6+5aSH57G75Z6LCiAgICBjb25zdCBkZXZpY2UgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5nZXR0ZXJzLmRldmljZSk7CgogICAgLy8g5L6n6L655qCP54q25oCBCiAgICBjb25zdCBzaWRlYmFyT3BlbmVkID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy5zaWRlYmFyLm9wZW5lZCk7CgogICAgLy8g5Yqo5oCB6K6h566X5Li75a655Zmo5qC35byPCiAgICBjb25zdCBtYWluQ29udGFpbmVyU3R5bGUgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIC8vIOS+p+i+ueagj+WxleW8gOWuveW6puS4ujE2MHB477yM5pS26LW35a695bqm5Li6NjRweAogICAgICBjb25zdCBzaWRlYmFyV2lkdGggPSBzaWRlYmFyT3BlbmVkLnZhbHVlID8gJzE2MHB4JyA6ICc2NHB4JzsKICAgICAgcmV0dXJuIHsKICAgICAgICBtYXJnaW5MZWZ0OiBzaWRlYmFyV2lkdGgsCiAgICAgICAgd2lkdGg6IGBjYWxjKDEwMCUgLSAke3NpZGViYXJXaWR0aH0pYAogICAgICB9OwogICAgfSk7CgogICAgLy8g55uR6KeG6Lev55Sx5Y+Y5YyW77yM5aSE55CG56a75byA5pm66IO95paH5qGj6aG16Z2i55qE5oOF5Ya1CiAgICB3YXRjaCgoKSA9PiByb3V0ZS5wYXRoLCAobmV3UGF0aCwgb2xkUGF0aCkgPT4gewogICAgICAvLyDlpoLmnpzmiJHku6znprvlvIDkuobmmbrog73mlofmoaPpobXpnaIKICAgICAgaWYgKG9sZFBhdGggPT09ICcvc21hcnRkb2MnICYmIG5ld1BhdGggIT09ICcvc21hcnRkb2MnKSB7CiAgICAgICAgLy8g5riF55CG5Y+v6IO95bmy5omw5a+86Iiq55qE54q25oCBCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAvLyDnp7vpmaTlj6/og73nmoTkuovku7bmi6bmiKrlmagKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbC1vdmVybGF5LCAuZWwtcG9wdXAtcGFyZW50LS1oaWRkZW4nKS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgaWYgKGVsICYmIGVsLnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5riF55CGRE9N5YWD57Sg5aSx6LSlOicsIGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgICAgLy8g5oGi5aSNYm9keeagt+W8jwogICAgICAgICAgaWYgKGRvY3VtZW50ICYmIGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5zdHlsZSkgewogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZWwtcG9wdXAtcGFyZW50LS1oaWRkZW4nKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDnoa7kv53lr7zoiKroj5zljZXlj6/ngrnlh7sKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbC1tZW51LWl0ZW0sIC5lbC1zdWJtZW51JykuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgIGlmIChlbCAmJiBlbC5zdHlsZSkgewogICAgICAgICAgICAgIC8vIOenu+mZpOWPr+iDvea3u+WKoOeahHBvaW50ZXItZXZlbnRzOiBub25lCiAgICAgICAgICAgICAgZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJzsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfQogICAgfSk7CgogICAgLy8g5ZON5bqU5byP5biD5bGAIC0g56qX5Y+j5bC65a+45Y+Y5YyW55uR5ZCsCiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7CiAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5KSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCA5OTIpIHsKICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdzZXREZXZpY2UnLCAnbW9iaWxlJyk7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgndG9nZ2xlU2lkZWJhcicsIGZhbHNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3NldERldmljZScsICdkZXNrdG9wJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgaGFuZGxlUmVzaXplKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpOwogICAgfSk7CiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4gewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZGV2aWNlLAogICAgICBtYWluQ29udGFpbmVyU3R5bGUKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["computed","onMounted","onBeforeUnmount","watch","useStore","useRoute","Sidebar","Navbar","name","components","setup","store","route","device","getters","sidebarOpened","sidebar","opened","mainContainerStyle","sidebarWidth","value","marginLeft","width","path","newPath","oldPath","setTimeout","document","querySelectorAll","forEach","el","parentNode","removeChild","e","console","error","body","style","overflow","classList","remove","pointerEvents","handleResize","clientWidth","dispatch","window","addEventListener","removeEventListener"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\layout\\Index.vue"],"sourcesContent":["<template>\n  <div class=\"app-wrapper\" :class=\"{ 'mobile': device === 'mobile' }\">\n    <!-- 侧边栏 -->\n    <Sidebar class=\"sidebar-container\" />\n    \n    <!-- 主要内容区域 -->\n    <div class=\"main-container\" :style=\"mainContainerStyle\">\n      <!-- 顶部导航栏 -->\n      <Navbar />\n      \n      <!-- 内容区域 -->\n      <div class=\"app-main\">\n        <router-view v-slot=\"{ Component }\">\n          <keep-alive :exclude=\"['SmartDoc']\">\n            <component :is=\"Component\" :key=\"$route.fullPath\" />\n          </keep-alive>\n        </router-view>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, onMounted, onBeforeUnmount, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute } from 'vue-router'\nimport Sidebar from '@/components/layout/Sidebar.vue'\nimport Navbar from '@/components/layout/Navbar.vue'\n\nexport default {\n  name: 'Layout',\n  components: {\n    Sidebar,\n    Navbar\n  },\n  setup() {\n    const store = useStore()\n    const route = useRoute()\n    \n    // 设备类型\n    const device = computed(() => store.getters.device)\n    \n    // 侧边栏状态\n    const sidebarOpened = computed(() => store.getters.sidebar.opened)\n    \n    // 动态计算主容器样式\n    const mainContainerStyle = computed(() => {\n      // 侧边栏展开宽度为160px，收起宽度为64px\n      const sidebarWidth = sidebarOpened.value ? '160px' : '64px'\n      return {\n        marginLeft: sidebarWidth,\n        width: `calc(100% - ${sidebarWidth})`\n      }\n    })\n    \n    // 监视路由变化，处理离开智能文档页面的情况\n    watch(() => route.path, (newPath, oldPath) => {\n      // 如果我们离开了智能文档页面\n      if (oldPath === '/smartdoc' && newPath !== '/smartdoc') {\n        // 清理可能干扰导航的状态\n        setTimeout(() => {\n          // 移除可能的事件拦截器\n          document.querySelectorAll('.el-overlay, .el-popup-parent--hidden').forEach(el => {\n            if (el && el.parentNode) {\n              try {\n                el.parentNode.removeChild(el);\n              } catch (e) {\n                console.error('清理DOM元素失败:', e);\n              }\n            }\n          });\n          \n          // 恢复body样式\n          if (document && document.body && document.body.style) {\n          document.body.style.overflow = '';\n          document.body.classList.remove('el-popup-parent--hidden');\n          }\n          \n          // 确保导航菜单可点击\n          document.querySelectorAll('.el-menu-item, .el-submenu').forEach(el => {\n            if (el && el.style) {\n            // 移除可能添加的pointer-events: none\n            el.style.pointerEvents = 'auto';\n            }\n          });\n        }, 100);\n      }\n    });\n    \n    // 响应式布局 - 窗口尺寸变化监听\n    const handleResize = () => {\n      if (document && document.body) {\n        if (document.body.clientWidth < 992) {\n          store.dispatch('setDevice', 'mobile')\n          store.dispatch('toggleSidebar', false)\n        } else {\n          store.dispatch('setDevice', 'desktop')\n        }\n      }\n    }\n    \n    onMounted(() => {\n      handleResize()\n      window.addEventListener('resize', handleResize)\n    })\n    \n    onBeforeUnmount(() => {\n      window.removeEventListener('resize', handleResize)\n    })\n    \n    return {\n      device,\n      mainContainerStyle\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-wrapper {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n}\n\n.sidebar-container {\n  transition: width 0.28s;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n}\n\n.main-container {\n  min-height: 100%;\n  transition: margin-left 0.28s;\n  position: relative;\n  padding-top: 60px; /* 为固定导航栏腾出空间 */\n  overflow: auto; /* 允许主内容区出现滚动条 */\n  display: flex;\n  flex-direction: column;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n}\n\n.app-main {\n  flex: 1;\n  width: 100%;\n  position: relative;\n  overflow: auto;\n  padding: 0;\n  height: 100%;\n  background-color: var(--bg-color);\n}\n\n/* 增强过渡动画效果 */\n.fade-transform-enter-active,\n.fade-transform-leave-active {\n  transition: all 0.3s;\n}\n\n.fade-transform-enter-from {\n  opacity: 0;\n  transform: translateX(30px);\n}\n\n.fade-transform-leave-to {\n  opacity: 0;\n  transform: translateX(-30px);\n}\n\n/* 备用过渡动画，确保动画效果一定生效 */\n.v-enter-active,\n.v-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n  opacity: 0;\n}\n\n.app-wrapper.mobile .sidebar-container {\n  transition: transform .28s;\n  width: 180px !important;\n}\n\n.app-wrapper.mobile .main-container {\n  margin-left: 0 !important;\n  width: 100% !important;\n}\n\n.app-wrapper.mobile .sidebar-container.is-collapsed {\n  transform: translateX(-200px);\n}\n</style> "],"mappings":";;AAuBA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAEC,KAAI,QAAS,KAAI;AAChE,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,QAAO,QAAS,YAAW;AACpC,OAAOC,OAAM,MAAO,iCAAgC;AACpD,OAAOC,MAAK,MAAO,gCAA+B;AAElD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IACVH,OAAO;IACPC;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIP,QAAQ,CAAC;IACvB,MAAMQ,KAAI,GAAIP,QAAQ,CAAC;;IAEvB;IACA,MAAMQ,MAAK,GAAIb,QAAQ,CAAC,MAAMW,KAAK,CAACG,OAAO,CAACD,MAAM;;IAElD;IACA,MAAME,aAAY,GAAIf,QAAQ,CAAC,MAAMW,KAAK,CAACG,OAAO,CAACE,OAAO,CAACC,MAAM;;IAEjE;IACA,MAAMC,kBAAiB,GAAIlB,QAAQ,CAAC,MAAM;MACxC;MACA,MAAMmB,YAAW,GAAIJ,aAAa,CAACK,KAAI,GAAI,OAAM,GAAI,MAAK;MAC1D,OAAO;QACLC,UAAU,EAAEF,YAAY;QACxBG,KAAK,EAAE,eAAeH,YAAY;MACpC;IACF,CAAC;;IAED;IACAhB,KAAK,CAAC,MAAMS,KAAK,CAACW,IAAI,EAAE,CAACC,OAAO,EAAEC,OAAO,KAAK;MAC5C;MACA,IAAIA,OAAM,KAAM,WAAU,IAAKD,OAAM,KAAM,WAAW,EAAE;QACtD;QACAE,UAAU,CAAC,MAAM;UACf;UACAC,QAAQ,CAACC,gBAAgB,CAAC,uCAAuC,CAAC,CAACC,OAAO,CAACC,EAAC,IAAK;YAC/E,IAAIA,EAAC,IAAKA,EAAE,CAACC,UAAU,EAAE;cACvB,IAAI;gBACFD,EAAE,CAACC,UAAU,CAACC,WAAW,CAACF,EAAE,CAAC;cAC/B,EAAE,OAAOG,CAAC,EAAE;gBACVC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEF,CAAC,CAAC;cAChC;YACF;UACF,CAAC,CAAC;;UAEF;UACA,IAAIN,QAAO,IAAKA,QAAQ,CAACS,IAAG,IAAKT,QAAQ,CAACS,IAAI,CAACC,KAAK,EAAE;YACtDV,QAAQ,CAACS,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,EAAE;YACjCX,QAAQ,CAACS,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,yBAAyB,CAAC;UACzD;;UAEA;UACAb,QAAQ,CAACC,gBAAgB,CAAC,4BAA4B,CAAC,CAACC,OAAO,CAACC,EAAC,IAAK;YACpE,IAAIA,EAAC,IAAKA,EAAE,CAACO,KAAK,EAAE;cACpB;cACAP,EAAE,CAACO,KAAK,CAACI,aAAY,GAAI,MAAM;YAC/B;UACF,CAAC,CAAC;QACJ,CAAC,EAAE,GAAG,CAAC;MACT;IACF,CAAC,CAAC;;IAEF;IACA,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACzB,IAAIf,QAAO,IAAKA,QAAQ,CAACS,IAAI,EAAE;QAC7B,IAAIT,QAAQ,CAACS,IAAI,CAACO,WAAU,GAAI,GAAG,EAAE;UACnChC,KAAK,CAACiC,QAAQ,CAAC,WAAW,EAAE,QAAQ;UACpCjC,KAAK,CAACiC,QAAQ,CAAC,eAAe,EAAE,KAAK;QACvC,OAAO;UACLjC,KAAK,CAACiC,QAAQ,CAAC,WAAW,EAAE,SAAS;QACvC;MACF;IACF;IAEA3C,SAAS,CAAC,MAAM;MACdyC,YAAY,CAAC;MACbG,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEJ,YAAY;IAChD,CAAC;IAEDxC,eAAe,CAAC,MAAM;MACpB2C,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEL,YAAY;IACnD,CAAC;IAED,OAAO;MACL7B,MAAM;MACNK;IACF;EACF;AACF","ignoreList":[]}]}