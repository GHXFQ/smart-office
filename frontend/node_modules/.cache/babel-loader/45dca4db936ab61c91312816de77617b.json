{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\contract\\Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\contract\\Detail.vue","mtime":1747483945707},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgeyByZWYsIHJlYWN0aXZlLCBvbk1vdW50ZWQsIGNvbXB1dGVkLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlLCB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgRWxNZXNzYWdlLCBFbExvYWRpbmcsIEVsTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IFByaW50ZXIsIERvd25sb2FkLCBEb2N1bWVudEFkZCwgTWFnaWNTdGljaywgQ2hlY2ssIFdhcm5pbmcsIFdhcm5pbmdGaWxsZWQsIERvY3VtZW50LCBJbmZvRmlsbGVkLCBFZGl0LCBSZWFkaW5nLCBDbG9zZSB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKaW1wb3J0IHsgZ2V0Q29udHJhY3REZXRhaWwsIHVwZGF0ZUNvbnRyYWN0LCBjaGVja0NvbnRyYWN0LCBhaVBvbGlzaENvbnRyYWN0IH0gZnJvbSAnQC9hcGkvY29udHJhY3QnOwovLyDlvJXlhaXlr4zmlofmnKznvJbovpHlmagKaW1wb3J0IHsgUXVpbGxFZGl0b3IgfSBmcm9tICdAdnVldXAvdnVlLXF1aWxsJzsKLy8g5byV5YWl5a+M5paH5pys57yW6L6R5Zmo5qC35byPCmltcG9ydCAnQHZ1ZXVwL3Z1ZS1xdWlsbC9kaXN0L3Z1ZS1xdWlsbC5zbm93LmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29udHJhY3REZXRhaWwnLAogIGNvbXBvbmVudHM6IHsKICAgIFF1aWxsRWRpdG9yLAogICAgUHJpbnRlciwKICAgIERvd25sb2FkLAogICAgRG9jdW1lbnRBZGQsCiAgICBNYWdpY1N0aWNrLAogICAgQ2hlY2ssCiAgICBXYXJuaW5nLAogICAgV2FybmluZ0ZpbGxlZCwKICAgIERvY3VtZW50LAogICAgSW5mb0ZpbGxlZCwKICAgIEVkaXQsCiAgICBSZWFkaW5nLAogICAgQ2xvc2UKICB9LAogIHNldHVwKCkgewogICAgY29uc3Qgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICBjb25zdCBjb250cmFjdElkID0gcm91dGUucGFyYW1zLmlkOwogICAgY29uc3QgYWN0aXZlVGFiID0gcmVmKCdiYXNpY0luZm8nKTsKICAgIGNvbnN0IGFjdGl2ZUNvbGxhcHNlID0gcmVmKFsnbGVnYWxDb21wbGlhbmNlJ10pOwogICAgY29uc3QgYWN0aXZlU3VnZ2VzdGlvbkNvbGxhcHNlID0gcmVmKFsnc3ludGF4JywgJ3Rlcm1pbm9sb2d5J10pOwogICAgY29uc3QgaXNDaGVja2luZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBxdWlsbEVkaXRvciA9IHJlZihudWxsKTsKICAgIGNvbnN0IHNob3dBaVN1Z2dlc3Rpb25zID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGlzTG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBpc1NhdmluZyA9IHJlZihmYWxzZSk7CgogICAgLy8g5a+M5paH5pys57yW6L6R5Zmo6YWN572uCiAgICBjb25zdCBlZGl0b3JPcHRpb24gPSB7CiAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5ZCI5ZCM5YaF5a65JywKICAgICAgbW9kdWxlczogewogICAgICAgIHRvb2xiYXI6IFtbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwgWydibG9ja3F1b3RlJywgJ2NvZGUtYmxvY2snXSwgW3sKICAgICAgICAgICdoZWFkZXInOiAxCiAgICAgICAgfSwgewogICAgICAgICAgJ2hlYWRlcic6IDIKICAgICAgICB9XSwgW3sKICAgICAgICAgICdsaXN0JzogJ29yZGVyZWQnCiAgICAgICAgfSwgewogICAgICAgICAgJ2xpc3QnOiAnYnVsbGV0JwogICAgICAgIH1dLCBbewogICAgICAgICAgJ3NjcmlwdCc6ICdzdWInCiAgICAgICAgfSwgewogICAgICAgICAgJ3NjcmlwdCc6ICdzdXBlcicKICAgICAgICB9XSwgW3sKICAgICAgICAgICdpbmRlbnQnOiAnLTEnCiAgICAgICAgfSwgewogICAgICAgICAgJ2luZGVudCc6ICcrMScKICAgICAgICB9XSwgW3sKICAgICAgICAgICdkaXJlY3Rpb24nOiAncnRsJwogICAgICAgIH1dLCBbewogICAgICAgICAgJ3NpemUnOiBbJ3NtYWxsJywgZmFsc2UsICdsYXJnZScsICdodWdlJ10KICAgICAgICB9XSwgW3sKICAgICAgICAgICdoZWFkZXInOiBbMSwgMiwgMywgNCwgNSwgNiwgZmFsc2VdCiAgICAgICAgfV0sIFt7CiAgICAgICAgICAnY29sb3InOiBbXQogICAgICAgIH0sIHsKICAgICAgICAgICdiYWNrZ3JvdW5kJzogW10KICAgICAgICB9XSwgW3sKICAgICAgICAgICdmb250JzogW10KICAgICAgICB9XSwgW3sKICAgICAgICAgICdhbGlnbic6IFtdCiAgICAgICAgfV0sIFsnY2xlYW4nXV0KICAgICAgfQogICAgfTsKCiAgICAvLyDlkIjlkIzor6bmg4XmlbDmja4KICAgIGNvbnN0IGNvbnRyYWN0RGV0YWlscyA9IHJlYWN0aXZlKHsKICAgICAgaWQ6IGNvbnRyYWN0SWQsCiAgICAgIG51bWJlcjogJycsCiAgICAgIHRpdGxlOiAnJywKICAgICAgdHlwZTogJycsCiAgICAgIGFtb3VudDogJycsCiAgICAgIGNvbXBhbnk6ICcnLAogICAgICBzaWduRGF0ZTogJycsCiAgICAgIHN0YXJ0RGF0ZTogJycsCiAgICAgIGV4cGlyZURhdGU6ICcnLAogICAgICBjb250ZW50OiAnJywKICAgICAgc3RhdHVzOiAnJywKICAgICAgY3JlYXRlZF9ieTogbnVsbCwKICAgICAgY3JlYXRlZF9hdDogJycsCiAgICAgIHVwZGF0ZWRfYXQ6ICcnLAogICAgICBhdHRhY2htZW50czogW10sCiAgICAgIGFjdGlvbnM6IFtdCiAgICB9KTsKCiAgICAvLyDorqHnrpflkIjlkIzmoIfpopgKICAgIGNvbnN0IGNvbnRyYWN0VGl0bGUgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBjb250cmFjdERldGFpbHMudGl0bGUgPyBg5ZCI5ZCM6K+m5oOFOiAke2NvbnRyYWN0RGV0YWlscy5udW1iZXJ9YCA6ICfliqDovb3kuK0uLi4nOwogICAgfSk7CgogICAgLy8g5ZCI5ZCM5qOA5p+l57uT5p6cCiAgICBjb25zdCBjaGVja1Jlc3VsdCA9IHJlYWN0aXZlKHsKICAgICAgdG90YWxJc3N1ZXM6IDAsCiAgICAgIGNyaXRpY2FsSXNzdWVzOiAwLAogICAgICB3YXJuaW5nSXNzdWVzOiAwLAogICAgICBzdWdnZXN0aW9uczogMCwKICAgICAgbGVnYWxDb21wbGlhbmNlSXNzdWVzOiBbXSwKICAgICAgY29tcGxldGVuZXNzSXNzdWVzOiBbXSwKICAgICAgcmlza0FsZXJ0czogW10KICAgIH0pOwoKICAgIC8vIEFJ5bu66K6uCiAgICBjb25zdCBhaVN1Z2dlc3Rpb25zID0gcmVhY3RpdmUoewogICAgICBzeW50YXg6IFtdLAogICAgICB0ZXJtaW5vbG9neTogW10KICAgIH0pOwoKICAgIC8vIOaTjeS9nOWOhuWPsiAtIOS7juWQiOWQjGFjdGlvbnPkuK3ojrflj5YKICAgIGNvbnN0IGNvbnRyYWN0SGlzdG9yeSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgdmFyIF9jb250cmFjdERldGFpbHMkYWN0aTsKICAgICAgcmV0dXJuICgoX2NvbnRyYWN0RGV0YWlscyRhY3RpID0gY29udHJhY3REZXRhaWxzLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb250cmFjdERldGFpbHMkYWN0aSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbnRyYWN0RGV0YWlscyRhY3RpLm1hcChhY3Rpb24gPT4gewogICAgICAgIHZhciBfYWN0aW9uJHVzZXI7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRpbWU6IGFjdGlvbi5jcmVhdGVkX2F0LAogICAgICAgICAgY29udGVudDogYCR7KChfYWN0aW9uJHVzZXIgPSBhY3Rpb24udXNlcikgPT09IG51bGwgfHwgX2FjdGlvbiR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWN0aW9uJHVzZXIudXNlcm5hbWUpIHx8ICfns7vnu58nfSAke2FjdGlvbi5kZXNjcmlwdGlvbn1gCiAgICAgICAgfTsKICAgICAgfSkpIHx8IFtdOwogICAgfSk7CgogICAgLy8g6I635Y+W5ZCI5ZCM6K+m5oOFCiAgICBjb25zdCBnZXRDb250cmFjdERldGFpbHMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g5qOA5p+lY29udHJhY3RJZOaYr+WQpuacieaViAogICAgICAgIGlmICghY29udHJhY3RJZCB8fCBjb250cmFjdElkID09PSAnY29udHJhY3QnIHx8IGlzTmFOKGNvbnRyYWN0SWQpKSB7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+aXoOaViOeahOWQiOWQjElEJyk7CiAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdDb250cmFjdCcKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q29udHJhY3REZXRhaWwoY29udHJhY3RJZCk7CgogICAgICAgIC8vIOWhq+WFheWQiOWQjOivpuaDhQogICAgICAgIE9iamVjdC5rZXlzKGNvbnRyYWN0RGV0YWlscykuZm9yRWFjaChrZXkgPT4gewogICAgICAgICAgaWYgKGtleSBpbiByZXNwb25zZSkgewogICAgICAgICAgICBjb250cmFjdERldGFpbHNba2V5XSA9IHJlc3BvbnNlW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIOeJueauiuWkhOeQhmNvbnRlbnTlrZfmrrUKICAgICAgICBpZiAocmVzcG9uc2UuY29udGVudCkgewogICAgICAgICAgY29udHJhY3REZXRhaWxzLmNvbnRlbnQgPSByZXNwb25zZS5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDpu5jorqTlhoXlrrkKICAgICAgICAgIGNvbnRyYWN0RGV0YWlscy5jb250ZW50ID0gYDxwPui/memHjOaYr+WQiOWQjOaWh+acrOWGheWuue+8jOivt+e8lui+kS4uLjwvcD4KPHA+PHN0cm9uZz7nlLLmlrnvvJo8L3N0cm9uZz7miJHmlrnlhazlj7jlkI3np7A8L3A+CjxwPjxzdHJvbmc+5LmZ5pa577yaPC9zdHJvbmc+JHtjb250cmFjdERldGFpbHMuY29tcGFueSB8fCAn5a+55pa55YWs5Y+4J308L3A+CjxwPi4uLjwvcD5gOwogICAgICAgIH0KCiAgICAgICAgLy8g6L2s5o2i5pel5pyf5qC85byPCiAgICAgICAgaWYgKHJlc3BvbnNlLnNpZ25fZGF0ZSkgY29udHJhY3REZXRhaWxzLnNpZ25EYXRlID0gcmVzcG9uc2Uuc2lnbl9kYXRlOwogICAgICAgIGlmIChyZXNwb25zZS5zdGFydF9kYXRlKSBjb250cmFjdERldGFpbHMuc3RhcnREYXRlID0gcmVzcG9uc2Uuc3RhcnRfZGF0ZTsKICAgICAgICBpZiAocmVzcG9uc2UuZXhwaXJlX2RhdGUpIGNvbnRyYWN0RGV0YWlscy5leHBpcmVEYXRlID0gcmVzcG9uc2UuZXhwaXJlX2RhdGU7CgogICAgICAgIC8vIOagvOW8j+WMlumHkeminQogICAgICAgIGlmIChyZXNwb25zZS5hbW91bnQpIHsKICAgICAgICAgIGNvbnRyYWN0RGV0YWlscy5hbW91bnQgPSBOdW1iZXIocmVzcG9uc2UuYW1vdW50KS50b0xvY2FsZVN0cmluZygnemgtQ04nKTsKICAgICAgICB9CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+WQiOWQjOivpuaDheWKoOi9veaIkOWKnycpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veWQiOWQjOivpuaDheWksei0pTonLCBlcnJvcik7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3lkIjlkIzor6bmg4XlpLHotKXvvIzor7fnqI3lkI7ph43or5UnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpc0xvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICAvLyDov5Tlm57liJfooagKICAgIGNvbnN0IGdvQmFjayA9ICgpID0+IHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdDb250cmFjdCcKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOS/neWtmOabtOaUuQogICAgY29uc3Qgc2F2ZUNoYW5nZXMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgaXNTYXZpbmcudmFsdWUgPSB0cnVlOwogICAgICAgIGNvbnN0IGxvYWRpbmcgPSBFbExvYWRpbmcuc2VydmljZSh7CiAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgdGV4dDogJ+S/neWtmOS4rS4uLicsCiAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgICAgIH0pOwoKICAgICAgICAvLyDlh4blpIfmm7TmlrDmlbDmja4KICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gewogICAgICAgICAgdGl0bGU6IGNvbnRyYWN0RGV0YWlscy50aXRsZSwKICAgICAgICAgIHR5cGU6IGNvbnRyYWN0RGV0YWlscy50eXBlLAogICAgICAgICAgYW1vdW50OiBjb250cmFjdERldGFpbHMuYW1vdW50LnJlcGxhY2UoL1teXGQuXS9nLCAnJyksCiAgICAgICAgICBjb21wYW55OiBjb250cmFjdERldGFpbHMuY29tcGFueSwKICAgICAgICAgIHNpZ25fZGF0ZTogY29udHJhY3REZXRhaWxzLnNpZ25EYXRlLAogICAgICAgICAgc3RhcnRfZGF0ZTogY29udHJhY3REZXRhaWxzLnN0YXJ0RGF0ZSwKICAgICAgICAgIGV4cGlyZV9kYXRlOiBjb250cmFjdERldGFpbHMuZXhwaXJlRGF0ZSwKICAgICAgICAgIGNvbnRlbnQ6IGNvbnRyYWN0RGV0YWlscy5jb250ZW50CiAgICAgICAgfTsKCiAgICAgICAgLy8g6LCD55SoQVBJ5L+d5a2Y5pu05pawCiAgICAgICAgYXdhaXQgdXBkYXRlQ29udHJhY3QoY29udHJhY3RJZCwgdXBkYXRlRGF0YSk7CiAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+WQiOWQjOabtOaUueW3suS/neWtmCcpOwoKICAgICAgICAvLyDph43mlrDojrflj5bmnIDmlrDmlbDmja4KICAgICAgICBhd2FpdCBnZXRDb250cmFjdERldGFpbHMoKTsKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5L+d5a2Y5ZCI5ZCM5pu05pS55aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+S/neWtmOWksei0pe+8jOivt+ajgOafpei+k+WFpeWGheWuuScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGlzU2F2aW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CgogICAgLy8g5byA5aeL5ZCI5ZCM5qOA5p+lCiAgICBjb25zdCBzdGFydENvbnRyYWN0Q2hlY2sgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgaXNDaGVja2luZy52YWx1ZSA9IHRydWU7CgogICAgICAgIC8vIOiwg+eUqEFJ5qOA5p+lQVBJCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb250cmFjdChjb250cmFjdElkKTsKCiAgICAgICAgLy8g5pu05paw5qOA5p+l57uT5p6cCiAgICAgICAgT2JqZWN0LmtleXMoY2hlY2tSZXN1bHQpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgIGlmIChrZXkgaW4gcmVzdWx0KSB7CiAgICAgICAgICAgIGNoZWNrUmVzdWx0W2tleV0gPSByZXN1bHRba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5ZCI5ZCM5qOA5p+l5a6M5oiQJyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5ZCI5ZCM5qOA5p+l5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WQiOWQjOajgOafpeWksei0pe+8jOivt+eojeWQjumHjeivlScpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGlzQ2hlY2tpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICAvLyDmmL7npLpBSeW7uuiurumdouadvwogICAgY29uc3Qgc2hvd0FpUGFuZWwgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbG9hZGluZyA9IEVsTG9hZGluZy5zZXJ2aWNlKHsKICAgICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgICB0ZXh0OiAnQUnliIbmnpDkuK0uLi4nLAogICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KScKICAgICAgICB9KTsKCiAgICAgICAgLy8g6LCD55SoQUnmtqboibJBUEkKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhaVBvbGlzaENvbnRyYWN0KGNvbnRyYWN0SWQpOwoKICAgICAgICAvLyDmm7TmlrBBSeW7uuiurgogICAgICAgIGlmIChyZXN1bHQuc3ludGF4KSBhaVN1Z2dlc3Rpb25zLnN5bnRheCA9IHJlc3VsdC5zeW50YXg7CiAgICAgICAgaWYgKHJlc3VsdC50ZXJtaW5vbG9neSkgYWlTdWdnZXN0aW9ucy50ZXJtaW5vbG9neSA9IHJlc3VsdC50ZXJtaW5vbG9neTsKICAgICAgICBzaG93QWlTdWdnZXN0aW9ucy52YWx1ZSA9IHRydWU7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FJ5ram6Imy5YiG5p6Q5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ0FJ5ram6Imy5YiG5p6Q5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VJyk7CiAgICAgIH0KICAgIH07CgogICAgLy8g6ZqQ6JePQUnlu7rorq7pnaLmnb8KICAgIGNvbnN0IGhpZGVBaVBhbmVsID0gKCkgPT4gewogICAgICBzaG93QWlTdWdnZXN0aW9ucy52YWx1ZSA9IGZhbHNlOwogICAgfTsKCiAgICAvLyDph4fnurNBSeW7uuiurgogICAgY29uc3QgYWRvcHRTdWdnZXN0aW9uID0gKHR5cGUsIGluZGV4KSA9PiB7CiAgICAgIGNvbnN0IHN1Z2dlc3Rpb24gPSBhaVN1Z2dlc3Rpb25zW3R5cGVdW2luZGV4XTsKICAgICAgaWYgKHF1aWxsRWRpdG9yLnZhbHVlICYmIHN1Z2dlc3Rpb24pIHsKICAgICAgICBjb25zdCBlZGl0b3IgPSBxdWlsbEVkaXRvci52YWx1ZS5xdWlsbDsKICAgICAgICBjb25zdCBjb250ZW50ID0gZWRpdG9yLmdldFRleHQoKTsKCiAgICAgICAgLy8g5p+l5om+5paH5pys5bm25pu/5o2iCiAgICAgICAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoc3VnZ2VzdGlvbi5vcmlnaW5hbCkpIHsKICAgICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBjb250ZW50LmluZGV4T2Yoc3VnZ2VzdGlvbi5vcmlnaW5hbCk7CiAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBzdWdnZXN0aW9uLm9yaWdpbmFsLmxlbmd0aDsKICAgICAgICAgIGVkaXRvci5kZWxldGVUZXh0KHN0YXJ0SW5kZXgsIHN1Z2dlc3Rpb24ub3JpZ2luYWwubGVuZ3RoKTsKICAgICAgICAgIGVkaXRvci5pbnNlcnRUZXh0KHN0YXJ0SW5kZXgsIHN1Z2dlc3Rpb24uc3VnZ2VzdGVkKTsKCiAgICAgICAgICAvLyDnp7vpmaTmraTlu7rorq4KICAgICAgICAgIGFpU3VnZ2VzdGlvbnNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCflt7Lph4fnurPlu7rorq4nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoJ+aXoOazleaJvuWIsOWMuemFjeeahOaWh+acrCcpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICAvLyDlv73nlaVBSeW7uuiurgogICAgY29uc3QgaWdub3JlU3VnZ2VzdGlvbiA9ICh0eXBlLCBpbmRleCkgPT4gewogICAgICBhaVN1Z2dlc3Rpb25zW3R5cGVdLnNwbGljZShpbmRleCwgMSk7CiAgICAgIEVsTWVzc2FnZS5pbmZvKCflt7Llv73nlaXlu7rorq4nKTsKICAgIH07CgogICAgLy8g5bqU55So5omA5pyJ6YeH57qz55qE5bu66K6uCiAgICBjb25zdCBhcHBseUFsbFN1Z2dlc3Rpb25zID0gYXN5bmMgKCkgPT4gewogICAgICAvLyDlnKjlrp7pmYXpobnnm67kuK3vvIzlj6/og73pnIDopoHlkJHlkI7nq6/lj5HpgIHor7fmsYIKICAgICAgaGlkZUFpUGFuZWwoKTsKICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+W3suW6lOeUqOaJgOaciemHh+e6s+eahOW7uuiuricpOwoKICAgICAgLy8g5L+d5a2Y5pu05pS5CiAgICAgIGF3YWl0IHNhdmVDaGFuZ2VzKCk7CiAgICB9OwoKICAgIC8vIOS4i+i9veWQiOWQjAogICAgY29uc3QgZG93bmxvYWRDb250cmFjdCA9ICgpID0+IHsKICAgICAgRWxNZXNzYWdlQm94LmFsZXJ0KCflsIbnlJ/miJDlkIjlkIxQREbmlofku7blubbkuIvovb0nLCAn5Yqf6IO95o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn55+l6YGT5LqGJywKICAgICAgICB0eXBlOiAnaW5mbycKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOaJk+WNsOWQiOWQjAogICAgY29uc3QgcHJpbnRDb250cmFjdCA9ICgpID0+IHsKICAgICAgd2luZG93LnByaW50KCk7CiAgICB9OwoKICAgIC8vIOebkeWQrOi3r+eUseWPmOWMlu+8jOmHjeaWsOWKoOi9veaVsOaNrgogICAgd2F0Y2goKCkgPT4gcm91dGUucGFyYW1zLmlkLCBuZXdJZCA9PiB7CiAgICAgIGlmIChuZXdJZCAmJiBuZXdJZCAhPT0gY29udHJhY3RJZCkgewogICAgICAgIGNvbnRyYWN0SWQudmFsdWUgPSBuZXdJZDsKICAgICAgICBnZXRDb250cmFjdERldGFpbHMoKTsKICAgICAgfQogICAgfSk7CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBnZXRDb250cmFjdERldGFpbHMoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlVGFiLAogICAgICBhY3RpdmVDb2xsYXBzZSwKICAgICAgYWN0aXZlU3VnZ2VzdGlvbkNvbGxhcHNlLAogICAgICBjb250cmFjdElkLAogICAgICBjb250cmFjdERldGFpbHMsCiAgICAgIGNvbnRyYWN0VGl0bGUsCiAgICAgIGNoZWNrUmVzdWx0LAogICAgICBhaVN1Z2dlc3Rpb25zLAogICAgICBjb250cmFjdEhpc3RvcnksCiAgICAgIHF1aWxsRWRpdG9yLAogICAgICBlZGl0b3JPcHRpb24sCiAgICAgIHNob3dBaVN1Z2dlc3Rpb25zLAogICAgICBnb0JhY2ssCiAgICAgIHNhdmVDaGFuZ2VzLAogICAgICBpc0xvYWRpbmcsCiAgICAgIGlzU2F2aW5nLAogICAgICBpc0NoZWNraW5nLAogICAgICBzdGFydENvbnRyYWN0Q2hlY2ssCiAgICAgIHNob3dBaVBhbmVsLAogICAgICBoaWRlQWlQYW5lbCwKICAgICAgYWRvcHRTdWdnZXN0aW9uLAogICAgICBpZ25vcmVTdWdnZXN0aW9uLAogICAgICBhcHBseUFsbFN1Z2dlc3Rpb25zLAogICAgICBwcmludENvbnRyYWN0LAogICAgICBkb3dubG9hZENvbnRyYWN0CiAgICB9OwogIH0KfTs="},{"version":3,"names":["ref","reactive","onMounted","computed","watch","useRoute","useRouter","ElMessage","ElLoading","ElMessageBox","Printer","Download","DocumentAdd","MagicStick","Check","Warning","WarningFilled","Document","InfoFilled","Edit","Reading","Close","getContractDetail","updateContract","checkContract","aiPolishContract","QuillEditor","name","components","setup","route","router","contractId","params","id","activeTab","activeCollapse","activeSuggestionCollapse","isChecking","quillEditor","showAiSuggestions","isLoading","isSaving","editorOption","placeholder","modules","toolbar","contractDetails","number","title","type","amount","company","signDate","startDate","expireDate","content","status","created_by","created_at","updated_at","attachments","actions","contractTitle","checkResult","totalIssues","criticalIssues","warningIssues","suggestions","legalComplianceIssues","completenessIssues","riskAlerts","aiSuggestions","syntax","terminology","contractHistory","_contractDetails$acti","map","action","_action$user","time","user","username","description","getContractDetails","isNaN","error","push","value","response","Object","keys","forEach","key","sign_date","start_date","expire_date","Number","toLocaleString","success","console","goBack","saveChanges","loading","service","lock","text","background","updateData","replace","close","startContractCheck","result","showAiPanel","hideAiPanel","adoptSuggestion","index","suggestion","editor","quill","getText","includes","original","startIndex","indexOf","endIndex","length","deleteText","insertText","suggested","splice","warning","ignoreSuggestion","info","applyAllSuggestions","downloadContract","alert","confirmButtonText","printContract","window","print","newId"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\contract\\Detail.vue"],"sourcesContent":["<template>\r\n  <div class=\"contract-detail-container\">\r\n    <div class=\"card\" v-loading=\"isLoading\">\r\n      <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n        <span id=\"contractTitleHeader\">{{ contractTitle }}</span>\r\n        <div>\r\n          <el-button type=\"default\" size=\"small\" class=\"me-2\" @click=\"printContract\">\r\n            <el-icon><Printer /></el-icon> 打印\r\n          </el-button>\r\n          <el-button type=\"default\" size=\"small\" class=\"me-2\" @click=\"downloadContract\">\r\n            <el-icon><Download /></el-icon> 下载\r\n          </el-button>\r\n          <el-button \r\n            type=\"primary\" \r\n            size=\"small\" \r\n            @click=\"saveChanges\" \r\n            :loading=\"isSaving\"\r\n          >\r\n            <el-icon><DocumentAdd /></el-icon> 保存更改\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <el-tabs v-model=\"activeTab\" class=\"contract-detail-tabs\">\r\n          <el-tab-pane label=\"基本信息\" name=\"basicInfo\">\r\n            <h5>基本信息</h5>\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-md-6\">\r\n                <el-form label-position=\"top\">\r\n                  <el-form-item label=\"合同名称\">\r\n                    <el-input v-model=\"contractDetails.title\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"合同编号\">\r\n                    <el-input v-model=\"contractDetails.number\" disabled></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"合同类型\">\r\n                    <el-select v-model=\"contractDetails.type\" style=\"width: 100%;\">\r\n                      <el-option label=\"采购合同\" value=\"采购合同\"></el-option>\r\n                      <el-option label=\"销售合同\" value=\"销售合同\"></el-option>\r\n                      <el-option label=\"服务合同\" value=\"服务合同\"></el-option>\r\n                      <el-option label=\"合作协议\" value=\"合作协议\"></el-option>\r\n                      <el-option label=\"租赁合同\" value=\"租赁合同\"></el-option>\r\n                      <el-option label=\"其他\" value=\"其他\"></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"合同金额\">\r\n                    <el-input v-model=\"contractDetails.amount\" prefix=\"¥\"></el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <el-form label-position=\"top\">\r\n                  <el-form-item label=\"签约对方\">\r\n                    <el-input v-model=\"contractDetails.company\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"签约日期\">\r\n                    <el-date-picker \r\n                      v-model=\"contractDetails.signDate\" \r\n                      type=\"date\" \r\n                      style=\"width: 100%;\">\r\n                    </el-date-picker>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"生效日期\">\r\n                    <el-date-picker \r\n                      v-model=\"contractDetails.startDate\" \r\n                      type=\"date\" \r\n                      style=\"width: 100%;\">\r\n                    </el-date-picker>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"到期日期\">\r\n                    <el-date-picker \r\n                      v-model=\"contractDetails.expireDate\" \r\n                      type=\"date\" \r\n                      style=\"width: 100%;\">\r\n                    </el-date-picker>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n\r\n          <el-tab-pane label=\"合同文本\" name=\"contractText\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n              <h5>合同文本编辑</h5>\r\n              <el-button type=\"primary\" size=\"small\" @click=\"showAiPanel\">\r\n                <el-icon><MagicStick /></el-icon> AI 智能润色\r\n              </el-button>\r\n            </div>\r\n            <QuillEditor\r\n              v-model:content=\"contractDetails.content\"\r\n              ref=\"quillEditor\"\r\n              :toolbar=\"editorOption.modules.toolbar\"\r\n              contentType=\"html\"\r\n              class=\"contract-text-editor\"\r\n              theme=\"snow\"\r\n            />\r\n          </el-tab-pane>\r\n\r\n          <el-tab-pane label=\"合同检查\" name=\"contractCheck\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n              <h5>合同检查审核</h5>\r\n              <el-button type=\"primary\" size=\"small\" @click=\"startContractCheck\" :loading=\"isChecking\">\r\n                <el-icon><Check /></el-icon> {{ isChecking ? '检查中...' : '开始检查' }}\r\n              </el-button>\r\n            </div>\r\n\r\n            <div class=\"card mb-3\">\r\n              <div class=\"card-header bg-light\">\r\n                <h6 class=\"mb-0\">检查结果概览</h6>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-3\">\r\n                    <div class=\"text-center p-3 border rounded\">\r\n                      <h3 class=\"text-primary mb-0\">{{ checkResult.totalIssues }}</h3>\r\n                      <small class=\"text-muted\">发现问题</small>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-3\">\r\n                    <div class=\"text-center p-3 border rounded\">\r\n                      <h3 class=\"text-danger mb-0\">{{ checkResult.criticalIssues }}</h3>\r\n                      <small class=\"text-muted\">严重问题</small>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-3\">\r\n                    <div class=\"text-center p-3 border rounded\">\r\n                      <h3 class=\"text-warning mb-0\">{{ checkResult.warningIssues }}</h3>\r\n                      <small class=\"text-muted\">警告</small>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-3\">\r\n                    <div class=\"text-center p-3 border rounded\">\r\n                      <h3 class=\"text-success mb-0\">{{ checkResult.suggestions }}</h3>\r\n                      <small class=\"text-muted\">建议</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <el-collapse v-model=\"activeCollapse\">\r\n              <el-collapse-item title=\"法律合规性\" name=\"legalCompliance\">\r\n                <template #title>\r\n                  <span><el-icon class=\"me-1\"><Warning /></el-icon> 法律合规性</span>\r\n                  <el-badge :value=\"checkResult.legalComplianceIssues.length\" type=\"danger\" class=\"ms-2\" v-if=\"checkResult.legalComplianceIssues.length > 0\"></el-badge>\r\n                </template>\r\n                \r\n                <div v-for=\"(issue, index) in checkResult.legalComplianceIssues\" :key=\"'legal-'+index\" class=\"check-item mb-3\">\r\n                  <div class=\"d-flex\">\r\n                    <div class=\"flex-shrink-0\">\r\n                      <el-icon class=\"text-danger fs-4\"><WarningFilled /></el-icon>\r\n                    </div>\r\n                    <div class=\"flex-grow-1 ms-3\">\r\n                      <h6 class=\"mb-1\">{{ issue.title }}</h6>\r\n                      <p class=\"text-muted mb-2\">当前条款：{{ issue.current }}</p>\r\n                      <p class=\"text-danger mb-2\">问题：{{ issue.problem }}</p>\r\n                      <div class=\"d-flex gap-2\">\r\n                        <el-button size=\"small\" type=\"default\">查看法规</el-button>\r\n                        <el-button size=\"small\" type=\"success\">采纳建议</el-button>\r\n                        <el-button size=\"small\" type=\"default\">忽略</el-button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n\r\n              <el-collapse-item title=\"条款完整性\" name=\"clauseCompleteness\">\r\n                <template #title>\r\n                  <span><el-icon class=\"me-1\"><Document /></el-icon> 条款完整性</span>\r\n                  <el-badge :value=\"checkResult.completenessIssues.length\" type=\"warning\" class=\"ms-2\" v-if=\"checkResult.completenessIssues.length > 0\"></el-badge>\r\n                </template>\r\n                \r\n                <div v-for=\"(issue, index) in checkResult.completenessIssues\" :key=\"'comp-'+index\" class=\"check-item mb-3\">\r\n                  <div class=\"d-flex\">\r\n                    <div class=\"flex-shrink-0\">\r\n                      <el-icon class=\"text-warning fs-4\"><Warning /></el-icon>\r\n                    </div>\r\n                    <div class=\"flex-grow-1 ms-3\">\r\n                      <h6 class=\"mb-1\">{{ issue.title }}</h6>\r\n                      <p class=\"text-muted mb-2\">建议: {{ issue.suggestion }}</p>\r\n                      <div class=\"d-flex gap-2\">\r\n                        <el-button size=\"small\" type=\"success\">添加条款</el-button>\r\n                        <el-button size=\"small\" type=\"default\">忽略</el-button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n\r\n              <el-collapse-item title=\"风险提示\" name=\"riskAlert\">\r\n                <template #title>\r\n                  <span><el-icon class=\"me-1\"><InfoFilled /></el-icon> 风险提示</span>\r\n                  <el-badge :value=\"checkResult.riskAlerts.length\" type=\"info\" class=\"ms-2\" v-if=\"checkResult.riskAlerts.length > 0\"></el-badge>\r\n                </template>\r\n                \r\n                <div v-for=\"(issue, index) in checkResult.riskAlerts\" :key=\"'risk-'+index\" class=\"check-item mb-3\">\r\n                  <div class=\"d-flex\">\r\n                    <div class=\"flex-shrink-0\">\r\n                      <el-icon class=\"text-info fs-4\"><InfoFilled /></el-icon>\r\n                    </div>\r\n                    <div class=\"flex-grow-1 ms-3\">\r\n                      <h6 class=\"mb-1\">{{ issue.title }}</h6>\r\n                      <p class=\"text-muted mb-2\">建议: {{ issue.suggestion }}</p>\r\n                      <div class=\"d-flex gap-2\">\r\n                        <el-button size=\"small\" type=\"success\">添加条款</el-button>\r\n                        <el-button size=\"small\" type=\"default\">忽略</el-button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </el-tab-pane>\r\n\r\n          <el-tab-pane label=\"操作记录\" name=\"history\">\r\n            <h5>操作记录</h5>\r\n            <el-timeline>\r\n              <el-timeline-item\r\n                v-for=\"(activity, index) in contractHistory\"\r\n                :key=\"index\"\r\n                :timestamp=\"activity.time\"\r\n              >\r\n                {{ activity.content }}\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n            <el-empty \r\n              v-if=\"contractHistory.length === 0\" \r\n              description=\"暂无操作记录\"\r\n            ></el-empty>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n        \r\n        <hr>\r\n        <div class=\"mt-3 text-end\">\r\n          <el-button @click=\"goBack\">返回列表</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- AI建议面板 (初始隐藏) -->\r\n    <div \r\n      class=\"ai-suggestions-panel\" \r\n      :class=\"{ 'show': showAiSuggestions }\"\r\n      id=\"aiSuggestionsPanel\"\r\n    >\r\n      <div class=\"panel-header\">\r\n        <h5><el-icon class=\"text-warning\"><Reading /></el-icon> AI 润色建议</h5>\r\n        <el-button type=\"text\" @click=\"hideAiPanel\">\r\n          <el-icon><Close /></el-icon>\r\n        </el-button>\r\n      </div>\r\n      \r\n      <el-collapse v-model=\"activeSuggestionCollapse\">\r\n        <el-collapse-item name=\"syntax\">\r\n          <template #title>\r\n            <span><el-icon class=\"me-1\"><Edit /></el-icon> 语法与格式 ({{ aiSuggestions.syntax.length }})</span>\r\n          </template>\r\n          \r\n          <div v-if=\"aiSuggestions.syntax.length === 0\" class=\"p-3 text-center text-muted\">\r\n            没有语法或格式问题\r\n          </div>\r\n          \r\n          <div \r\n            v-for=\"(suggestion, index) in aiSuggestions.syntax\" \r\n            :key=\"'syntax-'+index\" \r\n            class=\"suggestion-item\"\r\n          >\r\n            <div class=\"original-text\">{{ suggestion.original }}</div>\r\n            <div class=\"suggested-text\">{{ suggestion.suggested }}</div>\r\n            <p class=\"explanation\">{{ suggestion.explanation }}</p>\r\n            <div class=\"suggestion-actions text-end\">\r\n              <el-button size=\"small\" @click=\"ignoreSuggestion('syntax', index)\">忽略</el-button>\r\n              <el-button size=\"small\" type=\"success\" @click=\"adoptSuggestion('syntax', index)\">采纳</el-button>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n\r\n        <el-collapse-item name=\"terminology\">\r\n          <template #title>\r\n            <span><el-icon class=\"me-1\"><Reading /></el-icon> 专业术语 ({{ aiSuggestions.terminology.length }})</span>\r\n          </template>\r\n          \r\n          <div v-if=\"aiSuggestions.terminology.length === 0\" class=\"p-3 text-center text-muted\">\r\n            没有术语问题\r\n          </div>\r\n          \r\n          <div \r\n            v-for=\"(suggestion, index) in aiSuggestions.terminology\" \r\n            :key=\"'term-'+index\" \r\n            class=\"suggestion-item\"\r\n          >\r\n            <div class=\"original-text\">{{ suggestion.original }}</div>\r\n            <div class=\"suggested-text\">{{ suggestion.suggested }}</div>\r\n            <p class=\"explanation\">{{ suggestion.explanation }}</p>\r\n            <div class=\"suggestion-actions text-end\">\r\n              <el-button size=\"small\" @click=\"ignoreSuggestion('terminology', index)\">忽略</el-button>\r\n              <el-button size=\"small\" type=\"success\" @click=\"adoptSuggestion('terminology', index)\">采纳</el-button>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n\r\n      <div class=\"text-center mt-3\" v-if=\"aiSuggestions.syntax.length > 0 || aiSuggestions.terminology.length > 0\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"applyAllSuggestions\">应用所有采纳的建议</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted, computed, watch } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { ElMessage, ElLoading, ElMessageBox } from 'element-plus'\r\nimport {\r\n  Printer, Download, DocumentAdd, MagicStick, Check, Warning, WarningFilled,\r\n  Document, InfoFilled, Edit, Reading, Close\r\n} from '@element-plus/icons-vue'\r\nimport { \r\n  getContractDetail, \r\n  updateContract, \r\n  checkContract,\r\n  aiPolishContract \r\n} from '@/api/contract'\r\n// 引入富文本编辑器\r\nimport { QuillEditor } from '@vueup/vue-quill'\r\n// 引入富文本编辑器样式\r\nimport '@vueup/vue-quill/dist/vue-quill.snow.css'\r\n\r\nexport default {\r\n  name: 'ContractDetail',\r\n  components: {\r\n    QuillEditor,\r\n    Printer, Download, DocumentAdd, MagicStick, Check, Warning, WarningFilled,\r\n    Document, InfoFilled, Edit, Reading, Close\r\n  },\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const contractId = route.params.id\r\n    const activeTab = ref('basicInfo')\r\n    const activeCollapse = ref(['legalCompliance'])\r\n    const activeSuggestionCollapse = ref(['syntax', 'terminology'])\r\n    const isChecking = ref(false)\r\n    const quillEditor = ref(null)\r\n    const showAiSuggestions = ref(false)\r\n    const isLoading = ref(false)\r\n    const isSaving = ref(false)\r\n    \r\n    // 富文本编辑器配置\r\n    const editorOption = {\r\n      placeholder: '请输入合同内容',\r\n      modules: {\r\n        toolbar: [\r\n          ['bold', 'italic', 'underline', 'strike'],\r\n          ['blockquote', 'code-block'],\r\n          [{ 'header': 1 }, { 'header': 2 }],\r\n          [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n          [{ 'script': 'sub' }, { 'script': 'super' }],\r\n          [{ 'indent': '-1' }, { 'indent': '+1' }],\r\n          [{ 'direction': 'rtl' }],\r\n          [{ 'size': ['small', false, 'large', 'huge'] }],\r\n          [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n          [{ 'color': [] }, { 'background': [] }],\r\n          [{ 'font': [] }],\r\n          [{ 'align': [] }],\r\n          ['clean']\r\n        ]\r\n      }\r\n    }\r\n    \r\n    // 合同详情数据\r\n    const contractDetails = reactive({\r\n      id: contractId,\r\n      number: '',\r\n      title: '',\r\n      type: '',\r\n      amount: '',\r\n      company: '',\r\n      signDate: '',\r\n      startDate: '',\r\n      expireDate: '',\r\n      content: '',\r\n      status: '',\r\n      created_by: null,\r\n      created_at: '',\r\n      updated_at: '',\r\n      attachments: [],\r\n      actions: []\r\n    })\r\n    \r\n    // 计算合同标题\r\n    const contractTitle = computed(() => {\r\n      return contractDetails.title ? `合同详情: ${contractDetails.number}` : '加载中...'\r\n    })\r\n\r\n    // 合同检查结果\r\n    const checkResult = reactive({\r\n      totalIssues: 0,\r\n      criticalIssues: 0,\r\n      warningIssues: 0,\r\n      suggestions: 0,\r\n      legalComplianceIssues: [],\r\n      completenessIssues: [],\r\n      riskAlerts: []\r\n    })\r\n\r\n    // AI建议\r\n    const aiSuggestions = reactive({\r\n      syntax: [],\r\n      terminology: []\r\n    })\r\n\r\n    // 操作历史 - 从合同actions中获取\r\n    const contractHistory = computed(() => {\r\n      return contractDetails.actions?.map(action => ({\r\n        time: action.created_at,\r\n        content: `${action.user?.username || '系统'} ${action.description}`\r\n      })) || []\r\n    })\r\n\r\n    // 获取合同详情\r\n    const getContractDetails = async () => {\r\n      try {\r\n        // 检查contractId是否有效\r\n        if (!contractId || contractId === 'contract' || isNaN(contractId)) {\r\n          ElMessage.error('无效的合同ID')\r\n          router.push({ name: 'Contract' })\r\n          return\r\n        }\r\n        \r\n        isLoading.value = true\r\n        const response = await getContractDetail(contractId)\r\n        \r\n        // 填充合同详情\r\n        Object.keys(contractDetails).forEach(key => {\r\n          if (key in response) {\r\n            contractDetails[key] = response[key]\r\n          }\r\n        })\r\n        \r\n        // 特殊处理content字段\r\n        if (response.content) {\r\n          contractDetails.content = response.content\r\n        } else {\r\n          // 默认内容\r\n          contractDetails.content = `<p>这里是合同文本内容，请编辑...</p>\r\n<p><strong>甲方：</strong>我方公司名称</p>\r\n<p><strong>乙方：</strong>${contractDetails.company || '对方公司'}</p>\r\n<p>...</p>`\r\n        }\r\n        \r\n        // 转换日期格式\r\n        if (response.sign_date) contractDetails.signDate = response.sign_date\r\n        if (response.start_date) contractDetails.startDate = response.start_date\r\n        if (response.expire_date) contractDetails.expireDate = response.expire_date\r\n        \r\n        // 格式化金额\r\n        if (response.amount) {\r\n          contractDetails.amount = Number(response.amount).toLocaleString('zh-CN')\r\n        }\r\n        \r\n        ElMessage.success('合同详情加载成功')\r\n      } catch (error) {\r\n        console.error('加载合同详情失败:', error)\r\n        ElMessage.error('加载合同详情失败，请稍后重试')\r\n      } finally {\r\n        isLoading.value = false\r\n      }\r\n    }\r\n\r\n    // 返回列表\r\n    const goBack = () => {\r\n      router.push({ name: 'Contract' })\r\n    }\r\n\r\n    // 保存更改\r\n    const saveChanges = async () => {\r\n      try {\r\n        isSaving.value = true\r\n        const loading = ElLoading.service({\r\n          lock: true,\r\n          text: '保存中...',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        \r\n        // 准备更新数据\r\n        const updateData = {\r\n          title: contractDetails.title,\r\n          type: contractDetails.type,\r\n          amount: contractDetails.amount.replace(/[^\\d.]/g, ''),\r\n          company: contractDetails.company,\r\n          sign_date: contractDetails.signDate,\r\n          start_date: contractDetails.startDate,\r\n          expire_date: contractDetails.expireDate,\r\n          content: contractDetails.content\r\n        }\r\n        \r\n        // 调用API保存更新\r\n        await updateContract(contractId, updateData)\r\n        \r\n        ElMessage.success('合同更改已保存')\r\n        \r\n        // 重新获取最新数据\r\n        await getContractDetails()\r\n        \r\n        loading.close()\r\n      } catch (error) {\r\n        console.error('保存合同更改失败:', error)\r\n        ElMessage.error('保存失败，请检查输入内容')\r\n      } finally {\r\n        isSaving.value = false\r\n      }\r\n    }\r\n\r\n    // 开始合同检查\r\n    const startContractCheck = async () => {\r\n      try {\r\n        isChecking.value = true\r\n        \r\n        // 调用AI检查API\r\n        const result = await checkContract(contractId)\r\n        \r\n        // 更新检查结果\r\n        Object.keys(checkResult).forEach(key => {\r\n          if (key in result) {\r\n            checkResult[key] = result[key]\r\n          }\r\n        })\r\n        \r\n        ElMessage.success('合同检查完成')\r\n      } catch (error) {\r\n        console.error('合同检查失败:', error)\r\n        ElMessage.error('合同检查失败，请稍后重试')\r\n      } finally {\r\n        isChecking.value = false\r\n      }\r\n    }\r\n\r\n    // 显示AI建议面板\r\n    const showAiPanel = async () => {\r\n      try {\r\n        const loading = ElLoading.service({\r\n          lock: true,\r\n          text: 'AI分析中...',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        \r\n        // 调用AI润色API\r\n        const result = await aiPolishContract(contractId)\r\n        \r\n        // 更新AI建议\r\n        if (result.syntax) aiSuggestions.syntax = result.syntax\r\n        if (result.terminology) aiSuggestions.terminology = result.terminology\r\n        \r\n        showAiSuggestions.value = true\r\n        loading.close()\r\n      } catch (error) {\r\n        console.error('AI润色分析失败:', error)\r\n        ElMessage.error('AI润色分析失败，请稍后重试')\r\n      }\r\n    }\r\n\r\n    // 隐藏AI建议面板\r\n    const hideAiPanel = () => {\r\n      showAiSuggestions.value = false\r\n    }\r\n\r\n    // 采纳AI建议\r\n    const adoptSuggestion = (type, index) => {\r\n      const suggestion = aiSuggestions[type][index]\r\n      \r\n      if (quillEditor.value && suggestion) {\r\n        const editor = quillEditor.value.quill\r\n        const content = editor.getText()\r\n        \r\n        // 查找文本并替换\r\n        if (content.includes(suggestion.original)) {\r\n          const startIndex = content.indexOf(suggestion.original)\r\n          const endIndex = startIndex + suggestion.original.length\r\n          \r\n          editor.deleteText(startIndex, suggestion.original.length)\r\n          editor.insertText(startIndex, suggestion.suggested)\r\n          \r\n          // 移除此建议\r\n          aiSuggestions[type].splice(index, 1)\r\n          \r\n          ElMessage.success('已采纳建议')\r\n        } else {\r\n          ElMessage.warning('无法找到匹配的文本')\r\n        }\r\n      }\r\n    }\r\n\r\n    // 忽略AI建议\r\n    const ignoreSuggestion = (type, index) => {\r\n      aiSuggestions[type].splice(index, 1)\r\n      ElMessage.info('已忽略建议')\r\n    }\r\n\r\n    // 应用所有采纳的建议\r\n    const applyAllSuggestions = async () => {\r\n      // 在实际项目中，可能需要向后端发送请求\r\n      hideAiPanel()\r\n      ElMessage.success('已应用所有采纳的建议')\r\n      \r\n      // 保存更改\r\n      await saveChanges()\r\n    }\r\n\r\n    // 下载合同\r\n    const downloadContract = () => {\r\n      ElMessageBox.alert('将生成合同PDF文件并下载', '功能提示', {\r\n        confirmButtonText: '知道了',\r\n        type: 'info',\r\n      })\r\n    }\r\n    \r\n    // 打印合同\r\n    const printContract = () => {\r\n      window.print()\r\n    }\r\n\r\n    // 监听路由变化，重新加载数据\r\n    watch(() => route.params.id, (newId) => {\r\n      if (newId && newId !== contractId) {\r\n        contractId.value = newId\r\n        getContractDetails()\r\n      }\r\n    })\r\n\r\n    onMounted(() => {\r\n      getContractDetails()\r\n    })\r\n\r\n    return {\r\n      activeTab,\r\n      activeCollapse,\r\n      activeSuggestionCollapse,\r\n      contractId,\r\n      contractDetails,\r\n      contractTitle,\r\n      checkResult,\r\n      aiSuggestions,\r\n      contractHistory,\r\n      quillEditor,\r\n      editorOption,\r\n      showAiSuggestions,\r\n      goBack,\r\n      saveChanges,\r\n      isLoading,\r\n      isSaving,\r\n      isChecking,\r\n      startContractCheck,\r\n      showAiPanel,\r\n      hideAiPanel,\r\n      adoptSuggestion,\r\n      ignoreSuggestion,\r\n      applyAllSuggestions,\r\n      printContract,\r\n      downloadContract\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.contract-detail-container {\r\n  padding: 20px;\r\n  position: relative;\r\n}\r\n\r\n.card {\r\n  border: none;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 10px rgba(0,0,0,0.05);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  background-color: #fff;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  padding: 15px 20px;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  color: #343a40;\r\n}\r\n\r\n.card-body {\r\n  padding: 20px;\r\n}\r\n\r\n.contract-text-editor {\r\n  min-height: 350px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 4px;\r\n  padding: 0;\r\n  margin-bottom: 20px;\r\n  background-color: #fff;\r\n}\r\n\r\n.contract-text-editor .ql-toolbar {\r\n  border-top: none;\r\n  border-left: none;\r\n  border-right: none;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.contract-text-editor .ql-container {\r\n  border: none;\r\n  min-height: 300px;\r\n}\r\n\r\n.contract-text-editor .ql-editor {\r\n  min-height: 300px;\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.check-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.me-1 {\r\n  margin-right: 4px;\r\n}\r\n\r\n.me-2 {\r\n  margin-right: 8px;\r\n}\r\n\r\n.ms-2 {\r\n  margin-left: 8px;\r\n}\r\n\r\n.mt-3 {\r\n  margin-top: 16px;\r\n}\r\n\r\n.mb-0 {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.mb-1 {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.mb-2 {\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.mb-3 {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.fs-4 {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n/* AI建议面板样式 */\r\n.ai-suggestions-panel {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 0;\r\n  bottom: 20px;\r\n  width: 320px;\r\n  background-color: #f8f9fa;\r\n  border-left: 1px solid #dee2e6;\r\n  padding: 15px;\r\n  overflow-y: auto;\r\n  transition: margin-right 0.3s ease-in-out, opacity 0.3s ease-in-out;\r\n  margin-right: -320px;\r\n  opacity: 0;\r\n  z-index: 1040;\r\n}\r\n\r\n.ai-suggestions-panel.show {\r\n  margin-right: 0;\r\n  opacity: 1;\r\n}\r\n\r\n.panel-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.suggestion-item {\r\n  background-color: #fff;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.original-text {\r\n  text-decoration: line-through;\r\n  color: #dc3545;\r\n  font-size: 0.8rem;\r\n  display: block;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.suggested-text {\r\n  color: #28a745;\r\n  font-weight: bold;\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.explanation {\r\n  font-size: 0.75rem;\r\n  color: #6c757d;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.text-danger {\r\n  color: #dc3545;\r\n}\r\n\r\n.text-warning {\r\n  color: #ffc107;\r\n}\r\n\r\n.text-info {\r\n  color: #17a2b8;\r\n}\r\n\r\n.text-success {\r\n  color: #28a745;\r\n}\r\n\r\n.text-primary {\r\n  color: #007bff;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n.text-end {\r\n  text-align: right;\r\n}\r\n\r\n.d-flex {\r\n  display: flex;\r\n}\r\n\r\n.flex-shrink-0 {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.flex-grow-1 {\r\n  flex-grow: 1;\r\n}\r\n\r\n.justify-content-between {\r\n  justify-content: space-between;\r\n}\r\n\r\n.align-items-center {\r\n  align-items: center;\r\n}\r\n\r\n.p-3 {\r\n  padding: 1rem;\r\n}\r\n\r\n.ms-3 {\r\n  margin-left: 1rem;\r\n}\r\n\r\n.gap-2 {\r\n  gap: 0.5rem;\r\n}\r\n\r\n.border {\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.rounded {\r\n  border-radius: 0.25rem;\r\n}\r\n\r\n.bg-light {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-right: -15px;\r\n  margin-left: -15px;\r\n}\r\n\r\n.col-md-3 {\r\n  flex: 0 0 25%;\r\n  max-width: 25%;\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n}\r\n\r\n.col-md-6 {\r\n  flex: 0 0 50%;\r\n  max-width: 50%;\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n}\r\n\r\n@media (max-width: 767.98px) {\r\n  .col-md-3, .col-md-6 {\r\n    flex: 0 0 100%;\r\n    max-width: 100%;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]}]}