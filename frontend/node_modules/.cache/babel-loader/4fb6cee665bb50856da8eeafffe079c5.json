{"remainingRequest":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\src\\api\\chat.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\src\\api\\chat.js","mtime":1746858626688},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728272},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218359},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202324},{"path":"C:\\Users\\18083\\Desktop\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218362}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKCi8vIOiOt+WPluiBiuWkqeS8muivneWIl+ihqApleHBvcnQgZnVuY3Rpb24gZ2V0Q2hhdFNlc3Npb25zKCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9zZXNzaW9ucy8nLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9CgovLyDojrflj5bljZXkuKrogYrlpKnkvJror53or6bmg4UKZXhwb3J0IGZ1bmN0aW9uIGdldENoYXRTZXNzaW9uKGlkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2FwaS9jaGF0L3Nlc3Npb25zLyR7aWR9L2AsCiAgICBtZXRob2Q6ICdnZXQnCiAgfSk7Cn0KCi8vIOWIm+W7uuaWsOeahOiBiuWkqeS8muivnQpleHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhdFNlc3Npb24oZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9zZXNzaW9ucy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhCiAgfSk7Cn0KCi8vIOa3u+WKoOiBiuWkqeWPguS4juiAhQpleHBvcnQgZnVuY3Rpb24gYWRkQ2hhdFBhcnRpY2lwYW50KHNlc3Npb25JZCwgdXNlcklkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2FwaS9jaGF0L3Nlc3Npb25zLyR7c2Vzc2lvbklkfS9hZGRfcGFydGljaXBhbnQvYCwKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogewogICAgICB1c2VyX2lkOiB1c2VySWQKICAgIH0KICB9KTsKfQoKLy8g56e76Zmk6IGK5aSp5Y+C5LiO6ICFCmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDaGF0UGFydGljaXBhbnQoc2Vzc2lvbklkLCB1c2VySWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAvYXBpL2NoYXQvc2Vzc2lvbnMvJHtzZXNzaW9uSWR9L3JlbW92ZV9wYXJ0aWNpcGFudC9gLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiB7CiAgICAgIHVzZXJfaWQ6IHVzZXJJZAogICAgfQogIH0pOwp9CgovLyDlj5HpgIHmlofmnKzmtojmga8KZXhwb3J0IGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShzZXNzaW9uSWQsIGNvbnRlbnQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYXBpL2NoYXQvbWVzc2FnZXMvJywKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogewogICAgICBjaGF0OiBzZXNzaW9uSWQsCiAgICAgIGNvbnRlbnQsCiAgICAgIG1lc3NhZ2VfdHlwZTogJ3RleHQnCiAgICB9CiAgfSk7Cn0KCi8vIOWPkemAgeaWh+S7tua2iOaBrwpleHBvcnQgZnVuY3Rpb24gc2VuZEZpbGVNZXNzYWdlKHNlc3Npb25JZCwgY29udGVudCwgZmlsZSkgewogIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgZm9ybURhdGEuYXBwZW5kKCdjaGF0Jywgc2Vzc2lvbklkKTsKICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCBjb250ZW50KTsKICBmb3JtRGF0YS5hcHBlbmQoJ21lc3NhZ2VfdHlwZScsICdmaWxlJyk7CiAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L21lc3NhZ2VzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IGZvcm1EYXRhLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICB9CiAgfSk7Cn0KCi8vIOWPkemAgeWbvueJh+a2iOaBrwpleHBvcnQgZnVuY3Rpb24gc2VuZEltYWdlTWVzc2FnZShzZXNzaW9uSWQsIGNvbnRlbnQsIGltYWdlKSB7CiAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICBmb3JtRGF0YS5hcHBlbmQoJ2NoYXQnLCBzZXNzaW9uSWQpOwogIGZvcm1EYXRhLmFwcGVuZCgnY29udGVudCcsIGNvbnRlbnQpOwogIGZvcm1EYXRhLmFwcGVuZCgnbWVzc2FnZV90eXBlJywgJ2ltYWdlJyk7CiAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgaW1hZ2UpOwogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9tZXNzYWdlcy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiBmb3JtRGF0YSwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgfQogIH0pOwp9CgovLyDlj5HpgIHnn6Xor4blupPmlofku7bmtojmga8KZXhwb3J0IGZ1bmN0aW9uIHNlbmRLbm93bGVkZ2VNZXNzYWdlKHNlc3Npb25JZCwgY29udGVudCwga25vd2xlZGdlSWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYXBpL2NoYXQvbWVzc2FnZXMvJywKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogewogICAgICBjaGF0OiBzZXNzaW9uSWQsCiAgICAgIGNvbnRlbnQsCiAgICAgIG1lc3NhZ2VfdHlwZTogJ2tub3dsZWRnZScsCiAgICAgIGtub3dsZWRnZV9pZDoga25vd2xlZGdlSWQKICAgIH0KICB9KTsKfQoKLy8g5LiL6L295raI5oGv6ZmE5Lu2CmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZE1lc3NhZ2VGaWxlKG1lc3NhZ2VJZCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYC9hcGkvY2hhdC9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vZG93bmxvYWQvYCwKICAgIG1ldGhvZDogJ2dldCcsCiAgICByZXNwb25zZVR5cGU6ICdibG9iJwogIH0pOwp9CgovLyDojrflj5bnn6Xor4blupPliJfooagKZXhwb3J0IGZ1bmN0aW9uIGdldEtub3dsZWRnZUxpc3QocGFyYW1zKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9rbm93bGVkZ2UvZmlsZXMvJywKICAgIG1ldGhvZDogJ2dldCcsCiAgICBwYXJhbXMKICB9KTsKfQ=="},{"version":3,"names":["request","getChatSessions","url","method","getChatSession","id","createChatSession","data","addChatParticipant","sessionId","userId","user_id","removeChatParticipant","sendTextMessage","content","chat","message_type","sendFileMessage","file","formData","FormData","append","headers","sendImageMessage","image","sendKnowledgeMessage","knowledgeId","knowledge_id","downloadMessageFile","messageId","responseType","getKnowledgeList","params"],"sources":["C:/Users/18083/Desktop/office/smart-office/frontend/src/api/chat.js"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n// 获取聊天会话列表\r\nexport function getChatSessions() {\r\n  return request({\r\n    url: '/api/chat/sessions/',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取单个聊天会话详情\r\nexport function getChatSession(id) {\r\n  return request({\r\n    url: `/api/chat/sessions/${id}/`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 创建新的聊天会话\r\nexport function createChatSession(data) {\r\n  return request({\r\n    url: '/api/chat/sessions/',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 添加聊天参与者\r\nexport function addChatParticipant(sessionId, userId) {\r\n  return request({\r\n    url: `/api/chat/sessions/${sessionId}/add_participant/`,\r\n    method: 'post',\r\n    data: { user_id: userId }\r\n  })\r\n}\r\n\r\n// 移除聊天参与者\r\nexport function removeChatParticipant(sessionId, userId) {\r\n  return request({\r\n    url: `/api/chat/sessions/${sessionId}/remove_participant/`,\r\n    method: 'post',\r\n    data: { user_id: userId }\r\n  })\r\n}\r\n\r\n// 发送文本消息\r\nexport function sendTextMessage(sessionId, content) {\r\n  return request({\r\n    url: '/api/chat/messages/',\r\n    method: 'post',\r\n    data: {\r\n      chat: sessionId,\r\n      content,\r\n      message_type: 'text'\r\n    }\r\n  })\r\n}\r\n\r\n// 发送文件消息\r\nexport function sendFileMessage(sessionId, content, file) {\r\n  const formData = new FormData()\r\n  formData.append('chat', sessionId)\r\n  formData.append('content', content)\r\n  formData.append('message_type', 'file')\r\n  formData.append('file', file)\r\n  \r\n  return request({\r\n    url: '/api/chat/messages/',\r\n    method: 'post',\r\n    data: formData,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}\r\n\r\n// 发送图片消息\r\nexport function sendImageMessage(sessionId, content, image) {\r\n  const formData = new FormData()\r\n  formData.append('chat', sessionId)\r\n  formData.append('content', content)\r\n  formData.append('message_type', 'image')\r\n  formData.append('file', image)\r\n  \r\n  return request({\r\n    url: '/api/chat/messages/',\r\n    method: 'post',\r\n    data: formData,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}\r\n\r\n// 发送知识库文件消息\r\nexport function sendKnowledgeMessage(sessionId, content, knowledgeId) {\r\n  return request({\r\n    url: '/api/chat/messages/',\r\n    method: 'post',\r\n    data: {\r\n      chat: sessionId,\r\n      content,\r\n      message_type: 'knowledge',\r\n      knowledge_id: knowledgeId\r\n    }\r\n  })\r\n}\r\n\r\n// 下载消息附件\r\nexport function downloadMessageFile(messageId) {\r\n  return request({\r\n    url: `/api/chat/messages/${messageId}/download/`,\r\n    method: 'get',\r\n    responseType: 'blob'\r\n  })\r\n}\r\n\r\n// 获取知识库列表\r\nexport function getKnowledgeList(params) {\r\n  return request({\r\n    url: '/api/knowledge/files/',\r\n    method: 'get',\r\n    params\r\n  })\r\n} "],"mappings":"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","ignoreList":[]}]}