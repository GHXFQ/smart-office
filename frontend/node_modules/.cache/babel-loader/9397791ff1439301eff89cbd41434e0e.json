{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\ProfileCard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\ProfileCard.vue","mtime":1747455885749},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIHJlYWN0aXZlLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnOwppbXBvcnQgeyBFZGl0IH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb2ZpbGVDYXJkJywKICBjb21wb25lbnRzOiB7CiAgICBFZGl0CiAgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGNvbnN0IHByb2ZpbGVGb3JtID0gcmVmKG51bGwpOwogICAgY29uc3QgcGFzc3dvcmRGb3JtID0gcmVmKG51bGwpOwogICAgY29uc3QgYXZhdGFySW5wdXQgPSByZWYobnVsbCk7CiAgICBjb25zdCBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IHBhc3N3b3JkTG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBhY3RpdmVUYWIgPSByZWYoJ2Jhc2ljJyk7CiAgICBjb25zdCBhbGVydCA9IHJlYWN0aXZlKHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgbWVzc2FnZTogJycKICAgIH0pOwoKICAgIC8vIOeUqOaIt+aVsOaNrgogICAgY29uc3QgdXNlckRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIGlkOiAnJywKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwaG9uZTogJycsCiAgICAgIGF2YXRhcjogJycsCiAgICAgIHBvc2l0aW9uOiAnJywKICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgIG9mZmljZTogJycsCiAgICAgIGVtcGxveWVlX2lkOiAnJywKICAgICAgbWFuYWdlcjogJycsCiAgICAgIGJpbzogJycKICAgIH0pOwoKICAgIC8vIOWvhueggeebuOWFs+aVsOaNrgogICAgY29uc3QgcGFzc3dvcmREYXRhID0gcmVhY3RpdmUoewogICAgICBvbGRfcGFzc3dvcmQ6ICcnLAogICAgICBuZXdfcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtX3Bhc3N3b3JkOiAnJwogICAgfSk7CgogICAgLy8g5a2X5q616ZSZ6K+v5L+h5oGvCiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHJlYWN0aXZlKHsKICAgICAgb2xkX3Bhc3N3b3JkOiAnJywKICAgICAgbmV3X3Bhc3N3b3JkOiAnJywKICAgICAgY29uZmlybV9wYXNzd29yZDogJycKICAgIH0pOwoKICAgIC8vIOa4hemZpOaMh+WumuWtl+auteeahOmUmeivr+S/oeaBrwogICAgY29uc3QgY2xlYXJGaWVsZEVycm9yID0gZmllbGQgPT4gewogICAgICBpZiAoZmllbGRFcnJvcnNbZmllbGRdKSB7CiAgICAgICAgZmllbGRFcnJvcnNbZmllbGRdID0gJyc7CiAgICAgIH0KICAgIH07CgogICAgLy8g5riF6Zmk5omA5pyJ5a2X5q616ZSZ6K+vCiAgICBjb25zdCBjbGVhckFsbEZpZWxkRXJyb3JzID0gKCkgPT4gewogICAgICBPYmplY3Qua2V5cyhmaWVsZEVycm9ycykuZm9yRWFjaChrZXkgPT4gewogICAgICAgIGZpZWxkRXJyb3JzW2tleV0gPSAnJzsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOihqOWNlemqjOivgeinhOWImQogICAgY29uc3QgcnVsZXMgPSB7CiAgICAgIHVzZXJuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3kuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgbWluOiAyLAogICAgICAgIG1heDogMjAsCiAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCAyMCDkuKrlrZfnrKYnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgbmFtZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5aeT5ZCNJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIG1pbjogMiwKICAgICAgICBtYXg6IDIwLAogICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMiDliLAgMjAg5Liq5a2X56ymJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIGVtYWlsOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlLXlrZDpgq7nrrEnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ2VtYWlsJywKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE55S15a2Q6YKu566x5qC85byPJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHBob25lOiBbewogICAgICAgIHBhdHRlcm46IC9eMVszLTldXGR7OX0kLywKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+356CBJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0KICAgIH07CgogICAgLy8g5a+G56CB6aqM6K+B6KeE5YiZCiAgICBjb25zdCBwYXNzd29yZFJ1bGVzID0gewogICAgICBvbGRfcGFzc3dvcmQ6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeW9k+WJjeWvhueggScsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBuZXdfcGFzc3dvcmQ6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaWsOWvhueggScsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICBtaW46IDYsCiAgICAgICAgbWVzc2FnZTogJ+WvhueggemVv+W6puS4jeiDveWwj+S6jjbkuKrlrZfnrKYnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgY29uZmlybV9wYXNzd29yZDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+35YaN5qyh6L6T5YWl5paw5a+G56CBJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgaWYgKHZhbHVlICE9PSBwYXNzd29yZERhdGEubmV3X3Bhc3N3b3JkKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0JykpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XQogICAgfTsKCiAgICAvLyDorqHnrpflsZ7mgKfvvJrnlKjmiLflpLTlg48KICAgIGNvbnN0IGF2YXRhclVybCA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHVzZXJEYXRhLmF2YXRhciB8fCAnJzsKICAgIH0pOwoKICAgIC8vIOiuoeeul+WxnuaAp++8mueUqOaIt+WQjemmluWtl+avje+8iOeUqOS6juayoeacieWktOWDj+aXtuaYvuekuu+8iQogICAgY29uc3QgdXNlckluaXRpYWwgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmICh1c2VyRGF0YS5uYW1lKSB7CiAgICAgICAgcmV0dXJuIHVzZXJEYXRhLm5hbWUuY2hhckF0KDApOwogICAgICB9IGVsc2UgaWYgKHVzZXJEYXRhLnVzZXJuYW1lKSB7CiAgICAgICAgcmV0dXJuIHVzZXJEYXRhLnVzZXJuYW1lLmNoYXJBdCgwKTsKICAgICAgfQogICAgICByZXR1cm4gJ+eUqCc7CiAgICB9KTsKCiAgICAvLyDorqHnrpflsZ7mgKfvvJrnlKjmiLfogYzkvY3lkozpg6jpl6gKICAgIGNvbnN0IHVzZXJUaXRsZSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3QgcGFydHMgPSBbXTsKICAgICAgaWYgKHVzZXJEYXRhLmRlcGFydG1lbnQpIHBhcnRzLnB1c2godXNlckRhdGEuZGVwYXJ0bWVudCk7CiAgICAgIGlmICh1c2VyRGF0YS5wb3NpdGlvbikgcGFydHMucHVzaCh1c2VyRGF0YS5wb3NpdGlvbik7CiAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcgLyAnKSB8fCAn5pqC5peg6IGM5L2N5L+h5oGvJzsKICAgIH0pOwoKICAgIC8vIOiOt+WPlueUqOaIt+aVsOaNrgogICAgY29uc3QgZ2V0VXNlckRhdGEgPSBhc3luYyAoKSA9PiB7CiAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIC8vIOmmluWFiOS7juacrOWcsOWtmOWCqOiOt+WPluWfuuacrOS/oeaBrwogICAgICAgIGNvbnN0IHN0b3JlZFVzZXIgPSBzdG9yZS5nZXR0ZXJzWyd1c2VyL2N1cnJlbnRVc2VyJ107CiAgICAgICAgY29uc29sZS5sb2coJ+acrOWcsOWtmOWCqOeahOeUqOaIt+aVsOaNrjonLCBzdG9yZWRVc2VyKTsKICAgICAgICBpZiAoc3RvcmVkVXNlcikgewogICAgICAgICAgLy8g56Gu5L+ddXNlcm5hbWXlrZfmrrXooqvorr7nva4KICAgICAgICAgIGlmIChzdG9yZWRVc2VyLnVzZXJuYW1lKSB7CiAgICAgICAgICAgIHVzZXJEYXRhLnVzZXJuYW1lID0gc3RvcmVkVXNlci51c2VybmFtZTsKICAgICAgICAgIH0KICAgICAgICAgIE9iamVjdC5rZXlzKHVzZXJEYXRhKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgICAgIGlmIChzdG9yZWRVc2VyW2tleV0pIHsKICAgICAgICAgICAgICB1c2VyRGF0YVtrZXldID0gc3RvcmVkVXNlcltrZXldOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIOWmguaenOayoeacieeUqOaIt+WQje+8jOWwneivleS7jmxvY2FsU3RvcmFnZeiOt+WPlgogICAgICAgIGlmICghdXNlckRhdGEudXNlcm5hbWUpIHsKICAgICAgICAgIGNvbnN0IHVzZXJKc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsKICAgICAgICAgIGlmICh1c2VySnNvbikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGNvbnN0IGxvY2FsVXNlciA9IEpTT04ucGFyc2UodXNlckpzb24pOwogICAgICAgICAgICAgIGlmIChsb2NhbFVzZXIgJiYgbG9jYWxVc2VyLnVzZXJuYW1lKSB7CiAgICAgICAgICAgICAgICB1c2VyRGF0YS51c2VybmFtZSA9IGxvY2FsVXNlci51c2VybmFtZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfop6PmnpDmnKzlnLDlrZjlgqjnmoTnlKjmiLfmlbDmja7lpLHotKU6JywgZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOeEtuWQjuS7juacjeWKoeWZqOiOt+WPluWujOaVtOS/oeaBrwogICAgICAgIGNvbnNvbGUubG9nKCfmraPlnKjku47mnI3liqHlmajor7fmsYLnlKjmiLfmlbDmja4uLi4nKTsKICAgICAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRVc2VyUHJvZmlsZScpOwogICAgICAgIGNvbnN0IGZ1bGxVc2VyID0gc3RvcmUuZ2V0dGVyc1sndXNlci9jdXJyZW50VXNlciddOwogICAgICAgIGNvbnNvbGUubG9nKCfku47mnI3liqHlmajojrflj5bnmoTnlKjmiLfmlbDmja46JywgZnVsbFVzZXIpOwogICAgICAgIGlmIChmdWxsVXNlcikgewogICAgICAgICAgLy8g56Gu5L+ddXNlcm5hbWXlrZfmrrXooqvkv53nlZkKICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VybmFtZSA9IHVzZXJEYXRhLnVzZXJuYW1lOwogICAgICAgICAgT2JqZWN0LmtleXModXNlckRhdGEpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgICAgaWYgKGZ1bGxVc2VyW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHVzZXJEYXRhW2tleV0gPSBmdWxsVXNlcltrZXldOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyDlpoLmnpzmnI3liqHlmajov5Tlm57nmoTmlbDmja7kuK3msqHmnIl1c2VybmFtZe+8jOS9huaIkeS7rOW3sue7j+acieS6hnVzZXJuYW1l77yM5YiZ5L+d55WZ5a6DCiAgICAgICAgICBpZiAoIXVzZXJEYXRhLnVzZXJuYW1lICYmIGN1cnJlbnRVc2VybmFtZSkgewogICAgICAgICAgICB1c2VyRGF0YS51c2VybmFtZSA9IGN1cnJlbnRVc2VybmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2coJ+acgOe7iOeUqOaIt+aVsOaNrjonLCB1c2VyRGF0YSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgc2hvd0FsZXJ0KCfojrflj5bnlKjmiLfkv6Hmga/lpLHotKXvvIzor7fliLfmlrDph43or5UnLCAnZXJyb3InKTsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bnlKjmiLfkv6Hmga/lpLHotKU6JywgZXJyb3IpOwogICAgICAgIC8vIOiusOW9leabtOivpue7hueahOmUmeivr+S/oeaBrwogICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5lcnJvcign5ZON5bqU54q25oCBOicsIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCflk43lupTmlbDmja46JywgZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICAvLyDmj5DkuqTooajljZUKICAgIGNvbnN0IHN1Ym1pdEZvcm0gPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghcHJvZmlsZUZvcm0udmFsdWUpIHJldHVybjsKICAgICAgYXdhaXQgcHJvZmlsZUZvcm0udmFsdWUudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICAvLyDnoa7kv53nlKjmiLdJROWtmOWcqAogICAgICAgICAgICBpZiAoIXVzZXJEYXRhLmlkKSB7CiAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkVXNlciA9IHN0b3JlLmdldHRlcnNbJ3VzZXIvY3VycmVudFVzZXInXTsKICAgICAgICAgICAgICBpZiAoc3RvcmVkVXNlciAmJiBzdG9yZWRVc2VyLmlkKSB7CiAgICAgICAgICAgICAgICB1c2VyRGF0YS5pZCA9IHN0b3JlZFVzZXIuaWQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDorrDlvZXlj5HpgIHnmoTmlbDmja7ku6Xkvr/osIPor5UKICAgICAgICAgICAgY29uc29sZS5sb2coJ+ato+WcqOWPkemAgeeUqOaIt+aVsOaNrjonLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkpOwogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0b3JlLmRpc3BhdGNoKCd1c2VyL3VwZGF0ZVVzZXJQcm9maWxlJywgdXNlckRhdGEpOwogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgIHNob3dBbGVydCgn5Liq5Lq65L+h5oGv5pu05paw5oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzaG93QWxlcnQocmVzcG9uc2UubWVzc2FnZSB8fCAn5pu05paw5aSx6LSl77yM6K+36YeN6K+VJywgJ2Vycm9yJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIC8vIOaUuei/m+mUmeivr+WkhOeQhu+8jOehruS/neaYvuekuuWFt+S9k+mUmeivr+S/oeaBrwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmm7TmlrDnlKjmiLfkv6Hmga/lpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ+abtOaWsOWksei0pe+8jOivt+mHjeivlSc7CgogICAgICAgICAgICAvLyDmo4Dmn6XkuI3lkIznmoTplJnor6/lr7nosaHmoLzlvI8KICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvcjsKICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyDmo4Dmn6XmmK/lkKbmmK9WdWV46L+U5Zue55qE6Ieq5a6a5LmJ6ZSZ6K+v5a+56LGh5qC85byPCiAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIHR5cGVvZiBlcnJvci5yZXNwb25zZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfoh6rlrprkuYnplJnor6/lk43lupTlr7nosaE6JywgZXJyb3IucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UubWVzc2FnZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yLnJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcikgewogICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyDmoIflh4ZBeGlvc+mUmeivr+WvueixoQogICAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5ZON5bqU54q25oCBOicsIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflk43lupTmlbDmja46JywgZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3IucmVzcG9uc2UuZGF0YSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCkgewogICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOWwneivleaPkOWPlumUmeivr+Wtl+autQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRmllbGRzID0gT2JqZWN0LmVudHJpZXMoZXJyb3IucmVzcG9uc2UuZGF0YSB8fCB7fSkuZmlsdGVyKChbLCB2YWx1ZV0pID0+IEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA+IDApLm1hcCgoW2ZpZWxkLCBtZXNzYWdlc10pID0+IGAke2ZpZWxkfTogJHttZXNzYWdlcy5qb2luKCcsICcpfWApOwogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckZpZWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckZpZWxkcy5qb2luKCc7ICcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzaG93QWxlcnQoZXJyb3JNZXNzYWdlLCAnZXJyb3InKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOmHjee9ruihqOWNlQogICAgY29uc3QgcmVzZXRGb3JtID0gKCkgPT4gewogICAgICB2YXIgX3Byb2ZpbGVGb3JtJHZhbHVlOwogICAgICAoX3Byb2ZpbGVGb3JtJHZhbHVlID0gcHJvZmlsZUZvcm0udmFsdWUpID09PSBudWxsIHx8IF9wcm9maWxlRm9ybSR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb2ZpbGVGb3JtJHZhbHVlLnJlc2V0RmllbGRzKCk7CiAgICAgIGdldFVzZXJEYXRhKCk7CiAgICB9OwoKICAgIC8vIOS/ruaUueWvhueggQogICAgY29uc3QgY2hhbmdlUGFzc3dvcmQgPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghcGFzc3dvcmRGb3JtLnZhbHVlKSByZXR1cm47CgogICAgICAvLyDmuIXpmaTkuYvliY3nmoTlrZfmrrXplJnor68KICAgICAgY2xlYXJBbGxGaWVsZEVycm9ycygpOwogICAgICBhd2FpdCBwYXNzd29yZEZvcm0udmFsdWUudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcGFzc3dvcmRMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICBvbGRfcGFzc3dvcmQsCiAgICAgICAgICAgICAgbmV3X3Bhc3N3b3JkLAogICAgICAgICAgICAgIGNvbmZpcm1fcGFzc3dvcmQKICAgICAgICAgICAgfSA9IHBhc3N3b3JkRGF0YTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+WPkemAgeWvhueggeS/ruaUueivt+axgicpOwogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0b3JlLmRpc3BhdGNoKCd1c2VyL2NoYW5nZVBhc3N3b3JkJywgewogICAgICAgICAgICAgIG9sZF9wYXNzd29yZCwKICAgICAgICAgICAgICBuZXdfcGFzc3dvcmQsCiAgICAgICAgICAgICAgY29uZmlybV9wYXNzd29yZAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICBzaG93QWxlcnQoJ+WvhueggeS/ruaUueaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgcmVzZXRQYXNzd29yZEZvcm0oKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyDnroDljJbplJnor6/ml6Xlv5forrDlvZUKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNWYWxpZGF0aW9uUmVzdWx0KSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6aqM6K+B57uT5p6c77ya5b2T5YmN5a+G56CB5LiN5q2j56GuJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflr4bnoIHkv67mlLnlpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuS4uuW9k+WJjeWvhueggeS4jeato+ehrueahOmUmeivrwogICAgICAgICAgICAgIGxldCBpc09sZFBhc3N3b3JkRXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZmllbGRFcnJvcnMgJiYgcmVzcG9uc2UuZmllbGRFcnJvcnMub2xkX3Bhc3N3b3JkICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZmllbGRFcnJvcnMub2xkX3Bhc3N3b3JkKSAmJiByZXNwb25zZS5maWVsZEVycm9ycy5vbGRfcGFzc3dvcmQuaW5jbHVkZXMoJ0luY29ycmVjdCBwYXNzd29yZC4nKSkgewogICAgICAgICAgICAgICAgaXNPbGRQYXNzd29yZEVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgbGV0IGFsZXJ0TWVzc2FnZSA9ICflr4bnoIHkv67mlLnlpLHotKXvvIzor7fph43or5UnOwogICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICBhbGVydE1lc3NhZ2UgPSByZXNwb25zZS5tZXNzYWdlOyAvLyByZXNwb25zZS5tZXNzYWdlIOadpeiHqiB1c2VyQXBpLmpz77yM5bey57uP5piv5Y+L5aW955qE5Lit5paH5o+Q56S6CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyDkvb/nlKjku44gdXNlckFwaS5qcyDkvKDpgJLov4fmnaXnmoQgZmllbGRFcnJvcnMg5pu05paw57uE5Lu255qE5ZON5bqU5byPIGZpZWxkRXJyb3JzCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmZpZWxkRXJyb3JzKSB7CiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhyZXNwb25zZS5maWVsZEVycm9ycykuZm9yRWFjaCgoW2ZpZWxkS2V5LCBlcnJvcnNBcnJheV0pID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmaWVsZEVycm9ycywgZmllbGRLZXkpICYmIEFycmF5LmlzQXJyYXkoZXJyb3JzQXJyYXkpICYmIGVycm9yc0FycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc3BlY2lmaWNNZXNzYWdlID0gZXJyb3JzQXJyYXkuam9pbignLCAnKTsgLy8g6buY6K6k6ZSZ6K+v5L+h5oGvCgogICAgICAgICAgICAgICAgICAgIC8vIOeJueWIq+WkhOeQhuaXp+WvhueggeS4jeato+ehrueahOmUmeivrwogICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZEtleSA9PT0gJ29sZF9wYXNzd29yZCcgJiYgZXJyb3JzQXJyYXkuaW5jbHVkZXMoJ0luY29ycmVjdCBwYXNzd29yZC4nKSkgewogICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNNZXNzYWdlID0gJ+W9k+WJjeWvhueggeS4jeato+ehru+8jOivt+mHjeaWsOi+k+WFpSc7CiAgICAgICAgICAgICAgICAgICAgICBpc09sZFBhc3N3b3JkRXJyb3IgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICAgIC8vIOa3u+WKoOaKluWKqOWKqOeUuwogICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wYXNzd29yZC1mb3JtIC5lbC1mb3JtLWl0ZW1bcHJvcD0iJHtmaWVsZEtleX0iXSAuZWwtaW5wdXRfX3dyYXBwZXJgKTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dEVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCgnc2hha2UtZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKCdzaGFrZS1lcnJvcicpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDApOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyAo5Y+v5Lul5Li65YW25LuW5a2X5q615re75Yqg57G75Ly855qE54m55a6a6ZSZ6K+v5aSE55CG5ZKM57+76K+RKQoKICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaWVsZEtleV0gPSBzcGVjaWZpY01lc3NhZ2U7IC8vIOabtOaWsOWTjeW6lOW8jyBmaWVsZEVycm9yc++8jOinpuWPkVVJ5pu05pawCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8g5LuF5b2T6ZSZ6K+v5LiN5pivIuW9k+WJjeWvhueggeS4jeato+ehriLml7bmiY3mmL7npLrpgJrnlKjplJnor6/mj5DnpLoKICAgICAgICAgICAgICBpZiAoIWlzT2xkUGFzc3dvcmRFcnJvcikgewogICAgICAgICAgICAgICAgc2hvd0FsZXJ0KGFsZXJ0TWVzc2FnZSwgJ2Vycm9yJywgNTAwMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAvLyDnroDljJbplJnor6/ml6Xlv5forrDlvZUKICAgICAgICAgICAgaWYgKGVycm9yLmlzVmFsaWRhdGlvblJlc3VsdCkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpqozor4Hnu5PmnpzvvJrlvZPliY3lr4bnoIHkuI3mraPnoa4nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5a+G56CB5L+u5pS55aSx6LSlJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuS4uuW9k+WJjeWvhueggeS4jeato+ehrueahOmUmeivrwogICAgICAgICAgICBsZXQgaXNPbGRQYXNzd29yZEVycm9yID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5maWVsZEVycm9ycyAmJiBlcnJvci5maWVsZEVycm9ycy5vbGRfcGFzc3dvcmQgJiYgQXJyYXkuaXNBcnJheShlcnJvci5maWVsZEVycm9ycy5vbGRfcGFzc3dvcmQpICYmIGVycm9yLmZpZWxkRXJyb3JzLm9sZF9wYXNzd29yZC5pbmNsdWRlcygnSW5jb3JyZWN0IHBhc3N3b3JkLicpKSB7CiAgICAgICAgICAgICAgaXNPbGRQYXNzd29yZEVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgYWxlcnRNZXNzYWdlID0gJ+WvhueggeS/ruaUueWksei0pe+8jOivt+mHjeivlSc7CiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsgLy8gZXJyb3IubWVzc2FnZSDmnaXoh6ogdXNlckFwaS5qc++8jOW3sue7j+aYr+WPi+WlveeahOS4reaWh+aPkOekugogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDkvb/nlKjku44gdXNlckFwaS5qcyDkvKDpgJLov4fmnaXnmoQgZmllbGRFcnJvcnMg5pu05paw57uE5Lu255qE5ZON5bqU5byPIGZpZWxkRXJyb3JzCiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5maWVsZEVycm9ycykgewogICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVycm9yLmZpZWxkRXJyb3JzKS5mb3JFYWNoKChbZmllbGRLZXksIGVycm9yc0FycmF5XSkgPT4gewogICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmaWVsZEVycm9ycywgZmllbGRLZXkpICYmIEFycmF5LmlzQXJyYXkoZXJyb3JzQXJyYXkpICYmIGVycm9yc0FycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgbGV0IHNwZWNpZmljTWVzc2FnZSA9IGVycm9yc0FycmF5LmpvaW4oJywgJyk7IC8vIOm7mOiupOmUmeivr+S/oeaBrwoKICAgICAgICAgICAgICAgICAgLy8g54m55Yir5aSE55CG5pen5a+G56CB5LiN5q2j56Gu55qE6ZSZ6K+vCiAgICAgICAgICAgICAgICAgIGlmIChmaWVsZEtleSA9PT0gJ29sZF9wYXNzd29yZCcgJiYgZXJyb3JzQXJyYXkuaW5jbHVkZXMoJ0luY29ycmVjdCBwYXNzd29yZC4nKSkgewogICAgICAgICAgICAgICAgICAgIHNwZWNpZmljTWVzc2FnZSA9ICflvZPliY3lr4bnoIHkuI3mraPnoa7vvIzor7fph43mlrDovpPlhaUnOwogICAgICAgICAgICAgICAgICAgIGlzT2xkUGFzc3dvcmRFcnJvciA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIC8vIOa3u+WKoOaKluWKqOWKqOeUuwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGFzc3dvcmQtZm9ybSAuZWwtZm9ybS1pdGVtW3Byb3A9IiR7ZmllbGRLZXl9Il0gLmVsLWlucHV0X193cmFwcGVyYCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0RWwpIHsKICAgICAgICAgICAgICAgICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCgnc2hha2UtZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWtlLWVycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgICB9LCA2MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvLyAo5Y+v5Lul5Li65YW25LuW5a2X5q615re75Yqg57G75Ly855qE54m55a6a6ZSZ6K+v5aSE55CG5ZKM57+76K+RKQoKICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbZmllbGRLZXldID0gc3BlY2lmaWNNZXNzYWdlOyAvLyDmm7TmlrDlk43lupTlvI8gZmllbGRFcnJvcnPvvIzop6blj5FVSeabtOaWsAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDku4XlvZPplJnor6/kuI3mmK8i5b2T5YmN5a+G56CB5LiN5q2j56GuIuaXtuaJjeaYvuekuumAmueUqOmUmeivr+aPkOekugogICAgICAgICAgICBpZiAoIWlzT2xkUGFzc3dvcmRFcnJvcikgewogICAgICAgICAgICAgIHNob3dBbGVydChhbGVydE1lc3NhZ2UsICdlcnJvcicsIDUwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBwYXNzd29yZExvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g6KGo5Y2V6aqM6K+B5aSx6LSl77yMRWxlbWVudCBQbHVzIOS8muiHquWKqOaYvuekuumqjOivgemUmeivrwogICAgICAgICAgY29uc29sZS5sb2coJ+WvhueggeihqOWNlemqjOivgeacqumAmui/hycpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIC8vIOmHjee9ruWvhueggeihqOWNlQogICAgY29uc3QgcmVzZXRQYXNzd29yZEZvcm0gPSAoKSA9PiB7CiAgICAgIHZhciBfcGFzc3dvcmRGb3JtJHZhbHVlOwogICAgICAoX3Bhc3N3b3JkRm9ybSR2YWx1ZSA9IHBhc3N3b3JkRm9ybS52YWx1ZSkgPT09IG51bGwgfHwgX3Bhc3N3b3JkRm9ybSR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Bhc3N3b3JkRm9ybSR2YWx1ZS5yZXNldEZpZWxkcygpOwogICAgICBjbGVhckFsbEZpZWxkRXJyb3JzKCk7CiAgICB9OwoKICAgIC8vIOinpuWPkeaWh+S7tuS4iuS8oAogICAgY29uc3QgdHJpZ2dlckZpbGVJbnB1dCA9ICgpID0+IHsKICAgICAgYXZhdGFySW5wdXQudmFsdWUuY2xpY2soKTsKICAgIH07CgogICAgLy8g5aSE55CG5aS05YOP5Y+Y5pu0CiAgICBjb25zdCBoYW5kbGVBdmF0YXJDaGFuZ2UgPSBhc3luYyBldmVudCA9PiB7CiAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIGlmICghZmlsZSkgcmV0dXJuOwoKICAgICAgLy8g6aqM6K+B5paH5Lu257G75Z6LCiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfor7fpgInmi6nlm77niYfmlofku7YnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIOmqjOivgeaWh+S7tuWkp+Wwj++8iOacgOWkpzNNQu+8iQogICAgICBpZiAoZmlsZS5zaXplID4gMyAqIDEwMjQgKiAxMDI0KSB7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCflm77niYflpKflsI/kuI3og73otoXov4czTUInKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIOWIm+W7ukZvcm1EYXRh5a+56LGhCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXZhdGFyJywgZmlsZSk7CiAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvdXBkYXRlVXNlckF2YXRhcicsIGZvcm1EYXRhKTsKICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgc2hvd0FsZXJ0KCflpLTlg4/mm7TmlrDmiJDlip8nLCAnc3VjY2VzcycpOwogICAgICAgICAgdXNlckRhdGEuYXZhdGFyID0gcmVzcG9uc2UuZGF0YS5hdmF0YXI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNob3dBbGVydChyZXNwb25zZS5tZXNzYWdlIHx8ICflpLTlg4/mm7TmlrDlpLHotKXvvIzor7fph43or5UnLCAnZXJyb3InKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgc2hvd0FsZXJ0KGVycm9yLm1lc3NhZ2UgfHwgJ+WktOWDj+abtOaWsOWksei0pe+8jOivt+mHjeivlScsICdlcnJvcicpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOWktOWDj+Wksei0pTonLCBlcnJvcik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgIC8vIOmHjee9ruaWh+S7tui+k+WFpe+8jOWFgeiuuOmHjeaWsOmAieaLqeWQjOS4gOS4quaWh+S7tgogICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnOwogICAgICB9CiAgICB9OwoKICAgIC8vIOaYvuekuuaPkOekuuS/oeaBrwogICAgY29uc3Qgc2hvd0FsZXJ0ID0gKG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycsIGR1cmF0aW9uID0gMzAwMCkgPT4gewogICAgICBhbGVydC5zaG93ID0gdHJ1ZTsKICAgICAgYWxlcnQudHlwZSA9IHR5cGU7CiAgICAgIGFsZXJ0Lm1lc3NhZ2UgPSBtZXNzYWdlOwoKICAgICAgLy8gM+enkuWQjuiHquWKqOWFs+mXrQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjbG9zZUFsZXJ0KCk7CiAgICAgIH0sIGR1cmF0aW9uKTsKICAgIH07CgogICAgLy8g5YWz6Zet5o+Q56S65L+h5oGvCiAgICBjb25zdCBjbG9zZUFsZXJ0ID0gKCkgPT4gewogICAgICBhbGVydC5zaG93ID0gZmFsc2U7CiAgICB9OwoKICAgIC8vIOe7hOS7tuaMgui9veaXtuiOt+WPlueUqOaIt+aVsOaNrgogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgZ2V0VXNlckRhdGEoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgcHJvZmlsZUZvcm0sCiAgICAgIHBhc3N3b3JkRm9ybSwKICAgICAgYXZhdGFySW5wdXQsCiAgICAgIHVzZXJEYXRhLAogICAgICBwYXNzd29yZERhdGEsCiAgICAgIGxvYWRpbmcsCiAgICAgIHBhc3N3b3JkTG9hZGluZywKICAgICAgYWN0aXZlVGFiLAogICAgICBhbGVydCwKICAgICAgcnVsZXMsCiAgICAgIHBhc3N3b3JkUnVsZXMsCiAgICAgIGF2YXRhclVybCwKICAgICAgdXNlckluaXRpYWwsCiAgICAgIHVzZXJUaXRsZSwKICAgICAgc3VibWl0Rm9ybSwKICAgICAgcmVzZXRGb3JtLAogICAgICBjaGFuZ2VQYXNzd29yZCwKICAgICAgcmVzZXRQYXNzd29yZEZvcm0sCiAgICAgIHRyaWdnZXJGaWxlSW5wdXQsCiAgICAgIGhhbmRsZUF2YXRhckNoYW5nZSwKICAgICAgc2hvd0FsZXJ0LAogICAgICBjbG9zZUFsZXJ0LAogICAgICBmaWVsZEVycm9ycywKICAgICAgY2xlYXJGaWVsZEVycm9yLAogICAgICBjbGVhckFsbEZpZWxkRXJyb3JzCiAgICB9OwogIH0KfTs="},{"version":3,"names":["ref","computed","reactive","onMounted","useStore","ElMessage","Edit","name","components","setup","store","profileForm","passwordForm","avatarInput","loading","passwordLoading","activeTab","alert","show","type","message","userData","id","username","email","phone","avatar","position","department","office","employee_id","manager","bio","passwordData","old_password","new_password","confirm_password","fieldErrors","clearFieldError","field","clearAllFieldErrors","Object","keys","forEach","key","rules","required","trigger","min","max","pattern","passwordRules","validator","rule","value","callback","Error","avatarUrl","userInitial","charAt","userTitle","parts","push","join","getUserData","storedUser","getters","console","log","userJson","localStorage","getItem","localUser","JSON","parse","e","error","dispatch","fullUser","currentUsername","undefined","showAlert","response","status","data","submitForm","validate","valid","stringify","success","errorMessage","detail","errorFields","entries","filter","Array","isArray","length","map","messages","resetForm","_profileForm$value","resetFields","changePassword","resetPasswordForm","isValidationResult","isOldPasswordError","includes","alertMessage","fieldKey","errorsArray","prototype","hasOwnProperty","call","specificMessage","inputEl","document","querySelector","classList","add","setTimeout","remove","_passwordForm$value","triggerFileInput","click","handleAvatarChange","event","file","target","files","startsWith","size","formData","FormData","append","duration","closeAlert"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\components\\profile\\ProfileCard.vue"],"sourcesContent":["<template>\n  <div class=\"profile-container\">\n    <el-alert\n      v-if=\"alert.show\"\n      :type=\"alert.type\"\n      :title=\"alert.message\"\n      :closable=\"true\"\n      show-icon\n      @close=\"closeAlert\"\n    />\n    \n    <div class=\"profile-content\">\n      <div class=\"profile-left\">\n        <div class=\"avatar-container\">\n          <div class=\"avatar-wrapper\" @click=\"triggerFileInput\">\n            <el-avatar :size=\"120\" :src=\"avatarUrl\">\n              <span>{{ userInitial }}</span>\n            </el-avatar>\n            <div class=\"avatar-edit-overlay\">\n              <el-icon><Edit /></el-icon>\n            </div>\n          </div>\n          <input \n            type=\"file\" \n            ref=\"avatarInput\" \n            accept=\"image/*\" \n            style=\"display: none;\"\n            @change=\"handleAvatarChange\"\n          />\n        </div>\n        <h3 class=\"user-name\">{{ userData.name || userData.username }}</h3>\n        <p class=\"user-title\">{{ userTitle }}</p>\n      </div>\n      \n      <div class=\"profile-right\">\n        <el-tabs v-model=\"activeTab\">\n          <el-tab-pane label=\"基本信息\" name=\"basic\">\n            <el-form \n              ref=\"profileForm\" \n              :model=\"userData\" \n              :rules=\"rules\" \n              label-width=\"100px\"\n              v-loading=\"loading\"\n            >\n              <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                  <el-form-item label=\"姓名\" prop=\"name\">\n                    <el-input v-model=\"userData.name\" placeholder=\"请输入姓名\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"12\">\n                  <el-form-item label=\"工号\" prop=\"employee_id\">\n                    <el-input v-model=\"userData.employee_id\" placeholder=\"请输入工号\" />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              \n              <!-- 添加隐藏的用户名字段，确保表单提交时包含 -->\n              <input type=\"hidden\" v-model=\"userData.username\" />\n              \n              <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                  <el-form-item label=\"部门\" prop=\"department\">\n                    <el-input v-model=\"userData.department\" placeholder=\"请输入部门\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"12\">\n                  <el-form-item label=\"职位\" prop=\"position\">\n                    <el-input v-model=\"userData.position\" placeholder=\"请输入职位\" />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              \n              <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                  <el-form-item label=\"电子邮箱\" prop=\"email\">\n                    <el-input v-model=\"userData.email\" placeholder=\"请输入电子邮箱\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"12\">\n                  <el-form-item label=\"手机号码\" prop=\"phone\">\n                    <el-input v-model=\"userData.phone\" placeholder=\"请输入手机号码\" />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              \n              <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                  <el-form-item label=\"办公地点\" prop=\"office\">\n                    <el-input v-model=\"userData.office\" placeholder=\"请输入办公地点\" />\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"12\">\n                  <el-form-item label=\"直系领导\" prop=\"manager\">\n                    <el-input v-model=\"userData.manager\" placeholder=\"请输入直系领导\" />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              \n              <el-form-item label=\"个人简介\" prop=\"bio\">\n                <el-input\n                  v-model=\"userData.bio\"\n                  type=\"textarea\"\n                  :rows=\"3\"\n                  placeholder=\"请输入您的个人简介\"\n                />\n              </el-form-item>\n              \n              <el-form-item>\n                <el-button type=\"primary\" @click=\"submitForm\">保存更改</el-button>\n                <el-button @click=\"resetForm\">重置</el-button>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n          \n          <el-tab-pane label=\"账户安全\" name=\"security\">\n            <div class=\"security-section\">\n              <h4>密码管理</h4>\n              <el-divider />\n              \n              <el-form \n                ref=\"passwordForm\" \n                :model=\"passwordData\" \n                :rules=\"passwordRules\" \n                label-width=\"120px\"\n                v-loading=\"passwordLoading\"\n                :status-icon=\"true\"\n                class=\"password-form\"\n              >\n                <el-form-item \n                  label=\"当前密码\" \n                  prop=\"old_password\"\n                  :error=\"fieldErrors.old_password\"\n                  :class=\"{'has-error': fieldErrors.old_password}\"\n                >\n                  <el-input \n                    v-model=\"passwordData.old_password\" \n                    type=\"password\" \n                    placeholder=\"请输入当前密码\"\n                    show-password\n                    @focus=\"clearFieldError('old_password')\"\n                  />\n                </el-form-item>\n                \n                <el-form-item \n                  label=\"新密码\" \n                  prop=\"new_password\"\n                  :error=\"fieldErrors.new_password\"\n                  :class=\"{'has-error': fieldErrors.new_password}\"\n                >\n                  <el-input \n                    v-model=\"passwordData.new_password\" \n                    type=\"password\" \n                    placeholder=\"请输入新密码\"\n                    show-password\n                    @focus=\"clearFieldError('new_password')\"\n                  />\n                </el-form-item>\n                \n                <el-form-item \n                  label=\"确认新密码\" \n                  prop=\"confirm_password\"\n                  :error=\"fieldErrors.confirm_password\"\n                  :class=\"{'has-error': fieldErrors.confirm_password}\"\n                >\n                  <el-input \n                    v-model=\"passwordData.confirm_password\" \n                    type=\"password\" \n                    placeholder=\"请再次输入新密码\"\n                    show-password\n                    @focus=\"clearFieldError('confirm_password')\"\n                  />\n                </el-form-item>\n                \n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"changePassword\">修改密码</el-button>\n                  <el-button @click=\"resetPasswordForm\">取消</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, reactive, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { ElMessage } from 'element-plus'\nimport { Edit } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'ProfileCard',\n  components: {\n    Edit\n  },\n  setup() {\n    const store = useStore()\n    const profileForm = ref(null)\n    const passwordForm = ref(null)\n    const avatarInput = ref(null)\n    const loading = ref(false)\n    const passwordLoading = ref(false)\n    const activeTab = ref('basic')\n    \n    const alert = reactive({\n      show: false,\n      type: 'success',\n      message: ''\n    })\n    \n    // 用户数据\n    const userData = reactive({\n      id: '',\n      username: '',\n      name: '',\n      email: '',\n      phone: '',\n      avatar: '',\n      position: '',\n      department: '',\n      office: '',\n      employee_id: '',\n      manager: '',\n      bio: ''\n    })\n    \n    // 密码相关数据\n    const passwordData = reactive({\n      old_password: '',\n      new_password: '',\n      confirm_password: ''\n    })\n    \n    // 字段错误信息\n    const fieldErrors = reactive({\n      old_password: '',\n      new_password: '',\n      confirm_password: ''\n    })\n    \n    // 清除指定字段的错误信息\n    const clearFieldError = (field) => {\n      if (fieldErrors[field]) {\n        fieldErrors[field] = ''\n      }\n    }\n    \n    // 清除所有字段错误\n    const clearAllFieldErrors = () => {\n      Object.keys(fieldErrors).forEach(key => {\n        fieldErrors[key] = ''\n      })\n    }\n    \n    // 表单验证规则\n    const rules = {\n      username: [\n        { required: true, message: '用户名不能为空', trigger: 'blur' },\n        { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\n      ],\n      name: [\n        { required: true, message: '请输入姓名', trigger: 'blur' },\n        { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\n      ],\n      email: [\n        { required: true, message: '请输入电子邮箱', trigger: 'blur' },\n        { type: 'email', message: '请输入正确的电子邮箱格式', trigger: 'blur' }\n      ],\n      phone: [\n        { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n      ]\n    }\n    \n    // 密码验证规则\n    const passwordRules = {\n      old_password: [\n        { required: true, message: '请输入当前密码', trigger: 'blur' }\n      ],\n      new_password: [\n        { required: true, message: '请输入新密码', trigger: 'blur' },\n        { min: 6, message: '密码长度不能小于6个字符', trigger: 'blur' }\n      ],\n      confirm_password: [\n        { required: true, message: '请再次输入新密码', trigger: 'blur' },\n        { \n          validator: (rule, value, callback) => {\n            if (value !== passwordData.new_password) {\n              callback(new Error('两次输入密码不一致'))\n            } else {\n              callback()\n            }\n          }, \n          trigger: 'blur' \n        }\n      ]\n    }\n    \n    // 计算属性：用户头像\n    const avatarUrl = computed(() => {\n      return userData.avatar || ''\n    })\n    \n    // 计算属性：用户名首字母（用于没有头像时显示）\n    const userInitial = computed(() => {\n      if (userData.name) {\n        return userData.name.charAt(0)\n      } else if (userData.username) {\n        return userData.username.charAt(0)\n      }\n      return '用'\n    })\n    \n    // 计算属性：用户职位和部门\n    const userTitle = computed(() => {\n      const parts = []\n      if (userData.department) parts.push(userData.department)\n      if (userData.position) parts.push(userData.position)\n      return parts.join(' / ') || '暂无职位信息'\n    })\n    \n    // 获取用户数据\n    const getUserData = async () => {\n      loading.value = true\n      try {\n        // 首先从本地存储获取基本信息\n        const storedUser = store.getters['user/currentUser']\n        console.log('本地存储的用户数据:', storedUser)\n        \n        if (storedUser) {\n          // 确保username字段被设置\n          if (storedUser.username) {\n            userData.username = storedUser.username\n          }\n          \n          Object.keys(userData).forEach(key => {\n            if (storedUser[key]) {\n              userData[key] = storedUser[key]\n            }\n          })\n        }\n        \n        // 如果没有用户名，尝试从localStorage获取\n        if (!userData.username) {\n          const userJson = localStorage.getItem('user')\n          if (userJson) {\n            try {\n              const localUser = JSON.parse(userJson)\n              if (localUser && localUser.username) {\n                userData.username = localUser.username\n              }\n            } catch (e) {\n              console.error('解析本地存储的用户数据失败:', e)\n            }\n          }\n        }\n        \n        // 然后从服务器获取完整信息\n        console.log('正在从服务器请求用户数据...')\n        await store.dispatch('user/getUserProfile')\n        const fullUser = store.getters['user/currentUser']\n        console.log('从服务器获取的用户数据:', fullUser)\n        \n        if (fullUser) {\n          // 确保username字段被保留\n          const currentUsername = userData.username\n          \n          Object.keys(userData).forEach(key => {\n            if (fullUser[key] !== undefined) {\n              userData[key] = fullUser[key]\n            }\n          })\n          \n          // 如果服务器返回的数据中没有username，但我们已经有了username，则保留它\n          if (!userData.username && currentUsername) {\n            userData.username = currentUsername\n          }\n        }\n        \n        console.log('最终用户数据:', userData)\n      } catch (error) {\n        showAlert('获取用户信息失败，请刷新重试', 'error')\n        console.error('获取用户信息失败:', error)\n        // 记录更详细的错误信息\n        if (error.response) {\n          console.error('响应状态:', error.response.status)\n          console.error('响应数据:', error.response.data)\n        }\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // 提交表单\n    const submitForm = async () => {\n      if (!profileForm.value) return\n      \n      await profileForm.value.validate(async (valid) => {\n        if (valid) {\n          loading.value = true\n          try {\n            // 确保用户ID存在\n            if (!userData.id) {\n              const storedUser = store.getters['user/currentUser'];\n              if (storedUser && storedUser.id) {\n                userData.id = storedUser.id;\n              }\n            }\n            \n            // 记录发送的数据以便调试\n            console.log('正在发送用户数据:', JSON.stringify(userData));\n            \n            const response = await store.dispatch('user/updateUserProfile', userData)\n            if (response.success) {\n              showAlert('个人信息更新成功', 'success')\n            } else {\n              showAlert(response.message || '更新失败，请重试', 'error')\n            }\n          } catch (error) {\n            // 改进错误处理，确保显示具体错误信息\n            console.error('更新用户信息失败:', error);\n            let errorMessage = '更新失败，请重试';\n            \n            // 检查不同的错误对象格式\n            if (typeof error === 'string') {\n              errorMessage = error;\n            } else if (error && typeof error === 'object') {\n              if (error.message) {\n                errorMessage = error.message;\n              }\n              \n              // 检查是否是Vuex返回的自定义错误对象格式\n              if (error.response && typeof error.response === 'object') {\n                console.log('自定义错误响应对象:', error.response);\n                \n                if (error.response.message) {\n                  errorMessage = error.response.message;\n                } else if (error.response.data) {\n                  if (typeof error.response.data === 'string') {\n                    errorMessage = error.response.data;\n                  } else if (error.response.data.message) {\n                    errorMessage = error.response.data.message;\n                  } else if (error.response.data.error) {\n                    errorMessage = error.response.data.error;\n                  } else if (error.response.data.detail) {\n                    errorMessage = error.response.data.detail;\n                  }\n                }\n              } \n              // 标准Axios错误对象\n              else if (error.response && error.response.status) {\n                console.error('响应状态:', error.response.status);\n                \n                if (error.response.data) {\n                  console.error('响应数据:', error.response.data);\n                  \n                  if (typeof error.response.data === 'string') {\n                    errorMessage = error.response.data;\n                  } else if (error.response.data.message) {\n                    errorMessage = error.response.data.message;\n                  } else if (error.response.data.error) {\n                    errorMessage = error.response.data.error;\n                  } else if (error.response.data.detail) {\n                    errorMessage = error.response.data.detail;\n                  } else {\n                    // 尝试提取错误字段\n                    const errorFields = Object.entries(error.response.data || {})\n                      .filter(([, value]) => Array.isArray(value) && value.length > 0)\n                      .map(([field, messages]) => `${field}: ${messages.join(', ')}`);\n                    \n                    if (errorFields.length > 0) {\n                      errorMessage = errorFields.join('; ');\n                    }\n                  }\n                }\n              }\n            }\n            \n            showAlert(errorMessage, 'error');\n          } finally {\n            loading.value = false\n          }\n        } else {\n          return false\n        }\n      })\n    }\n    \n    // 重置表单\n    const resetForm = () => {\n      profileForm.value?.resetFields()\n      getUserData()\n    }\n    \n    // 修改密码\n    const changePassword = async () => {\n      if (!passwordForm.value) return\n      \n      // 清除之前的字段错误\n      clearAllFieldErrors()\n      \n      await passwordForm.value.validate(async (valid) => {\n        if (valid) {\n          passwordLoading.value = true\n          try {\n            const { old_password, new_password, confirm_password } = passwordData\n            console.log('发送密码修改请求')\n            \n            const response = await store.dispatch('user/changePassword', { \n              old_password, \n              new_password,\n              confirm_password\n            })\n            \n            if (response.success) {\n              showAlert('密码修改成功', 'success')\n              resetPasswordForm()\n            } else {\n              // 简化错误日志记录\n              if (response.isValidationResult) {\n                console.log('验证结果：当前密码不正确')\n              } else {\n                console.log('密码修改失败')\n              }\n\n              // 检查是否为当前密码不正确的错误\n              let isOldPasswordError = false;\n              \n              if (response && response.fieldErrors && \n                  response.fieldErrors.old_password && \n                  Array.isArray(response.fieldErrors.old_password) && \n                  response.fieldErrors.old_password.includes('Incorrect password.')) {\n                isOldPasswordError = true;\n              }\n\n              let alertMessage = '密码修改失败，请重试';\n              if (response && response.message) {\n                alertMessage = response.message; // response.message 来自 userApi.js，已经是友好的中文提示\n              }\n\n              // 使用从 userApi.js 传递过来的 fieldErrors 更新组件的响应式 fieldErrors\n              if (response && response.fieldErrors) {\n                Object.entries(response.fieldErrors).forEach(([fieldKey, errorsArray]) => {\n                  if (Object.prototype.hasOwnProperty.call(fieldErrors, fieldKey) && Array.isArray(errorsArray) && errorsArray.length > 0) {\n                    let specificMessage = errorsArray.join(', '); // 默认错误信息\n\n                    // 特别处理旧密码不正确的错误\n                    if (fieldKey === 'old_password' && errorsArray.includes('Incorrect password.')) {\n                      specificMessage = '当前密码不正确，请重新输入';\n                      isOldPasswordError = true;\n                      \n                      // 添加抖动动画\n                      const inputEl = document.querySelector(`.password-form .el-form-item[prop=\"${fieldKey}\"] .el-input__wrapper`);\n                      if (inputEl) {\n                        inputEl.classList.add('shake-error');\n                        setTimeout(() => { inputEl.classList.remove('shake-error'); }, 600);\n                      }\n                    }\n                    // (可以为其他字段添加类似的特定错误处理和翻译)\n\n                    fieldErrors[fieldKey] = specificMessage; // 更新响应式 fieldErrors，触发UI更新\n                  }\n                });\n              }\n              \n              // 仅当错误不是\"当前密码不正确\"时才显示通用错误提示\n              if (!isOldPasswordError) {\n                showAlert(alertMessage, 'error', 5000)\n              }\n            }\n          } catch (error) {\n            // 简化错误日志记录\n            if (error.isValidationResult) {\n              console.log('验证结果：当前密码不正确')\n            } else {\n              console.log('密码修改失败')\n            }\n\n            // 检查是否为当前密码不正确的错误\n            let isOldPasswordError = false;\n            \n            if (error && error.fieldErrors && \n                error.fieldErrors.old_password && \n                Array.isArray(error.fieldErrors.old_password) && \n                error.fieldErrors.old_password.includes('Incorrect password.')) {\n              isOldPasswordError = true;\n            }\n\n            let alertMessage = '密码修改失败，请重试';\n            if (error && error.message) {\n              alertMessage = error.message; // error.message 来自 userApi.js，已经是友好的中文提示\n            }\n\n            // 使用从 userApi.js 传递过来的 fieldErrors 更新组件的响应式 fieldErrors\n            if (error && error.fieldErrors) {\n              Object.entries(error.fieldErrors).forEach(([fieldKey, errorsArray]) => {\n                if (Object.prototype.hasOwnProperty.call(fieldErrors, fieldKey) && Array.isArray(errorsArray) && errorsArray.length > 0) {\n                  let specificMessage = errorsArray.join(', '); // 默认错误信息\n\n                  // 特别处理旧密码不正确的错误\n                  if (fieldKey === 'old_password' && errorsArray.includes('Incorrect password.')) {\n                    specificMessage = '当前密码不正确，请重新输入';\n                    isOldPasswordError = true;\n                    \n                    // 添加抖动动画\n                    const inputEl = document.querySelector(`.password-form .el-form-item[prop=\"${fieldKey}\"] .el-input__wrapper`);\n                    if (inputEl) {\n                      inputEl.classList.add('shake-error');\n                      setTimeout(() => { inputEl.classList.remove('shake-error'); }, 600);\n                    }\n                  }\n                  // (可以为其他字段添加类似的特定错误处理和翻译)\n\n                  fieldErrors[fieldKey] = specificMessage; // 更新响应式 fieldErrors，触发UI更新\n                }\n              });\n            }\n            \n            // 仅当错误不是\"当前密码不正确\"时才显示通用错误提示\n            if (!isOldPasswordError) {\n              showAlert(alertMessage, 'error', 5000);\n            }\n          } finally {\n            passwordLoading.value = false;\n          }\n        } else {\n          // 表单验证失败，Element Plus 会自动显示验证错误\n          console.log('密码表单验证未通过');\n          return false;\n        }\n      });\n    }\n    \n    // 重置密码表单\n    const resetPasswordForm = () => {\n      passwordForm.value?.resetFields()\n      clearAllFieldErrors()\n    }\n    \n    // 触发文件上传\n    const triggerFileInput = () => {\n      avatarInput.value.click()\n    }\n    \n    // 处理头像变更\n    const handleAvatarChange = async (event) => {\n      const file = event.target.files[0]\n      if (!file) return\n      \n      // 验证文件类型\n      if (!file.type.startsWith('image/')) {\n        ElMessage.error('请选择图片文件')\n        return\n      }\n      \n      // 验证文件大小（最大3MB）\n      if (file.size > 3 * 1024 * 1024) {\n        ElMessage.error('图片大小不能超过3MB')\n        return\n      }\n      \n      // 创建FormData对象\n      const formData = new FormData()\n      formData.append('avatar', file)\n      \n      loading.value = true\n      try {\n        const response = await store.dispatch('user/updateUserAvatar', formData)\n        if (response.success) {\n          showAlert('头像更新成功', 'success')\n          userData.avatar = response.data.avatar\n        } else {\n          showAlert(response.message || '头像更新失败，请重试', 'error')\n        }\n      } catch (error) {\n        showAlert(error.message || '头像更新失败，请重试', 'error')\n        console.error('更新头像失败:', error)\n      } finally {\n        loading.value = false\n        // 重置文件输入，允许重新选择同一个文件\n        event.target.value = ''\n      }\n    }\n    \n    // 显示提示信息\n    const showAlert = (message, type = 'success', duration = 3000) => {\n      alert.show = true\n      alert.type = type\n      alert.message = message\n      \n      // 3秒后自动关闭\n      setTimeout(() => {\n        closeAlert()\n      }, duration)\n    }\n    \n    // 关闭提示信息\n    const closeAlert = () => {\n      alert.show = false\n    }\n    \n    // 组件挂载时获取用户数据\n    onMounted(() => {\n      getUserData()\n    })\n    \n    return {\n      profileForm,\n      passwordForm,\n      avatarInput,\n      userData,\n      passwordData,\n      loading,\n      passwordLoading,\n      activeTab,\n      alert,\n      rules,\n      passwordRules,\n      avatarUrl,\n      userInitial,\n      userTitle,\n      submitForm,\n      resetForm,\n      changePassword,\n      resetPasswordForm,\n      triggerFileInput,\n      handleAvatarChange,\n      showAlert,\n      closeAlert,\n      fieldErrors,\n      clearFieldError,\n      clearAllFieldErrors\n    }\n  }\n}\n</script>\n\n<style scoped>\n.profile-container {\n  padding: 10px;\n}\n\n.profile-content {\n  display: flex;\n  gap: 30px;\n  margin-top: 20px;\n}\n\n.profile-left {\n  flex: 0 0 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.profile-right {\n  flex: 1;\n}\n\n.avatar-container {\n  margin-bottom: 20px;\n}\n\n.avatar-wrapper {\n  position: relative;\n  cursor: pointer;\n  display: inline-block;\n}\n\n.avatar-edit-overlay {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background-color: var(--el-color-primary);\n  color: white;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s;\n  opacity: 0.8;\n}\n\n.avatar-wrapper:hover .avatar-edit-overlay {\n  opacity: 1;\n}\n\n.user-name {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 10px 0 5px;\n}\n\n.user-title {\n  font-size: 14px;\n  color: #909399;\n  margin: 0;\n}\n\n.security-section h4 {\n  font-size: 16px;\n  font-weight: 500;\n  margin-top: 0;\n}\n\n/* 高亮错误字段 */\n.has-error :deep(.el-input__wrapper) {\n  box-shadow: 0 0 0 1px var(--el-color-danger) inset;\n  background-color: rgba(245, 108, 108, 0.05);\n}\n\n/* 密码错误抖动动画 */\n@keyframes shake {\n  0%, 100% { transform: translateX(0); }\n  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }\n  20%, 40%, 60%, 80% { transform: translateX(5px); }\n}\n\n:deep(.shake-error) {\n  animation: shake 0.6s ease-in-out;\n  box-shadow: 0 0 0 1px var(--el-color-danger) inset !important;\n  background-color: rgba(245, 108, 108, 0.1) !important;\n}\n\n/* 响应式布局 */\n@media (max-width: 768px) {\n  .profile-content {\n    flex-direction: column;\n  }\n  \n  .profile-left {\n    flex: none;\n    margin-bottom: 30px;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]}]}