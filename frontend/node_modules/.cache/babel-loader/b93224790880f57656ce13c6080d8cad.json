{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\src\\views\\dashboard\\components\\NlpScheduler.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\src\\views\\dashboard\\components\\NlpScheduler.vue","mtime":1752041453224},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdObHBTY2hlZHVsZXInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeTogJycsCiAgICAgIGV2ZW50czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBoYW5kbGVRdWVyeSgpIHsKICAgICAgaWYgKCF0aGlzLnF1ZXJ5LnRyaW0oKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5YaF5a65Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0LnBvc3QoJy9hcGkvY2FsZW5kYXIvZXZlbnRzL25scC8nLCB7CiAgICAgICAgICBxdWVyeTogdGhpcy5xdWVyeQogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuZXZlbnRzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmk43kvZzmiJDlip8nKTsKICAgICAgICAgIHRoaXMucXVlcnkgPSAnJzsgLy8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc3VjY2Vzc2Z1bCBjb21tYW5kCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5lcnJvciB8fCAn5pON5L2c5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+axguWksei0pScpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgZm9ybWF0RGF0ZVRpbWUoZGF0ZVRpbWUpIHsKICAgICAgaWYgKCFkYXRlVGltZSkgcmV0dXJuICcnOwogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVRpbWUpOwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygnemgtQ04nLCB7CiAgICAgICAgeWVhcjogJ251bWVyaWMnLAogICAgICAgIG1vbnRoOiAnMi1kaWdpdCcsCiAgICAgICAgZGF5OiAnMi1kaWdpdCcsCiAgICAgICAgaG91cjogJzItZGlnaXQnLAogICAgICAgIG1pbnV0ZTogJzItZGlnaXQnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["request","name","data","query","events","methods","handleQuery","trim","$message","warning","response","post","success","error","console","formatDateTime","dateTime","date","Date","toLocaleString","year","month","day","hour","minute"],"sources":["C:\\Users\\18083\\Desktop\\CCIT\\office\\o\\smart-office\\frontend\\src\\views\\dashboard\\components\\NlpScheduler.vue"],"sourcesContent":["<template>\r\n  <div class=\"nlp-scheduler\">\r\n    <div class=\"input-area\">\r\n      <el-input\r\n        v-model=\"query\"\r\n        placeholder=\"请输入您的日程安排，例如：明天下午两点和张三开会\"\r\n        clearable\r\n        @keyup.enter=\"handleQuery\"\r\n      >\r\n        <template #append>\r\n          <el-button @click=\"handleQuery()\">智能安排</el-button>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n    <div class=\"events-display\">\r\n      <el-card v-for=\"event in events\" :key=\"event.id\" class=\"event-card\">\r\n        <template #header>\r\n          <div class=\"clearfix\">\r\n            <span>{{ event.title }}</span>\r\n          </div>\r\n        </template>\r\n        <div class=\"event-details\">\r\n          <p><strong>时间:</strong> {{ formatDateTime(event.start) }} - {{ formatDateTime(event.end) }}</p>\r\n          <p v-if=\"event.location\"><strong>地点:</strong> {{ event.location }}</p>\r\n          <p v-if=\"event.description\"><strong>描述:</strong> {{ event.description }}</p>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from '@/utils/request';\r\n\r\nexport default {\r\n  name: 'NlpScheduler',\r\n  data() {\r\n    return {\r\n      query: '',\r\n      events: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async handleQuery() {\r\n      if (!this.query.trim()) {\r\n        this.$message.warning('请输入内容');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await request.post('/api/calendar/events/nlp/', { query: this.query });\r\n        if (response.data.success) {\r\n          this.events = response.data.data;\r\n          this.$message.success('操作成功');\r\n          this.query = ''; // Clear input after successful command\r\n        } else {\r\n          this.$message.error(response.data.error || '操作失败');\r\n        }\r\n      } catch (error) {\r\n        this.$message.error('请求失败');\r\n        console.error(error);\r\n      }\r\n    },\r\n    formatDateTime(dateTime) {\r\n      if (!dateTime) return '';\r\n      const date = new Date(dateTime);\r\n      return date.toLocaleString('zh-CN', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nlp-scheduler {\r\n  padding: 20px;\r\n}\r\n.input-area {\r\n  margin-bottom: 20px;\r\n}\r\n.event-card {\r\n  margin-bottom: 15px;\r\n}\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n.clearfix:after {\r\n  clear: both\r\n}\r\n</style> "],"mappings":"AAgCA,OAAOA,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI,CAAC,IAAI,CAACH,KAAK,CAACI,IAAI,CAAC,CAAC,EAAE;QACtB,IAAI,CAACC,QAAQ,CAACC,OAAO,CAAC,OAAO,CAAC;QAC9B;MACF;MACA,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMV,OAAO,CAACW,IAAI,CAAC,2BAA2B,EAAE;UAAER,KAAK,EAAE,IAAI,CAACA;QAAM,CAAC,CAAC;QACvF,IAAIO,QAAQ,CAACR,IAAI,CAACU,OAAO,EAAE;UACzB,IAAI,CAACR,MAAK,GAAIM,QAAQ,CAACR,IAAI,CAACA,IAAI;UAChC,IAAI,CAACM,QAAQ,CAACI,OAAO,CAAC,MAAM,CAAC;UAC7B,IAAI,CAACT,KAAI,GAAI,EAAE,EAAE;QACnB,OAAO;UACL,IAAI,CAACK,QAAQ,CAACK,KAAK,CAACH,QAAQ,CAACR,IAAI,CAACW,KAAI,IAAK,MAAM,CAAC;QACpD;MACF,EAAE,OAAOA,KAAK,EAAE;QACd,IAAI,CAACL,QAAQ,CAACK,KAAK,CAAC,MAAM,CAAC;QAC3BC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IACDE,cAAcA,CAACC,QAAQ,EAAE;MACvB,IAAI,CAACA,QAAQ,EAAE,OAAO,EAAE;MACxB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,QAAQ,CAAC;MAC/B,OAAOC,IAAI,CAACE,cAAc,CAAC,OAAO,EAAE;QAClCC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE,SAAS;QAChBC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;MACV,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}]}