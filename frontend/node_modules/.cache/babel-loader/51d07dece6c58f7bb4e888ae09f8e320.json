{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\api\\knowledge.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\api\\knowledge.js","mtime":1747479475149},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1746431728000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwovKioKICog55+l6K+G5bqTQVBJ5pyN5YqhCiAqLwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwpjb25zdCBiYXNlVVJMID0gJy9hcGkva25vd2xlZGdlJzsgLy8g56Gu5L+d6L+Z5Liq6Lev5b6E5LiO5ZCO56uv5a6e6ZmF6YOo572y55qE6Lev5b6E5LiA6Ie0CgovLyDliIbnsbvnm7jlhbNBUEkKZXhwb3J0IGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7CiAgY29uc29sZS5sb2coJ+iwg+eUqGdldENhdGVnb3JpZXMgQVBJ5Ye95pWwJyk7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgJHtiYXNlVVJMfS9jYXRlZ29yaWVzL2AsCiAgICBtZXRob2Q6ICdnZXQnCiAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICBjb25zb2xlLmxvZygnZ2V0Q2F0ZWdvcmllcyBBUEnlk43lupTmiJDlip86JywgcmVzcG9uc2UpOwogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoJ2dldENhdGVnb3JpZXMgQVBJ6K+35rGC5aSx6LSlOicsIGVycm9yKTsKICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICBjb25zb2xlLmVycm9yKCfplJnor6/nirbmgIHnoIE6JywgZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5pWw5o2uOicsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgfQogICAgdGhyb3cgZXJyb3I7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGFkZENhdGVnb3J5KGRhdGEpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2NhdGVnb3JpZXMvYCwKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShpZCwgZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYCR7YmFzZVVSTH0vY2F0ZWdvcmllcy8ke2lkfS9gLAogICAgbWV0aG9kOiAncHV0JywKICAgIGRhdGEKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2F0ZWdvcnkoaWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2NhdGVnb3JpZXMvJHtpZH0vYCwKICAgIG1ldGhvZDogJ2RlbGV0ZScKICB9KTsKfQoKLy8g55+l6K+G5bqT5paH5qGj55u45YWzQVBJCmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudHMocGFyYW1zKSB7CiAgY29uc29sZS5sb2coJ+iwg+eUqGdldERvY3VtZW50cyBBUEk6JywgYCR7YmFzZVVSTH0vZG9jdW1lbnRzL2AsICflj4LmlbA6JywgcGFyYW1zKTsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2RvY3VtZW50cy9gLAogICAgbWV0aG9kOiAnZ2V0JywKICAgIHBhcmFtcwogIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgY29uc29sZS5sb2coJ2dldERvY3VtZW50cyBBUEnlk43lupTmiJDlip86JywgcmVzcG9uc2UpOwogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoJ2dldERvY3VtZW50cyBBUEnor7fmsYLlpLHotKU6JywgZXJyb3IpOwogICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ+mUmeivr+eKtuaAgeeggTonLCBlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgICBjb25zb2xlLmVycm9yKCfplJnor6/mlbDmja46JywgZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgICB9CiAgICB0aHJvdyBlcnJvcjsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoaWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2RvY3VtZW50cy8ke2lkfS9gLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiB1cGxvYWREb2N1bWVudChkYXRhKSB7CiAgY29uc29sZS5sb2coJ+W8gOWni+S4iuS8oOaWh+S7ti4uLicsIGRhdGEpOwoKICAvLyDmo4Dmn6VGb3JtRGF0YeS4reaYr+WQpuWMheWQq+aWh+S7tuWPiuWFtuWkp+WwjwogIGlmIChkYXRhIGluc3RhbmNlb2YgRm9ybURhdGEpIHsKICAgIGNvbnN0IGZpbGUgPSBkYXRhLmdldCgnZmlsZScpOwogICAgaWYgKGZpbGUpIHsKICAgICAgY29uc29sZS5sb2coJ0Zvcm1EYXRh5Lit55qE5paH5Lu25L+h5oGvOicsIHsKICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgc2l6ZTogZmlsZS5zaXplLAogICAgICAgIHR5cGU6IGZpbGUudHlwZSwKICAgICAgICBsYXN0TW9kaWZpZWQ6IGZpbGUubGFzdE1vZGlmaWVkCiAgICAgIH0pOwoKICAgICAgLy8g6aqM6K+B5paH5Lu25pyJ5pWI5oCnCiAgICAgIGlmICghZmlsZS5zaXplIHx8IGZpbGUuc2l6ZSA9PT0gMCkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ+aWh+S7tuWkp+Wwj+S4ujDvvIzml6Dms5XkuIrkvKAnKSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUud2FybignRm9ybURhdGHkuK3mnKrmib7liLDmlofku7YhJyk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ+acquaJvuWIsOacieaViOaWh+S7ticpKTsKICAgIH0KICB9CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgJHtiYXNlVVJMfS9kb2N1bWVudHMvYCwKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YSwKICAgIHRpbWVvdXQ6IDEyMDAwMCwKICAgIC8vIOWinuWKoOi2heaXtuaXtumXtOWIsDEyMOenku+8jOWkp+aWh+S7tuS4iuS8oOmcgOimgeabtOmVv+aXtumXtAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICB9LAogICAgb25VcGxvYWRQcm9ncmVzczogcHJvZ3Jlc3NFdmVudCA9PiB7CiAgICAgIGNvbnN0IHBlcmNlbnRDb21wbGV0ZWQgPSBNYXRoLnJvdW5kKHByb2dyZXNzRXZlbnQubG9hZGVkICogMTAwIC8gcHJvZ3Jlc3NFdmVudC50b3RhbCk7CiAgICAgIGNvbnNvbGUubG9nKGDkuIrkvKDov5vluqY6ICR7cGVyY2VudENvbXBsZXRlZH0lYCk7CiAgICB9CiAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICBjb25zb2xlLmxvZygn5paH5Lu25LiK5Lyg5oiQ5Yqf5ZON5bqUOicsIHJlc3BvbnNlKTsKICAgIHJldHVybiByZXNwb25zZTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCfmlofku7bkuIrkvKDlpLHotKU6JywgZXJyb3IpOwoKICAgIC8vIOWkhOeQhuS4jeWQjOeahOmUmeivr+aDheWGtQogICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ+S4iuS8oOmUmeivr+eKtuaAgeeggTonLCBlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgICBjb25zb2xlLmVycm9yKCfkuIrkvKDplJnor6/mlbDmja46JywgZXJyb3IucmVzcG9uc2UuZGF0YSk7CgogICAgICAvLyDlpITnkIbnibnlrprnmoTplJnor6/ku6PnoIEKICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEzKSB7CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmlofku7blpKrlpKfvvIzotoXlh7rmnI3liqHlmajlhYHorrjnmoTkuIrkvKDpmZDliLYnOwogICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgZXJyb3IubWVzc2FnZSA9IGDkuIrkvKDlj4LmlbDplJnor686ICR7SlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSl9YDsKICAgICAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyq5o6I5p2D77yM6K+36YeN5paw55m75b2V5ZCO5YaN5bCd6K+V5LiK5LygJzsKICAgICAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDUwMCkgewogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo5aSE55CG5LiK5Lyg5pe25Y+R55Sf6ZSZ6K+vJzsKICAgICAgfQogICAgfSBlbHNlIGlmIChlcnJvci5yZXF1ZXN0KSB7CiAgICAgIC8vIOivt+axguW3suWPkemAgeS9huayoeacieaUtuWIsOWTjeW6lAogICAgICBjb25zb2xlLmVycm9yKCfmsqHmnInmlLbliLDkuIrkvKDlk43lupQ6JywgZXJyb3IucmVxdWVzdCk7CiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnRUNPTk5BQk9SVEVEJykgewogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5LiK5Lyg6LaF5pe277yM6K+35qOA5p+l572R57uc5oiW5bCd6K+V5LiK5Lyg6L6D5bCP55qE5paH5Lu2JzsKICAgICAgfSBlbHNlIHsKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOmUmeivr++8jOacquaUtuWIsOacjeWKoeWZqOWTjeW6lCc7CiAgICAgIH0KICAgIH0KICAgIHRocm93IGVycm9yOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEb2N1bWVudChpZCwgZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYCR7YmFzZVVSTH0vZG9jdW1lbnRzLyR7aWR9L2AsCiAgICBtZXRob2Q6ICdwdXQnLAogICAgZGF0YQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBkZWxldGVEb2N1bWVudChpZCkgewogIGNvbnNvbGUubG9nKCc+Pj4gZGVsZXRlRG9jdW1lbnQgZnVuY3Rpb24gZW50ZXJlZCBmb3IgSUQ6JywgaWQpOwogIGNvbnN0IHJlcXVlc3RDb25maWcgPSB7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2RvY3VtZW50cy8ke2lkfS9gLAogICAgbWV0aG9kOiAnZGVsZXRlJwogIH07CiAgY29uc29sZS5sb2coJz4+PiBkZWxldGVEb2N1bWVudCAtIFJlcXVlc3QgY29uZmlnIHByZXBhcmVkOicsIHJlcXVlc3RDb25maWcpOwogIHJldHVybiByZXF1ZXN0KHJlcXVlc3RDb25maWcpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgY29uc29sZS5sb2coJ2RlbGV0ZURvY3VtZW50IEFQSeWTjeW6lOaIkOWKnzonLCByZXNwb25zZSk7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgY29uc29sZS5lcnJvcignZGVsZXRlRG9jdW1lbnQgQVBJ6K+35rGC5aSx6LSlOicsIGVycm9yKTsKICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICBjb25zb2xlLmVycm9yKCfplJnor6/nirbmgIHnoIE6JywgZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5pWw5o2uOicsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgfQogICAgdGhyb3cgZXJyb3I7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkRG9jdW1lbnQoaWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2RvY3VtZW50cy8ke2lkfS9kb3dubG9hZC9gLAogICAgbWV0aG9kOiAnZ2V0JywKICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlcHJvY2Vzc0RvY3VtZW50KGlkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgJHtiYXNlVVJMfS9kb2N1bWVudHMvJHtpZH0vcmVwcm9jZXNzL2AsCiAgICBtZXRob2Q6ICdwb3N0JwogIH0pOwp9CgovLyDmlofmoaPlnZfnm7jlhbNBUEkKZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50Q2h1bmtzKGRvY3VtZW50SWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L2RvY3VtZW50cy8ke2RvY3VtZW50SWR9L2NodW5rcy9gLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hLbm93bGVkZ2UocXVlcnkpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAke2Jhc2VVUkx9L3NlYXJjaC9gLAogICAgbWV0aG9kOiAnZ2V0JywKICAgIHBhcmFtczogewogICAgICBxdWVyeQogICAgfQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudFN0YXRpc3RpY3MoKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgJHtiYXNlVVJMfS9zdGF0aXN0aWNzL2AsCiAgICBtZXRob2Q6ICdnZXQnCiAgfSk7Cn0KCi8vIOefpeivhuW6k+aehOW7uuebuOWFs0FQSQpleHBvcnQgZnVuY3Rpb24gYnVpbGRLbm93bGVkZ2VCYXNlKCkgewogIGNvbnNvbGUubG9nKCfosIPnlKhidWlsZEtub3dsZWRnZUJhc2UgQVBJJyk7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgJHtiYXNlVVJMfS9idWlsZC9gLAogICAgbWV0aG9kOiAncG9zdCcKICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgIGNvbnNvbGUubG9nKCdidWlsZEtub3dsZWRnZUJhc2UgQVBJ5ZON5bqU5oiQ5YqfOicsIHJlc3BvbnNlKTsKICAgIHJldHVybiByZXNwb25zZTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCdidWlsZEtub3dsZWRnZUJhc2UgQVBJ6K+35rGC5aSx6LSlOicsIGVycm9yKTsKICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICBjb25zb2xlLmVycm9yKCfplJnor6/nirbmgIHnoIE6JywgZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5pWw5o2uOicsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgfQogICAgdGhyb3cgZXJyb3I7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEtub3dsZWRnZUJhc2VTdGF0dXMoKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgJHtiYXNlVVJMfS9idWlsZC9zdGF0dXMvYCwKICAgIG1ldGhvZDogJ2dldCcKICB9KTsKfQoKLy8g55+l6K+G5bqT5YiX6KGoQVBJCmV4cG9ydCBmdW5jdGlvbiBnZXRLbm93bGVkZ2VMaXN0KCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYCR7YmFzZVVSTH0vbGlzdC9gLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9"},{"version":3,"names":["request","baseURL","getCategories","console","log","url","method","then","response","catch","error","status","data","addCategory","updateCategory","id","deleteCategory","getDocuments","params","getDocument","uploadDocument","FormData","file","get","name","size","type","lastModified","Promise","reject","Error","warn","timeout","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","message","JSON","stringify","code","updateDocument","deleteDocument","requestConfig","downloadDocument","responseType","reprocessDocument","getDocumentChunks","documentId","searchKnowledge","query","getDocumentStatistics","buildKnowledgeBase","getKnowledgeBaseStatus","getKnowledgeList"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/api/knowledge.js"],"sourcesContent":["/**\n * 知识库API服务\n */\nimport request from '@/utils/request'\n\nconst baseURL = '/api/knowledge'  // 确保这个路径与后端实际部署的路径一致\n\n// 分类相关API\nexport function getCategories() {\n  console.log('调用getCategories API函数')\n  return request({\n    url: `${baseURL}/categories/`,\n    method: 'get'\n  }).then(response => {\n    console.log('getCategories API响应成功:', response)\n    return response\n  }).catch(error => {\n    console.error('getCategories API请求失败:', error)\n    if (error.response) {\n      console.error('错误状态码:', error.response.status)\n      console.error('错误数据:', error.response.data)\n    }\n    throw error\n  })\n}\n\nexport function addCategory(data) {\n  return request({\n    url: `${baseURL}/categories/`,\n    method: 'post',\n    data\n  })\n}\n\nexport function updateCategory(id, data) {\n  return request({\n    url: `${baseURL}/categories/${id}/`,\n    method: 'put',\n    data\n  })\n}\n\nexport function deleteCategory(id) {\n  return request({\n    url: `${baseURL}/categories/${id}/`,\n    method: 'delete'\n  })\n}\n\n// 知识库文档相关API\nexport function getDocuments(params) {\n  console.log('调用getDocuments API:', `${baseURL}/documents/`, '参数:', params)\n  return request({\n    url: `${baseURL}/documents/`,\n    method: 'get',\n    params\n  }).then(response => {\n    console.log('getDocuments API响应成功:', response)\n    return response\n  }).catch(error => {\n    console.error('getDocuments API请求失败:', error)\n    if (error.response) {\n      console.error('错误状态码:', error.response.status)\n      console.error('错误数据:', error.response.data)\n    }\n    throw error\n  })\n}\n\nexport function getDocument(id) {\n  return request({\n    url: `${baseURL}/documents/${id}/`,\n    method: 'get'\n  })\n}\n\nexport function uploadDocument(data) {\n  console.log('开始上传文件...', data);\n  \n  // 检查FormData中是否包含文件及其大小\n  if (data instanceof FormData) {\n    const file = data.get('file');\n    if (file) {\n      console.log('FormData中的文件信息:', {\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        lastModified: file.lastModified\n      });\n      \n      // 验证文件有效性\n      if (!file.size || file.size === 0) {\n        return Promise.reject(new Error('文件大小为0，无法上传'));\n      }\n    } else {\n      console.warn('FormData中未找到文件!');\n      return Promise.reject(new Error('未找到有效文件'));\n    }\n  }\n  \n  return request({\n    url: `${baseURL}/documents/`,\n    method: 'post',\n    data,\n    timeout: 120000, // 增加超时时间到120秒，大文件上传需要更长时间\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    },\n    onUploadProgress: progressEvent => {\n      const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n      console.log(`上传进度: ${percentCompleted}%`);\n    }\n  }).then(response => {\n    console.log('文件上传成功响应:', response);\n    return response;\n  }).catch(error => {\n    console.error('文件上传失败:', error);\n    \n    // 处理不同的错误情况\n    if (error.response) {\n      console.error('上传错误状态码:', error.response.status);\n      console.error('上传错误数据:', error.response.data);\n      \n      // 处理特定的错误代码\n      if (error.response.status === 413) {\n        error.message = '文件太大，超出服务器允许的上传限制';\n      } else if (error.response.status === 400) {\n        error.message = `上传参数错误: ${JSON.stringify(error.response.data)}`;\n      } else if (error.response.status === 401) {\n        error.message = '未授权，请重新登录后再尝试上传';\n      } else if (error.response.status === 500) {\n        error.message = '服务器处理上传时发生错误';\n      }\n    } else if (error.request) {\n      // 请求已发送但没有收到响应\n      console.error('没有收到上传响应:', error.request);\n      if (error.code === 'ECONNABORTED') {\n        error.message = '上传超时，请检查网络或尝试上传较小的文件';\n      } else {\n        error.message = '网络错误，未收到服务器响应';\n      }\n    }\n    \n    throw error;\n  });\n}\n\nexport function updateDocument(id, data) {\n  return request({\n    url: `${baseURL}/documents/${id}/`,\n    method: 'put',\n    data\n  })\n}\n\nexport function deleteDocument(id) {\n  console.log('>>> deleteDocument function entered for ID:', id);\n  const requestConfig = {\n    url: `${baseURL}/documents/${id}/`,\n    method: 'delete'\n  };\n  console.log('>>> deleteDocument - Request config prepared:', requestConfig);\n  return request(requestConfig).then(response => {\n    console.log('deleteDocument API响应成功:', response);\n    return response;\n  }).catch(error => {\n    console.error('deleteDocument API请求失败:', error);\n    if (error.response) {\n      console.error('错误状态码:', error.response.status);\n      console.error('错误数据:', error.response.data);\n    }\n    throw error;\n  });\n}\n\nexport function downloadDocument(id) {\n  return request({\n    url: `${baseURL}/documents/${id}/download/`,\n    method: 'get',\n    responseType: 'blob'\n  })\n}\n\nexport function reprocessDocument(id) {\n  return request({\n    url: `${baseURL}/documents/${id}/reprocess/`,\n    method: 'post'\n  })\n}\n\n// 文档块相关API\nexport function getDocumentChunks(documentId) {\n  return request({\n    url: `${baseURL}/documents/${documentId}/chunks/`,\n    method: 'get'\n  })\n}\n\nexport function searchKnowledge(query) {\n  return request({\n    url: `${baseURL}/search/`,\n    method: 'get',\n    params: { query }\n  })\n}\n\nexport function getDocumentStatistics() {\n  return request({\n    url: `${baseURL}/statistics/`,\n    method: 'get'\n  })\n}\n\n// 知识库构建相关API\nexport function buildKnowledgeBase() {\n  console.log('调用buildKnowledgeBase API')\n  return request({\n    url: `${baseURL}/build/`,\n    method: 'post'\n  }).then(response => {\n    console.log('buildKnowledgeBase API响应成功:', response)\n    return response\n  }).catch(error => {\n    console.error('buildKnowledgeBase API请求失败:', error)\n    if (error.response) {\n      console.error('错误状态码:', error.response.status)\n      console.error('错误数据:', error.response.data)\n    }\n    throw error\n  })\n}\n\nexport function getKnowledgeBaseStatus() {\n  return request({\n    url: `${baseURL}/build/status/`,\n    method: 'get'\n  })\n}\n\n// 知识库列表API\nexport function getKnowledgeList() {\n  return request({\n    url: `${baseURL}/list/`,\n    method: 'get'\n  })\n} "],"mappings":";AAAA;AACA;AACA;AACA,OAAOA,OAAO,MAAM,iBAAiB;AAErC,MAAMC,OAAO,GAAG,gBAAgB,EAAE;;AAElC;AACA,OAAO,SAASC,aAAaA,CAAA,EAAG;EAC9BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACpC,OAAOJ,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAc;IAC7BK,MAAM,EAAE;EACV,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;IAClBL,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEI,QAAQ,CAAC;IAC/C,OAAOA,QAAQ;EACjB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IAChBP,OAAO,CAACO,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,IAAIA,KAAK,CAACF,QAAQ,EAAE;MAClBL,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAC9CR,OAAO,CAACO,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACF,QAAQ,CAACI,IAAI,CAAC;IAC7C;IACA,MAAMF,KAAK;EACb,CAAC,CAAC;AACJ;AAEA,OAAO,SAASG,WAAWA,CAACD,IAAI,EAAE;EAChC,OAAOZ,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAc;IAC7BK,MAAM,EAAE,MAAM;IACdM;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASE,cAAcA,CAACC,EAAE,EAAEH,IAAI,EAAE;EACvC,OAAOZ,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,eAAec,EAAE,GAAG;IACnCT,MAAM,EAAE,KAAK;IACbM;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASI,cAAcA,CAACD,EAAE,EAAE;EACjC,OAAOf,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,eAAec,EAAE,GAAG;IACnCT,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASW,YAAYA,CAACC,MAAM,EAAE;EACnCf,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE,GAAGH,OAAO,aAAa,EAAE,KAAK,EAAEiB,MAAM,CAAC;EAC1E,OAAOlB,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,aAAa;IAC5BK,MAAM,EAAE,KAAK;IACbY;EACF,CAAC,CAAC,CAACX,IAAI,CAACC,QAAQ,IAAI;IAClBL,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEI,QAAQ,CAAC;IAC9C,OAAOA,QAAQ;EACjB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IAChBP,OAAO,CAACO,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,IAAIA,KAAK,CAACF,QAAQ,EAAE;MAClBL,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAC9CR,OAAO,CAACO,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACF,QAAQ,CAACI,IAAI,CAAC;IAC7C;IACA,MAAMF,KAAK;EACb,CAAC,CAAC;AACJ;AAEA,OAAO,SAASS,WAAWA,CAACJ,EAAE,EAAE;EAC9B,OAAOf,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAcc,EAAE,GAAG;IAClCT,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;AAEA,OAAO,SAASc,cAAcA,CAACR,IAAI,EAAE;EACnCT,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEQ,IAAI,CAAC;;EAE9B;EACA,IAAIA,IAAI,YAAYS,QAAQ,EAAE;IAC5B,MAAMC,IAAI,GAAGV,IAAI,CAACW,GAAG,CAAC,MAAM,CAAC;IAC7B,IAAID,IAAI,EAAE;MACRnB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE;QAC7BoB,IAAI,EAAEF,IAAI,CAACE,IAAI;QACfC,IAAI,EAAEH,IAAI,CAACG,IAAI;QACfC,IAAI,EAAEJ,IAAI,CAACI,IAAI;QACfC,YAAY,EAAEL,IAAI,CAACK;MACrB,CAAC,CAAC;;MAEF;MACA,IAAI,CAACL,IAAI,CAACG,IAAI,IAAIH,IAAI,CAACG,IAAI,KAAK,CAAC,EAAE;QACjC,OAAOG,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,aAAa,CAAC,CAAC;MACjD;IACF,CAAC,MAAM;MACL3B,OAAO,CAAC4B,IAAI,CAAC,iBAAiB,CAAC;MAC/B,OAAOH,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC7C;EACF;EAEA,OAAO9B,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,aAAa;IAC5BK,MAAM,EAAE,MAAM;IACdM,IAAI;IACJoB,OAAO,EAAE,MAAM;IAAE;IACjBC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,gBAAgB,EAAEC,aAAa,IAAI;MACjC,MAAMC,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAAEH,aAAa,CAACI,MAAM,GAAG,GAAG,GAAIJ,aAAa,CAACK,KAAK,CAAC;MACvFrC,OAAO,CAACC,GAAG,CAAC,SAASgC,gBAAgB,GAAG,CAAC;IAC3C;EACF,CAAC,CAAC,CAAC7B,IAAI,CAACC,QAAQ,IAAI;IAClBL,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEI,QAAQ,CAAC;IAClC,OAAOA,QAAQ;EACjB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IAChBP,OAAO,CAACO,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;;IAE/B;IACA,IAAIA,KAAK,CAACF,QAAQ,EAAE;MAClBL,OAAO,CAACO,KAAK,CAAC,UAAU,EAAEA,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAChDR,OAAO,CAACO,KAAK,CAAC,SAAS,EAAEA,KAAK,CAACF,QAAQ,CAACI,IAAI,CAAC;;MAE7C;MACA,IAAIF,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACjCD,KAAK,CAAC+B,OAAO,GAAG,mBAAmB;MACrC,CAAC,MAAM,IAAI/B,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxCD,KAAK,CAAC+B,OAAO,GAAG,WAAWC,IAAI,CAACC,SAAS,CAACjC,KAAK,CAACF,QAAQ,CAACI,IAAI,CAAC,EAAE;MAClE,CAAC,MAAM,IAAIF,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxCD,KAAK,CAAC+B,OAAO,GAAG,iBAAiB;MACnC,CAAC,MAAM,IAAI/B,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxCD,KAAK,CAAC+B,OAAO,GAAG,cAAc;MAChC;IACF,CAAC,MAAM,IAAI/B,KAAK,CAACV,OAAO,EAAE;MACxB;MACAG,OAAO,CAACO,KAAK,CAAC,WAAW,EAAEA,KAAK,CAACV,OAAO,CAAC;MACzC,IAAIU,KAAK,CAACkC,IAAI,KAAK,cAAc,EAAE;QACjClC,KAAK,CAAC+B,OAAO,GAAG,sBAAsB;MACxC,CAAC,MAAM;QACL/B,KAAK,CAAC+B,OAAO,GAAG,eAAe;MACjC;IACF;IAEA,MAAM/B,KAAK;EACb,CAAC,CAAC;AACJ;AAEA,OAAO,SAASmC,cAAcA,CAAC9B,EAAE,EAAEH,IAAI,EAAE;EACvC,OAAOZ,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAcc,EAAE,GAAG;IAClCT,MAAM,EAAE,KAAK;IACbM;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASkC,cAAcA,CAAC/B,EAAE,EAAE;EACjCZ,OAAO,CAACC,GAAG,CAAC,6CAA6C,EAAEW,EAAE,CAAC;EAC9D,MAAMgC,aAAa,GAAG;IACpB1C,GAAG,EAAE,GAAGJ,OAAO,cAAcc,EAAE,GAAG;IAClCT,MAAM,EAAE;EACV,CAAC;EACDH,OAAO,CAACC,GAAG,CAAC,+CAA+C,EAAE2C,aAAa,CAAC;EAC3E,OAAO/C,OAAO,CAAC+C,aAAa,CAAC,CAACxC,IAAI,CAACC,QAAQ,IAAI;IAC7CL,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEI,QAAQ,CAAC;IAChD,OAAOA,QAAQ;EACjB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IAChBP,OAAO,CAACO,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,IAAIA,KAAK,CAACF,QAAQ,EAAE;MAClBL,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAC9CR,OAAO,CAACO,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACF,QAAQ,CAACI,IAAI,CAAC;IAC7C;IACA,MAAMF,KAAK;EACb,CAAC,CAAC;AACJ;AAEA,OAAO,SAASsC,gBAAgBA,CAACjC,EAAE,EAAE;EACnC,OAAOf,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAcc,EAAE,YAAY;IAC3CT,MAAM,EAAE,KAAK;IACb2C,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,iBAAiBA,CAACnC,EAAE,EAAE;EACpC,OAAOf,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAcc,EAAE,aAAa;IAC5CT,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAAS6C,iBAAiBA,CAACC,UAAU,EAAE;EAC5C,OAAOpD,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAcmD,UAAU,UAAU;IACjD9C,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;AAEA,OAAO,SAAS+C,eAAeA,CAACC,KAAK,EAAE;EACrC,OAAOtD,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,UAAU;IACzBK,MAAM,EAAE,KAAK;IACbY,MAAM,EAAE;MAAEoC;IAAM;EAClB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,qBAAqBA,CAAA,EAAG;EACtC,OAAOvD,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,cAAc;IAC7BK,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASkD,kBAAkBA,CAAA,EAAG;EACnCrD,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;EACvC,OAAOJ,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,SAAS;IACxBK,MAAM,EAAE;EACV,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;IAClBL,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEI,QAAQ,CAAC;IACpD,OAAOA,QAAQ;EACjB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IAChBP,OAAO,CAACO,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,IAAIA,KAAK,CAACF,QAAQ,EAAE;MAClBL,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAC9CR,OAAO,CAACO,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACF,QAAQ,CAACI,IAAI,CAAC;IAC7C;IACA,MAAMF,KAAK;EACb,CAAC,CAAC;AACJ;AAEA,OAAO,SAAS+C,sBAAsBA,CAAA,EAAG;EACvC,OAAOzD,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,gBAAgB;IAC/BK,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASoD,gBAAgBA,CAAA,EAAG;EACjC,OAAO1D,OAAO,CAAC;IACbK,GAAG,EAAE,GAAGJ,OAAO,QAAQ;IACvBK,MAAM,EAAE;EACV,CAAC,CAAC;AACJ","ignoreList":[]}]}