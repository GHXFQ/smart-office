{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\chat\\Index.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\chat\\Index.vue","mtime":1750510046001},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLnNvbWUuanMiOwppbXBvcnQgeyByZWYsIGNvbXB1dGVkLCBvbk1vdW50ZWQsIG5leHRUaWNrLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKaW1wb3J0IHsgZmluZE9yQ3JlYXRlQ2hhdFNlc3Npb24sIGdldENoYXRTZXNzaW9ucywgZ2V0TWVzc2FnZXNGb3JTZXNzaW9uLCBzZW5kTmV3TWVzc2FnZSB9IGZyb20gJ0AvYXBpL2NoYXQnOwppbXBvcnQgeyBTZWFyY2gsIFBsdXMsIFByb21vdGlvbiwgTG9hZGluZyB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKaW1wb3J0IHsgZm9ybWF0LCBmb3JtYXREaXN0YW5jZVRvTm93LCBwYXJzZUlTTyB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgemhDTiB9IGZyb20gJ2RhdGUtZm5zL2xvY2FsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBfX25hbWU6ICdJbmRleCcsCiAgc2V0dXAoX19wcm9wcywgewogICAgZXhwb3NlOiBfX2V4cG9zZQogIH0pIHsKICAgIF9fZXhwb3NlKCk7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVycy51c2VyIHx8IHt9KTsKICAgIGNvbnN0IGNoYXRTZXNzaW9ucyA9IHJlZihbXSk7CiAgICBjb25zdCBjdXJyZW50Q2hhdElkID0gcmVmKG51bGwpOwogICAgY29uc3QgbWVzc2FnZXMgPSByZWYoW10pOwogICAgY29uc3QgbmV3TWVzc2FnZSA9IHJlZignJyk7CiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHJlZignJyk7CiAgICBjb25zdCBzZXNzaW9uc0xvYWRpbmcgPSByZWYodHJ1ZSk7CiAgICBjb25zdCBtZXNzYWdlc0xvYWRpbmcgPSByZWYoZmFsc2UpOwogICAgY29uc3Qgc2Vzc2lvbkhhbmRsaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IG1lc3NhZ2VDb250YWluZXIgPSByZWYobnVsbCk7CiAgICBjb25zdCBmaWx0ZXJlZFNlc3Npb25zID0gY29tcHV0ZWQoKCkgPT4gY2hhdFNlc3Npb25zLnZhbHVlLmZpbHRlcihzZXNzaW9uID0+IHNlc3Npb24ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5LnZhbHVlLnRvTG93ZXJDYXNlKCkpKSk7CiAgICBjb25zdCBjdXJyZW50U2Vzc2lvbiA9IGNvbXB1dGVkKCgpID0+IGNoYXRTZXNzaW9ucy52YWx1ZS5maW5kKHMgPT4gcy5pZCA9PT0gY3VycmVudENoYXRJZC52YWx1ZSkgfHwge30pOwogICAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7CiAgICAgIG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAobWVzc2FnZUNvbnRhaW5lci52YWx1ZSkgewogICAgICAgICAgbWVzc2FnZUNvbnRhaW5lci52YWx1ZS5zY3JvbGxUb3AgPSBtZXNzYWdlQ29udGFpbmVyLnZhbHVlLnNjcm9sbEhlaWdodDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IGZldGNoU2Vzc2lvbnMgPSBhc3luYyAoKSA9PiB7CiAgICAgIHNlc3Npb25zTG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBnZXRDaGF0U2Vzc2lvbnMoKTsKICAgICAgICBjaGF0U2Vzc2lvbnMudmFsdWUgPSBkYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIEVsTWVzc2FnZS5lcnJvcign5Yqg6L296IGK5aSp5YiX6KGo5aSx6LSlJyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgc2Vzc2lvbnNMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBzZWxlY3RDaGF0U2Vzc2lvbiA9IGFzeW5jIHNlc3Npb24gPT4gewogICAgICBpZiAoIXNlc3Npb24gfHwgY3VycmVudENoYXRJZC52YWx1ZSA9PT0gc2Vzc2lvbi5pZCkgcmV0dXJuOwogICAgICBjdXJyZW50Q2hhdElkLnZhbHVlID0gc2Vzc2lvbi5pZDsKICAgICAgbWVzc2FnZXNMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgbWVzc2FnZXMudmFsdWUgPSBbXTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBkYXRhCiAgICAgICAgfSA9IGF3YWl0IGdldE1lc3NhZ2VzRm9yU2Vzc2lvbihzZXNzaW9uLmlkKTsKICAgICAgICBtZXNzYWdlcy52YWx1ZSA9IGRhdGE7CiAgICAgICAgLy8gTWFyayBhcyByZWFkLCBldGMuIChsb2dpYyBjYW4gYmUgYWRkZWQgaGVyZSkKICAgICAgICBjb25zdCBzZXNzaW9uSW5MaXN0ID0gY2hhdFNlc3Npb25zLnZhbHVlLmZpbmQocyA9PiBzLmlkID09PSBzZXNzaW9uLmlkKTsKICAgICAgICBpZiAoc2Vzc2lvbkluTGlzdCkgc2Vzc2lvbkluTGlzdC51bnJlYWRfY291bnQgPSAwOwogICAgICAgIHNjcm9sbFRvQm90dG9tKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliqDovb3mtojmga/lpLHotKUnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBtZXNzYWdlc0xvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoIW5ld01lc3NhZ2UudmFsdWUudHJpbSgpIHx8ICFjdXJyZW50Q2hhdElkLnZhbHVlKSByZXR1cm47CiAgICAgIGNvbnN0IGNvbnRlbnQgPSBuZXdNZXNzYWdlLnZhbHVlOwogICAgICBuZXdNZXNzYWdlLnZhbHVlID0gJyc7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YTogc2VudE1lc3NhZ2UKICAgICAgICB9ID0gYXdhaXQgc2VuZE5ld01lc3NhZ2UoY3VycmVudENoYXRJZC52YWx1ZSwgewogICAgICAgICAgY29udGVudAogICAgICAgIH0pOwogICAgICAgIG1lc3NhZ2VzLnZhbHVlLnB1c2goc2VudE1lc3NhZ2UpOwogICAgICAgIC8vIE1vdmUgc2Vzc2lvbiB0byB0b3AKICAgICAgICBjb25zdCBzZXNzaW9uSWR4ID0gY2hhdFNlc3Npb25zLnZhbHVlLmZpbmRJbmRleChzID0+IHMuaWQgPT09IGN1cnJlbnRDaGF0SWQudmFsdWUpOwogICAgICAgIGlmIChzZXNzaW9uSWR4ID4gLTEpIHsKICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBjaGF0U2Vzc2lvbnMudmFsdWUuc3BsaWNlKHNlc3Npb25JZHgsIDEpWzBdOwogICAgICAgICAgc2Vzc2lvbi5sYXN0X21lc3NhZ2UgPSBzZW50TWVzc2FnZTsKICAgICAgICAgIHNlc3Npb24ubGFzdF9tZXNzYWdlX3RpbWUgPSBzZW50TWVzc2FnZS50aW1lc3RhbXA7CiAgICAgICAgICBjaGF0U2Vzc2lvbnMudmFsdWUudW5zaGlmdChzZXNzaW9uKTsKICAgICAgICB9CiAgICAgICAgc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WPkemAgeWksei0pScpOwogICAgICAgIG5ld01lc3NhZ2UudmFsdWUgPSBjb250ZW50OyAvLyBSZXN0b3JlIG1lc3NhZ2Ugb24gZmFpbHVyZQogICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlUm91dGVDaGFuZ2UgPSBhc3luYyBxdWVyeSA9PiB7CiAgICAgIGlmIChzZXNzaW9uSGFuZGxpbmcudmFsdWUpIHJldHVybjsKICAgICAgY29uc3QgewogICAgICAgIGNoYXRJZCwKICAgICAgICB1c2VySWQKICAgICAgfSA9IHF1ZXJ5OwogICAgICBpZiAoIWNoYXRJZCAmJiAhdXNlcklkKSByZXR1cm47CiAgICAgIHNlc3Npb25IYW5kbGluZy52YWx1ZSA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IGZpbmFsQ2hhdElkID0gY2hhdElkOwogICAgICAgIGlmICh1c2VySWQpIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgZGF0YTogc2Vzc2lvbgogICAgICAgICAgfSA9IGF3YWl0IGZpbmRPckNyZWF0ZUNoYXRTZXNzaW9uKHVzZXJJZCk7CiAgICAgICAgICBmaW5hbENoYXRJZCA9IHNlc3Npb24uaWQ7CiAgICAgICAgICAvLyBDaGVjayBpZiBzZXNzaW9uIGlzIGFscmVhZHkgaW4gbGlzdCwgaWYgbm90LCBmZXRjaCBhbGwgYWdhaW4KICAgICAgICAgIGlmICghY2hhdFNlc3Npb25zLnZhbHVlLnNvbWUocyA9PiBzLmlkID09PSBmaW5hbENoYXRJZCkpIHsKICAgICAgICAgICAgYXdhaXQgZmV0Y2hTZXNzaW9ucygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjb25zdCB0YXJnZXRTZXNzaW9uID0gY2hhdFNlc3Npb25zLnZhbHVlLmZpbmQocyA9PiBzLmlkLnRvU3RyaW5nKCkgPT09IGZpbmFsQ2hhdElkLnRvU3RyaW5nKCkpOwogICAgICAgIGlmICh0YXJnZXRTZXNzaW9uKSB7CiAgICAgICAgICBhd2FpdCBzZWxlY3RDaGF0U2Vzc2lvbih0YXJnZXRTZXNzaW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gVGhpcyBtaWdodCBoYXBwZW4gaWYgZmV0Y2hTZXNzaW9ucyBpcyBzbG93LCByZS1jaGVjawogICAgICAgICAgY29uc3QgcmVmcmVzaGVkVGFyZ2V0ID0gY2hhdFNlc3Npb25zLnZhbHVlLmZpbmQocyA9PiBzLmlkLnRvU3RyaW5nKCkgPT09IGZpbmFsQ2hhdElkLnRvU3RyaW5nKCkpOwogICAgICAgICAgaWYgKHJlZnJlc2hlZFRhcmdldCkgewogICAgICAgICAgICBhd2FpdCBzZWxlY3RDaGF0U2Vzc2lvbihyZWZyZXNoZWRUYXJnZXQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfml6Dms5XlrprkvY3liLDogYrlpKknKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENsZWFuIFVSTAogICAgICAgIHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgIHF1ZXJ5OiB7fQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UsIF9lcnJvciRyZXNwb25zZSRkYXRhOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBoYW5kbGUgY2hhdCByb3V0ZScsIGVycm9yKTsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoKChfZXJyb3IkcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9yJHJlc3BvbnNlJGRhdGEgPSBfZXJyb3IkcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZSRkYXRhLmVycm9yKSB8fCAn6L+b5YWl6IGK5aSp5aSx6LSlJyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgc2Vzc2lvbkhhbmRsaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH07CgogICAgLy8gLS0tIFRpbWUgRm9ybWF0dGluZyAtLS0KICAgIGNvbnN0IGZvcm1hdFRpbWUgPSB0aW1lID0+IHsKICAgICAgaWYgKCF0aW1lKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IGRhdGUgPSBwYXJzZUlTTyh0aW1lKTsKICAgICAgcmV0dXJuIGZvcm1hdERpc3RhbmNlVG9Ob3coZGF0ZSwgewogICAgICAgIGFkZFN1ZmZpeDogdHJ1ZSwKICAgICAgICBsb2NhbGU6IHpoQ04KICAgICAgfSk7CiAgICB9OwogICAgY29uc3QgZm9ybWF0TWVzc2FnZVRpbWUgPSB0aW1lID0+IHsKICAgICAgaWYgKCF0aW1lKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IGRhdGUgPSBwYXJzZUlTTyh0aW1lKTsKICAgICAgcmV0dXJuIGZvcm1hdChkYXRlLCAnSEg6bW0nKTsKICAgIH07CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBmZXRjaFNlc3Npb25zKCkudGhlbigoKSA9PiB7CiAgICAgICAgaWYgKHJvdXRlLnF1ZXJ5LmNoYXRJZCB8fCByb3V0ZS5xdWVyeS51c2VySWQpIHsKICAgICAgICAgIGhhbmRsZVJvdXRlQ2hhbmdlKHJvdXRlLnF1ZXJ5KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICB3YXRjaCgoKSA9PiByb3V0ZS5xdWVyeSwgbmV3UXVlcnkgPT4gewogICAgICBpZiAoKG5ld1F1ZXJ5LmNoYXRJZCB8fCBuZXdRdWVyeS51c2VySWQpICYmICFzZXNzaW9uSGFuZGxpbmcudmFsdWUpIHsKICAgICAgICBoYW5kbGVSb3V0ZUNoYW5nZShuZXdRdWVyeSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgZGVlcDogdHJ1ZQogICAgfSk7CiAgICBjb25zdCBfX3JldHVybmVkX18gPSB7CiAgICAgIHN0b3JlLAogICAgICByb3V0ZXIsCiAgICAgIHJvdXRlLAogICAgICBjdXJyZW50VXNlciwKICAgICAgY2hhdFNlc3Npb25zLAogICAgICBjdXJyZW50Q2hhdElkLAogICAgICBtZXNzYWdlcywKICAgICAgbmV3TWVzc2FnZSwKICAgICAgc2VhcmNoUXVlcnksCiAgICAgIHNlc3Npb25zTG9hZGluZywKICAgICAgbWVzc2FnZXNMb2FkaW5nLAogICAgICBzZXNzaW9uSGFuZGxpbmcsCiAgICAgIG1lc3NhZ2VDb250YWluZXIsCiAgICAgIGZpbHRlcmVkU2Vzc2lvbnMsCiAgICAgIGN1cnJlbnRTZXNzaW9uLAogICAgICBzY3JvbGxUb0JvdHRvbSwKICAgICAgZmV0Y2hTZXNzaW9ucywKICAgICAgc2VsZWN0Q2hhdFNlc3Npb24sCiAgICAgIHNlbmRNZXNzYWdlLAogICAgICBoYW5kbGVSb3V0ZUNoYW5nZSwKICAgICAgZm9ybWF0VGltZSwKICAgICAgZm9ybWF0TWVzc2FnZVRpbWUsCiAgICAgIHJlZiwKICAgICAgY29tcHV0ZWQsCiAgICAgIG9uTW91bnRlZCwKICAgICAgbmV4dFRpY2ssCiAgICAgIHdhdGNoLAogICAgICBnZXQgdXNlU3RvcmUoKSB7CiAgICAgICAgcmV0dXJuIHVzZVN0b3JlOwogICAgICB9LAogICAgICBnZXQgdXNlUm91dGVyKCkgewogICAgICAgIHJldHVybiB1c2VSb3V0ZXI7CiAgICAgIH0sCiAgICAgIGdldCB1c2VSb3V0ZSgpIHsKICAgICAgICByZXR1cm4gdXNlUm91dGU7CiAgICAgIH0sCiAgICAgIGdldCBFbE1lc3NhZ2UoKSB7CiAgICAgICAgcmV0dXJuIEVsTWVzc2FnZTsKICAgICAgfSwKICAgICAgZ2V0IGZpbmRPckNyZWF0ZUNoYXRTZXNzaW9uKCkgewogICAgICAgIHJldHVybiBmaW5kT3JDcmVhdGVDaGF0U2Vzc2lvbjsKICAgICAgfSwKICAgICAgZ2V0IGdldENoYXRTZXNzaW9ucygpIHsKICAgICAgICByZXR1cm4gZ2V0Q2hhdFNlc3Npb25zOwogICAgICB9LAogICAgICBnZXQgZ2V0TWVzc2FnZXNGb3JTZXNzaW9uKCkgewogICAgICAgIHJldHVybiBnZXRNZXNzYWdlc0ZvclNlc3Npb247CiAgICAgIH0sCiAgICAgIGdldCBzZW5kTmV3TWVzc2FnZSgpIHsKICAgICAgICByZXR1cm4gc2VuZE5ld01lc3NhZ2U7CiAgICAgIH0sCiAgICAgIGdldCBTZWFyY2goKSB7CiAgICAgICAgcmV0dXJuIFNlYXJjaDsKICAgICAgfSwKICAgICAgZ2V0IFBsdXMoKSB7CiAgICAgICAgcmV0dXJuIFBsdXM7CiAgICAgIH0sCiAgICAgIGdldCBQcm9tb3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFByb21vdGlvbjsKICAgICAgfSwKICAgICAgZ2V0IExvYWRpbmcoKSB7CiAgICAgICAgcmV0dXJuIExvYWRpbmc7CiAgICAgIH0sCiAgICAgIGdldCBmb3JtYXQoKSB7CiAgICAgICAgcmV0dXJuIGZvcm1hdDsKICAgICAgfSwKICAgICAgZ2V0IGZvcm1hdERpc3RhbmNlVG9Ob3coKSB7CiAgICAgICAgcmV0dXJuIGZvcm1hdERpc3RhbmNlVG9Ob3c7CiAgICAgIH0sCiAgICAgIGdldCBwYXJzZUlTTygpIHsKICAgICAgICByZXR1cm4gcGFyc2VJU087CiAgICAgIH0sCiAgICAgIGdldCB6aENOKCkgewogICAgICAgIHJldHVybiB6aENOOwogICAgICB9CiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQp9Ow=="},{"version":3,"names":["ref","computed","onMounted","nextTick","watch","useStore","useRouter","useRoute","ElMessage","findOrCreateChatSession","getChatSessions","getMessagesForSession","sendNewMessage","Search","Plus","Promotion","Loading","format","formatDistanceToNow","parseISO","zhCN","store","router","route","currentUser","getters","user","chatSessions","currentChatId","messages","newMessage","searchQuery","sessionsLoading","messagesLoading","sessionHandling","messageContainer","filteredSessions","value","filter","session","name","toLowerCase","includes","currentSession","find","s","id","scrollToBottom","scrollTop","scrollHeight","fetchSessions","data","error","selectChatSession","sessionInList","unread_count","sendMessage","trim","content","sentMessage","push","sessionIdx","findIndex","splice","last_message","last_message_time","timestamp","unshift","handleRouteChange","query","chatId","userId","finalChatId","some","targetSession","toString","refreshedTarget","replace","_error$response","_error$response$data","console","response","formatTime","time","date","addSuffix","locale","formatMessageTime","then","newQuery","deep"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/chat/Index.vue"],"sourcesContent":["<template>\n  <div class=\"chat-container\">\n    <el-card class=\"chat-card\">\n      <div class=\"chat-layout\">\n        <!-- Left Sidebar -->\n        <div class=\"chat-sidebar\">\n          <div class=\"search-box\">\n            <el-input v-model=\"searchQuery\" placeholder=\"搜索...\" :prefix-icon=\"Search\" clearable />\n            <el-button :icon=\"Plus\" circle @click=\"showCreateSessionDialog = true\" title=\"创建新聊天\" />\n          </div>\n          <el-skeleton :rows=\"10\" animated v-if=\"sessionsLoading\" />\n          <el-scrollbar class=\"contacts-list\" v-else-if=\"filteredSessions.length > 0\">\n            <div\n              v-for=\"session in filteredSessions\"\n              :key=\"session.id\"\n              class=\"contact-item\"\n              :class=\"{ 'active': currentChatId === session.id }\"\n              @click=\"selectChatSession(session)\"\n            >\n              <el-avatar :size=\"40\" :src=\"session.avatar_url\" class=\"contact-avatar\">\n                {{ session.name[0] }}\n              </el-avatar>\n              <div class=\"contact-info\">\n                <div class=\"contact-name\">\n                  <span>{{ session.name }}</span>\n                  <span class=\"time\">{{ formatTime(session.last_message_time) }}</span>\n                </div>\n                <div class=\"contact-message\">\n                  <span class=\"summary\" v-html=\"session.last_message ? session.last_message.content : '...'\"></span>\n                  <el-badge :value=\"session.unread_count\" :hidden=\"session.unread_count === 0\" class=\"message-badge\" />\n                </div>\n              </div>\n            </div>\n          </el-scrollbar>\n          <el-empty description=\"没有聊天\" v-else />\n        </div>\n\n        <!-- Chat Content -->\n        <div class=\"chat-content\">\n          <template v-if=\"currentChatId\">\n            <div class=\"chat-header\">\n              <span>{{ currentSession.name }}</span>\n            </div>\n            <div class=\"chat-messages\" ref=\"messageContainer\">\n              <el-skeleton :rows=\"10\" animated v-if=\"messagesLoading\" />\n              <div v-else>\n                <div v-for=\"message in messages\" :key=\"message.id\" class=\"message\" :class=\"message.user.id === currentUser.id ? 'message-sent' : 'message-received'\">\n                   <el-avatar :size=\"32\" :src=\"message.user.avatar_url\" class=\"message-avatar\">\n                      {{ message.user.username[0] }}\n                   </el-avatar>\n                  <div class=\"message-content-wrapper\">\n                    <div class=\"message-content\">\n                       {{ message.content }}\n                    </div>\n                     <div class=\"message-time\">{{ formatMessageTime(message.timestamp) }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"chat-input-area\">\n              <el-input\n                v-model=\"newMessage\"\n                placeholder=\"输入消息...\"\n                @keydown.enter.prevent=\"sendMessage\"\n                type=\"textarea\"\n                :autosize=\"{ minRows: 1, maxRows: 4 }\"\n              />\n              <el-button type=\"primary\" :icon=\"Promotion\" @click=\"sendMessage\">发送</el-button>\n            </div>\n          </template>\n          <el-empty description=\"选择一个聊天开始\" v-else />\n           <div v-if=\"sessionHandling\" class=\"loading-overlay\">\n            <el-icon class=\"is-loading\" :size=\"32\"><Loading /></el-icon>\n            <span>正在进入聊天...</span>\n          </div>\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, nextTick, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter, useRoute } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nimport { findOrCreateChatSession, getChatSessions, getMessagesForSession, sendNewMessage } from '@/api/chat';\nimport { Search, Plus, Promotion, Loading } from '@element-plus/icons-vue';\nimport { format, formatDistanceToNow, parseISO } from 'date-fns';\nimport { zhCN } from 'date-fns/locale';\n\nconst store = useStore();\nconst router = useRouter();\nconst route = useRoute();\n\nconst currentUser = computed(() => store.getters.user || {});\nconst chatSessions = ref([]);\nconst currentChatId = ref(null);\nconst messages = ref([]);\nconst newMessage = ref('');\nconst searchQuery = ref('');\n\nconst sessionsLoading = ref(true);\nconst messagesLoading = ref(false);\nconst sessionHandling = ref(false);\n\nconst messageContainer = ref(null);\n\nconst filteredSessions = computed(() =>\n  chatSessions.value.filter(session =>\n    session.name.toLowerCase().includes(searchQuery.value.toLowerCase())\n  )\n);\n\nconst currentSession = computed(() =>\n  chatSessions.value.find(s => s.id === currentChatId.value) || {}\n);\n\nconst scrollToBottom = () => {\n  nextTick(() => {\n    if (messageContainer.value) {\n      messageContainer.value.scrollTop = messageContainer.value.scrollHeight;\n    }\n  });\n};\n\nconst fetchSessions = async () => {\n  sessionsLoading.value = true;\n  try {\n    const { data } = await getChatSessions();\n    chatSessions.value = data;\n  } catch (error) {\n    ElMessage.error('加载聊天列表失败');\n  } finally {\n    sessionsLoading.value = false;\n  }\n};\n\nconst selectChatSession = async (session) => {\n  if (!session || currentChatId.value === session.id) return;\n  \n  currentChatId.value = session.id;\n  messagesLoading.value = true;\n  messages.value = [];\n  \n  try {\n    const { data } = await getMessagesForSession(session.id);\n    messages.value = data;\n    // Mark as read, etc. (logic can be added here)\n    const sessionInList = chatSessions.value.find(s => s.id === session.id);\n    if(sessionInList) sessionInList.unread_count = 0;\n    scrollToBottom();\n  } catch (error) {\n    ElMessage.error('加载消息失败');\n  } finally {\n    messagesLoading.value = false;\n  }\n};\n\nconst sendMessage = async () => {\n  if (!newMessage.value.trim() || !currentChatId.value) return;\n  \n  const content = newMessage.value;\n  newMessage.value = '';\n  \n  try {\n    const { data: sentMessage } = await sendNewMessage(currentChatId.value, { content });\n    messages.value.push(sentMessage);\n    // Move session to top\n    const sessionIdx = chatSessions.value.findIndex(s => s.id === currentChatId.value);\n    if (sessionIdx > -1) {\n      const session = chatSessions.value.splice(sessionIdx, 1)[0];\n      session.last_message = sentMessage;\n      session.last_message_time = sentMessage.timestamp;\n      chatSessions.value.unshift(session);\n    }\n    scrollToBottom();\n  } catch (error) {\n    ElMessage.error('发送失败');\n    newMessage.value = content; // Restore message on failure\n  }\n};\n\n\nconst handleRouteChange = async (query) => {\n  if (sessionHandling.value) return;\n\n  const { chatId, userId } = query;\n  if (!chatId && !userId) return;\n\n  sessionHandling.value = true;\n\n  try {\n    let finalChatId = chatId;\n    if (userId) {\n      const { data: session } = await findOrCreateChatSession(userId);\n      finalChatId = session.id;\n      // Check if session is already in list, if not, fetch all again\n      if (!chatSessions.value.some(s => s.id === finalChatId)) {\n        await fetchSessions();\n      }\n    }\n    \n    const targetSession = chatSessions.value.find(s => s.id.toString() === finalChatId.toString());\n    if (targetSession) {\n      await selectChatSession(targetSession);\n    } else {\n        // This might happen if fetchSessions is slow, re-check\n       const refreshedTarget = chatSessions.value.find(s => s.id.toString() === finalChatId.toString());\n       if (refreshedTarget) {\n           await selectChatSession(refreshedTarget);\n       } else {\n           ElMessage.error('无法定位到聊天');\n       }\n    }\n    \n    // Clean URL\n    router.replace({ query: {} });\n  } catch (error) {\n    console.error('Failed to handle chat route', error);\n    ElMessage.error(error.response?.data?.error || '进入聊天失败');\n  } finally {\n    sessionHandling.value = false;\n  }\n};\n\n// --- Time Formatting ---\nconst formatTime = (time) => {\n    if (!time) return '';\n    const date = parseISO(time);\n    return formatDistanceToNow(date, { addSuffix: true, locale: zhCN });\n};\nconst formatMessageTime = (time) => {\n    if (!time) return '';\n    const date = parseISO(time);\n    return format(date, 'HH:mm');\n};\n\nonMounted(() => {\n  fetchSessions().then(() => {\n    if (route.query.chatId || route.query.userId) {\n      handleRouteChange(route.query);\n    }\n  });\n});\n\nwatch(() => route.query, (newQuery) => {\n  if ((newQuery.chatId || newQuery.userId) && !sessionHandling.value) {\n    handleRouteChange(newQuery);\n  }\n}, { deep: true });\n\n</script>\n\n<style scoped>\n.chat-container {\n  height: calc(100vh - 120px);\n  padding: 20px;\n}\n.chat-card {\n  height: 100%;\n}\n.chat-layout {\n  display: flex;\n  height: 100%;\n}\n.chat-sidebar {\n  width: 300px;\n  border-right: 1px solid #e0e0e0;\n  display: flex;\n  flex-direction: column;\n}\n.search-box {\n  padding: 10px;\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  border-bottom: 1px solid #e0e0e0;\n}\n.contacts-list {\n  flex-grow: 1;\n}\n.contact-item {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n}\n.contact-item.active {\n  background-color: #f0f5ff;\n}\n.contact-item:hover {\n  background-color: #f9f9f9;\n}\n.contact-avatar {\n  margin-right: 10px;\n}\n.contact-info {\n  flex-grow: 1;\n  overflow: hidden;\n}\n.contact-name {\n  display: flex;\n  justify-content: space-between;\n  font-weight: bold;\n}\n.time {\n  font-size: 0.75rem;\n  color: #999;\n}\n.contact-message {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.85rem;\n  color: #666;\n}\n.summary {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.chat-content {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n.chat-header {\n  padding: 15px;\n  border-bottom: 1px solid #e0e0e0;\n  font-weight: bold;\n  font-size: 1.1rem;\n}\n.chat-messages {\n  flex-grow: 1;\n  overflow-y: auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n}\n.message {\n  display: flex;\n  margin-bottom: 15px;\n  gap: 10px;\n}\n.message-sent {\n  flex-direction: row-reverse;\n}\n.message-content-wrapper {\n  max-width: 70%;\n}\n.message-content {\n  background-color: white;\n  padding: 10px 15px;\n  border-radius: 18px;\n  box-shadow: 0 1px 1px rgba(0,0,0,0.05);\n}\n.message-sent .message-content {\n  background-color: #dcf8c6;\n}\n.message-time {\n    font-size: 0.7rem;\n    color: #aaa;\n    margin-top: 4px;\n    padding: 0 5px;\n}\n.message-sent .message-time {\n    text-align: right;\n}\n\n.chat-input-area {\n  padding: 10px;\n  border-top: 1px solid #e0e0e0;\n  display: flex;\n  gap: 10px;\n}\n\n.loading-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(255, 255, 255, 0.8);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    z-index: 10;\n    gap: 10px;\n}\n</style> "],"mappings":"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","ignoreList":[]}]}