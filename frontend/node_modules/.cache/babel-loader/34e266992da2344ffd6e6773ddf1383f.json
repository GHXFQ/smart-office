{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\utils\\refresh.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\utils\\refresh.js","mtime":1749439576568},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7Ci8qKg0KICog6aG16Z2i5Yi35paw5LyY5YyW5bel5YW3DQogKiDnlKjkuo7kvJjljJbpobXpnaLliLfmlrDlkoznu4Tku7bliqDovb3ov4fnqIvvvIzmj5Dpq5jnlKjmiLfkvZPpqowNCiAqLwoKLy8g6aG16Z2i57yT5a2Y566h55CGCmNvbnN0IHBhZ2VDYWNoZSA9IG5ldyBNYXAoKTsKCi8vIOi1hOa6kOmihOWKoOi9veaOp+WItuWZqApsZXQgY29udHJvbGxlciA9IG51bGw7CgovKioNCiAqIOmihOWKoOi9veaMh+WumumhtemdoueahOi1hOa6kA0KICogQHBhcmFtIHtzdHJpbmd9IHJvdXRlUGF0aCDot6/nlLHot6/lvoQNCiAqLwpleHBvcnQgY29uc3QgcHJlbG9hZFBhZ2VSZXNvdXJjZXMgPSByb3V0ZVBhdGggPT4gewogIC8vIOWmguaenOacieato+WcqOi/m+ihjOeahOmihOWKoOi9ve+8jOWPlua2iOWugwogIGlmIChjb250cm9sbGVyKSB7CiAgICBjb250cm9sbGVyLmFib3J0KCk7CiAgfQogIGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CgogIC8vIOagueaNrui3r+eUsei3r+W+hOehruWumuimgemihOWKoOi9veeahOi1hOa6kAogIGNvbnN0IHJlc291cmNlTWFwID0gewogICAgJy9kYXNoYm9hcmQnOiBbJy9hcGkvZGFzaGJvYXJkL3N0YXRzJywgJy9hcGkvbm90aWZpY2F0aW9ucy91bnJlYWQnXSwKICAgICcvY2FsZW5kYXInOiBbJy9hcGkvY2FsZW5kYXIvZXZlbnRzJ10sCiAgICAnL2tub3dsZWRnZSc6IFsnL2FwaS9rbm93bGVkZ2UvcmVjZW50J10sCiAgICAnL2NoYXQnOiBbJy9hcGkvbWVzc2FnZXMvcmVjZW50J10sCiAgICAnL2NvbnRyYWN0JzogWycvYXBpL2NvbnRyYWN0L2xpc3QnXSwKICAgICcvcHJvamVjdCc6IFsnL2FwaS9wcm9qZWN0cy9saXN0J10sCiAgICAnL2NvbnRhY3QnOiBbJy9hcGkvY29udGFjdHMvbGlzdCddCiAgICAvLyDlhbbku5bot6/nlLHotYTmupDmmKDlsIQuLi4KICB9OwogIGNvbnN0IHJlc291cmNlcyA9IHJlc291cmNlTWFwW3JvdXRlUGF0aF0gfHwgW107CgogIC8vIOmihOWKoOi9vUFQSeaVsOaNrgogIHJlc291cmNlcy5mb3JFYWNoKHVybCA9PiB7CiAgICBmZXRjaCh1cmwsIHsKICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbAogICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oZGF0YSA9PiB7CiAgICAgIC8vIOe8k+WtmOaVsOaNruS7peS+m+WQjue7reS9v+eUqAogICAgICBwYWdlQ2FjaGUuc2V0KHVybCwgewogICAgICAgIGRhdGEsCiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpCiAgICAgIH0pOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBpZiAoZXJyb3IubmFtZSAhPT0gJ0Fib3J0RXJyb3InKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6LWE5rqQ6aKE5Yqg6L295aSx6LSlOicsIHVybCwgZXJyb3IpOwogICAgICB9CiAgICB9KTsKICB9KTsKfTsKCi8qKg0KICog6I635Y+W57yT5a2Y55qE6aG16Z2i5pWw5o2uDQogKiBAcGFyYW0ge3N0cmluZ30gdXJsIOi1hOa6kFVSTA0KICogQHBhcmFtIHtudW1iZXJ9IG1heEFnZSDmnIDlpKfnvJPlrZjml7bpl7Qo5q+r56eSKe+8jOm7mOiupDEw56eSDQogKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IOe8k+WtmOeahOaVsOaNruaIlm51bGwNCiAqLwpleHBvcnQgY29uc3QgZ2V0Q2FjaGVkRGF0YSA9ICh1cmwsIG1heEFnZSA9IDEwMDAwKSA9PiB7CiAgaWYgKHBhZ2VDYWNoZS5oYXModXJsKSkgewogICAgY29uc3QgY2FjaGVkID0gcGFnZUNhY2hlLmdldCh1cmwpOwogICAgLy8g5qOA5p+l57yT5a2Y5piv5ZCm6L+H5pyfCiAgICBpZiAoRGF0ZS5ub3coKSAtIGNhY2hlZC50aW1lc3RhbXAgPD0gbWF4QWdlKSB7CiAgICAgIHJldHVybiBjYWNoZWQuZGF0YTsKICAgIH0KICAgIC8vIOi/h+acn+WImeWIoOmZpAogICAgcGFnZUNhY2hlLmRlbGV0ZSh1cmwpOwogIH0KICByZXR1cm4gbnVsbDsKfTsKCi8qKg0KICog5riF6Zmk6aG16Z2i57yT5a2YDQogKiBAcGFyYW0ge3N0cmluZ30gW3VybF0g54m55a6aVVJM55qE57yT5a2Y77yM5LiN5o+Q5L6b5YiZ5riF6Zmk5omA5pyJDQogKi8KZXhwb3J0IGNvbnN0IGNsZWFyUGFnZUNhY2hlID0gdXJsID0+IHsKICBpZiAodXJsKSB7CiAgICBwYWdlQ2FjaGUuZGVsZXRlKHVybCk7CiAgfSBlbHNlIHsKICAgIHBhZ2VDYWNoZS5jbGVhcigpOwogIH0KfTsKCi8qKg0KICog5LyY5YyW57uE5Lu25riy5p+TDQogKiBAcGFyYW0ge1Z1ZX0gdm0gVnVl57uE5Lu25a6e5L6LDQogKi8KZXhwb3J0IGNvbnN0IG9wdGltaXplUmVuZGVyaW5nID0gdm0gPT4gewogIC8vIOaOqOi/n+mdnuWFs+mUrua4suafk+S7u+WKoQogIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8g5omn6KGM6Z2e5YWz6ZSu5riy5p+T5Lu75YqhCiAgICBpZiAodm0uJGVsKSB7CiAgICAgIC8vIOinpuWPkemHjee7mOS7peS8mOWMlua4suafkwogICAgICB2bS4kZm9yY2VVcGRhdGUoKTsKICAgIH0KICB9LCA1MCk7Cn07CgovKioNCiAqIOaPkOWJjeWIneWni+WMluW4uOeUqOe7hOS7tu+8iOmihOeDre+8iQ0KICovCmV4cG9ydCBjb25zdCB3YXJtdXBDb21wb25lbnRzID0gKCkgPT4gewogIC8vIOi/memHjOWPr+S7pemihOWFiOWKoOi9veWSjOWIneWni+WMluW4uOeUqOe7hOS7tgogIC8vIOekuuS+izogaW1wb3J0KCcuL0NvbW1vbkNvbXBvbmVudC52dWUnKQp9Ow=="},{"version":3,"names":["pageCache","Map","controller","preloadPageResources","routePath","abort","AbortController","resourceMap","resources","forEach","url","fetch","signal","then","response","json","data","set","timestamp","Date","now","catch","error","name","console","getCachedData","maxAge","has","cached","get","delete","clearPageCache","clear","optimizeRendering","vm","setTimeout","$el","$forceUpdate","warmupComponents"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/utils/refresh.js"],"sourcesContent":["/**\r\n * 页面刷新优化工具\r\n * 用于优化页面刷新和组件加载过程，提高用户体验\r\n */\r\n\r\n// 页面缓存管理\r\nconst pageCache = new Map();\r\n\r\n// 资源预加载控制器\r\nlet controller = null;\r\n\r\n/**\r\n * 预加载指定页面的资源\r\n * @param {string} routePath 路由路径\r\n */\r\nexport const preloadPageResources = (routePath) => {\r\n  // 如果有正在进行的预加载，取消它\r\n  if (controller) {\r\n    controller.abort();\r\n  }\r\n  \r\n  controller = new AbortController();\r\n  \r\n  // 根据路由路径确定要预加载的资源\r\n  const resourceMap = {\r\n    '/dashboard': ['/api/dashboard/stats', '/api/notifications/unread'],\r\n    '/calendar': ['/api/calendar/events'],\r\n    '/knowledge': ['/api/knowledge/recent'],\r\n    '/chat': ['/api/messages/recent'],\r\n    '/contract': ['/api/contract/list'],\r\n    '/project': ['/api/projects/list'],\r\n    '/contact': ['/api/contacts/list'],\r\n    // 其他路由资源映射...\r\n  };\r\n  \r\n  const resources = resourceMap[routePath] || [];\r\n  \r\n  // 预加载API数据\r\n  resources.forEach(url => {\r\n    fetch(url, { signal: controller.signal })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        // 缓存数据以供后续使用\r\n        pageCache.set(url, { data, timestamp: Date.now() });\r\n      })\r\n      .catch(error => {\r\n        if (error.name !== 'AbortError') {\r\n          console.error('资源预加载失败:', url, error);\r\n        }\r\n      });\r\n  });\r\n};\r\n\r\n/**\r\n * 获取缓存的页面数据\r\n * @param {string} url 资源URL\r\n * @param {number} maxAge 最大缓存时间(毫秒)，默认10秒\r\n * @returns {Object|null} 缓存的数据或null\r\n */\r\nexport const getCachedData = (url, maxAge = 10000) => {\r\n  if (pageCache.has(url)) {\r\n    const cached = pageCache.get(url);\r\n    // 检查缓存是否过期\r\n    if (Date.now() - cached.timestamp <= maxAge) {\r\n      return cached.data;\r\n    }\r\n    // 过期则删除\r\n    pageCache.delete(url);\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * 清除页面缓存\r\n * @param {string} [url] 特定URL的缓存，不提供则清除所有\r\n */\r\nexport const clearPageCache = (url) => {\r\n  if (url) {\r\n    pageCache.delete(url);\r\n  } else {\r\n    pageCache.clear();\r\n  }\r\n};\r\n\r\n/**\r\n * 优化组件渲染\r\n * @param {Vue} vm Vue组件实例\r\n */\r\nexport const optimizeRendering = (vm) => {\r\n  // 推迟非关键渲染任务\r\n  setTimeout(() => {\r\n    // 执行非关键渲染任务\r\n    if (vm.$el) {\r\n      // 触发重绘以优化渲染\r\n      vm.$forceUpdate();\r\n    }\r\n  }, 50);\r\n};\r\n\r\n/**\r\n * 提前初始化常用组件（预热）\r\n */\r\nexport const warmupComponents = () => {\r\n  // 这里可以预先加载和初始化常用组件\r\n  // 示例: import('./CommonComponent.vue')\r\n}; "],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA,MAAMA,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC;;AAE3B;AACA,IAAIC,UAAU,GAAG,IAAI;;AAErB;AACA;AACA;AACA;AACA,OAAO,MAAMC,oBAAoB,GAAIC,SAAS,IAAK;EACjD;EACA,IAAIF,UAAU,EAAE;IACdA,UAAU,CAACG,KAAK,CAAC,CAAC;EACpB;EAEAH,UAAU,GAAG,IAAII,eAAe,CAAC,CAAC;;EAElC;EACA,MAAMC,WAAW,GAAG;IAClB,YAAY,EAAE,CAAC,sBAAsB,EAAE,2BAA2B,CAAC;IACnE,WAAW,EAAE,CAAC,sBAAsB,CAAC;IACrC,YAAY,EAAE,CAAC,uBAAuB,CAAC;IACvC,OAAO,EAAE,CAAC,sBAAsB,CAAC;IACjC,WAAW,EAAE,CAAC,oBAAoB,CAAC;IACnC,UAAU,EAAE,CAAC,oBAAoB,CAAC;IAClC,UAAU,EAAE,CAAC,oBAAoB;IACjC;EACF,CAAC;EAED,MAAMC,SAAS,GAAGD,WAAW,CAACH,SAAS,CAAC,IAAI,EAAE;;EAE9C;EACAI,SAAS,CAACC,OAAO,CAACC,GAAG,IAAI;IACvBC,KAAK,CAACD,GAAG,EAAE;MAAEE,MAAM,EAAEV,UAAU,CAACU;IAAO,CAAC,CAAC,CACtCC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACZ;MACAhB,SAAS,CAACiB,GAAG,CAACP,GAAG,EAAE;QAAEM,IAAI;QAAEE,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;MAAE,CAAC,CAAC;IACrD,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACd,IAAIA,KAAK,CAACC,IAAI,KAAK,YAAY,EAAE;QAC/BC,OAAO,CAACF,KAAK,CAAC,UAAU,EAAEZ,GAAG,EAAEY,KAAK,CAAC;MACvC;IACF,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,aAAa,GAAGA,CAACf,GAAG,EAAEgB,MAAM,GAAG,KAAK,KAAK;EACpD,IAAI1B,SAAS,CAAC2B,GAAG,CAACjB,GAAG,CAAC,EAAE;IACtB,MAAMkB,MAAM,GAAG5B,SAAS,CAAC6B,GAAG,CAACnB,GAAG,CAAC;IACjC;IACA,IAAIS,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGQ,MAAM,CAACV,SAAS,IAAIQ,MAAM,EAAE;MAC3C,OAAOE,MAAM,CAACZ,IAAI;IACpB;IACA;IACAhB,SAAS,CAAC8B,MAAM,CAACpB,GAAG,CAAC;EACvB;EACA,OAAO,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMqB,cAAc,GAAIrB,GAAG,IAAK;EACrC,IAAIA,GAAG,EAAE;IACPV,SAAS,CAAC8B,MAAM,CAACpB,GAAG,CAAC;EACvB,CAAC,MAAM;IACLV,SAAS,CAACgC,KAAK,CAAC,CAAC;EACnB;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAIC,EAAE,IAAK;EACvC;EACAC,UAAU,CAAC,MAAM;IACf;IACA,IAAID,EAAE,CAACE,GAAG,EAAE;MACV;MACAF,EAAE,CAACG,YAAY,CAAC,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EACpC;EACA;AAAA,CACD","ignoreList":[]}]}