{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\api\\chat.js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\api\\chat.js","mtime":1751969977469},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746431219000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwoKLyoqCiAqIOiOt+WPluiBiuWkqeS8muivneWIl+ihqAogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldENoYXRTZXNzaW9ucygpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYXBpL2NoYXQvc2Vzc2lvbnMvJywKICAgIG1ldGhvZDogJ2dldCcKICB9KTsKfQoKLyoqCiAqIOiOt+WPluiBiuWkqeS8muivneivpuaDhQogKiBAcGFyYW0ge051bWJlcn0gaWQgLSDogYrlpKnkvJror51JRAogKi8KZXhwb3J0IGZ1bmN0aW9uIGdldENoYXRTZXNzaW9uKGlkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2FwaS9jaGF0L3Nlc3Npb25zLyR7aWR9L2AsCiAgICBtZXRob2Q6ICdnZXQnCiAgfSk7Cn0KCi8qKgogKiDliJvlu7rmlrDnmoTogYrlpKnkvJror50KICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSDogYrlpKnkvJror53mlbDmja4KICovCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGF0U2Vzc2lvbihkYXRhKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L3Nlc3Npb25zLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGEKICB9KTsKfQoKLyoqCiAqIOWPkemAgeaWh+acrOa2iOaBrwogKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIOa2iOaBr+aVsOaNrgogKi8KZXhwb3J0IGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShkYXRhKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L21lc3NhZ2VzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IHsKICAgICAgLi4uZGF0YSwKICAgICAgbWVzc2FnZV90eXBlOiAndGV4dCcKICAgIH0KICB9KTsKfQoKLyoqCiAqIOWPkemAgeaWh+S7tua2iOaBrwogKiBAcGFyYW0ge051bWJlcn0gY2hhdElkIC0g6IGK5aSpSUQKICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgLSDmtojmga/lhoXlrrkKICogQHBhcmFtIHtGaWxlfSBmaWxlIC0g5paH5Lu25a+56LGhCiAqLwpleHBvcnQgZnVuY3Rpb24gc2VuZEZpbGVNZXNzYWdlKGNoYXRJZCwgY29udGVudCwgZmlsZSkgewogIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgZm9ybURhdGEuYXBwZW5kKCdjaGF0JywgY2hhdElkKTsKICBmb3JtRGF0YS5hcHBlbmQoJ21lc3NhZ2VfdHlwZScsICdmaWxlJyk7CiAgZm9ybURhdGEuYXBwZW5kKCdjb250ZW50JywgY29udGVudCk7CiAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L21lc3NhZ2VzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IGZvcm1EYXRhCiAgfSk7Cn0KCi8qKgogKiDlj5HpgIHlm77niYfmtojmga8KICogQHBhcmFtIHtOdW1iZXJ9IGNoYXRJZCAtIOiBiuWkqUlECiAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IC0g5raI5oGv5YaF5a65CiAqIEBwYXJhbSB7RmlsZX0gaW1hZ2UgLSDlm77niYfmlofku7YKICovCmV4cG9ydCBmdW5jdGlvbiBzZW5kSW1hZ2VNZXNzYWdlKGNoYXRJZCwgY29udGVudCwgaW1hZ2UpIHsKICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogIGZvcm1EYXRhLmFwcGVuZCgnY2hhdCcsIGNoYXRJZCk7CiAgZm9ybURhdGEuYXBwZW5kKCdtZXNzYWdlX3R5cGUnLCAnaW1hZ2UnKTsKICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCBjb250ZW50KTsKICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBpbWFnZSk7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L21lc3NhZ2VzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IGZvcm1EYXRhCiAgfSk7Cn0KCi8qKgogKiDlj5HpgIHnn6Xor4blupPmtojmga8KICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSDmtojmga/mlbDmja7vvIzljIXlkKtjaGF05ZKMa25vd2xlZGdlX2lkCiAqLwpleHBvcnQgZnVuY3Rpb24gc2VuZEtub3dsZWRnZU1lc3NhZ2UoZGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9tZXNzYWdlcy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiB7CiAgICAgIC4uLmRhdGEsCiAgICAgIG1lc3NhZ2VfdHlwZTogJ2tub3dsZWRnZScsCiAgICAgIGNvbnRlbnQ6ICfliIbkuqvkuobkuIDkuKrnn6Xor4blupPmlofku7YnCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDkuIvovb3mtojmga/kuK3nmoTmlofku7YKICogQHBhcmFtIHtOdW1iZXJ9IG1lc3NhZ2VJZCAtIOa2iOaBr0lECiAqLwpleHBvcnQgZnVuY3Rpb24gZG93bmxvYWRNZXNzYWdlRmlsZShtZXNzYWdlSWQpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAvYXBpL2NoYXQvbWVzc2FnZXMvJHttZXNzYWdlSWR9L2Rvd25sb2FkL2AsCiAgICBtZXRob2Q6ICdnZXQnLAogICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICB9KTsKfQoKLyoqCiAqIOWPkemAgeaWh+aho+a2iOaBryAtIOWIhuS6q+aZuuiDveaWh+aho+WIsOiBiuWkqQogKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIOWMheWQq2NoYXQo6IGK5aSpSUQp44CBZG9jdW1lbnRfaWQo5paH5qGjSUQp44CBZm9ybWF0KOaWh+aho+agvOW8j++8jOWmgnBkZi93b3JkKeOAgXRpdGxlKOaWh+aho+agh+mimCnnmoTlr7nosaEKICovCmV4cG9ydCBmdW5jdGlvbiBzZW5kRG9jdW1lbnRNZXNzYWdlKGRhdGEpIHsKICAvLyDliJvlu7pGb3JtRGF0YeWvueixoQogIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogIC8vIOa3u+WKoOW/heimgeeahOWtl+autQogIGZvcm1EYXRhLmFwcGVuZCgnY2hhdCcsIGRhdGEuY2hhdCk7CiAgZm9ybURhdGEuYXBwZW5kKCdtZXNzYWdlX3R5cGUnLCAnZmlsZScpOwogIGZvcm1EYXRhLmFwcGVuZCgnZG9jdW1lbnRfaWQnLCBkYXRhLmRvY3VtZW50X2lkKTsKICBmb3JtRGF0YS5hcHBlbmQoJ2Zvcm1hdCcsIGRhdGEuZm9ybWF0KTsKICBmb3JtRGF0YS5hcHBlbmQoJ3RpdGxlJywgZGF0YS50aXRsZSk7CiAgZm9ybURhdGEuYXBwZW5kKCdjb250ZW50JywgYOWIhuS6q+S6huS4gOS4qiR7ZGF0YS5mb3JtYXQgPT09ICdwZGYnID8gJ1BERicgOiAnV29yZCd95paH5qGjYCk7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L21lc3NhZ2VzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IGZvcm1EYXRhLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDlkJHogYrlpKnmt7vliqDlj4LkuI7ogIUKICogQHBhcmFtIHtOdW1iZXJ9IGNoYXRJZCAtIOiBiuWkqeS8muivnUlECiAqIEBwYXJhbSB7TnVtYmVyfSB1c2VySWQgLSDnlKjmiLdJRAogKi8KZXhwb3J0IGZ1bmN0aW9uIGFkZENoYXRQYXJ0aWNpcGFudChjaGF0SWQsIHVzZXJJZCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYC9hcGkvY2hhdC9zZXNzaW9ucy8ke2NoYXRJZH0vYWRkX3BhcnRpY2lwYW50L2AsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IHsKICAgICAgdXNlcl9pZDogdXNlcklkCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDku47ogYrlpKnkuK3np7vpmaTlj4LkuI7ogIUKICogQHBhcmFtIHtOdW1iZXJ9IGNoYXRJZCAtIOiBiuWkqeS8muivnUlECiAqIEBwYXJhbSB7TnVtYmVyfSB1c2VySWQgLSDnlKjmiLdJRAogKi8KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoYXRQYXJ0aWNpcGFudChjaGF0SWQsIHVzZXJJZCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogYC9hcGkvY2hhdC9zZXNzaW9ucy8ke2NoYXRJZH0vcmVtb3ZlX3BhcnRpY2lwYW50L2AsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IHsKICAgICAgdXNlcl9pZDogdXNlcklkCiAgICB9CiAgfSk7Cn0KCi8qKgogKiDku47ogYrlpKnmtojmga/mt7vliqDml6Xljobkuovku7YKICogQHBhcmFtIHtOdW1iZXJ9IG1lc3NhZ2VJZCAtIOa2iOaBr0lECiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0g5Y+v6YCJ55qE5pu05paw5pel56iL5pWw5o2uCiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJldmlldyAtIOaYr+WQpuS7hemihOiniOS4jeWIm+W7uuS6i+S7tgogKi8KZXhwb3J0IGZ1bmN0aW9uIGFkZENhbGVuZGFyRXZlbnQobWVzc2FnZUlkLCBkYXRhLCBwcmV2aWV3ID0gZmFsc2UpIHsKICBsZXQgdXJsID0gYC9hcGkvY2hhdC9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vYWRkX2NhbGVuZGFyX2V2ZW50L2A7CiAgaWYgKHByZXZpZXcpIHsKICAgIHVybCArPSAnP3ByZXZpZXc9dHJ1ZSc7CiAgfQogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogdXJsLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhCiAgfSk7Cn0KCi8vIOiOt+WPluefpeivhuW6k+WIl+ihqApleHBvcnQgZnVuY3Rpb24gZ2V0S25vd2xlZGdlTGlzdChwYXJhbXMpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYXBpL2tub3dsZWRnZS9maWxlcy8nLAogICAgbWV0aG9kOiAnZ2V0JywKICAgIHBhcmFtcwogIH0pOwp9CgovLyDmn6XnnIvmlofku7blhoXlrrkgCmV4cG9ydCBmdW5jdGlvbiBkZWxldGVNZXNzYWdlKGlkKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2NoYXQvbWVzc2FnZXMvJHtpZH0vYCwKICAgIG1ldGhvZDogJ2RlbGV0ZScKICB9KTsKfQoKLy8g5paw5aKe77ya5p+l5om+5oiW5Yib5bu65LiA5a+55LiA6IGK5aSpCmV4cG9ydCBmdW5jdGlvbiBmaW5kT3JDcmVhdGVDaGF0KHVzZXJJZCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9maW5kLW9yLWNyZWF0ZS8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiB7CiAgICAgIHVzZXJfaWQ6IHVzZXJJZAogICAgfQogIH0pOwp9CgovKioKICog5qC55o2u55So5oi3SUTliJfooajmn6Xmib7miJbliJvlu7rogYrlpKnkvJror50KICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSB1c2VySWRzIC0g55So5oi3SUTmlbDnu4QKICogQHJldHVybnMge1Byb21pc2V9CiAqLwpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZE9yQ3JlYXRlQ2hhdFdpdGhVc2Vycyh1c2VySWRzKSB7CiAgaWYgKCF1c2VySWRzIHx8IHVzZXJJZHMubGVuZ3RoID09PSAwKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgSURzIHByb3ZpZGVkJyk7CiAgfQogIGlmICh1c2VySWRzLmxlbmd0aCA9PT0gMSkgewogICAgLy8g5aSE55CG5Y2V5Lq66IGK5aSpCiAgICByZXR1cm4gZmluZE9yQ3JlYXRlQ2hhdCh1c2VySWRzWzBdKTsKICB9IGVsc2UgewogICAgLy8g5aSE55CG5aSa5Lq66IGK5aSpCiAgICByZXR1cm4gY3JlYXRlQ2hhdFNlc3Npb24oewogICAgICBwYXJ0aWNpcGFudHM6IHVzZXJJZHMKICAgIH0pOwogIH0KfQoKLyoqCiAqIOa4heepuuaJgOacieiBiuWkqeS8muivnQogKiBAcmV0dXJucyB7UHJvbWlzZX0KICovCmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbENoYXRTZXNzaW9ucygpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYXBpL2NoYXQvc2Vzc2lvbnMvY2xlYXJfYWxsLycsCiAgICBtZXRob2Q6ICdwb3N0JwogIH0pOwp9CgovKioKICog5LiK5Lyg5paH5Lu25Yiw5Lya6K+d5LitCiAqIEBwYXJhbSB7Rm9ybURhdGF9IGZvcm1EYXRhIOWMheWQq+aWh+S7tuWSjOS8muivnUlE55qE6KGo5Y2V5pWw5o2uCiAqIEByZXR1cm5zIHtQcm9taXNlfQogKi8KZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEZpbGUoZm9ybURhdGEpIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYXBpL2NoYXQvbWVzc2FnZXMvJywKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogZm9ybURhdGEsCiAgICBoZWFkZXJzOiB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgIH0KICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Q2hhdE1lc3NhZ2VzKGNoYXRJZCwgcGFnZSA9IDEsIHBhZ2VTaXplID0gMjApIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6IGAvYXBpL2NoYXQvbWVzc2FnZXMvYCwKICAgIG1ldGhvZDogJ2dldCcsCiAgICBwYXJhbXM6IHsKICAgICAgY2hhdDogY2hhdElkLAogICAgICBwYWdlLAogICAgICBwYWdlX3NpemU6IHBhZ2VTaXplCiAgICB9CiAgfSk7Cn0KCi8vIFN1bW1hcml6ZSBjaGF0IG1lc3NhZ2VzCmV4cG9ydCBmdW5jdGlvbiBzdW1tYXJpemVDaGF0KHNlc3Npb25JZCwgc3RhcnREYXRlLCBlbmREYXRlKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiBgL2FwaS9jaGF0L3Nlc3Npb25zLyR7c2Vzc2lvbklkfS9zdW1tYXJpemUvYCwKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgZGF0YTogewogICAgICBzdGFydF9kYXRlOiBzdGFydERhdGUsCiAgICAgIGVuZF9kYXRlOiBlbmREYXRlCiAgICB9CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNoYXRNZXNzYWdlKGRhdGEpIHsKICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHsKICAgIGlmIChkYXRhW2tleV0gIT09IG51bGwgJiYgZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKGtleSA9PT0gJ2ZpbGUnICYmIGRhdGFba2V5XSBpbnN0YW5jZW9mIEZpbGUpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBkYXRhW2tleV0sIGRhdGFba2V5XS5uYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBkYXRhW2tleV0pOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2hhdC9tZXNzYWdlcy8nLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICBkYXRhOiBmb3JtRGF0YSwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgfQogIH0pOwp9CgovKioKICogQW5hbHl6ZXMgdGV4dCBjb250ZW50IHRvIGV4dHJhY3QgY2FsZW5kYXIgZXZlbnQgaW5mb3JtYXRpb24uCiAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IC0gVGhlIHRleHQgY29udGVudCB0byBhbmFseXplLgogKi8KZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emVGb3JDYWxlbmRhcihjb250ZW50KSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FwaS9jaGF0L2FuYWx5emUtZm9yLWNhbGVuZGFyLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IHsKICAgICAgY29udGVudAogICAgfQogIH0pOwp9CgovKioKICogQ3JlYXRlcyBhIG5ldyBjYWxlbmRhciBldmVudC4KICogQHBhcmFtIHtPYmplY3R9IGV2ZW50RGF0YSAtIFRoZSBldmVudCBkYXRhIHRvIGNyZWF0ZS4KICovCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWxlbmRhckV2ZW50KGV2ZW50RGF0YSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy9hcGkvY2FsZW5kYXIvZXZlbnRzLycsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIGRhdGE6IGV2ZW50RGF0YQogIH0pOwp9"},{"version":3,"names":["request","getChatSessions","url","method","getChatSession","id","createChatSession","data","sendTextMessage","message_type","sendFileMessage","chatId","content","file","formData","FormData","append","sendImageMessage","image","sendKnowledgeMessage","downloadMessageFile","messageId","responseType","sendDocumentMessage","chat","document_id","format","title","headers","addChatParticipant","userId","user_id","removeChatParticipant","addCalendarEvent","preview","getKnowledgeList","params","deleteMessage","findOrCreateChat","findOrCreateChatWithUsers","userIds","length","Error","participants","clearAllChatSessions","uploadFile","getChatMessages","page","pageSize","page_size","summarizeChat","sessionId","startDate","endDate","start_date","end_date","createChatMessage","key","undefined","File","name","analyzeForCalendar","createCalendarEvent","eventData"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/api/chat.js"],"sourcesContent":["import request from '@/utils/request'\n\n/**\n * 获取聊天会话列表\n */\nexport function getChatSessions() {\n  return request({\n    url: '/api/chat/sessions/',\n    method: 'get'\n  })\n}\n\n/**\n * 获取聊天会话详情\n * @param {Number} id - 聊天会话ID\n */\nexport function getChatSession(id) {\n  return request({\n    url: `/api/chat/sessions/${id}/`,\n    method: 'get'\n  })\n}\n\n/**\n * 创建新的聊天会话\n * @param {Object} data - 聊天会话数据\n */\nexport function createChatSession(data) {\n  return request({\n    url: '/api/chat/sessions/',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 发送文本消息\n * @param {Object} data - 消息数据\n */\nexport function sendTextMessage(data) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: {\n      ...data,\n      message_type: 'text'\n    }\n  })\n}\n\n/**\n * 发送文件消息\n * @param {Number} chatId - 聊天ID\n * @param {String} content - 消息内容\n * @param {File} file - 文件对象\n */\nexport function sendFileMessage(chatId, content, file) {\n  const formData = new FormData();\n  formData.append('chat', chatId);\n  formData.append('message_type', 'file');\n  formData.append('content', content);\n  formData.append('file', file);\n  \n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData\n  })\n}\n\n/**\n * 发送图片消息\n * @param {Number} chatId - 聊天ID\n * @param {String} content - 消息内容\n * @param {File} image - 图片文件\n */\nexport function sendImageMessage(chatId, content, image) {\n  const formData = new FormData();\n  formData.append('chat', chatId);\n  formData.append('message_type', 'image');\n  formData.append('content', content);\n  formData.append('file', image);\n  \n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData\n  })\n}\n\n/**\n * 发送知识库消息\n * @param {Object} data - 消息数据，包含chat和knowledge_id\n */\nexport function sendKnowledgeMessage(data) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: {\n      ...data,\n      message_type: 'knowledge',\n      content: '分享了一个知识库文件'\n    }\n  })\n}\n\n/**\n * 下载消息中的文件\n * @param {Number} messageId - 消息ID\n */\nexport function downloadMessageFile(messageId) {\n  return request({\n    url: `/api/chat/messages/${messageId}/download/`,\n    method: 'get',\n    responseType: 'blob'\n  })\n}\n\n/**\n * 发送文档消息 - 分享智能文档到聊天\n * @param {Object} data - 包含chat(聊天ID)、document_id(文档ID)、format(文档格式，如pdf/word)、title(文档标题)的对象\n */\nexport function sendDocumentMessage(data) {\n  // 创建FormData对象\n  const formData = new FormData();\n  \n  // 添加必要的字段\n  formData.append('chat', data.chat);\n  formData.append('message_type', 'file');\n  formData.append('document_id', data.document_id);\n  formData.append('format', data.format);\n  formData.append('title', data.title);\n  formData.append('content', `分享了一个${data.format === 'pdf' ? 'PDF' : 'Word'}文档`);\n  \n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n/**\n * 向聊天添加参与者\n * @param {Number} chatId - 聊天会话ID\n * @param {Number} userId - 用户ID\n */\nexport function addChatParticipant(chatId, userId) {\n  return request({\n    url: `/api/chat/sessions/${chatId}/add_participant/`,\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  })\n}\n\n/**\n * 从聊天中移除参与者\n * @param {Number} chatId - 聊天会话ID\n * @param {Number} userId - 用户ID\n */\nexport function removeChatParticipant(chatId, userId) {\n  return request({\n    url: `/api/chat/sessions/${chatId}/remove_participant/`,\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  })\n}\n\n/**\n * 从聊天消息添加日历事件\n * @param {Number} messageId - 消息ID\n * @param {Object} data - 可选的更新日程数据\n * @param {Boolean} preview - 是否仅预览不创建事件\n */\nexport function addCalendarEvent(messageId, data, preview = false) {\n  let url = `/api/chat/messages/${messageId}/add_calendar_event/`\n  if (preview) {\n    url += '?preview=true'\n  }\n  \n  return request({\n    url: url,\n    method: 'post',\n    data\n  })\n}\n\n// 获取知识库列表\nexport function getKnowledgeList(params) {\n  return request({\n    url: '/api/knowledge/files/',\n    method: 'get',\n    params\n  })\n}\n\n// 查看文件内容 \nexport function deleteMessage(id) {\n  return request({\n    url: `/chat/messages/${id}/`,\n    method: 'delete'\n  })\n}\n\n// 新增：查找或创建一对一聊天\nexport function findOrCreateChat(userId) {\n  return request({\n    url: '/api/chat/find-or-create/',\n    method: 'post',\n    data: { user_id: userId }\n  })\n}\n\n/**\n * 根据用户ID列表查找或创建聊天会话\n * @param {Array<Number>} userIds - 用户ID数组\n * @returns {Promise}\n */\nexport async function findOrCreateChatWithUsers(userIds) {\n  if (!userIds || userIds.length === 0) {\n    throw new Error('No user IDs provided');\n  }\n\n  if (userIds.length === 1) {\n    // 处理单人聊天\n    return findOrCreateChat(userIds[0]);\n  } else {\n    // 处理多人聊天\n    return createChatSession({ participants: userIds });\n  }\n}\n\n/**\n * 清空所有聊天会话\n * @returns {Promise}\n */\nexport function clearAllChatSessions() {\n  return request({\n    url: '/api/chat/sessions/clear_all/',\n    method: 'post'\n  });\n}\n\n/**\n * 上传文件到会话中\n * @param {FormData} formData 包含文件和会话ID的表单数据\n * @returns {Promise}\n */\nexport function uploadFile(formData) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n}\n\nexport function getChatMessages(chatId, page = 1, pageSize = 20) {\n  return request({\n    url: `/api/chat/messages/`,\n    method: 'get',\n    params: {\n      chat: chatId,\n      page,\n      page_size: pageSize\n    }\n  });\n}\n\n// Summarize chat messages\nexport function summarizeChat(sessionId, startDate, endDate) {\n  return request({\n    url: `/api/chat/sessions/${sessionId}/summarize/`,\n    method: 'post',\n    data: {\n      start_date: startDate,\n      end_date: endDate\n    }\n  });\n}\n\nexport function createChatMessage(data) {\n  const formData = new FormData();\n  for (const key in data) {\n    if (data[key] !== null && data[key] !== undefined) {\n      if (key === 'file' && data[key] instanceof File) {\n        formData.append(key, data[key], data[key].name);\n      } else {\n        formData.append(key, data[key]);\n      }\n    }\n  }\n\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n}\n\n/**\n * Analyzes text content to extract calendar event information.\n * @param {String} content - The text content to analyze.\n */\nexport function analyzeForCalendar(content) {\n  return request({\n    url: '/api/chat/analyze-for-calendar/',\n    method: 'post',\n    data: { content }\n  });\n}\n\n/**\n * Creates a new calendar event.\n * @param {Object} eventData - The event data to create.\n */\nexport function createCalendarEvent(eventData) {\n  return request({\n    url: '/api/calendar/events/',\n    method: 'post',\n    data: eventData\n  });\n} "],"mappings":"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","ignoreList":[]}]}