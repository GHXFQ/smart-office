{"remainingRequest":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\RequirementsView.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\src\\views\\project\\components\\RequirementsView.vue","mtime":1748151879036},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\babel.config.js","mtime":1748077811200},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1746431202000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746431218000},{"path":"C:\\Users\\18083\\Desktop\\CCIT\\office\\smart-office\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746431218000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQ29ubmVjdGlvbiwgQ2lyY2xlQ2xvc2VGaWxsZWQsIExpZ2h0bmluZywgQ2hlY2sgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7CmltcG9ydCB7IHJlZiwgb25Nb3VudGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKaW1wb3J0IHByb2plY3RBcGkgZnJvbSAnQC9hcGkvcHJvamVjdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBfX25hbWU6ICdSZXF1aXJlbWVudHNWaWV3JywKICBzZXR1cChfX3Byb3BzLCB7CiAgICBleHBvc2U6IF9fZXhwb3NlCiAgfSkgewogICAgX19leHBvc2UoKTsKICAgIGNvbnN0IHJlcXMgPSByZWYoW10pOwogICAgY29uc3Qgc2hvd0FkZFJlcSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBhZGRSZXFGb3JtID0gcmVmKHsKICAgICAgbmFtZTogJycsCiAgICAgIHByaW9yaXR5OiAnJywKICAgICAgdGFnczogJycsCiAgICAgIGRlc2M6ICcnCiAgICB9KTsKICAgIGNvbnN0IGZldGNoUmVxdWlyZW1lbnRzID0gYXN5bmMgKCkgPT4gewogICAgICBjb25zdCByZXMgPSBhd2FpdCBwcm9qZWN0QXBpLmdldFJlcXVpcmVtZW50cygpOwogICAgICByZXFzLnZhbHVlID0gcmVzLmRhdGE7CiAgICB9OwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgZmV0Y2hSZXF1aXJlbWVudHMoKTsKICAgIH0pOwogICAgYXN5bmMgZnVuY3Rpb24gc3VibWl0QWRkUmVxKCkgewogICAgICBpZiAoIWFkZFJlcUZvcm0udmFsdWUubmFtZSkgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXpnIDmsYLlkI3np7AnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgYXdhaXQgcHJvamVjdEFwaS5jcmVhdGVSZXF1aXJlbWVudCh7CiAgICAgICAgbmFtZTogYWRkUmVxRm9ybS52YWx1ZS5uYW1lLAogICAgICAgIHByaW9yaXR5OiBhZGRSZXFGb3JtLnZhbHVlLnByaW9yaXR5LAogICAgICAgIHRhZ3M6IGFkZFJlcUZvcm0udmFsdWUudGFncywKICAgICAgICBkZXNjcmlwdGlvbjogYWRkUmVxRm9ybS52YWx1ZS5kZXNjCiAgICAgICAgLy8g5YW25LuW5a2X5q615Y+v5qC55o2u6ZyA6KaB6KGl5YWFCiAgICAgIH0pOwogICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygn5paw5bu66ZyA5rGC5oiQ5YqfJyk7CiAgICAgIHNob3dBZGRSZXEudmFsdWUgPSBmYWxzZTsKICAgICAgYWRkUmVxRm9ybS52YWx1ZSA9IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwcmlvcml0eTogJycsCiAgICAgICAgdGFnczogJycsCiAgICAgICAgZGVzYzogJycKICAgICAgfTsKICAgICAgZmV0Y2hSZXF1aXJlbWVudHMoKTsKICAgIH0KICAgIGNvbnN0IF9fcmV0dXJuZWRfXyA9IHsKICAgICAgcmVxcywKICAgICAgc2hvd0FkZFJlcSwKICAgICAgYWRkUmVxRm9ybSwKICAgICAgZmV0Y2hSZXF1aXJlbWVudHMsCiAgICAgIHN1Ym1pdEFkZFJlcSwKICAgICAgZ2V0IENvbm5lY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb247CiAgICAgIH0sCiAgICAgIGdldCBDaXJjbGVDbG9zZUZpbGxlZCgpIHsKICAgICAgICByZXR1cm4gQ2lyY2xlQ2xvc2VGaWxsZWQ7CiAgICAgIH0sCiAgICAgIGdldCBMaWdodG5pbmcoKSB7CiAgICAgICAgcmV0dXJuIExpZ2h0bmluZzsKICAgICAgfSwKICAgICAgZ2V0IENoZWNrKCkgewogICAgICAgIHJldHVybiBDaGVjazsKICAgICAgfSwKICAgICAgcmVmLAogICAgICBvbk1vdW50ZWQsCiAgICAgIGdldCBFbE1lc3NhZ2UoKSB7CiAgICAgICAgcmV0dXJuIEVsTWVzc2FnZTsKICAgICAgfSwKICAgICAgZ2V0IHByb2plY3RBcGkoKSB7CiAgICAgICAgcmV0dXJuIHByb2plY3RBcGk7CiAgICAgIH0KICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"names":["Connection","CircleCloseFilled","Lightning","Check","ref","onMounted","ElMessage","projectApi","reqs","showAddReq","addReqForm","name","priority","tags","desc","fetchRequirements","res","getRequirements","value","data","submitAddReq","warning","createRequirement","description","success"],"sources":["C:/Users/18083/Desktop/CCIT/office/smart-office/frontend/src/views/project/components/RequirementsView.vue"],"sourcesContent":["<template>\n  <div class=\"module-card\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">需求管理</h5>\n      <div class=\"btn-group\">\n        <el-button type=\"primary\" size=\"default\" round icon=\"el-icon-plus\" @click=\"showAddReq=true\">新建需求</el-button>\n        <el-button type=\"primary\" size=\"default\" round icon=\"el-icon-magic-stick\">AI分析</el-button>\n      </div>\n    </div>\n    <!-- AI需求分析 -->\n    <div class=\"ai-requirement-analysis mb-4\">\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h6 class=\"mb-0\">AI需求分析</h6>\n        <div class=\"btn-group\">\n          <!-- 删除刷新分析和生成报告按钮 -->\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">需求完整性</h6>\n            <el-progress :percentage=\"75\" status=\"success\" style=\"margin-bottom:8px;\" />\n            <p class=\"text-muted small\">需求描述完整，但部分需求需要细化</p>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">需求依赖关系</h6>\n            <div class=\"requirement-dependencies\">\n              <div class=\"dependency-item\">\n                <el-icon><Connection /></el-icon>\n                发现8个需求依赖关系\n              </div>\n              <div class=\"dependency-item\">\n                <el-icon><CircleCloseFilled /></el-icon>\n                2个需求存在冲突\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">智能建议</h6>\n            <div class=\"ai-suggestions\">\n              <div class=\"suggestion-item\">\n                <el-icon><Lightning /></el-icon>\n                建议调整需求优先级\n              </div>\n              <div class=\"suggestion-item\">\n                <el-icon><Check /></el-icon>\n                需求分类合理\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 需求列表 -->\n    <div class=\"requirements-list\">\n      <div class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\" v-for=\"req in reqs\" :key=\"req.name\">\n          <div class=\"d-flex w-100 justify-content-between\">\n            <div>\n              <h6 class=\"mb-1\">{{ req.name }}</h6>\n              <div class=\"ai-requirement-tags\">\n                <el-tag v-for=\"tag in req.tags\" :key=\"tag.text\" :type=\"tag.type\" size=\"small\">{{ tag.text }}</el-tag>\n              </div>\n            </div>\n            <div class=\"text-end\">\n              <el-tag :type=\"req.statusType\" size=\"small\">{{ req.status }}</el-tag>\n              <div class=\"ai-requirement-status\">\n                <small class=\"text-muted\">{{ req.time }}</small>\n              </div>\n            </div>\n          </div>\n          <p class=\"mb-1\">{{ req.desc }}</p>\n          <div class=\"ai-requirement-analysis\">\n            <small class=\"text-muted\">AI分析：{{ req.analysis }}</small>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- 新建需求弹窗 -->\n  <el-dialog v-model=\"showAddReq\" title=\"新建需求\" width=\"400px\">\n    <el-form :model=\"addReqForm\" label-width=\"80px\">\n      <el-form-item label=\"需求名称\" required>\n        <el-input v-model=\"addReqForm.name\" placeholder=\"请输入需求名称\" />\n      </el-form-item>\n      <el-form-item label=\"优先级\">\n        <el-select v-model=\"addReqForm.priority\" placeholder=\"请选择\">\n          <el-option label=\"高\" value=\"高\" />\n          <el-option label=\"中\" value=\"中\" />\n          <el-option label=\"低\" value=\"低\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"标签\">\n        <el-input v-model=\"addReqForm.tags\" placeholder=\"逗号分隔，如：功能,高优先级\" />\n      </el-form-item>\n      <el-form-item label=\"描述\">\n        <el-input v-model=\"addReqForm.desc\" type=\"textarea\" placeholder=\"请输入需求描述\" />\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <el-button @click=\"showAddReq=false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"submitAddReq\">提交</el-button>\n    </template>\n  </el-dialog>\n</template>\n<script setup>\nimport { Connection, CircleCloseFilled, Lightning, Check } from '@element-plus/icons-vue'\nimport { ref, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport projectApi from '@/api/project'\n\nconst reqs = ref([])\nconst showAddReq = ref(false)\nconst addReqForm = ref({ name: '', priority: '', tags: '', desc: '' })\n\nconst fetchRequirements = async () => {\n  const res = await projectApi.getRequirements()\n  reqs.value = res.data\n}\n\nonMounted(() => {\n  fetchRequirements()\n})\n\nasync function submitAddReq() {\n  if (!addReqForm.value.name) {\n    ElMessage.warning('请输入需求名称')\n    return\n  }\n  await projectApi.createRequirement({\n    name: addReqForm.value.name,\n    priority: addReqForm.value.priority,\n    tags: addReqForm.value.tags,\n    description: addReqForm.value.desc,\n    // 其他字段可根据需要补充\n  })\n  ElMessage.success('新建需求成功')\n  showAddReq.value = false\n  addReqForm.value = { name: '', priority: '', tags: '', desc: '' }\n  fetchRequirements()\n}\n</script>\n<style scoped>\n.module-card { background: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; padding: 20px; }\n.module-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n.module-title { font-size: 1.1rem; font-weight: 600; color: #2d3a4b; margin: 0; }\n.btn-group { display: flex; gap: 10px; }\n.row { display: flex; flex-wrap: wrap; margin: 0 -10px; }\n.col-md-4 { padding: 0 10px; width: 33.3333%; }\n.mb-4 { margin-bottom: 24px; }\n.list-group { margin: 0; }\n.list-group-item { background: #f8f9fa; border: none; border-radius: 5px; margin-bottom: 10px; padding: 16px; }\n.ai-analysis-card { background: #fff; border: 1px solid #e9ecef; border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n.dependency-item, .suggestion-item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }\n.text-primary { color: #0d6efd!important; }\n</style> "],"mappings":"AA8GA,SAASA,UAAU,EAAEC,iBAAiB,EAAEC,SAAS,EAAEC,KAAK,QAAQ,yBAAwB;AACxF,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAI;AACnC,SAASC,SAAS,QAAQ,cAAa;AACvC,OAAOC,UAAU,MAAM,eAAc;;;;;;;IAErC,MAAMC,IAAI,GAAGJ,GAAG,CAAC,EAAE;IACnB,MAAMK,UAAU,GAAGL,GAAG,CAAC,KAAK;IAC5B,MAAMM,UAAU,GAAGN,GAAG,CAAC;MAAEO,IAAI,EAAE,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,IAAI,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC;IAErE,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,MAAMC,GAAG,GAAG,MAAMT,UAAU,CAACU,eAAe,CAAC;MAC7CT,IAAI,CAACU,KAAK,GAAGF,GAAG,CAACG,IAAG;IACtB;IAEAd,SAAS,CAAC,MAAM;MACdU,iBAAiB,CAAC;IACpB,CAAC;IAED,eAAeK,YAAYA,CAAA,EAAG;MAC5B,IAAI,CAACV,UAAU,CAACQ,KAAK,CAACP,IAAI,EAAE;QAC1BL,SAAS,CAACe,OAAO,CAAC,SAAS;QAC3B;MACF;MACA,MAAMd,UAAU,CAACe,iBAAiB,CAAC;QACjCX,IAAI,EAAED,UAAU,CAACQ,KAAK,CAACP,IAAI;QAC3BC,QAAQ,EAAEF,UAAU,CAACQ,KAAK,CAACN,QAAQ;QACnCC,IAAI,EAAEH,UAAU,CAACQ,KAAK,CAACL,IAAI;QAC3BU,WAAW,EAAEb,UAAU,CAACQ,KAAK,CAACJ;QAC9B;MACF,CAAC;MACDR,SAAS,CAACkB,OAAO,CAAC,QAAQ;MAC1Bf,UAAU,CAACS,KAAK,GAAG,KAAI;MACvBR,UAAU,CAACQ,KAAK,GAAG;QAAEP,IAAI,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAG;MAChEC,iBAAiB,CAAC;IACpB","ignoreList":[]}]}