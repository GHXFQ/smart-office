(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af16728"],{"4de2":function(e,t,o){},5326:function(e,t,o){"use strict";o.r(t);var r=o("7a23");const a={class:"login-container"},n={class:"main-container"},c={class:"login-box"},l={class:"login-options"},s={class:"login-footer"};function d(e,t,o,d,i,m){const b=Object(r["resolveComponent"])("User"),u=Object(r["resolveComponent"])("el-icon"),p=Object(r["resolveComponent"])("el-input"),j=Object(r["resolveComponent"])("el-form-item"),O=Object(r["resolveComponent"])("Lock"),g=Object(r["resolveComponent"])("el-checkbox"),V=Object(r["resolveComponent"])("el-button"),f=Object(r["resolveComponent"])("el-form"),w=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createElementVNode"])("div",n,[t[9]||(t[9]=Object(r["createElementVNode"])("div",{class:"left-section"},[Object(r["createElementVNode"])("div",{class:"animation-container",id:"lottieAnimation"}),Object(r["createElementVNode"])("div",{class:"left-content"},[Object(r["createElementVNode"])("h2",null,"欢迎回来"),Object(r["createElementVNode"])("p",null,"登录智能办公系统，开始您的高效工作")])],-1)),Object(r["createElementVNode"])("div",c,[t[8]||(t[8]=Object(r["createElementVNode"])("div",{class:"login-header"},[Object(r["createElementVNode"])("i",{class:"bi bi-briefcase"}),Object(r["createElementVNode"])("h4",null,"智能办公系统"),Object(r["createElementVNode"])("p",null,"专业高效的一站式企业办公解决方案")],-1)),Object(r["createVNode"])(f,{ref:"loginFormRef",model:d.loginForm,rules:d.loginRules,class:"login-form"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(j,{prop:"username"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{modelValue:d.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>d.loginForm.username=e),placeholder:"请输入账号或邮箱",autocomplete:"off"},{prefix:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b)]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(r["createVNode"])(j,{prop:"password"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{modelValue:d.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>d.loginForm.password=e),type:"password",placeholder:"请输入密码","show-password":"",autocomplete:"off",onKeyup:Object(r["withKeys"])(d.handleLogin,["enter"])},{prefix:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(O)]),_:1})]),_:1},8,["modelValue","onKeyup"])]),_:1}),Object(r["createElementVNode"])("div",l,[Object(r["createVNode"])(g,{modelValue:d.loginForm.remember,"onUpdate:modelValue":t[2]||(t[2]=e=>d.loginForm.remember=e)},{default:Object(r["withCtx"])(()=>t[3]||(t[3]=[Object(r["createTextVNode"])("记住我")])),_:1},8,["modelValue"]),t[4]||(t[4]=Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("a",{href:"/admin/login/",class:"admin-link"},"进入管理员端")],-1))]),Object(r["createVNode"])(V,{type:"primary",class:"login-button",loading:d.loading,onClick:d.handleLogin},{default:Object(r["withCtx"])(()=>t[5]||(t[5]=[Object(r["createTextVNode"])(" 登录 ")])),_:1},8,["loading","onClick"])]),_:1},8,["model","rules"]),Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("p",null,[t[7]||(t[7]=Object(r["createTextVNode"])("还没有账号？")),Object(r["createVNode"])(w,{to:"/register"},{default:Object(r["withCtx"])(()=>t[6]||(t[6]=[Object(r["createTextVNode"])("立即注册")])),_:1})])])])])])}o("14d9");var i=o("6605"),m=o("5502"),b=o("3ef4"),u=o("f6f2"),p={name:"Login",setup(){const e=Object(i["d"])(),t=Object(m["b"])(),o=Object(r["ref"])(null),a=Object(r["computed"])(()=>t.getters["user/loading"]),n=Object(r["computed"])(()=>t.getters["user/error"]),c=Object(r["reactive"])({username:"",password:"",remember:!1}),l={username:[{required:!0,message:"请输入账号或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},s=async()=>{if(o.value){t.dispatch("user/clearError");try{await o.value.validate()}catch(n){return void b["a"].warning("请填写完整的登录信息")}try{const o={username:c.username,password:c.password,remember:c.remember?"true":"false"},r=await t.dispatch("user/login",o);b["a"].success(r.message||"登录成功"),e.push("/dashboard")}catch(r){n.value?b["a"].error(n.value):r.response&&r.response.data&&r.response.data.message?b["a"].error(r.response.data.message):b["a"].error(r.message||"登录失败，请稍后重试")}}};return Object(r["onMounted"])(()=>{t.commit("user/AUTH_REQUEST",!1);const e=document.getElementById("lottieAnimation");e&&window.lottie&&window.lottie.loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,path:"https://assets10.lottiefiles.com/packages/lf20_iorpbol0.json"})}),{loginFormRef:o,loginForm:c,loginRules:l,loading:a,handleLogin:s,User:u["User"],Lock:u["Lock"]}}},j=(o("d0b2"),o("6b0d")),O=o.n(j);const g=O()(p,[["render",d],["__scopeId","data-v-7610f8d1"]]);t["default"]=g},d0b2:function(e,t,o){"use strict";o("4de2")}}]);
//# sourceMappingURL=chunk-4af16728.898e6535.js.map