{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.set.symmetric-difference.v2.js","webpack:///./node_modules/core-js/modules/es.set.difference.v2.js","webpack:///./src/views/contract/Index.vue?1b77","webpack:///./src/api/contract.js","webpack:///./node_modules/core-js/internals/set-iterate.js","webpack:///./node_modules/core-js/internals/set-is-superset-of.js","webpack:///./node_modules/core-js/internals/iterate-simple.js","webpack:///./node_modules/core-js/internals/set-is-subset-of.js","webpack:///./node_modules/core-js/modules/es.set.union.v2.js","webpack:///./node_modules/core-js/modules/es.set.intersection.v2.js","webpack:///./node_modules/core-js/internals/get-set-record.js","webpack:///./node_modules/core-js/internals/set-clone.js","webpack:///./node_modules/core-js/modules/es.set.is-subset-of.v2.js","webpack:///./node_modules/core-js/internals/set-size.js","webpack:///./node_modules/core-js/modules/es.iterator.filter.js","webpack:///./node_modules/core-js/internals/set-intersection.js","webpack:///./node_modules/core-js/internals/set-symmetric-difference.js","webpack:///./node_modules/core-js/modules/es.set.is-superset-of.v2.js","webpack:///./node_modules/core-js/internals/set-difference.js","webpack:///./node_modules/core-js/internals/set-is-disjoint-from.js","webpack:///./node_modules/core-js/modules/es.set.is-disjoint-from.v2.js","webpack:///./node_modules/core-js/internals/set-helpers.js","webpack:///./src/api/chat.js","webpack:///./node_modules/core-js/internals/set-method-accept-set-like.js","webpack:///./node_modules/core-js/internals/a-set.js","webpack:///./src/views/contract/Index.vue","webpack:///./src/views/contract/Index.vue?aebd","webpack:///./node_modules/core-js/internals/set-union.js"],"names":["$","symmetricDifference","setMethodAcceptSetLike","target","proto","real","forced","difference","INCORRECT","result","size","getContractList","params","request","url","method","getContractDetail","id","createContract","data","updateContract","deleteContract","getRecommendedTemplates","createContractFromTemplate","templateId","checkContract","isNaN","Number","console","error","Promise","reject","Error","content","contentLength","length","log","timeout","catch","aiPolishContract","signal","then","response","getCompanyUsers","userApi","uncurryThis","iterateSimple","SetHelpers","Set","SetPrototype","forEach","keys","next","module","exports","set","fn","interruptible","iterator","aSet","has","getSetRecord","iteratorClose","other","O","this","otherRec","getIterator","e","call","record","ITERATOR_INSTEAD_OF_RECORD","step","done","value","undefined","iterate","includes","union","fails","intersection","String","Array","from","aCallable","anObject","toIntegerOrInfinity","getIteratorDirect","INVALID_SIZE","$RangeError","RangeError","$TypeError","TypeError","max","Math","SetRecord","intSize","prototype","it","obj","numSize","add","isSubsetOf","uncurryThisAccessor","createIteratorProxy","callWithSafeIterationClosing","IS_PURE","iteratorHelperWithoutClosingOnEarlyError","filterWithoutClosingOnEarlyError","IteratorProxy","predicate","counter","filter","iterateSet","clone","remove","keysIter","isSupersetOf","isDisjointFrom","getChatSessions","getChatSession","createChatSession","sendTextMessage","message_type","sendFileMessage","chatId","file","formData","FormData","append","sendImageMessage","image","sendKnowledgeMessage","downloadMessageFile","messageId","responseType","findOrCreateChat","userId","user_id","async","findOrCreateChatWithUsers","userIds","participants","summarizeChat","sessionId","startDate","endDate","start_date","end_date","analyzeForCalendar","createCalendarEvent","eventData","getBuiltIn","createSetLike","createSetLikeWithInfinitySize","name","callback","error2","Infinity","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createBlock","_component_el_card","header","_withCtx","_hoisted_4","_hoisted_5","_createVNode","_component_el_input","$setup","searchQuery","$event","placeholder","clearable","prefix-icon","Search","style","onClear","handleFilterChange","_component_el_select","sortBy","onChange","_component_el_option","label","sortOrder","_component_el_button","type","onClick","openContractDialog","_component_el_icon","_component_Plus","_hoisted_6","_Fragment","_renderList","filteredContracts","contract","key","_normalizeClass","selectedContract","viewContractDetail","_hoisted_8","_toDisplayString","title","_hoisted_9","number","createdAt","_hoisted_10","company","displayAmount","_hoisted_11","_component_el_dropdown","trigger","_cache","_withModifiers","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","icon","Edit","handleEdit","Share","handleShare","Delete","divided","handleDelete","MoreFilled","text","circle","_component_el_empty","description","_hoisted_12","_component_el_pagination","current-page","currentPage","page-size","layout","total","totalItems","onCurrentChange","handleCurrentChange","isLoading","_component_el_dialog","showNewContractDialog","width","center","footer","_hoisted_23","submitContract","getSubmitButtonText","_hoisted_13","_component_el_radio_group","creationMode","_component_el_radio_button","_component_el_form","model","newContract","label-width","_component_el_row","gutter","_component_el_col","span","_component_el_form_item","required","filterable","allow-create","default-first-option","contractTypes","item","amount","prepend","_component_el_date_picker","signDate","expireDate","remark","rows","_hoisted_14","templateForm","contractType","industry","industries","scene","scenes","_hoisted_15","_hoisted_16","availableTemplates","template","idx","selectedTemplate","handleTemplateSelect","_hoisted_18","_hoisted_19","_hoisted_20","contract_type","_hoisted_21","_hoisted_22","isLoadingTemplates","image-size","aiForm","label-position","coreElements","showEditDialog","submitUpdate","editForm","_hoisted_24","_hoisted_25","_hoisted_26","sign_date","expire_date","showShareDialog","submitShare","shareTargetUsers","multiple","availableUsers","user","username","formatDate","date","toISOString","split","setup","router","useRouter","ref","searchTimeout","reactive","allActiveTemplates","contracts","filterAvailableTemplates","templates","hasFilter","t","watch","deep","initializeTemplateData","allTemplates","results","activeTemplates","is_active","typeSet","map","Boolean","industrySet","sceneSet","ElMessage","loadFilterOptions","typesRes","industriesRes","scenesRes","all","loadContracts","search","page","page_size","ordering","formattedContracts","created_at","Date","toLocaleString","toFixed","count","computed","resetForms","Object","push","handleContractTypeChange","index","today","dateStr","getFullYear","getMonth","getDate","newPage","_store$getters$user","companyId","store","getters","_store$getters$user2","ElMessageBox","confirm","confirmButtonText","cancelButtonText","success","updateData","replace","warning","loading","ElLoading","service","lock","background","_chatResponse$data","chatResponse","chat_id","blob","filename","downloadUrl","token","localStorage","getItem","headers","Blob","docTitle","contentDisposition","match","close","contractData","status","use_ai_agent","JSON","stringify","retryCount","maxRetries","controller","AbortController","timeoutId","setTimeout","abort","createContractAPI","clearTimeout","message","resolve","errorMsg","errorDetails","entries","isArray","join","visible","onMounted","Plus","InfoFilled","__exports__","render"],"mappings":"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","file":"js/chunk-5c63176c.65f09c12.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar symmetricDifference = require('../internals/set-symmetric-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.symmetricDifference` method\n// https://tc39.es/ecma262/#sec-set.prototype.symmetricdifference\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('symmetricDifference') }, {\n  symmetricDifference: symmetricDifference\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar difference = require('../internals/set-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('difference', function (result) {\n  return result.size === 0;\n});\n\n// `Set.prototype.difference` method\n// https://tc39.es/ecma262/#sec-set.prototype.difference\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  difference: difference\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=5cb79bf6&scoped=true&lang=scss\"","import request from '@/utils/request'\nimport userApi from './user'\n\n/**\n * 合同管理API\n */\n\n/**\n * 获取合同列表\n * @param {Object} params - 查询参数\n * @returns {Promise}\n */\nexport function getContractList(params) {\n  return request({\n    url: '/api/contract/contracts/',\n    method: 'get',\n    params\n  })\n}\n\n/**\n * 获取合同详情\n * @param {string|number} id - 合同ID或编号\n * @returns {Promise}\n */\nexport function getContractDetail(id) {\n  return request({\n    url: `/api/contract/contracts/${id}/`,\n    method: 'get'\n  })\n}\n\n/**\n * 创建新合同\n * @param {Object} data - 合同数据\n * @returns {Promise}\n */\nexport function createContract(data) {\n  return request({\n    url: '/api/contract/contracts/',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 更新合同\n * @param {string|number} id - 合同ID\n * @param {Object} data - 更新数据\n * @returns {Promise}\n */\nexport function updateContract(id, data) {\n  return request({\n    url: `/api/contract/contracts/${id}/`,\n    method: 'put',\n    data\n  })\n}\n\n/**\n * 删除合同\n * @param {string|number} id - 合同ID\n * @returns {Promise}\n */\nexport function deleteContract(id) {\n  return request({\n    url: `/api/contract/contracts/${id}/`,\n    method: 'delete'\n  })\n}\n\n/**\n * 获取合同模板列表\n * @param {Object} params - 查询参数\n * @returns {Promise}\n */\nexport function getContractTemplates(params) {\n  return request({\n    url: '/api/contract/templates/',\n    method: 'get',\n    params\n  })\n}\n\n/**\n * 获取推荐的合同模板列表\n * @param {Object} params - 筛选参数\n * @returns {Promise}\n */\nexport function getRecommendedTemplates(params) {\n  return request({\n    url: '/api/contract/contracts/template_suggestions/',\n    method: 'get',\n    params\n  })\n}\n\n/**\n * 获取合同模板详情\n * @param {string|number} id - 模板ID\n * @returns {Promise}\n */\nexport function getContractTemplateDetail(id) {\n  return request({\n    url: `/api/contract/templates/${id}/`,\n    method: 'get'\n  })\n}\n\n/**\n * 使用模板创建合同\n * @param {string|number} templateId - 模板ID\n * @param {Object} data - 合同数据（标题、公司等）\n * @returns {Promise}\n */\nexport function createContractFromTemplate(templateId, data) {\n  return request({\n    url: `/api/contract/templates/${templateId}/use_template/`,\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 添加合同附件\n * @param {string|number} id - 合同ID\n * @param {Object} data - 附件数据\n * @returns {Promise}\n */\nexport function addContractAttachment(id, data) {\n  return request({\n    url: `/api/contract/contracts/${id}/add_attachment/`,\n    method: 'post',\n    data,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n/**\n * 检查合同(AI分析)\n * @param {string|number} id - 合同ID\n * @param {Object} data - 合同文本数据，包含content属性\n * @returns {Promise}\n */\nexport function checkContract(id, data) {\n  // 确保ID有效\n  if (!id || isNaN(Number(id))) {\n    console.error('无效的合同ID:', id);\n    return Promise.reject(new Error('无效的合同ID'));\n  }\n  \n  // 确保数据包含content\n  if (!data || !data.content) {\n    console.error('无效的合同内容:', data);\n    return Promise.reject(new Error('合同内容不能为空'));\n  }\n  \n  // 记录调用信息\n  const contentLength = data && data.content ? data.content.length : 0;\n  console.log(`调用checkContract API - ID: ${id}, 内容长度: ${contentLength}`);\n  \n  return request({\n    url: `/api/contract/contracts/${id}/check_contract/`,\n    method: 'post',\n    data,\n    timeout: 180000 // 3分钟超时，检查可能需要更长时间\n  }).catch(error => {\n    console.error('合同检查API错误:', error);\n    throw error;\n  });\n}\n\n/**\n * 合同AI润色\n * @param {string|number} id - 合同ID\n * @param {Object} data - 合同文本数据，包含content属性\n * @param {AbortSignal} [signal] - 用于取消请求的AbortSignal对象\n * @returns {Promise}\n */\nexport function aiPolishContract(id, data, signal) {\n  // 确保数据包含content\n  if (!data || !data.content) {\n    console.error('无效的合同内容:', data);\n    return Promise.reject(new Error('合同内容不能为空'));\n  }\n  \n  const contentLength = data && data.content ? data.content.length : 0;\n  console.log(`调用aiPolishContract API - ID: ${id}, 内容长度: ${contentLength}`);\n  \n  return request({\n    url: `/api/contract/contracts/${id}/ai_polish/`,\n    method: 'post',\n    data,\n    signal\n  }).then(response => {\n    console.log('AI润色返回数据:', response);\n    return response;\n  }).catch(error => {\n    console.error('AI润色API错误:', error);\n    throw error;\n  });\n}\n\n/**\n * 创建日历事件\n * @param {Object} data - 事件数据\n * @returns {Promise}\n */\nexport function createCalendarEvent(data) {\n  return request({\n    url: '/api/contract/events/',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 更新日历事件\n * @param {Number} id - 事件ID\n * @param {Object} data - 事件数据\n * @returns {Promise}\n */\nexport function updateCalendarEvent(id, data) {\n  return request({\n    url: `/api/contract/events/${id}/`,\n    method: 'put',\n    data\n  })\n}\n\n/**\n * 删除日历事件\n * @param {Number} id - 事件ID\n * @returns {Promise}\n */\nexport function deleteCalendarEvent(id) {\n  return request({\n    url: `/api/contract/events/${id}/`,\n    method: 'delete'\n  })\n}\n\nexport const { getCompanyUsers } = userApi; ","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar iterateSimple = require('../internals/iterate-simple');\nvar SetHelpers = require('../internals/set-helpers');\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSupersetOf\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","'use strict';\nvar call = require('../internals/function-call');\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar size = require('../internals/set-size');\nvar iterate = require('../internals/set-iterate');\nvar getSetRecord = require('../internals/get-set-record');\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSubsetOf\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar union = require('../internals/set-union');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.union` method\n// https://tc39.es/ecma262/#sec-set.prototype.union\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('union') }, {\n  union: union\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar intersection = require('../internals/set-intersection');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('intersection', function (result) {\n  return result.size === 2 && result.has(1) && result.has(2);\n}) || fails(function () {\n  // eslint-disable-next-line es/no-array-from, es/no-set, es/no-set-prototype-intersection -- testing\n  return String(Array.from(new Set([1, 2, 3]).intersection(new Set([3, 2])))) !== '3,2';\n});\n\n// `Set.prototype.intersection` method\n// https://tc39.es/ecma262/#sec-set.prototype.intersection\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  intersection: intersection\n});\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar call = require('../internals/function-call');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar INVALID_SIZE = 'Invalid size';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, intSize) {\n  this.set = set;\n  this.size = max(intSize, 0);\n  this.has = aCallable(set.has);\n  this.keys = aCallable(set.keys);\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw new $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw new $RangeError(INVALID_SIZE);\n  return new SetRecord(obj, intSize);\n};\n","'use strict';\nvar SetHelpers = require('../internals/set-helpers');\nvar iterate = require('../internals/set-iterate');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isSubsetOf = require('../internals/set-is-subset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSubsetOf', function (result) {\n  return result;\n});\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issubsetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSubsetOf: isSubsetOf\n});\n","'use strict';\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar SetHelpers = require('../internals/set-helpers');\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, 'size', 'get') || function (set) {\n  return set.size;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar IS_PURE = require('../internals/is-pure');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar filterWithoutClosingOnEarlyError = !IS_PURE && iteratorHelperWithoutClosingOnEarlyError('filter', TypeError);\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.filter\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE || filterWithoutClosingOnEarlyError }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (filterWithoutClosingOnEarlyError) return call(filterWithoutClosingOnEarlyError, this, predicate);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isSupersetOf = require('../internals/set-is-superset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSupersetOf', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issupersetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSupersetOf: isSupersetOf\n});\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(O, e)) remove(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isDisjointFrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isDisjointFrom = require('../internals/set-is-disjoint-from');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isDisjointFrom', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.es/ecma262/#sec-set.prototype.isdisjointfrom\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isDisjointFrom: isDisjointFrom\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n","import request from '@/utils/request'\n\n/**\n * 获取聊天会话列表\n */\nexport function getChatSessions() {\n  return request({\n    url: '/api/chat/sessions/',\n    method: 'get'\n  })\n}\n\n/**\n * 获取聊天会话详情\n * @param {Number} id - 聊天会话ID\n */\nexport function getChatSession(id) {\n  return request({\n    url: `/api/chat/sessions/${id}/`,\n    method: 'get'\n  })\n}\n\n/**\n * 创建新的聊天会话\n * @param {Object} data - 聊天会话数据\n */\nexport function createChatSession(data) {\n  return request({\n    url: '/api/chat/sessions/',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 发送文本消息\n * @param {Object} data - 消息数据\n */\nexport function sendTextMessage(data) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: {\n      ...data,\n      message_type: 'text'\n    }\n  })\n}\n\n/**\n * 发送文件消息\n * @param {Number} chatId - 聊天ID\n * @param {String} content - 消息内容\n * @param {File} file - 文件对象\n */\nexport function sendFileMessage(chatId, content, file) {\n  const formData = new FormData();\n  formData.append('chat', chatId);\n  formData.append('message_type', 'file');\n  formData.append('content', content);\n  formData.append('file', file);\n  \n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData\n  })\n}\n\n/**\n * 发送图片消息\n * @param {Number} chatId - 聊天ID\n * @param {String} content - 消息内容\n * @param {File} image - 图片文件\n */\nexport function sendImageMessage(chatId, content, image) {\n  const formData = new FormData();\n  formData.append('chat', chatId);\n  formData.append('message_type', 'image');\n  formData.append('content', content);\n  formData.append('file', image);\n  \n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData\n  })\n}\n\n/**\n * 发送知识库消息\n * @param {Object} data - 消息数据，包含chat和knowledge_id\n */\nexport function sendKnowledgeMessage(data) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: {\n      ...data,\n      message_type: 'knowledge',\n      content: '分享了一个知识库文件'\n    }\n  })\n}\n\n/**\n * 下载消息中的文件\n * @param {Number} messageId - 消息ID\n */\nexport function downloadMessageFile(messageId) {\n  return request({\n    url: `/api/chat/messages/${messageId}/download/`,\n    method: 'get',\n    responseType: 'blob'\n  })\n}\n\n/**\n * 发送文档消息 - 分享智能文档到聊天\n * @param {Object} data - 包含chat(聊天ID)、document_id(文档ID)、format(文档格式，如pdf/word)、title(文档标题)的对象\n */\nexport function sendDocumentMessage(data) {\n  // 创建FormData对象\n  const formData = new FormData();\n  \n  // 添加必要的字段\n  formData.append('chat', data.chat);\n  formData.append('message_type', 'file');\n  formData.append('document_id', data.document_id);\n  formData.append('format', data.format);\n  formData.append('title', data.title);\n  formData.append('content', `分享了一个${data.format === 'pdf' ? 'PDF' : 'Word'}文档`);\n  \n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n/**\n * 向聊天添加参与者\n * @param {Number} chatId - 聊天会话ID\n * @param {Number} userId - 用户ID\n */\nexport function addChatParticipant(chatId, userId) {\n  return request({\n    url: `/api/chat/sessions/${chatId}/add_participant/`,\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  })\n}\n\n/**\n * 从聊天中移除参与者\n * @param {Number} chatId - 聊天会话ID\n * @param {Number} userId - 用户ID\n */\nexport function removeChatParticipant(chatId, userId) {\n  return request({\n    url: `/api/chat/sessions/${chatId}/remove_participant/`,\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  })\n}\n\n/**\n * 从聊天消息添加日历事件\n * @param {Number} messageId - 消息ID\n * @param {Object} data - 可选的更新日程数据\n * @param {Boolean} preview - 是否仅预览不创建事件\n */\nexport function addCalendarEvent(messageId, data, preview = false) {\n  let url = `/api/chat/messages/${messageId}/add_calendar_event/`\n  if (preview) {\n    url += '?preview=true'\n  }\n  \n  return request({\n    url: url,\n    method: 'post',\n    data\n  })\n}\n\n// 获取知识库列表\nexport function getKnowledgeList(params) {\n  return request({\n    url: '/api/knowledge/files/',\n    method: 'get',\n    params\n  })\n}\n\n// 查看文件内容 \nexport function deleteMessage(id) {\n  return request({\n    url: `/chat/messages/${id}/`,\n    method: 'delete'\n  })\n}\n\n// 新增：查找或创建一对一聊天\nexport function findOrCreateChat(userId) {\n  return request({\n    url: '/api/chat/find-or-create/',\n    method: 'post',\n    data: { user_id: userId }\n  })\n}\n\n/**\n * 根据用户ID列表查找或创建聊天会话\n * @param {Array<Number>} userIds - 用户ID数组\n * @returns {Promise}\n */\nexport async function findOrCreateChatWithUsers(userIds) {\n  if (!userIds || userIds.length === 0) {\n    throw new Error('No user IDs provided');\n  }\n\n  if (userIds.length === 1) {\n    // 处理单人聊天\n    return findOrCreateChat(userIds[0]);\n  } else {\n    // 处理多人聊天\n    return createChatSession({ participants: userIds });\n  }\n}\n\n/**\n * 清空所有聊天会话\n * @returns {Promise}\n */\nexport function clearAllChatSessions() {\n  return request({\n    url: '/api/chat/sessions/clear_all/',\n    method: 'post'\n  });\n}\n\n/**\n * 上传文件到会话中\n * @param {FormData} formData 包含文件和会话ID的表单数据\n * @returns {Promise}\n */\nexport function uploadFile(formData) {\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n}\n\nexport function getChatMessages(chatId, page = 1, pageSize = 20) {\n  return request({\n    url: `/api/chat/messages/`,\n    method: 'get',\n    params: {\n      chat: chatId,\n      page,\n      page_size: pageSize\n    }\n  });\n}\n\n// Summarize chat messages\nexport function summarizeChat(sessionId, startDate, endDate) {\n  return request({\n    url: `/api/chat/sessions/${sessionId}/summarize/`,\n    method: 'post',\n    data: {\n      start_date: startDate,\n      end_date: endDate\n    }\n  });\n}\n\nexport function createChatMessage(data) {\n  const formData = new FormData();\n  for (const key in data) {\n    if (data[key] !== null && data[key] !== undefined) {\n      if (key === 'file' && data[key] instanceof File) {\n        formData.append(key, data[key], data[key].name);\n      } else {\n        formData.append(key, data[key]);\n      }\n    }\n  }\n\n  return request({\n    url: '/api/chat/messages/',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n}\n\n/**\n * Analyzes text content to extract calendar event information.\n * @param {String} content - The text content to analyze.\n */\nexport function analyzeForCalendar(content) {\n  return request({\n    url: '/api/chat/analyze-for-calendar/',\n    method: 'post',\n    data: { content }\n  });\n}\n\n/**\n * Creates a new calendar event.\n * @param {Object} eventData - The event data to create.\n */\nexport function createCalendarEvent(eventData) {\n  return request({\n    url: '/api/calendar/events/',\n    method: 'post',\n    data: eventData\n  });\n} ","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar createSetLike = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return false;\n    },\n    keys: function () {\n      return {\n        next: function () {\n          return { done: true };\n        }\n      };\n    }\n  };\n};\n\nvar createSetLikeWithInfinitySize = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return true;\n    },\n    keys: function () {\n      throw new Error('e');\n    }\n  };\n};\n\nmodule.exports = function (name, callback) {\n  var Set = getBuiltIn('Set');\n  try {\n    new Set()[name](createSetLike(0));\n    try {\n      // late spec change, early WebKit ~ Safari 17 implementation does not pass it\n      // https://github.com/tc39/proposal-set-methods/pull/88\n      // also covered engines with\n      // https://bugs.webkit.org/show_bug.cgi?id=272679\n      new Set()[name](createSetLike(-1));\n      return false;\n    } catch (error2) {\n      if (!callback) return true;\n      // early V8 implementation bug\n      // https://issues.chromium.org/issues/351332634\n      try {\n        new Set()[name](createSetLikeWithInfinitySize(-Infinity));\n        return false;\n      } catch (error) {\n        var set = new Set();\n        set.add(1);\n        set.add(2);\n        return callback(set[name](createSetLikeWithInfinitySize(Infinity)));\n      }\n    }\n  } catch (error) {\n    return false;\n  }\n};\n","'use strict';\nvar has = require('../internals/set-helpers').has;\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n","<template>\n  <div class=\"contract-container\">\n    <div class=\"row\">\n      <!-- 合同列表 -->\n      <div class=\"col-lg-12\">\n        <el-card class=\"contract-list-card\" v-loading=\"isLoading\">\n          <template #header>\n            <div class=\"card-header-flex\">\n              <span>合同列表</span>\n              <div class=\"d-flex align-items-center ms-auto me-3\"> \n            <el-input \n              v-model=\"searchQuery\" \n                  placeholder=\"搜索标题或编号...\" \n              clearable\n              :prefix-icon=\"Search\"\n                  class=\"me-2\"\n                  style=\"width: 200px;\"\n                  @clear=\"handleFilterChange\"\n            ></el-input>\n            <el-select \n              v-model=\"sortBy\" \n                  placeholder=\"默认排序\" \n                  class=\"me-2\"\n                  style=\"width: 150px;\"\n                  @change=\"handleFilterChange\"\n                >\n                  <el-option label=\"默认排序\" value=\"default\"></el-option>\n                  <el-option label=\"合同标题\" value=\"title\"></el-option>\n                  <el-option label=\"创建时间\" value=\"created_at\"></el-option>\n                  <el-option label=\"合同金额\" value=\"amount\"></el-option>\n                </el-select>\n                <el-select \n                  v-model=\"sortOrder\" \n                  style=\"width: 100px;\"\n                  @change=\"handleFilterChange\"\n                >\n                  <el-option label=\"升序\" value=\"asc\"></el-option>\n                  <el-option label=\"降序\" value=\"desc\"></el-option>\n            </el-select>\n          </div>\n              <el-button type=\"primary\" size=\"small\" @click=\"openContractDialog\">\n                <el-icon class=\"mr-1\"><Plus /></el-icon> 新建合同\n              </el-button>\n            </div>\n          </template>\n          \n          <div class=\"contract-list\">\n            <div \n              v-for=\"(contract) in filteredContracts\" \n              :key=\"contract.id\"\n              class=\"contract-item\"\n              :class=\"{'active': selectedContract && selectedContract.id === contract.id}\"\n            >\n              <div class=\"contract-main-info\" @click=\"viewContractDetail(contract)\">\n                <div class=\"contract-title\">\n                  {{ contract.title }}\n                </div>\n                <div class=\"contract-info\">\n                  <span>合同编号: {{ contract.number }}</span>\n                  <span>创建时间: {{ contract.createdAt }}</span>\n                </div>\n                <div class=\"contract-info mt-1\">\n                  <span>{{ contract.company }}</span>\n                  <span>金额: {{ contract.displayAmount }}</span>\n                </div>\n              </div>\n              <div class=\"contract-actions\">\n                <el-dropdown trigger=\"click\" @click.stop>\n                  <el-button\n                    :icon=\"MoreFilled\"\n                    class=\"more-button\"\n                    text\n                    circle\n                  />\n                  <template #dropdown>\n                    <el-dropdown-menu>\n                      <el-dropdown-item :icon=\"Edit\" @click=\"handleEdit(contract)\">编辑</el-dropdown-item>\n                      <el-dropdown-item :icon=\"Share\" @click=\"handleShare(contract)\">分享</el-dropdown-item>\n                      <el-dropdown-item :icon=\"Delete\" divided class=\"text-danger\" @click=\"handleDelete(contract)\">删除</el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n              </div>\n            </div>\n            \n            <el-empty \n              v-if=\"filteredContracts.length === 0\" \n              description=\"没有找到匹配的合同\"\n            ></el-empty>\n          </div>\n          \n          <!-- 添加分页组件 -->\n          <div class=\"pagination-container\">\n            <el-pagination\n              v-model:current-page=\"currentPage\"\n              :page-size=\"10\"\n              layout=\"total, prev, pager, next, jumper\"\n              :total=\"totalItems\"\n              @current-change=\"handleCurrentChange\"\n            />\n          </div>\n        </el-card>\n      </div>\n      </div>\n      \n    <!-- 创建合同模态框 -->\n    <el-dialog\n      v-model=\"showNewContractDialog\"\n      title=\"新建合同\"\n      width=\"60%\"\n      center\n      class=\"new-contract-dialog\"\n    >\n      <!-- 创建方式 -->\n      <div class=\"mb-4\">\n        <el-radio-group v-model=\"creationMode\" size=\"large\">\n          <el-radio-button label=\"manual\">手动创建</el-radio-button>\n          <el-radio-button label=\"template\">使用模板</el-radio-button>\n          <el-radio-button label=\"ai\">AI 生成</el-radio-button>\n        </el-radio-group>\n      </div>\n\n      <!-- 手动创建 -->\n      <el-form v-if=\"creationMode === 'manual'\" :model=\"newContract\" label-width=\"100px\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"合同名称\" required>\n              <el-input v-model=\"newContract.title\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"合同类型\" required>\n              <el-select v-model=\"newContract.type\" placeholder=\"请选择或输入\" filterable allow-create default-first-option style=\"width: 100%\">\n                <el-option v-for=\"item in contractTypes\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"签约对方\" required>\n              <el-input v-model=\"newContract.company\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"合同金额\">\n              <el-input v-model=\"newContract.amount\" placeholder=\"请输入金额\" >\n                 <template #prepend>¥</template>\n              </el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"8\">\n            <el-form-item label=\"签约日期\">\n              <el-date-picker v-model=\"newContract.signDate\" type=\"date\" placeholder=\"选择日期\" style=\"width: 100%\"></el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"生效日期\">\n              <el-date-picker v-model=\"newContract.startDate\" type=\"date\" placeholder=\"选择日期\" style=\"width: 100%\"></el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"到期日期\">\n              <el-date-picker v-model=\"newContract.expireDate\" type=\"date\" placeholder=\"选择日期\" style=\"width: 100%\"></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"newContract.remark\" type=\"textarea\" :rows=\"3\"></el-input>\n        </el-form-item>\n      </el-form>\n\n      <!-- 模板选择 -->\n      <div v-if=\"creationMode === 'template'\">\n        <el-row :gutter=\"20\" class=\"mb-4\">\n          <el-col :span=\"8\">\n            <el-select v-model=\"templateForm.contractType\" placeholder=\"合同类型\" filterable style=\"width: 100%\">\n              <el-option v-for=\"item in contractTypes\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-select v-model=\"templateForm.industry\" placeholder=\"行业领域\" filterable style=\"width: 100%\">\n              <el-option v-for=\"item in industries\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-col>\n          <el-col :span=\"8\">\n             <el-select v-model=\"templateForm.scene\" placeholder=\"交易场景\" filterable style=\"width: 100%\">\n               <el-option v-for=\"item in scenes\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-col>\n        </el-row>\n              \n        <div class=\"mb-4\">\n          <p class=\"form-label small text-muted\">推荐模板</p>\n          <div class=\"template-list\" v-loading=\"isLoadingTemplates\">\n            <div \n              v-for=\"(template, idx) in availableTemplates\" \n              :key=\"idx\"\n              class=\"template-item\"\n              :class=\"{'active': selectedTemplate === idx}\"\n              @click=\"handleTemplateSelect(template, idx)\"\n            >\n              <div class=\"template-name\">{{ template.name }}</div>\n              <div class=\"template-info\">\n                <span class=\"template-type\">{{ template.contract_type }}</span>\n                <span class=\"template-industry\" v-if=\"template.industry\">{{ template.industry }}</span>\n              </div>\n              <div class=\"template-desc\" v-if=\"template.description\">{{ template.description }}</div>\n            </div>\n            \n            <el-empty \n              v-if=\"!isLoadingTemplates && availableTemplates.length === 0 && (templateForm.contractType || templateForm.industry || templateForm.scene)\"\n              description=\"没有找到匹配的模板\"\n              :image-size=\"80\"\n            ></el-empty>\n          </div>\n        </div>\n                  \n        <el-form :model=\"templateForm\" label-width=\"100px\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item label=\"合同名称\" required>\n                <el-input v-model=\"templateForm.title\" placeholder=\"请选择模板后自动生成\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"签约对方\" required>\n                <el-input v-model=\"templateForm.company\" placeholder=\"请输入签约对方名称\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item label=\"合同金额\">\n                <el-input v-model=\"templateForm.amount\" placeholder=\"请输入金额\">\n                  <template #prepend>¥</template>\n                </el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-form-item label=\"备注\">\n            <el-input v-model=\"templateForm.remark\" type=\"textarea\" :rows=\"2\"></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <!-- AI生成 -->\n      <el-form v-if=\"creationMode === 'ai'\" :model=\"aiForm\" label-position=\"top\">\n        <el-form-item label=\"请详细描述您的合同需求\" required>\n          <el-input \n            v-model=\"aiForm.coreElements\" \n            type=\"textarea\" \n            :rows=\"5\"\n            placeholder=\"例如：请帮我起草一份软件开发服务合同。甲方是'未来科技有限公司'，乙方是'创新软件工作室'。合同需要明确开发周期为3个月，总费用为50万元人民币，分三次支付。第一次支付30%作为启动资金，第二次在完成中期里程碑后支付40%，剩余30%在项目验收通过后支付。还需要包括双方的权利义务、保密条款和违约责任等。\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"showNewContractDialog = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"submitContract\">\n            {{ getSubmitButtonText() }}\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <!-- 编辑合同模态框 -->\n    <el-dialog v-model=\"showEditDialog\" title=\"编辑合同\" width=\"70%\">\n      <el-form :model=\"editForm\" label-width=\"100px\" v-if=\"editForm\">\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <el-form-item label=\"合同名称\" required>\n              <el-input v-model=\"editForm.title\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"合同类型\" required>\n              <el-select v-model=\"editForm.type\" placeholder=\"请选择...\" style=\"width: 100%\">\n                <el-option label=\"采购合同\" value=\"采购合同\"></el-option>\n                <el-option label=\"销售合同\" value=\"销售合同\"></el-option>\n                <el-option label=\"服务合同\" value=\"服务合同\"></el-option>\n                <el-option label=\"合作协议\" value=\"合作协议\"></el-option>\n                <el-option label=\"租赁合同\" value=\"租赁合同\"></el-option>\n                <el-option label=\"其他\" value=\"其他\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"签约对方\" required>\n              <el-input v-model=\"editForm.company\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"合同金额\" required>\n              <el-input v-model=\"editForm.amount\"></el-input>\n            </el-form-item>\n          </div>\n          <div class=\"col-md-6\">\n            <el-form-item label=\"签约日期\">\n              <el-date-picker \n                v-model=\"editForm.sign_date\" \n                type=\"date\" \n                placeholder=\"选择日期\"\n                style=\"width: 100%\">\n              </el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"生效日期\">\n              <el-date-picker \n                v-model=\"editForm.start_date\" \n                type=\"date\" \n                placeholder=\"选择日期\"\n                style=\"width: 100%\">\n              </el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"到期日期\">\n              <el-date-picker \n                v-model=\"editForm.expire_date\" \n                type=\"date\" \n                placeholder=\"选择日期\"\n                style=\"width: 100%\">\n              </el-date-picker>\n            </el-form-item>\n          </div>\n        </div>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"editForm.remark\" type=\"textarea\" :rows=\"3\"></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"showEditDialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitUpdate\">保存</el-button>\n      </template>\n    </el-dialog>\n    \n    <!-- 分享合同模态框 -->\n    <el-dialog v-model=\"showShareDialog\" title=\"分享合同\" width=\"400px\">\n      <el-form>\n        <el-form-item label=\"分享给\">\n          <el-select\n            v-model=\"shareTargetUsers\"\n            multiple\n            filterable\n            placeholder=\"请选择用户\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"user in availableUsers\"\n              :key=\"user.id\"\n              :label=\"user.username\"\n              :value=\"user.id\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"showShareDialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitShare\">分享</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted, watch } from 'vue'\nimport { \n  Plus, Search, InfoFilled, MoreFilled, Edit, Share, Delete\n} from '@element-plus/icons-vue'\nimport { ElMessage, ElLoading, ElMessageBox } from 'element-plus'\nimport { useRouter } from 'vue-router'\nimport { \n  getContractList, createContract as createContractAPI,\n  getRecommendedTemplates, createContractFromTemplate,\n  updateContract, deleteContract, getCompanyUsers\n} from '@/api/contract'\nimport { findOrCreateChatWithUsers, sendFileMessage } from '@/api/chat'\nimport store from '@/store'\nimport request from '@/utils/request'\n\n// 格式化日期为YYYY-MM-DD\nfunction formatDate(date) {\n  if (!date) return null;\n  if (typeof date === 'string') return date;\n  return date.toISOString().split('T')[0];\n}\n\nexport default {\n  name: 'Contract',\n  setup() {\n    const router = useRouter()\n    const searchQuery = ref('')\n    const sortBy = ref('default')\n    const sortOrder = ref('desc')\n    const selectedContract = ref(null)\n    const showNewContractDialog = ref(false)\n    const creationMode = ref('template')\n    const selectedTemplate = ref(null)\n    const isLoading = ref(false)\n    const showEditDialog = ref(false)\n    const showShareDialog = ref(false)\n    const editForm = ref(null)\n    const shareTargetUsers = ref([])\n    const availableUsers = ref([])\n    let searchTimeout = null;\n    \n    // 分页相关状态\n    const currentPage = ref(1)\n    const totalItems = ref(0)\n    \n    // 新合同表单\n    const newContract = reactive({\n      title: '',\n      type: '',\n      company: '',\n      amount: '',\n        signDate: '',\n      startDate: '',\n      expireDate: '',\n      remark: ''\n    })\n\n    // 模板表单\n    const templateForm = reactive({\n      contractType: '',\n      industry: '',\n      scene: '',\n      title: '',\n      company: '',\n      amount: '',\n      remark: ''\n    })\n\n    // AI表单\n    const aiForm = reactive({\n      coreElements: ''\n    })\n\n    // 可用模板列表\n    const availableTemplates = ref([])\n    const isLoadingTemplates = ref(false)\n    const allActiveTemplates = ref([])\n    \n    // 合同列表 - 从API获取\n    const contracts = ref([])\n    \n    // 下拉框选项\n    const contractTypes = ref([])\n    const industries = ref([])\n    const scenes = ref([])\n    \n    const filterAvailableTemplates = () => {\n      if (allActiveTemplates.value.length === 0) {\n        availableTemplates.value = [];\n        return;\n      }\n\n      let templates = allActiveTemplates.value;\n      const hasFilter = templateForm.contractType || templateForm.industry || templateForm.scene;\n\n      if (hasFilter) {\n        if (templateForm.contractType) {\n          templates = templates.filter(t => t.contract_type === templateForm.contractType);\n        }\n        if (templateForm.industry) {\n          templates = templates.filter(t => t.industry === templateForm.industry);\n        }\n        if (templateForm.scene) {\n          templates = templates.filter(t => t.scene === templateForm.scene);\n        }\n        availableTemplates.value = templates;\n      } else {\n        availableTemplates.value = allActiveTemplates.value;\n      }\n    };\n\n    watch(\n      () => [templateForm.contractType, templateForm.industry, templateForm.scene],\n      filterAvailableTemplates,\n      { deep: true }\n    );\n\n    const initializeTemplateData = async () => {\n      if (allActiveTemplates.value.length > 0) {\n        filterAvailableTemplates();\n        return;\n      }\n      \n      isLoadingTemplates.value = true;\n      try {\n        const response = await getRecommendedTemplates({});\n        const allTemplates = response.data.results || response.data || [];\n        \n        const activeTemplates = allTemplates.filter(t => t.is_active);\n        allActiveTemplates.value = activeTemplates;\n\n        const typeSet = new Set(activeTemplates.map(t => t.contract_type).filter(Boolean));\n        const industrySet = new Set(activeTemplates.map(t => t.industry).filter(Boolean));\n        const sceneSet = new Set(activeTemplates.map(t => t.scene).filter(Boolean));\n\n        contractTypes.value = Array.from(typeSet).map(item => ({ label: item, value: item }));\n        industries.value = Array.from(industrySet).map(item => ({ label: item, value: item }));\n        scenes.value = Array.from(sceneSet).map(item => ({ label: item, value: item }));\n        \n        filterAvailableTemplates();\n      } catch (error) {\n        console.error('获取合同模板失败:', error);\n        ElMessage.error(\"获取合同模板列表失败\");\n        allActiveTemplates.value = [];\n        availableTemplates.value = [];\n      } finally {\n        isLoadingTemplates.value = false;\n      }\n    };\n\n    const loadFilterOptions = async () => {\n      try {\n        // Mock-API-Aufrufe, ersetzen durch echte API-Endpunkte\n        const [typesRes, industriesRes, scenesRes] = await Promise.all([\n          request({ url: '/api/contract/types/', method: 'get' }),\n          request({ url: '/api/contract/industries/', method: 'get' }),\n          request({ url: '/api/contract/scenes/', method: 'get' })\n        ]);\n        contractTypes.value = typesRes.data.map(item => ({ label: item.name, value: item.name }));\n        industries.value = industriesRes.data.map(item => ({ label: item.name, value: item.name }));\n        scenes.value = scenesRes.data.map(item => ({ label: item.name, value: item.name }));\n      } catch (error) {\n        console.error(\"加载筛选选项失败:\", error);\n        ElMessage.error(\"加载筛选选项失败，将使用默认值\");\n        // Fallback-Werte\n        contractTypes.value = [\n          { label: '采购合同', value: '采购合同' },\n          { label: '销售合同', value: '销售合同' },\n        ];\n        industries.value = [{ label: '信息技术', value: '信息技术' }];\n        scenes.value = [{ label: '国内贸易', value: '国内贸易' }];\n      }\n    };\n    \n    // 加载合同列表数据\n    const loadContracts = async () => {\n      try {\n        isLoading.value = true\n        \n        const params = {\n          search: searchQuery.value,\n          page: currentPage.value,\n          page_size: 10\n        };\n\n        if (sortBy.value !== 'default') {\n          params.ordering = (sortOrder.value === 'desc' ? '-' : '') + sortBy.value;\n        }\n\n        const response = await getContractList(params);\n        \n        // 格式化后端返回的数据\n        const formattedContracts = response.results.map(contract => ({\n          ...contract,\n          createdAt: contract.created_at ? new Date(contract.created_at).toLocaleString('zh-CN') : '',\n          displayAmount: `￥${Number(contract.amount || 0).toFixed(2)}`\n        }))\n        \n        contracts.value = formattedContracts\n        totalItems.value = response.count\n      } catch (error) {\n        console.error('加载合同列表失败:', error)\n        ElMessage.error('加载合同列表失败，请稍后重试')\n      } finally {\n        isLoading.value = false\n      }\n    }\n    \n    // 根据筛选条件过滤合同\n    const filteredContracts = computed(() => {\n      // 因为我们现在在API层面做了筛选，这里只是展示返回的数据\n      return contracts.value\n    })\n    \n    // 创建合同\n    const openContractDialog = () => {\n      resetForms()\n      showNewContractDialog.value = true\n      initializeTemplateData()\n    }\n    \n    // 重置表单\n    const resetForms = () => {\n      Object.keys(newContract).forEach(key => {\n        newContract[key] = ''\n      })\n      Object.keys(templateForm).forEach(key => {\n        templateForm[key] = ''\n      })\n      aiForm.coreElements = ''\n      creationMode.value = 'template'\n      selectedTemplate.value = null\n    }\n    \n    // 获取提交按钮文本\n    const getSubmitButtonText = () => {\n      switch (creationMode.value) {\n        case 'template':\n          return '使用模板创建'\n        case 'ai':\n          return 'AI 生成合同'\n        default:\n          return '創建合同'\n      }\n    }\n    \n    // 查看合同详情\n    const viewContractDetail = (contract) => {\n      if (contract && contract.id) {\n        selectedContract.value = contract;\n        router.push({ \n          name: 'ContractDetail', \n          params: { id: contract.id } \n        });\n      }\n    };\n    \n    // 筛选和排序变化时重新加载数据\n    const handleFilterChange = () => {\n      currentPage.value = 1 // 重置到第一页\n      loadContracts()\n    }\n    \n    // 在 script setup 部分添加处理函数\n    const handleContractTypeChange = (value) => {\n      // 如果用户选择了\"其他\"，清空当前值以允许输入\n      if (value === '其他') {\n        newContract.type = ''\n      }\n    }\n\n    const handleTemplateSelect = (template, index) => {\n      selectedTemplate.value = index;\n      const today = new Date();\n      const dateStr = `${today.getFullYear()}/${today.getMonth() + 1}/${today.getDate()}`;\n      templateForm.title = `${template.name}(${dateStr})`;\n    };\n    \n    // 处理页码变化\n    const handleCurrentChange = (newPage) => {\n      currentPage.value = newPage\n      loadContracts()\n    }\n    \n    const handleEdit = (contract) => {\n      editForm.value = { ...contract }\n      showEditDialog.value = true\n    }\n    \n    const handleShare = async (contract) => {\n      selectedContract.value = contract\n      showShareDialog.value = true\n      shareTargetUsers.value = []\n      try {\n        const companyId = store.getters.user?.company\n        if (!companyId) {\n          ElMessage.error('无法获取公司信息，请重新登录')\n          return\n        }\n        const result = await getCompanyUsers(companyId)\n        availableUsers.value = result.data.filter(user => user.id !== store.getters.user?.id)\n      } catch (error) {\n        ElMessage.error('获取用户列表失败')\n        console.error('get user list error', error)\n      }\n    }\n    \n    const handleDelete = (contract) => {\n      ElMessageBox.confirm(\n        `确定要删除合同 \"${contract.title}\" 吗？此操作不可逆。`,\n        '警告',\n        {\n          confirmButtonText: '确定删除',\n          cancelButtonText: '取消',\n          type: 'warning',\n        }\n      ).then(async () => {\n        try {\n          await deleteContract(contract.id)\n          ElMessage.success('合同已删除')\n          await loadContracts()\n        } catch (error) {\n          ElMessage.error('删除合同失败')\n          console.error(`delete contract ${contract.id} failed`, error)\n        }\n      }).catch(() => {\n        // User canceled\n      })\n    }\n\n    const submitUpdate = async () => {\n      if (!editForm.value) return\n      try {\n        const { id, title, type, company, amount, sign_date, start_date, expire_date, remark } = editForm.value\n        const updateData = {\n            title,\n            type,\n            company,\n            amount: Number(String(amount).replace(/[^\\d.]/g, '')) || 0,\n            sign_date: formatDate(sign_date),\n            start_date: formatDate(start_date),\n            expire_date: formatDate(expire_date),\n            remark: remark || ''\n        }\n        await updateContract(id, updateData)\n        ElMessage.success('合同更新成功')\n        showEditDialog.value = false\n        await loadContracts()\n      } catch (error) {\n        ElMessage.error('更新失败')\n        console.error('update contract failed', error)\n      }\n    }\n\n    const submitShare = async () => {\n      if (shareTargetUsers.value.length === 0) {\n        ElMessage.warning('请选择要分享的用户')\n        return\n      }\n\n      const loading = ElLoading.service({\n        lock: true,\n        text: '正在分享...',\n        background: 'rgba(0, 0, 0, 0.7)'\n      })\n\n      try {\n        // 1. 获取或创建聊天\n        loading.text = '正在准备聊天...'\n        const chatResponse = await findOrCreateChatWithUsers(shareTargetUsers.value)\n        const chatId = chatResponse.data?.chat_id\n        if (!chatId) {\n          console.error('获取聊天会话ID失败，API响应:', chatResponse)\n          throw new Error('无法获取聊天会话')\n        }\n\n        // 2. 生成 Word 文档\n        loading.text = '正在生成合同文件...'\n        const contract = selectedContract.value\n        let blob = null\n        let filename = ''\n        \n        try {\n          console.log('开始获取合同详情，ID:', contract.id)\n          \n          // 使用下载API直接获取Word文档，而不是手动构建\n          const downloadUrl = `/api/contract/contracts/${contract.id}/download-docx/`\n          console.log('使用下载API获取Word文档:', downloadUrl)\n          \n          // 获取认证令牌\n          const token = localStorage.getItem('token')\n          \n          // 直接调用下载API\n          const response = await request({\n            url: downloadUrl,\n            method: 'GET',\n            responseType: 'blob',\n            headers: {\n              'Authorization': token ? `Bearer ${token}` : ''\n            }\n          })\n          \n          console.log('下载API响应:', response)\n          \n          // 从响应中获取文件内容\n          if (response && response.data) {\n            blob = new Blob([response.data], {\n              type: response.headers['content-type'] || 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n            })\n            \n            // 获取文件名\n            const docTitle = contract.title || '未命名合同'\n            const contentDisposition = response.headers['content-disposition']\n            if (contentDisposition && contentDisposition.includes('filename=')) {\n              const match = contentDisposition.match(/filename=\"?([^\"]+)\"?/)\n              if (match && match[1]) {\n                filename = match[1]\n              } else {\n                filename = `${docTitle}.docx`\n              }\n            } else {\n              filename = `${docTitle}.docx`\n            }\n            \n            console.log('成功获取Word文档，大小:', blob.size, '字节', '文件名:', filename)\n          } else {\n            throw new Error('下载API未返回有效数据')\n          }\n          \n        } catch (error) {\n          console.error('获取合同文件失败:', error)\n          ElMessage.error('生成合同文件失败，无法获取合同内容')\n          loading.close()\n          return\n        }\n        \n        if (!blob || blob.size === 0) {\n          console.error('生成Word文档失败：blob为空或大小为0')\n          ElMessage.error('生成合同文件失败')\n          loading.close()\n          return\n        }\n\n        // 3. 上传文件到聊天\n        loading.text = '正在发送文件...'\n        const formData = new FormData()\n        formData.append('file', blob, filename)\n        formData.append('chat', chatId)\n        formData.append('content', `分享了合同: ${filename}`)\n        formData.append('message_type', 'file')\n        \n        await sendFileMessage(formData)\n\n        ElMessage.success('合同已成功分享')\n        showShareDialog.value = false\n\n      } catch (error) {\n        console.error('分享合同失败:', error)\n        ElMessage.error('分享失败，请重试')\n      } finally {\n        loading.close()\n      }\n    }\n\n    // 提交合同\n    const submitContract = async () => {\n      // 验证必填字段\n      if (creationMode.value === 'template' && selectedTemplate.value === null) {\n        ElMessage.error('请选择一个模板')\n        return\n      }\n      \n      // 启动全屏加载\n      const loading = ElLoading.service({\n        lock: true,\n        text: '提交中...',\n        background: 'rgba(0, 0, 0, 0.7)'\n      })\n      \n      try {\n        let contractData = {}\n        \n        // 根据不同的创建模式处理数据\n        if (creationMode.value === 'manual') {\n          // 验证必填字段\n          if (!newContract.title || !newContract.type || !newContract.company) {\n            ElMessage.error('请填写必填字段：合同名称、合同类型和签约对方')\n            loading.close()\n            return\n          }\n          \n          contractData = {\n            title: newContract.title,\n            type: newContract.type,\n            company: newContract.company,\n            amount: newContract.amount ? Number(newContract.amount.replace(/[^\\d.]/g, '')) : 0,\n            sign_date: formatDate(newContract.signDate),\n            start_date: formatDate(newContract.startDate),\n            expire_date: formatDate(newContract.expireDate),\n            remark: newContract.remark || '',\n            status: 'pending'\n          }\n        } else if (creationMode.value === 'template') {\n          // 使用模板创建合同\n          if (selectedTemplate.value === null) {\n            ElMessage.error('请选择一个模板')\n            loading.close()\n            return\n          }\n          \n          // 验证必填字段\n          if (!templateForm.title) {\n            ElMessage.error('请填写合同标题')\n            loading.close()\n            return\n          }\n          \n          if (!templateForm.company) {\n            ElMessage.error('请填写签约对方')\n            loading.close()\n            return\n          }\n          \n          // 获取选择的模板\n          const template = availableTemplates.value[selectedTemplate.value]\n          \n          try {\n            // 使用API创建合同\n            await createContractFromTemplate(template.id, {\n              title: templateForm.title,\n              company: templateForm.company,\n              type: template.contract_type,\n              amount: templateForm.amount || 0,\n              remark: templateForm.remark\n            })\n            \n            // 成功创建后直接显示成功信息并返回\n            ElMessage.success('合同已成功创建，请在列表中查看。')\n            showNewContractDialog.value = false\n            \n            // 重新加载合同列表\n            await loadContracts()\n            \n            loading.close()\n            return\n          } catch (error) {\n            console.error('使用模板创建合同失败:', error)\n            throw error  // 重新抛出错误，会被外层catch捕获\n          }\n        } else if (creationMode.value === 'ai') {\n          // 验证必填字段\n          if (!aiForm.coreElements) {\n            ElMessage.error('请填写合同需求描述')\n            loading.close()\n            return\n          }\n          \n          contractData = {\n            description: aiForm.coreElements,\n            use_ai_agent: true,\n            status: 'pending'\n          }\n        }\n        \n        // 调用API创建合同 - 添加重试逻辑\n        console.log('提交合同数据:', JSON.stringify(contractData))\n        let retryCount = 0\n        const maxRetries = 3\n        \n        while (retryCount < maxRetries) {\n          try {\n            // 对AI生成设置更长的超时时间\n            const timeout = creationMode.value === 'ai' ? 180000 : 60000 // AI生成3分钟，其他1分钟\n            \n            loading.text = creationMode.value === 'ai' \n              ? '正在使用AI生成合同，这可能需要一些时间...'\n              : '正在提交...'\n            \n            // 创建一个可以取消的请求\n            const controller = new AbortController()\n            const timeoutId = setTimeout(() => {\n              controller.abort()\n            }, timeout)\n            \n            // 发送请求\n            await createContractAPI({ \n              ...contractData,\n              signal: controller.signal\n            })\n            \n            // 清除超时计时器\n            clearTimeout(timeoutId)\n            \n            // 成功获取响应，跳出循环\n            break\n          } catch (error) {\n            console.error(`合同创建尝试 ${retryCount + 1} 失败:`, error)\n            retryCount++\n            \n            if (retryCount >= maxRetries) {\n              loading.close()\n              throw new Error(`合同创建失败，已达到最大重试次数: ${error.message}`)\n            }\n            \n            // 等待一段时间后重试\n            loading.text = `尝试失败，正在重试 (${retryCount}/${maxRetries})...`\n            await new Promise(resolve => setTimeout(resolve, 2000))\n          }\n        }\n        \n        if (creationMode.value === 'ai') {\n          ElMessage.success('AI生成合同任务已提交，请稍后在列表刷新查看。')\n        } else {\n          ElMessage.success('合同已成功创建，请在列表中查看。')\n        }\n        \n        // 重新加载合同列表\n        await loadContracts()\n\n        showNewContractDialog.value = false\n        \n      } catch (error) {\n        console.error('提交合同失败:', error)\n        let errorMsg = '提交合同失败，请检查输入内容'\n        \n        // 提取更详细的错误信息\n        if (error.response && error.response.data) {\n          const data = error.response.data\n          if (typeof data === 'string') {\n            errorMsg = data\n          } else if (typeof data === 'object') {\n            try {\n              const errorDetails = Object.entries(data)\n                .map(([key, value]) => `${key}: ${Array.isArray(value) ? value.join(', ') : value}`)\n                .join('; ')\n              errorMsg = `提交失败: ${errorDetails}`\n            } catch (e) {\n              console.error('解析错误详情失败:', e)\n            }\n          }\n        } else if (error.message) {\n          errorMsg = error.message\n        }\n        \n        ElMessage.error(errorMsg)\n      } finally {\n        // 确保loading状态在所有情况下都能关闭\n        if (loading && loading.visible) {\n          loading.close()\n        }\n      }\n    }\n    \n    // 初始化加载数据\n    onMounted(() => {\n      loadContracts()\n      loadFilterOptions()\n    })\n    \n    // 监听搜索输入，实现防抖搜索\n    watch(searchQuery, () => {\n      if (searchTimeout) {\n        clearTimeout(searchTimeout);\n      }\n      searchTimeout = setTimeout(() => {\n        handleFilterChange();\n      }, 500); // 500ms 防抖\n    });\n\n    return {\n      searchQuery,\n      sortBy,\n      sortOrder,\n      selectedContract,\n      contracts,\n      filteredContracts,\n      showNewContractDialog,\n      creationMode,\n      newContract,\n      templateForm,\n      aiForm,\n      selectedTemplate,\n      availableTemplates,\n      isLoading,\n      isLoadingTemplates,\n      // 分页相关\n      currentPage,\n      totalItems,\n      // 图标\n      Plus,\n      Search,\n      InfoFilled,\n      MoreFilled,\n      Edit,\n      Share,\n      Delete,\n      // 方法\n      openContractDialog,\n      getSubmitButtonText,\n      submitContract,\n      viewContractDetail,\n      handleFilterChange,\n      handleContractTypeChange,\n      handleTemplateSelect,\n      handleCurrentChange,\n      handleEdit,\n      handleShare,\n      handleDelete,\n      submitUpdate,\n      submitShare,\n      editForm,\n      showEditDialog,\n      showShareDialog,\n      shareTargetUsers,\n      availableUsers,\n      contractTypes,\n      industries,\n      scenes,\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.contract-container {\n  padding: 20px;\n  background-color: var(--el-bg-color-page);\n  min-height: calc(100vh - 50px);\n}\n\n.card-header-flex {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.contract-list-card {\n  display: flex;\n  flex-direction: column;\n  background-color: var(--el-bg-color-overlay);\n  border: 1px solid var(--el-border-color);\n  color: var(--el-text-color-primary);\n}\n\n.contract-list {\n  flex: 1;\n  overflow-y: auto;\n  max-height: calc(100vh - 220px);\n}\n\n.contract-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px solid var(--el-border-color-light);\n  transition: all 0.2s;\n  background-color: transparent;\n}\n\n.contract-main-info {\n  flex-grow: 1;\n  cursor: pointer;\n}\n\n.contract-item:hover {\n  background-color: var(--el-fill-color-light);\n}\n\n.contract-item.active {\n  background-color: var(--el-color-primary-light-9);\n  border-left: 3px solid var(--el-color-primary);\n}\n\n.contract-title {\n  font-weight: 500;\n  color: var(--el-text-color-primary);\n  margin-bottom: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.contract-info {\n  color: var(--el-text-color-secondary);\n  font-size: 13px;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 5px;\n  font-weight: 500;\n}\n\n.contract-status {\n  display: inline-block;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n}\n\n.status-draft {\n  background-color: var(--info-color-bg);\n  color: var(--info-color);\n}\n\n.status-pending {\n  background-color: var(--warning-color-bg);\n  color: var(--warning-color);\n}\n\n.status-signed {\n  background-color: var(--success-color-bg);\n  color: var(--success-color);\n}\n\n.status-expired {\n  background-color: var(--danger-color-bg);\n  color: var(--danger-color);\n}\n\n.status-rejected {\n  background-color: var(--info-color-bg);\n  color: var(--info-color);\n}\n\n.me-2 {\n  margin-right: 8px;\n}\n\n.mt-1 {\n  margin-top: 4px;\n}\n\n.mb-3 {\n  margin-bottom: 16px;\n}\n\n.pagination-container {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n  padding: 10px 0;\n  border-top: 1px solid var(--el-border-color-light);\n}\n\n.template-list {\n  height: 150px;\n  overflow-y: auto;\n  border: 1px solid var(--el-border-color);\n  border-radius: 4px;\n}\n\n.template-item {\n  padding: 10px 15px;\n  border-bottom: 1px solid var(--el-border-color-light);\n  cursor: pointer;\n}\n\n.template-item:hover {\n  background-color: var(--el-fill-color-light);\n}\n\n.template-item.active {\n  background-color: var(--el-color-primary-light-9);\n  border-left: 2px solid var(--el-color-primary);\n}\n\n.template-name {\n  font-weight: 500;\n  color: var(--el-text-color-primary);\n  margin-bottom: 5px;\n}\n\n.template-info {\n  color: var(--el-text-color-secondary);\n  font-size: 13px;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 5px;\n}\n\n.template-desc {\n  color: var(--el-text-color-regular);\n  font-size: 12px;\n  margin-top: 5px;\n}\n\n.template-hint {\n  font-size: 13px;\n  color: var(--el-text-color-placeholder);\n  margin-top: 10px;\n}\n\n.custom-template-title {\n  font-weight: 600;\n  font-size: 14px;\n  margin-bottom: 5px;\n}\n\n.template-preview {\n  max-height: 150px;\n  overflow-y: auto;\n  border: 1px solid var(--el-border-color);\n  border-radius: 4px;\n  padding: 10px;\n  font-size: 13px;\n  line-height: 1.5;\n  margin-top: 5px;\n  background-color: var(--el-fill-color-lighter);\n}\n\n/* 移除之前无用的深色模式强制覆盖 */\nhtml[data-theme=\"dark\"] body .contract-container .contract-item,\nbody.is-dark .contract-container .contract-item,\nhtml[data-theme=\"dark\"] body .contract-container .contract-item:hover,\nbody.is-dark .contract-container .contract-item:hover,\nhtml[data-theme=\"dark\"] body .contract-container .contract-item.active,\nbody.is-dark .contract-container .contract-item.active,\nhtml[data-theme=\"dark\"] body .contract-container .contract-title,\nbody.is-dark .contract-container .contract-title,\nhtml[data-theme=\"dark\"] body .contract-container .contract-info,\nbody.is-dark .contract-container .contract-info,\nhtml[data-theme=\"dark\"] body .contract-container .contract-info span,\nbody.is-dark .contract-container .contract-info span {\n  background-color: unset !important;\n  border-bottom-color: unset !important;\n  border-left-color: unset !important;\n  color: unset !important;\n}\n\n.contract-actions {\n  flex-shrink: 0;\n  margin-left: 16px;\n  opacity: 0;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.contract-item:hover .contract-actions {\n  opacity: 1;\n}\n\n.more-button {\n  border: none !important;\n  background-color: transparent !important;\n}\n\n.el-dropdown-menu__item.text-danger {\n  color: var(--danger-color);\n}\n\n.new-contract-dialog .el-dialog__body {\n  padding: 20px 30px;\n}\n\n.template-list {\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n  padding: 15px;\n  min-height: 200px;\n  max-height: 40vh;\n  overflow-y: auto;\n}\n\n.template-item {\n  border: 1px solid #dcdfe6;\n  padding: 10px 15px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    border-color: #409eff;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  }\n\n  &.active {\n    border-color: #409eff;\n    background-color: #ecf5ff;\n  }\n}\n\n.template-name {\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n.template-info {\n  font-size: 12px;\n  color: #909399;\n  margin-bottom: 5px;\n  .template-type {\n    margin-right: 10px;\n  }\n}\n\n.template-desc {\n  font-size: 13px;\n  color: #606266;\n}\n\n.template-hint {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 150px;\n  text-align: center;\n  color: #909399;\n  .el-icon {\n    margin-right: 8px;\n  }\n}\n\n.pagination-container {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n}\n\n[data-theme=\"dark\"] {\n  .contract-list-card {\n    background-color: var(--el-bg-color-overlay);\n    border-color: var(--el-border-color-light);\n  }\n\n  .more-button:hover,\n  .more-button:focus {\n    background-color: var(--el-fill-color-darker) !important;\n    color: var(--el-color-primary) !important;\n  }\n  \n  .el-dropdown-menu__item.text-danger:hover {\n    background-color: var(--el-color-danger-light-9);\n    color: var(--el-color-danger);\n  }\n\n  .template-list {\n    border-color: var(--el-border-color);\n  }\n\n  .template-item {\n    border-color: var(--el-border-color-light);\n    &:hover {\n      border-color: var(--el-color-primary);\n    }\n    &.active {\n      border-color: var(--el-color-primary);\n      background-color: var(--el-color-primary-light-9);\n    }\n  }\n\n  .template-name {\n    color: var(--el-text-color-primary);\n  }\n\n  .template-info, .template-desc, .template-hint {\n    color: var(--el-text-color-secondary);\n  }\n}\n</style> ","import { render } from \"./Index.vue?vue&type=template&id=5cb79bf6&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=5cb79bf6&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\18083\\\\Desktop\\\\CCIT\\\\office\\\\smart-office\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cb79bf6\"]])\n\nexport default __exports__","'use strict';\nvar aSet = require('../internals/a-set');\nvar add = require('../internals/set-helpers').add;\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n"],"sourceRoot":""}