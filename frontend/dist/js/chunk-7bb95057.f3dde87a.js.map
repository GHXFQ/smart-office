{"version":3,"sources":["webpack:///./src/views/admin/KnowledgeManagement.vue?dc64","webpack:///./node_modules/core-js/modules/es.set.symmetric-difference.v2.js","webpack:///./node_modules/core-js/modules/es.set.difference.v2.js","webpack:///./node_modules/core-js/internals/set-iterate.js","webpack:///./node_modules/core-js/internals/set-is-superset-of.js","webpack:///./src/views/admin/KnowledgeManagement.vue","webpack:///./src/views/admin/KnowledgeManagement.vue?0be5","webpack:///./src/api/admin.js","webpack:///./node_modules/core-js/internals/iterate-simple.js","webpack:///./node_modules/core-js/internals/set-is-subset-of.js","webpack:///./node_modules/core-js/modules/es.set.union.v2.js","webpack:///./node_modules/core-js/modules/es.set.intersection.v2.js","webpack:///./node_modules/core-js/internals/get-set-record.js","webpack:///./node_modules/core-js/internals/set-clone.js","webpack:///./node_modules/core-js/modules/es.set.is-subset-of.v2.js","webpack:///./node_modules/core-js/internals/set-size.js","webpack:///./node_modules/core-js/internals/set-intersection.js","webpack:///./node_modules/core-js/internals/set-symmetric-difference.js","webpack:///./node_modules/core-js/modules/es.set.is-superset-of.v2.js","webpack:///./node_modules/core-js/internals/set-difference.js","webpack:///./node_modules/core-js/internals/set-is-disjoint-from.js","webpack:///./node_modules/core-js/modules/es.set.is-disjoint-from.v2.js","webpack:///./node_modules/core-js/internals/set-helpers.js","webpack:///./node_modules/core-js/modules/es.iterator.every.js","webpack:///./node_modules/core-js/internals/set-method-accept-set-like.js","webpack:///./node_modules/core-js/internals/a-set.js","webpack:///./src/views/admin/KnowledgeManagement.vue?fc51","webpack:///./node_modules/core-js/internals/set-union.js","webpack:///./node_modules/core-js/modules/es.iterator.find.js"],"names":["$","symmetricDifference","setMethodAcceptSetLike","target","proto","real","forced","difference","INCORRECT","result","size","uncurryThis","iterateSimple","SetHelpers","Set","SetPrototype","forEach","keys","next","module","exports","set","fn","interruptible","iterator","aSet","has","getSetRecord","iteratorClose","other","O","this","otherRec","getIterator","e","articles","ref","categories","companies","loading","searchQuery","total","pagination","reactive","page","pageSize","isCategoryModalOpen","isSingleCategoryModalOpen","currentCategory","categoryForm","isEditingCategory","computed","value","id","availableIcons","name","label","component","Document","Folder","DataAnalysis","TrendCharts","Reading","MagicStick","isArticleModalOpen","currentArticle","articleForm","companyCategories","upload","showUpload","isBuildModalOpen","buildStatuses","isBuildStatusLoading","selectedCompanyIds","buildingCompanyIds","statusPollInterval","searchTimeout","fetchCategories","async","response","adminApi","getKnowledgeCategories","all","data","error","ElMessage","fetchCompanies","getCompanies","openCategoryModal","resetCategoryForm","closeSingleCategoryModal","_categoryForm$value","resetFields","_categoryForm$value2","description","icon","color","company","selectCategoryForEdit","category","saveCategory","updateKnowledgeCategory","createKnowledgeCategory","success","confirmDeleteCategory","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","then","deleteKnowledgeCategory","debouncedFetchArticles","clearTimeout","setTimeout","fetchArticles","params","search","getKnowledgeBases","results","count","openArticleModal","article","fetchCategoriesForCompany","closeArticleModal","_upload$value","_articleForm$value","clearFiles","saveArticle","dataToSave","original_file","updateKnowledgeBase","createKnowledgeBase","_error$response","errorMsg","JSON","stringify","confirmDeleteArticle","title","deleteKnowledgeBase","handlePageChange","newPage","handleCompanyChange","companyId","company_id","handleFileChange","file","raw","handleFileRemove","openBuildModal","fetchBuildStatuses","getKnowledgeBuildStatus","handleSelectionChange","selection","map","item","triggerBuildForCompanies","companyIds","length","buildKnowledgeForCompanies","message","add","startStatusPolling","setInterval","stillProcessing","some","s","status","stopStatusPolling","clear","info","clearInterval","getStatusTagType","getStatusText","isCompanyBuilding","_buildStatuses$value$","find","isAnyCompanyBuilding","hasFiles","every","file_count","isCompanySelectable","row","onMounted","__exports__","api","axios","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","Promise","reject","getDashboardData","get","getDashboardAnalysis","chartTitle","chartData","post","chart_title","chart_data","getUsers","createUser","updateUser","patch","deleteUser","delete","createCompany","updateCompany","deleteCompany","getDepartments","createDepartment","updateDepartment","deleteDepartment","getSmartDocs","getSmartDocDetail","deleteSmartDoc","getContracts","getContractDetail","deleteContract","getContractTemplates","getContractTemplate","createContractTemplate","updateContractTemplate","deleteContractTemplate","getKnowledgeBaseDetail","formData","FormData","key","undefined","append","File","company_ids","call","record","ITERATOR_INSTEAD_OF_RECORD","step","done","iterate","includes","union","fails","intersection","String","Array","from","aCallable","anObject","toIntegerOrInfinity","getIteratorDirect","INVALID_SIZE","$RangeError","RangeError","$TypeError","TypeError","max","Math","SetRecord","intSize","prototype","it","obj","numSize","isSubsetOf","uncurryThisAccessor","iterateSet","clone","remove","keysIter","isSupersetOf","isDisjointFrom","iteratorHelperWithoutClosingOnEarlyError","everyWithoutClosingOnEarlyError","predicate","counter","stop","IS_RECORD","INTERRUPTED","stopped","getBuiltIn","createSetLike","createSetLikeWithInfinitySize","Error","callback","error2","Infinity","findWithoutClosingOnEarlyError"],"mappings":"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","file":"js/chunk-7bb95057.f3dde87a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./KnowledgeManagement.vue?vue&type=style&index=0&id=3a984224&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar symmetricDifference = require('../internals/set-symmetric-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.symmetricDifference` method\n// https://tc39.es/ecma262/#sec-set.prototype.symmetricdifference\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('symmetricDifference') }, {\n  symmetricDifference: symmetricDifference\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar difference = require('../internals/set-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('difference', function (result) {\n  return result.size === 0;\n});\n\n// `Set.prototype.difference` method\n// https://tc39.es/ecma262/#sec-set.prototype.difference\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  difference: difference\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar iterateSimple = require('../internals/iterate-simple');\nvar SetHelpers = require('../internals/set-helpers');\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSupersetOf\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","<template>\n  <div class=\"management-container\">\n    <el-card class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <div class=\"header-left\">\n            <el-icon class=\"header-icon\"><Collection /></el-icon>\n            <span>知识库管理</span>\n          </div>\n          <div class=\"header-right\">\n            <el-input\n              v-model=\"searchQuery\"\n              placeholder=\"搜索知识库文章...\"\n              clearable\n              @clear=\"fetchArticles\"\n              @input=\"debouncedFetchArticles\"\n              class=\"search-input\"\n            >\n              <template #append>\n                <el-button :icon=\"Search\" />\n              </template>\n            </el-input>\n            <el-button type=\"success\" @click=\"openBuildModal\">构建知识库</el-button>\n            <el-button type=\"info\" @click=\"openCategoryModal()\">管理分类</el-button>\n            <el-button type=\"primary\" :icon=\"Upload\" @click=\"openArticleModal()\">上传文件</el-button>\n          </div>\n        </div>\n      </template>\n      <!-- Main content will go here -->\n      <el-table :data=\"articles\" v-loading=\"loading\" border>\n        <el-table-column prop=\"title\" label=\"标题\" min-width=\"200\"></el-table-column>\n        <el-table-column prop=\"original_filename\" label=\"文件名\" min-width=\"200\"></el-table-column>\n        <el-table-column prop=\"category_name\" label=\"分类\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"company_name\" label=\"所属公司\" width=\"150\"></el-table-column>\n        <el-table-column prop=\"creator_name\" label=\"上传者\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"created_at\" label=\"上传时间\" width=\"180\">\n            <template #default=\"scope\">\n                {{ new Date(scope.row.created_at).toLocaleString() }}\n            </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n          <template #default=\"scope\">\n            <el-button size=\"small\" :icon=\"Edit\" @click=\"openArticleModal(scope.row)\"></el-button>\n            <el-button size=\"small\" type=\"danger\" :icon=\"Delete\" @click=\"confirmDeleteArticle(scope.row)\"></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        background\n        layout=\"prev, pager, next, total\"\n        :total=\"total\"\n        :page-size=\"pagination.pageSize\"\n        :current-page=\"pagination.page\"\n        @current-change=\"handlePageChange\"\n        style=\"margin-top: 20px; text-align: right;\"\n      />\n    </el-card>\n\n    <!-- Category Management Modal -->\n    <el-dialog v-model=\"isCategoryModalOpen\" title=\"管理分类\" width=\"60%\">\n      <div class=\"category-dialog-content\">\n        <div class=\"category-list-section\">\n           <div class=\"section-header\">\n            <h5>已有分类</h5>\n            <el-button \n              type=\"primary\" \n              size=\"small\" \n              @click=\"resetCategoryForm\">\n              <el-icon><Plus /></el-icon> 新增分类\n            </el-button>\n          </div>\n          <div v-if=\"!categories.length\" class=\"category-items\">\n             <el-empty description=\"暂无分类\" />\n          </div>\n          <div v-else class=\"category-items\">\n            <div \n                v-for=\"category in categories\" \n                :key=\"category.id\" \n                class=\"category-list-item\"\n                :class=\"{ 'selected': currentCategory.id === category.id }\"\n                @click=\"selectCategoryForEdit(category)\"\n            >\n              <div class=\"category-info\">\n                 <div class=\"category-icon\" :style=\"{'background-color': category.color}\">\n                    <el-icon><component :is=\"category.icon || 'Document'\" /></el-icon>\n                 </div>\n                <span class=\"category-name-section\">{{ category.name }}</span>\n              </div>\n               <div class=\"category-actions\">\n                    <el-button type=\"primary\" size=\"small\" plain :icon=\"Edit\" @click.stop=\"selectCategoryForEdit(category)\" />\n                    <el-button type=\"danger\" size=\"small\" plain :icon=\"Delete\" @click.stop=\"confirmDeleteCategory(category)\" />\n                </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"category-form-section\">\n          <div class=\"section-header\">\n             <h5>{{ isEditingCategory ? '编辑分类' : '新增分类' }}</h5>\n             <el-button v-if=\"isEditingCategory\" text @click=\"resetCategoryForm\">取消</el-button>\n          </div>\n          <el-form :model=\"currentCategory\" ref=\"categoryForm\" label-position=\"top\">\n            <el-form-item label=\"分类名称\" prop=\"name\" required>\n              <el-input v-model=\"currentCategory.name\" />\n            </el-form-item>\n             <el-form-item label=\"所属公司\" prop=\"company\" required>\n              <el-select v-model=\"currentCategory.company\" placeholder=\"请选择公司\" style=\"width: 100%;\">\n                <el-option v-for=\"company in companies\" :key=\"company.id\" :label=\"company.name\" :value=\"company.id\" />\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"分类描述\" prop=\"description\">\n              <el-input v-model=\"currentCategory.description\" type=\"textarea\" />\n            </el-form-item>\n            <el-form-item label=\"图标\" prop=\"icon\">\n               <el-select v-model=\"currentCategory.icon\" placeholder=\"选择一个图标\" style=\"width: 100%;\">\n                <el-option v-for=\"icon in availableIcons\" :key=\"icon.name\" :label=\"icon.label\" :value=\"icon.name\">\n                  <div style=\"display: flex; align-items: center;\">\n                    <el-icon style=\"margin-right: 8px;\"><component :is=\"icon.component\" /></el-icon>\n                    <span>{{ icon.label }}</span>\n                  </div>\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"颜色\" prop=\"color\">\n              <el-color-picker v-model=\"currentCategory.color\" />\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"saveCategory\">保存</el-button>\n                <el-button @click=\"resetCategoryForm\" v-if=\"!isEditingCategory\">重置</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </el-dialog>\n\n    <!-- Add/Edit Article Modal -->\n    <el-dialog v-model=\"isArticleModalOpen\" :title=\"currentArticle.id ? '编辑文件信息' : '上传新文件'\" width=\"50%\">\n      <el-form :model=\"currentArticle\" ref=\"articleForm\" label-width=\"80px\">\n        <el-form-item label=\"标题\" prop=\"title\" required>\n          <el-input v-model=\"currentArticle.title\" />\n        </el-form-item>\n        <el-form-item label=\"公司\" prop=\"company\" required>\n            <el-select v-model=\"currentArticle.company\" placeholder=\"请选择公司\" style=\"width: 100%;\" @change=\"handleCompanyChange\">\n              <el-option v-for=\"company in companies\" :key=\"company.id\" :label=\"company.name\" :value=\"company.id\" />\n            </el-select>\n        </el-form-item>\n        <el-form-item label=\"分类\" prop=\"category\">\n            <el-select v-model=\"currentArticle.category\" placeholder=\"可选，请先选择公司\" style=\"width: 100%;\" :disabled=\"!currentArticle.company\" clearable>\n              <el-option v-for=\"category in companyCategories\" :key=\"category.id\" :label=\"category.name\" :value=\"category.id\" />\n            </el-select>\n        </el-form-item>\n        <el-form-item label=\"描述\" prop=\"description\">\n          <el-input v-model=\"currentArticle.description\" type=\"textarea\" />\n        </el-form-item>\n        <el-form-item label=\"文件\" prop=\"original_file\">\n            <div v-if=\"currentArticle.id && currentArticle.original_filename && !showUpload\">\n                <span class=\"file-info\">当前文件: {{ currentArticle.original_filename }} ({{ currentArticle.file_size }} KB)</span>\n                <el-button @click=\"showUpload = true\" type=\"primary\" link style=\"margin-left: 10px;\">替换文件</el-button>\n            </div>\n            <el-upload\n                v-else\n                ref=\"upload\"\n                action=\"#\"\n                :auto-upload=\"false\"\n                :on-change=\"handleFileChange\"\n                :on-remove=\"handleFileRemove\"\n                :limit=\"1\"\n                class=\"upload-component\"\n            >\n                <template #trigger>\n                <el-button type=\"primary\">选择文件</el-button>\n                </template>\n                <template #tip>\n                <div class=\"el-upload__tip\">\n                    只能上传单个文件，文件大小不应超过系统限制。\n                </div>\n                </template>\n            </el-upload>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"closeArticleModal\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveArticle\">保存</el-button>\n      </template>\n    </el-dialog>\n\n    <!-- Build Knowledge Base Modal -->\n    <el-dialog v-model=\"isBuildModalOpen\" title=\"构建公司知识库\" width=\"70%\" @close=\"stopStatusPolling\">\n        <el-table \n            :data=\"buildStatuses\" \n            v-loading=\"isBuildStatusLoading\"\n            @selection-change=\"handleSelectionChange\"\n            border\n            row-key=\"company_id\"\n        >\n            <el-table-column type=\"selection\" width=\"55\" :selectable=\"isCompanySelectable\" />\n            <el-table-column prop=\"company_name\" label=\"公司名称\" />\n            <el-table-column prop=\"file_count\" label=\"文件数\" width=\"80\" />\n            <el-table-column prop=\"status\" label=\"构建状态\">\n                <template #default=\"scope\">\n                    <el-tooltip v-if=\"scope.row.file_count === 0\" content=\"没有文件，无法构建\" placement=\"top\">\n                        <el-tag type=\"info\">\n                            无法构建\n                        </el-tag>\n                    </el-tooltip>\n                    <el-tag v-else :type=\"getStatusTagType(scope.row.status)\">\n                        {{ getStatusText(scope.row.status) }}\n                        <el-icon v-if=\"scope.row.status === 'processing'\" class=\"is-loading\"><Loading /></el-icon>\n                    </el-tag>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"last_built_at\" label=\"上次构建时间\">\n                 <template #default=\"scope\">\n                    {{ scope.row.last_built_at ? new Date(scope.row.last_built_at).toLocaleString() : 'N/A' }}\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"processing_message\" label=\"消息\" show-overflow-tooltip />\n            <el-table-column label=\"操作\" width=\"120\">\n                <template #default=\"scope\">\n                    <el-tooltip content=\"没有文件，无法构建\" :disabled=\"scope.row.file_count > 0\">\n                        <div style=\"display: inline-block\"> <!-- Wrapper for tooltip on disabled button -->\n                             <el-button \n                                type=\"primary\" \n                                size=\"small\" \n                                @click=\"triggerBuildForCompanies([scope.row.company_id])\"\n                                :disabled=\"isCompanyBuilding(scope.row.company_id) || scope.row.file_count === 0\"\n                            >\n                                构建\n                            </el-button>\n                        </div>\n                    </el-tooltip>\n                </template>\n            </el-table-column>\n        </el-table>\n        <template #footer>\n            <div class=\"build-footer\">\n                <el-button \n                    type=\"primary\" \n                    @click=\"triggerBuildForCompanies(selectedCompanyIds)\"\n                    :disabled=\"selectedCompanyIds.length === 0 || isAnyCompanyBuilding(selectedCompanyIds)\"\n                >\n                    构建选中 ({{ selectedCompanyIds.length }})\n                </el-button>\n                <el-button @click=\"fetchBuildStatuses\" :icon=\"Refresh\">刷新状态</el-button>\n            </div>\n        </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted, computed } from 'vue';\nimport adminApi from '@/api/admin';\nimport { ElMessage, ElMessageBox, ElCard, ElIcon, ElInput, ElButton, ElTable, ElTableColumn, ElPagination, ElDialog, ElForm, ElFormItem, ElSelect, ElOption, ElUpload, ElColorPicker, ElEmpty, ElTooltip } from 'element-plus';\nimport { Collection, Search, Upload, Edit, Delete, Plus, Document, Folder, DataAnalysis, TrendCharts, Reading, MagicStick, Loading, Refresh } from '@element-plus/icons-vue';\n\nconst articles = ref([]);\nconst categories = ref([]);\nconst companies = ref([]);\nconst loading = ref(true);\nconst searchQuery = ref('');\nconst total = ref(0);\nconst pagination = reactive({\n  page: 1,\n  pageSize: 10,\n});\n\nconst isCategoryModalOpen = ref(false);\nconst isSingleCategoryModalOpen = ref(false);\nconst currentCategory = ref({});\nconst categoryForm = ref(null);\nconst isEditingCategory = computed(() => !!currentCategory.value.id);\n\nconst availableIcons = [\n  { name: 'Document', label: '文档', component: Document },\n  { name: 'Folder', label: '文件夹', component: Folder },\n  { name: 'DataAnalysis', label: '数据分析', component: DataAnalysis },\n  { name: 'TrendCharts', label: '趋势图', component: TrendCharts },\n  { name: 'Reading', label: '阅读', component: Reading },\n  { name: 'MagicStick', label: '魔术棒', component: MagicStick },\n];\n\nconst isArticleModalOpen = ref(false);\nconst currentArticle = ref({});\nconst articleForm = ref(null);\nconst companyCategories = ref([]);\nconst upload = ref(null);\nconst showUpload = ref(false);\n\nconst isBuildModalOpen = ref(false);\nconst buildStatuses = ref([]);\nconst isBuildStatusLoading = ref(false);\nconst selectedCompanyIds = ref([]);\nconst buildingCompanyIds = ref(new Set());\nlet statusPollInterval = null;\n\nlet searchTimeout = null;\n\nconst fetchCategories = async () => {\n  try {\n    const response = await adminApi.getKnowledgeCategories({ all: 'true' });\n    categories.value = response.data;\n  } catch (error) {\n    ElMessage.error('获取分类列表失败');\n  }\n};\n\nconst fetchCompanies = async () => {\n  try {\n    const response = await adminApi.getCompanies({ all: 'true' });\n    companies.value = response.data;\n  } catch (error) {\n    ElMessage.error('获取公司列表失败');\n  }\n};\n\nconst openCategoryModal = async () => {\n  await fetchCompanies();\n  await fetchCategories();\n  resetCategoryForm();\n  isCategoryModalOpen.value = true;\n};\n\nconst closeSingleCategoryModal = () => {\n  isSingleCategoryModalOpen.value = false;\n  currentCategory.value = {};\n  categoryForm.value?.resetFields();\n};\n\nconst resetCategoryForm = () => {\n  currentCategory.value = {\n    id: null,\n    name: '',\n    description: '',\n    icon: 'Document',\n    color: '#409EFF',\n    company: null,\n  };\n  categoryForm.value?.resetFields();\n};\n\nconst selectCategoryForEdit = (category) => {\n  currentCategory.value = { ...category };\n};\n\nconst saveCategory = async () => {\n  try {\n    if (currentCategory.value.id) {\n      await adminApi.updateKnowledgeCategory(currentCategory.value.id, currentCategory.value);\n    } else {\n      await adminApi.createKnowledgeCategory(currentCategory.value);\n    }\n    ElMessage.success('分类保存成功');\n    closeSingleCategoryModal();\n    fetchCategories(); // Refresh list in the background\n  } catch (error) {\n    ElMessage.error('保存分类失败');\n  }\n};\n\nconst confirmDeleteCategory = (category) => {\n  ElMessageBox.confirm(`确定要删除分类 \"${category.name}\" 吗?`, '警告', {\n    confirmButtonText: '确定',\n    cancelButtonText: '取消',\n    type: 'warning',\n  }).then(async () => {\n    try {\n      await adminApi.deleteKnowledgeCategory(category.id);\n      ElMessage.success('分类删除成功');\n      fetchCategories(); // Refresh list\n    } catch (error) {\n      ElMessage.error('删除分类失败');\n    }\n  });\n};\n\nconst debouncedFetchArticles = () => {\n  clearTimeout(searchTimeout);\n  searchTimeout = setTimeout(() => {\n    pagination.page = 1;\n    fetchArticles();\n  }, 300);\n};\n\nconst fetchArticles = async () => {\n  loading.value = true;\n  try {\n    const params = {\n      page: pagination.page,\n      size: pagination.pageSize,\n      search: searchQuery.value\n    };\n    const response = await adminApi.getKnowledgeBases(params);\n    articles.value = response.data.results;\n    total.value = response.data.count;\n  } catch (error) {\n    ElMessage.error('获取文章列表失败');\n    articles.value = [];\n    total.value = 0;\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst openArticleModal = async (article = {}) => {\n  await fetchCompanies();\n  currentArticle.value = { ...article };\n\n  if (article.id) {\n    showUpload.value = false; // 编辑模式下，默认不显示上传组件\n  } else {\n    showUpload.value = true; // 新建模式下，直接显示上传组件\n  }\n  \n  if (currentArticle.value.company) {\n    await fetchCategoriesForCompany(currentArticle.value.company);\n  } else {\n    companyCategories.value = [];\n  }\n  isArticleModalOpen.value = true;\n};\n\nconst closeArticleModal = () => {\n  isArticleModalOpen.value = false;\n  currentArticle.value = {};\n  companyCategories.value = [];\n  upload.value?.clearFiles();\n  articleForm.value?.resetFields();\n};\n\nconst saveArticle = async () => {\n  try {\n    const dataToSave = { ...currentArticle.value };\n    if (!dataToSave.id && !dataToSave.original_file) {\n        ElMessage.error('请选择一个文件上传');\n        return;\n    }\n\n    if (dataToSave.id) {\n      await adminApi.updateKnowledgeBase(dataToSave.id, dataToSave);\n    } else {\n      await adminApi.createKnowledgeBase(dataToSave);\n    }\n    ElMessage.success('文件信息保存成功');\n    closeArticleModal();\n    fetchArticles();\n  } catch (error) {\n    const errorMsg = error.response?.data ? JSON.stringify(error.response.data) : '保存文件信息失败';\n    ElMessage.error(errorMsg);\n  }\n};\n\nconst confirmDeleteArticle = (article) => {\n  ElMessageBox.confirm(`确定要删除文件 \"${article.title}\" 吗? 这将一并删除关联的文件和数据。`, '警告', {\n    confirmButtonText: '确定',\n    cancelButtonText: '取消',\n    type: 'warning',\n  }).then(async () => {\n    try {\n      await adminApi.deleteKnowledgeBase(article.id);\n      ElMessage.success('文件删除成功');\n      fetchArticles(); // Refresh list\n    } catch (error) {\n      ElMessage.error('删除文件失败');\n    }\n  });\n};\n\nconst handlePageChange = (newPage) => {\n  pagination.page = newPage;\n  fetchArticles();\n};\n\nconst handleCompanyChange = async (companyId) => {\n  currentArticle.value.category = null;\n  companyCategories.value = [];\n  if (companyId) {\n    await fetchCategoriesForCompany(companyId);\n  }\n};\n\nconst fetchCategoriesForCompany = async (companyId) => {\n  try {\n    const response = await adminApi.getKnowledgeCategories({ all: 'true', company_id: companyId });\n    companyCategories.value = response.data;\n  } catch (error) {\n    ElMessage.error('获取该公司下的分类失败');\n  }\n};\n\nconst handleFileChange = (file) => {\n    currentArticle.value.original_file = file.raw;\n};\n\nconst handleFileRemove = () => {\n    currentArticle.value.original_file = null;\n};\n\nconst openBuildModal = () => {\n    isBuildModalOpen.value = true;\n    fetchBuildStatuses();\n};\n\nconst fetchBuildStatuses = async () => {\n    isBuildStatusLoading.value = true;\n    try {\n        const response = await adminApi.getKnowledgeBuildStatus();\n        buildStatuses.value = response.data;\n    } catch (error) {\n        ElMessage.error('获取构建状态失败');\n    } finally {\n        isBuildStatusLoading.value = false;\n    }\n};\n\nconst handleSelectionChange = (selection) => {\n    selectedCompanyIds.value = selection.map(item => item.company_id);\n};\n\nconst triggerBuildForCompanies = async (companyIds) => {\n    if (companyIds.length === 0) return;\n    try {\n        const response = await adminApi.buildKnowledgeForCompanies(companyIds);\n        ElMessage.success(response.data.message || '构建任务已启动');\n        companyIds.forEach(id => buildingCompanyIds.value.add(id));\n        fetchBuildStatuses();\n        startStatusPolling();\n    } catch (error) {\n        ElMessage.error('启动构建任务失败');\n    }\n};\n\nconst startStatusPolling = () => {\n    if (statusPollInterval) return; // 避免重复启动\n    statusPollInterval = setInterval(async () => {\n        await fetchBuildStatuses();\n        // 检查是否有仍在处理中的构建\n        const stillProcessing = buildStatuses.value.some(s => s.status === 'processing' || s.status === 'pending');\n        if (!stillProcessing) {\n            stopStatusPolling();\n            buildingCompanyIds.value.clear();\n            ElMessage.info('所有构建任务已完成。');\n        }\n    }, 5000); // 每5秒轮询一次\n};\n\nconst stopStatusPolling = () => {\n    if (statusPollInterval) {\n        clearInterval(statusPollInterval);\n        statusPollInterval = null;\n    }\n};\n\nconst getStatusTagType = (status) => {\n    switch (status) {\n        case 'completed': return 'success';\n        case 'processing': return 'primary';\n        case 'pending': return 'warning';\n        case 'failed': return 'danger';\n        default: return 'info';\n    }\n};\n\nconst getStatusText = (status) => {\n    const map = {\n        'completed': '成功',\n        'processing': '构建中',\n        'pending': '等待中',\n        'failed': '失败',\n        'not_built': '未构建'\n    };\n    return map[status] || '未知';\n};\n\nconst isCompanyBuilding = (companyId) => {\n    const status = buildStatuses.value.find(s => s.company_id === companyId)?.status;\n    return status === 'processing' || status === 'pending';\n};\n\nconst isAnyCompanyBuilding = (companyIds) => {\n    // 增加一个检查，确保所选的公司都有文件\n    const hasFiles = companyIds.every(id => {\n        const company = buildStatuses.value.find(s => s.company_id === id);\n        return company && company.file_count > 0;\n    });\n    if (!hasFiles) return true;\n\n    return companyIds.some(id => isCompanyBuilding(id));\n};\n\nconst isCompanySelectable = (row) => {\n    return row.file_count > 0;\n};\n\nonMounted(() => {\n  // initial fetch\n  fetchArticles();\n});\n</script>\n\n<style scoped>\n@import './shared-styles.css';\n\n.file-info {\n    font-size: 14px;\n    color: #606266;\n}\n\n.upload-component {\n    width: 100%;\n}\n\n.category-dialog-content {\n  display: flex;\n  gap: 20px;\n  min-height: 400px;\n}\n\n.category-list-section, .category-form-section {\n  padding: 10px;\n  border-radius: 8px;\n}\n\n.category-list-section {\n  flex: 1;\n  border-right: 1px solid #e0e0e0;\n  padding-right: 20px;\n  display: flex;\n  flex-direction: column;\n}\n\n.category-form-section {\n  flex: 1.2;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.category-items {\n  overflow-y: auto;\n  max-height: 350px;\n}\n\n.category-list-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  margin-bottom: 5px;\n}\n\n.category-list-item:hover {\n  background-color: #f5f7fa;\n}\n\n.category-list-item.selected {\n  background-color: #ecf5ff;\n  border: 1px solid #b3d8ff;\n}\n\n.category-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.category-color {\n  width: 8px;\n  height: 20px;\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n\n.category-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.category-icon .el-icon {\n  color: white;\n}\n\n.build-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n}\n</style>\n\n<style>\n.category-dialog-content .el-form-item {\n  margin-bottom: 22px;\n}\n</style> ","import script from \"./KnowledgeManagement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./KnowledgeManagement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./KnowledgeManagement.vue?vue&type=style&index=0&id=3a984224&scoped=true&lang=css\"\nimport \"./KnowledgeManagement.vue?vue&type=style&index=1&id=3a984224&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\18083\\\\Desktop\\\\CCIT\\\\office\\\\smart-office\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3a984224\"]])\n\nexport default __exports__","import axios from 'axios';\n\n// 确保使用与 auth.js 中相同的 axios 实例或配置\nconst api = axios.create({\n  baseURL: 'http://localhost:8000/api/admin',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// 添加请求拦截器以附加JWT令牌\napi.interceptors.request.use(\n  config => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\n// 管理员相关API\nexport default {\n  // 获取仪表盘所有数据\n  getDashboardData() {\n    return api.get('/dashboard/');\n  },\n\n  // 获取仪表盘图表的AI分析\n  getDashboardAnalysis(chartTitle, chartData) {\n    return api.post('/dashboard/analysis/', {\n      chart_title: chartTitle,\n      chart_data: chartData,\n    });\n  },\n\n  // 获取用户列表 (支持分页和搜索)\n  getUsers(params) {\n    return api.get('/users/', { params });\n  },\n\n  // 创建新用户\n  createUser(data) {\n    return api.post('/users/', data);\n  },\n\n  // 更新用户信息\n  updateUser(id, data) {\n    return api.patch(`/users/${id}/`, data);\n  },\n\n  // 删除用户\n  deleteUser(id) {\n    return api.delete(`/users/${id}/`);\n  },\n\n  // 公司管理\n  getCompanies(params) {\n    return api.get('/companies/', { params });\n  },\n  createCompany(data) {\n    return api.post('/companies/', data);\n  },\n  updateCompany(id, data) {\n    return api.patch(`/companies/${id}/`, data);\n  },\n  deleteCompany(id) {\n    return api.delete(`/companies/${id}/`);\n  },\n\n  // 部门管理\n  getDepartments(params) {\n    return api.get('/departments/', { params });\n  },\n  createDepartment(data) {\n    return api.post('/departments/', data);\n  },\n  updateDepartment(id, data) {\n    return api.patch(`/departments/${id}/`, data);\n  },\n  deleteDepartment(id) {\n    return api.delete(`/departments/${id}/`);\n  },\n\n  // 获取智能文档\n  getSmartDocs(params) {\n    return api.get('/smart-docs/', { params });\n  },\n\n  // 获取智能文档详情\n  getSmartDocDetail(id) {\n    return api.get(`/smart-docs/${id}/`);\n  },\n\n  // 删除智能文档\n  deleteSmartDoc(id) {\n    return api.delete(`/smart-docs/${id}/`);\n  },\n\n  // 获取合同列表\n  getContracts(params) {\n    return api.get('/contracts/', { params });\n  },\n\n  // 获取合同详情\n  getContractDetail(id) {\n    return api.get(`/contracts/${id}/`);\n  },\n\n  // 删除合同\n  deleteContract(id) {\n    return api.delete(`/contracts/${id}/`);\n  },\n\n  // Contract Templates\n  getContractTemplates() {\n    return api.get('/contract-templates/');\n  },\n  getContractTemplate(id) {\n    return api.get(`/contract-templates/${id}/`);\n  },\n  createContractTemplate(data) {\n    return api.post('/contract-templates/', data);\n  },\n  updateContractTemplate(id, data) {\n    return api.patch(`/contract-templates/${id}/`, data);\n  },\n  deleteContractTemplate(id) {\n    return api.delete(`/contract-templates/${id}/`);\n  },\n\n  // Knowledge Base Categories\n  getKnowledgeCategories(params) {\n    return api.get('/knowledge-categories/', { params });\n  },\n  createKnowledgeCategory(data) {\n    return api.post('/knowledge-categories/', data);\n  },\n  updateKnowledgeCategory(id, data) {\n    return api.patch(`/knowledge-categories/${id}/`, data);\n  },\n  deleteKnowledgeCategory(id) {\n    return api.delete(`/knowledge-categories/${id}/`);\n  },\n\n  // Knowledge Base Articles\n  getKnowledgeBases(params) {\n    return api.get('/knowledge-bases/', { params });\n  },\n  getKnowledgeBaseDetail(id) {\n    return api.get(`/knowledge-bases/${id}/`);\n  },\n  createKnowledgeBase(data) {\n    const formData = new FormData();\n    for (const key in data) {\n      if (data[key] !== null && data[key] !== undefined) {\n        formData.append(key, data[key]);\n      }\n    }\n    return api.post('/knowledge-bases/', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  },\n  updateKnowledgeBase(id, data) {\n    const formData = new FormData();\n    for (const key in data) {\n      // 避免将文件对象作为普通字段附加\n      if (key !== 'original_file' && data[key] !== null && data[key] !== undefined) {\n        formData.append(key, data[key]);\n      }\n    }\n    // 仅当存在新文件时才附加文件\n    if (data.original_file instanceof File) {\n      formData.append('original_file', data.original_file);\n    }\n    return api.patch(`/knowledge-bases/${id}/`, formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  },\n  deleteKnowledgeBase(id) {\n    return api.delete(`/knowledge-bases/${id}/`);\n  },\n  \n  // Knowledge Base Building\n  getKnowledgeBuildStatus() {\n    return api.get('/knowledge/build/');\n  },\n  buildKnowledgeForCompanies(companyIds) {\n    return api.post('/knowledge/build/', { company_ids: companyIds });\n  },\n};","'use strict';\nvar call = require('../internals/function-call');\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar size = require('../internals/set-size');\nvar iterate = require('../internals/set-iterate');\nvar getSetRecord = require('../internals/get-set-record');\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSubsetOf\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar union = require('../internals/set-union');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.union` method\n// https://tc39.es/ecma262/#sec-set.prototype.union\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('union') }, {\n  union: union\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar intersection = require('../internals/set-intersection');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('intersection', function (result) {\n  return result.size === 2 && result.has(1) && result.has(2);\n}) || fails(function () {\n  // eslint-disable-next-line es/no-array-from, es/no-set, es/no-set-prototype-intersection -- testing\n  return String(Array.from(new Set([1, 2, 3]).intersection(new Set([3, 2])))) !== '3,2';\n});\n\n// `Set.prototype.intersection` method\n// https://tc39.es/ecma262/#sec-set.prototype.intersection\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  intersection: intersection\n});\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar call = require('../internals/function-call');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar INVALID_SIZE = 'Invalid size';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, intSize) {\n  this.set = set;\n  this.size = max(intSize, 0);\n  this.has = aCallable(set.has);\n  this.keys = aCallable(set.keys);\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw new $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw new $RangeError(INVALID_SIZE);\n  return new SetRecord(obj, intSize);\n};\n","'use strict';\nvar SetHelpers = require('../internals/set-helpers');\nvar iterate = require('../internals/set-iterate');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isSubsetOf = require('../internals/set-is-subset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSubsetOf', function (result) {\n  return result;\n});\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issubsetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSubsetOf: isSubsetOf\n});\n","'use strict';\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar SetHelpers = require('../internals/set-helpers');\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, 'size', 'get') || function (set) {\n  return set.size;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isSupersetOf = require('../internals/set-is-superset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSupersetOf', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issupersetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSupersetOf: isSupersetOf\n});\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(O, e)) remove(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isDisjointFrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isDisjointFrom = require('../internals/set-is-disjoint-from');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isDisjointFrom', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.es/ecma262/#sec-set.prototype.isdisjointfrom\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isDisjointFrom: isDisjointFrom\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar everyWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('every', TypeError);\n\n// `Iterator.prototype.every` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.every\n$({ target: 'Iterator', proto: true, real: true, forced: everyWithoutClosingOnEarlyError }, {\n  every: function every(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (everyWithoutClosingOnEarlyError) return call(everyWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return !iterate(record, function (value, stop) {\n      if (!predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar createSetLike = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return false;\n    },\n    keys: function () {\n      return {\n        next: function () {\n          return { done: true };\n        }\n      };\n    }\n  };\n};\n\nvar createSetLikeWithInfinitySize = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return true;\n    },\n    keys: function () {\n      throw new Error('e');\n    }\n  };\n};\n\nmodule.exports = function (name, callback) {\n  var Set = getBuiltIn('Set');\n  try {\n    new Set()[name](createSetLike(0));\n    try {\n      // late spec change, early WebKit ~ Safari 17 implementation does not pass it\n      // https://github.com/tc39/proposal-set-methods/pull/88\n      // also covered engines with\n      // https://bugs.webkit.org/show_bug.cgi?id=272679\n      new Set()[name](createSetLike(-1));\n      return false;\n    } catch (error2) {\n      if (!callback) return true;\n      // early V8 implementation bug\n      // https://issues.chromium.org/issues/351332634\n      try {\n        new Set()[name](createSetLikeWithInfinitySize(-Infinity));\n        return false;\n      } catch (error) {\n        var set = new Set();\n        set.add(1);\n        set.add(2);\n        return callback(set[name](createSetLikeWithInfinitySize(Infinity)));\n      }\n    }\n  } catch (error) {\n    return false;\n  }\n};\n","'use strict';\nvar has = require('../internals/set-helpers').has;\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./KnowledgeManagement.vue?vue&type=style&index=1&id=3a984224&lang=css\"","'use strict';\nvar aSet = require('../internals/a-set');\nvar add = require('../internals/set-helpers').add;\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n"],"sourceRoot":""}