{"version":3,"sources":["webpack:///./src/views/project/components/DocumentsView.vue?4999","webpack:///./node_modules/core-js/modules/es.set.symmetric-difference.v2.js","webpack:///./node_modules/core-js/modules/es.set.difference.v2.js","webpack:///./node_modules/core-js/internals/set-iterate.js","webpack:///./node_modules/core-js/internals/set-is-superset-of.js","webpack:///./src/views/project/components/RequirementsView.vue?d5f0","webpack:///./src/views/project/ProjectDetail.vue?270c","webpack:///./node_modules/core-js/internals/iterate-simple.js","webpack:///./src/views/project/ProjectDetail.vue?d8fb","webpack:///./node_modules/core-js/internals/set-is-subset-of.js","webpack:///./node_modules/core-js/modules/es.set.union.v2.js","webpack:///./node_modules/core-js/modules/es.set.intersection.v2.js","webpack:///./src/views/project/components/RequirementsView.vue?cce2","webpack:///./node_modules/core-js/internals/get-set-record.js","webpack:///./src/views/project/components/DashboardView.vue?c320","webpack:///./node_modules/core-js/internals/set-clone.js","webpack:///./node_modules/core-js/modules/es.set.is-subset-of.v2.js","webpack:///./node_modules/core-js/internals/set-size.js","webpack:///./node_modules/core-js/internals/set-intersection.js","webpack:///./node_modules/core-js/internals/set-symmetric-difference.js","webpack:///./node_modules/core-js/modules/es.set.is-superset-of.v2.js","webpack:///./node_modules/core-js/internals/set-difference.js","webpack:///./src/views/project/components/DashboardView.vue","webpack:///./src/views/project/components/DashboardView.vue?5c52","webpack:///./src/views/project/components/RequirementsView.vue","webpack:///./src/views/project/components/RequirementsView.vue?e916","webpack:///./node_modules/core-js/internals/set-is-disjoint-from.js","webpack:///./node_modules/core-js/modules/es.set.is-disjoint-from.v2.js","webpack:///./src/views/project/components/DashboardView.vue?16ad","webpack:///./src/utils/date.js","webpack:///./node_modules/core-js/internals/set-helpers.js","webpack:///./src/views/project/components/DocumentsView.vue","webpack:///./src/views/project/components/DocumentsView.vue?4c7d","webpack:///./node_modules/core-js/internals/set-method-accept-set-like.js","webpack:///./node_modules/core-js/internals/a-set.js","webpack:///./src/views/project/components/DocumentsView.vue?bf3e","webpack:///./node_modules/core-js/internals/set-union.js","webpack:///./src/views/project/ProjectDetail.vue","webpack:///./src/views/project/ProjectDetail.vue?d989"],"names":["$","symmetricDifference","setMethodAcceptSetLike","target","proto","real","forced","difference","INCORRECT","result","size","uncurryThis","iterateSimple","SetHelpers","Set","SetPrototype","forEach","keys","next","module","exports","set","fn","interruptible","iterator","aSet","has","getSetRecord","iteratorClose","other","O","this","otherRec","getIterator","e","call","record","ITERATOR_INSTEAD_OF_RECORD","step","done","value","undefined","iterate","includes","union","fails","intersection","String","Array","from","aCallable","anObject","toIntegerOrInfinity","getIteratorDirect","INVALID_SIZE","$RangeError","RangeError","$TypeError","TypeError","max","Math","SetRecord","intSize","prototype","it","obj","numSize","add","isSubsetOf","uncurryThisAccessor","iterateSet","clone","remove","keysIter","isSupersetOf","props","__props","isLoading","ref","projectHealth","projectHealthDesc","projectRisks","completedTaskCount","computed","_props$tasks","tasks","filter","task","status","length","pendingTaskCount","_props$tasks2","documentCount","_props$documents","documents","requirementCount","_props$requirements","requirements","healthBarClass","getRiskIconClass","index","getRiskIconName","async","loadProjectAnalysis","_props$project","project","id","res","request","get","console","log","data","health","health_desc","isArray","risks","err","error","recentActivities","_props$tasks3","_props$documents2","_props$requirements2","activities","push","text","creator_name","title","time","created_at","ai_analysis","priority","updated_at","assignee_name","doc","uploader_name","name","uploaded_at","analysis","req","sort","a","b","Date","slice","onMounted","watch","_props$project2","newId","deep","__exports__","route","useRoute","projectId","params","loading","submitting","showAddReq","editMode","editingReqId","addReqForm","tags","description","aiAnalysisLoading","aiAnalysis","completeness","dependencies","conflicts","suggestions","filterPriority","filterStatus","filterKeyword","filteredRequirements","matchPriority","matchStatus","matchKeyword","reqFormRef","formRules","required","message","trigger","fetchRequirementList","fetchRequirements","analyzing","showFullAnalysis","analyzeRequirement","ElMessage","fetchAiAnalysis","getRequirementAiAnalysis","warning","getCompletenessStatus","score","openEditReq","closeDialog","submitAddReq","validate","valid","formData","updateRequirement","success","createRequirement","refreshAfterChange","handleDeleteReq","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","deleteRequirement","getStatusType","types","getStatusText","texts","formatDate","dateString","date","now","diff","hours","floor","minutes","getFullYear","getMonth","padStart","getDate","showMsg","getSingleRequirementAiAnalysis","then","catch","finally","isDisjointFrom","formatRelativeTime","isNaN","getTime","seconds","days","months","years","BASE_URL","docs","uploadDialogVisible","uploadForm","desc","file","fileList","uploading","editDialogVisible","editForm","editLoading","aiDocDashboard","health_score","related_count","conflict_count","aiDocLoading","filterTag","allTags","tagsSet","t","filteredDocs","matchTag","some","formatMarkdown","marked","loadDocuments","fetchProjectDocuments","map","split","Boolean","analyzeDocument","fetchAiDocDashboard","getDocumentAiDashboard","handleUploadSuccess","handleUploadError","handleFileChange","raw","submitUpload","uploadFormRef","FormData","append","uploadProjectDocument","downloadFile","url","downloadUrl","test","axios","method","responseType","headers","Authorization","localStorage","getItem","blob","Blob","ext","urlFilename","pop","idx","lastIndexOf","filename","disposition","match","decodeURIComponent","link","document","createElement","href","window","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","openEditDialog","join","submitEdit","editFormRef","updateProjectDocument","confirmDelete","deleteProjectDocument","idNum","Number","isInteger","post","response","_props$project3","val","getBuiltIn","createSetLike","createSetLikeWithInfinitySize","Error","callback","error2","Infinity","router","useRouter","activeView","showSetting","editProject","start","end","projectMembers","editProjectFormRef","navItems","label","view","icon","Grid","List","Document","Lightning","DataAnalysis","loadProject","statusText","statusClass","loadProjectMembers","loadTasks","loadRequirements","projectRes","updatedProject","members","memberIds","userInfo","JSON","parse","companyId","company_id","company","usersRes","allCompanyUsers","memberSet","user","username","email","tasksData","results","due_date","dueDate","refreshData","_project$value2","Promise","all","loadTasksAsync","loadDocumentsAsync","loadRequirementsAsync","resolve","dateStr","goBack","saveSetting","_project$value3","formatDateStr","d","m","payload","put","Object","assign","_err$response","newView","_project$value"],"mappings":"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","file":"js/chunk-03e2242f.ca34026a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DocumentsView.vue?vue&type=style&index=0&id=d3b1aee0&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar symmetricDifference = require('../internals/set-symmetric-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.symmetricDifference` method\n// https://tc39.es/ecma262/#sec-set.prototype.symmetricdifference\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('symmetricDifference') }, {\n  symmetricDifference: symmetricDifference\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar difference = require('../internals/set-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('difference', function (result) {\n  return result.size === 0;\n});\n\n// `Set.prototype.difference` method\n// https://tc39.es/ecma262/#sec-set.prototype.difference\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  difference: difference\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar iterateSimple = require('../internals/iterate-simple');\nvar SetHelpers = require('../internals/set-helpers');\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSupersetOf\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RequirementsView.vue?vue&type=style&index=0&id=1c82d407&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProjectDetail.vue?vue&type=style&index=1&id=1e66f6d4&lang=scss\"","'use strict';\nvar call = require('../internals/function-call');\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProjectDetail.vue?vue&type=style&index=0&id=1e66f6d4&scoped=true&lang=css\"","'use strict';\nvar aSet = require('../internals/a-set');\nvar size = require('../internals/set-size');\nvar iterate = require('../internals/set-iterate');\nvar getSetRecord = require('../internals/get-set-record');\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSubsetOf\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar union = require('../internals/set-union');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.union` method\n// https://tc39.es/ecma262/#sec-set.prototype.union\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('union') }, {\n  union: union\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar intersection = require('../internals/set-intersection');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('intersection', function (result) {\n  return result.size === 2 && result.has(1) && result.has(2);\n}) || fails(function () {\n  // eslint-disable-next-line es/no-array-from, es/no-set, es/no-set-prototype-intersection -- testing\n  return String(Array.from(new Set([1, 2, 3]).intersection(new Set([3, 2])))) !== '3,2';\n});\n\n// `Set.prototype.intersection` method\n// https://tc39.es/ecma262/#sec-set.prototype.intersection\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  intersection: intersection\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RequirementsView.vue?vue&type=style&index=1&id=1c82d407&lang=scss\"","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar call = require('../internals/function-call');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar INVALID_SIZE = 'Invalid size';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, intSize) {\n  this.set = set;\n  this.size = max(intSize, 0);\n  this.has = aCallable(set.has);\n  this.keys = aCallable(set.keys);\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw new $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw new $RangeError(INVALID_SIZE);\n  return new SetRecord(obj, intSize);\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DashboardView.vue?vue&type=style&index=0&id=2e0dd7ae&lang=scss&scoped=true\"","'use strict';\nvar SetHelpers = require('../internals/set-helpers');\nvar iterate = require('../internals/set-iterate');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isSubsetOf = require('../internals/set-is-subset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSubsetOf', function (result) {\n  return result;\n});\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issubsetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSubsetOf: isSubsetOf\n});\n","'use strict';\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar SetHelpers = require('../internals/set-helpers');\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, 'size', 'get') || function (set) {\n  return set.size;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isSupersetOf = require('../internals/set-is-superset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSupersetOf', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issupersetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSupersetOf: isSupersetOf\n});\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(O, e)) remove(result, e);\n  });\n  return result;\n};\n","<template>\n  <div class=\"dashboard-view\">\n    <!-- 项目健康度和风险预警 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-md-6\">\n        <div class=\"module-card\">\n          <div class=\"module-header\">\n            <h5 class=\"module-title\">项目健康度</h5>\n          </div>\n          <div class=\"health-content\">\n            <div v-if=\"isLoading\" class=\"d-flex justify-content-center py-3\">\n              <div class=\"spinner-border text-primary\" role=\"status\">\n                <span class=\"visually-hidden\">加载中...</span>\n              </div>\n            </div>\n            <template v-else>\n              <div class=\"progress mb-2\">\n                <div class=\"progress-bar\" :class=\"healthBarClass\" role=\"progressbar\" :style=\"{ width: `${projectHealth}%` }\"></div>\n              </div>\n              <div class=\"health-desc\">\n                <p>{{ projectHealthDesc }}</p>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <div class=\"module-card\">\n          <div class=\"module-header\">\n            <h5 class=\"module-title\">风险预警</h5>\n          </div>\n          <div class=\"risk-content\">\n            <div v-if=\"isLoading\" class=\"d-flex justify-content-center py-3\">\n              <div class=\"spinner-border text-primary\" role=\"status\">\n                <span class=\"visually-hidden\">加载中...</span>\n              </div>\n            </div>\n            <template v-else>\n              <div v-for=\"(risk, index) in projectRisks\" :key=\"index\" class=\"risk-item\">\n                <div class=\"risk-icon\" :class=\"getRiskIconClass(index)\">\n                  <i class=\"bi\" :class=\"getRiskIconName(index)\"></i>\n                </div>\n                <div class=\"risk-text\">{{ risk }}</div>\n              </div>\n              <div v-if=\"projectRisks.length === 0\" class=\"text-center text-muted py-3\">\n                暂无风险预警\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 统计卡片 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-md-3\">\n        <div class=\"stats-card bg-success\">\n          <div class=\"stats-content\">\n            <div class=\"stats-title\">已完成任务</div>\n            <div class=\"stats-number\">{{ completedTaskCount }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"stats-card bg-warning\">\n          <div class=\"stats-content\">\n            <div class=\"stats-title\">待处理任务</div>\n            <div class=\"stats-number\">{{ pendingTaskCount }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"stats-card bg-primary\">\n          <div class=\"stats-content\">\n            <div class=\"stats-title\">文档数量</div>\n            <div class=\"stats-number\">{{ documentCount }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"stats-card bg-info\">\n          <div class=\"stats-content\">\n            <div class=\"stats-title\">需求数量</div>\n            <div class=\"stats-number\">{{ requirementCount }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 最近活动 -->\n    <div class=\"module-card\">\n      <div class=\"module-header\">\n        <h5 class=\"module-title\">最近活动</h5>\n      </div>\n      <div class=\"activity-list\">\n        <div v-if=\"isLoading\" class=\"d-flex justify-content-center py-3\">\n          <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">加载中...</span>\n          </div>\n        </div>\n        <template v-else>\n          <div v-for=\"item in recentActivities\" :key=\"item.id\" class=\"activity-item\">\n            <div class=\"activity-main\">\n              <p class=\"activity-title\">{{ item.text }}</p>\n              <div v-if=\"item.ai_analysis\" class=\"activity-desc\" v-html=\"marked(item.ai_analysis)\"></div>\n            </div>\n            <div class=\"activity-time\">\n              {{ formatTime(item.time) }}\n            </div>\n          </div>\n          <div v-if=\"recentActivities.length === 0\" class=\"no-activity\">\n            暂无最近活动\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { formatRelativeTime as formatTime } from '@/utils/date'\nimport { marked } from 'marked'\nimport request from '@/utils/request'\n\nconst props = defineProps({\n  project: Object,\n  tasks: Array,\n  documents: Array,\n  requirements: Array\n})\n\n// 加载状态\nconst isLoading = ref(false)\n\n// 项目健康度数据\nconst projectHealth = ref(65)\nconst projectHealthDesc = ref('项目处于功能阶段，各项工作有序开展，存在一定不确定性。')\nconst projectRisks = ref([])\n\n// 计算统计数据\nconst completedTaskCount = computed(() => {\n  return props.tasks?.filter(task => task.status === 'done').length || 0\n})\n\nconst pendingTaskCount = computed(() => {\n  return props.tasks?.filter(task => task.status !== 'done').length || 0\n})\n\nconst documentCount = computed(() => {\n  return props.documents?.length || 0\n})\n\nconst requirementCount = computed(() => {\n  return props.requirements?.length || 0\n})\n\n// 健康度进度条颜色\nconst healthBarClass = computed(() => {\n  if (projectHealth.value >= 80) return 'bg-success'\n  if (projectHealth.value >= 60) return 'bg-warning'\n  return 'bg-danger'\n})\n\n// 获取风险图标样式\nfunction getRiskIconClass(index) {\n  // 第一个风险使用成功样式（绿色），其他使用警告样式（黄色）\n  return index === 0 ? 'success' : 'warning'\n}\n\n// 获取风险图标名称\nfunction getRiskIconName(index) {\n  // 第一个风险使用成功图标，其他使用警告图标\n  return index === 0 ? 'bi-check-circle-fill' : 'bi-exclamation-triangle-fill'\n}\n\n// 加载项目分析数据\nasync function loadProjectAnalysis() {\n  if (!props.project?.id) return\n  \n  isLoading.value = true\n  \n  try {\n    const res = await request.get(`/api/projects/${props.project.id}/ai_dashboard/`)\n    console.log('项目分析数据:', res.data)\n    \n    // 更新健康度数据\n    projectHealth.value = res.data.health || 0\n    projectHealthDesc.value = res.data.health_desc || '无法获取项目健康度数据'\n    \n    // 更新风险数据\n    if (Array.isArray(res.data.risks)) {\n      projectRisks.value = res.data.risks\n    } else {\n      projectRisks.value = []\n    }\n    \n  } catch (err) {\n    console.error('加载项目分析数据失败:', err)\n    // 设置默认值，但不使用硬编码的数据\n    projectHealth.value = 0\n    projectHealthDesc.value = '无法获取项目健康度数据'\n    projectRisks.value = []\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// 生成最近活动列表，基于任务、文档和需求数据\nconst recentActivities = computed(() => {\n  const activities = []\n\n  // 任务活动\n  props.tasks?.forEach(task => {\n    activities.push({\n      id: `task-create-${task.id}`,\n      text: `${task.creator_name || '未知用户'} 创建了任务 \"${task.title}\"`,\n      time: task.created_at,\n      ai_analysis: `任务已创建，优先级${task.priority || '未定'}`\n    })\n    if (task.status === 'in-progress' && task.updated_at) {\n      activities.push({\n        id: `task-update-${task.id}`,\n        text: `${task.assignee_name || '负责人'} 正在处理任务 \"${task.title}\"`,\n        time: task.updated_at,\n        ai_analysis: '任务正在进行中，请关注进度'\n      })\n    }\n  })\n\n  // 文档活动\n  props.documents?.forEach(doc => {\n    activities.push({\n      id: `doc-${doc.id}`,\n      text: `${doc.uploader_name || '未知用户'} 上传了文档 \"${doc.name}\"`,\n      time: doc.uploaded_at,\n      ai_analysis: doc.analysis\n    })\n  })\n\n  // 需求活动\n  props.requirements?.forEach(req => {\n    activities.push({\n      id: `req-${req.id}`,\n      text: `${req.creator_name || '未知用户'} 创建了需求 \"${req.name}\"`,\n      time: req.created_at,\n      ai_analysis: `需求优先级为${req.priority || '未定'}`\n    })\n  })\n  \n  // 按时间倒序排序\n  return activities.sort((a, b) => new Date(b.time) - new Date(a.time)).slice(0, 10) // 只显示最近10条\n})\n\n// 在组件挂载时加载项目分析数据\nonMounted(() => {\n  loadProjectAnalysis()\n})\n\n// 当项目ID变化时重新加载数据\nwatch(() => props.project?.id, (newId) => {\n  if (newId) {\n    loadProjectAnalysis()\n  }\n})\n\n// 当任务、文档或需求数据变化时，重新加载项目分析\nwatch([\n  () => props.tasks, \n  () => props.documents, \n  () => props.requirements\n], () => {\n  loadProjectAnalysis()\n}, { deep: true })\n\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard-view {\n  padding: 10px;\n}\n\n.module-card {\n  background: #fff;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.06);\n  height: 100%;\n}\n\n.module-header {\n  margin-bottom: 20px;\n}\n\n.module-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: #303133;\n}\n\n.health-content {\n  .progress {\n    height: 10px;\n    background-color: #e9ecef;\n    border-radius: 5px;\n  }\n  .health-desc {\n    margin-top: 10px;\n    color: #606266;\n    font-size: 14px;\n  }\n}\n\n.risk-content {\n  .risk-item {\n    display: flex;\n    align-items: flex-start;\n    margin-bottom: 15px;\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n    \n    .risk-icon {\n      margin-right: 10px;\n      margin-top: 2px;\n      \n      &.success {\n        color: #67C23A;\n      }\n      \n      &.warning {\n        color: #E6A23C;\n      }\n    }\n    \n    .risk-text {\n      flex: 1;\n      font-size: 14px;\n      color: #606266;\n    }\n  }\n}\n\n.stats-card {\n  border-radius: 8px;\n  padding: 20px;\n  height: 100%;\n  color: white;\n  \n  .stats-content {\n    .stats-title {\n      font-size: 14px;\n      opacity: 0.9;\n      margin-bottom: 10px;\n    }\n    \n    .stats-number {\n      font-size: 32px;\n      font-weight: bold;\n    }\n  }\n}\n\n.activity-list {\n  .activity-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: 15px 0;\n    border-bottom: 1px solid #EBEEF5;\n\n    &:last-child {\n      border-bottom: none;\n    }\n  }\n\n  .activity-main {\n    flex: 1;\n    .activity-title {\n      font-size: 15px;\n      color: #303133;\n      margin: 0 0 5px 0;\n    }\n    .activity-desc {\n      font-size: 14px;\n      color: #888;\n      line-height: 1.6;\n\n      :deep(p) {\n        margin: 0 0 8px 0;\n      }\n      :deep(strong) {\n        font-weight: bold;\n        color: #555;\n      }\n      :deep(ul) {\n        padding-left: 20px;\n        margin: 0;\n      }\n      :deep(li) {\n        margin-bottom: 4px;\n      }\n    }\n  }\n\n  .activity-time {\n    font-size: 13px;\n    color: #909399;\n    width: 100px;\n    text-align: right;\n  }\n\n  .no-activity {\n    text-align: center;\n    color: #909399;\n    padding: 20px;\n  }\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n}\n\n.col-md-3 {\n  flex: 0 0 25%;\n  max-width: 25%;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n\n.col-md-6 {\n  flex: 0 0 50%;\n  max-width: 50%;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n\n.mb-4 {\n  margin-bottom: 1.5rem;\n}\n\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n\n.spinner-border {\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spinner-border .75s linear infinite;\n}\n\n.visually-hidden {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n@keyframes spinner-border {\n  to { transform: rotate(360deg); }\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .col-md-3, .col-md-6 {\n    flex: 0 0 100%;\n    max-width: 100%;\n    margin-bottom: 15px;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n[data-theme=\"dark\"] {\n  .dashboard-view, .module-card {\n    background-color: var(--el-bg-color-page) !important;\n    color: var(--el-text-color-primary) !important;\n    border: 1px solid var(--el-border-color-light);\n  }\n\n  .module-title, .health-desc p {\n    color: var(--el-text-color-primary) !important;\n  }\n\n  .risk-item, .activity-item {\n    border-bottom-color: var(--el-border-color-light) !important;\n  }\n  \n  .risk-text, .activity-main .activity-title, .activity-time {\n    color: var(--el-text-color-secondary) !important;\n  }\n  \n  .no-activity {\n    color: var(--el-text-color-secondary);\n  }\n\n  /* 覆盖统计卡片的背景色 */\n  .stats-card {\n    &.bg-success { background-color: #28a745 !important; }\n    &.bg-warning { background-color: #ffc107 !important; }\n    &.bg-primary { background-color: #007bff !important; }\n    &.bg-info { background-color: #17a2b8 !important; }\n    \n    .stats-title, .stats-number {\n      color: #fff !important;\n    }\n  }\n\n  .progress {\n    background-color: var(--el-fill-color-light);\n  }\n}\n</style>","import script from \"./DashboardView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DashboardView.vue?vue&type=style&index=0&id=2e0dd7ae&lang=scss&scoped=true\"\nimport \"./DashboardView.vue?vue&type=style&index=1&id=2e0dd7ae&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\18083\\\\Desktop\\\\CCIT\\\\office\\\\smart-office\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e0dd7ae\"]])\n\nexport default __exports__","<template>\n  <div class=\"module-card\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">需求管理</h5>\n      <div class=\"btn-group\">\n        <el-button type=\"primary\" size=\"default\" round @click=\"showAddReq=true\">新建需求</el-button>\n      </div>\n    </div>\n    <!-- AI需求分析 -->\n    <div class=\"ai-requirement-analysis mb-4\">\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h6 class=\"mb-0\">AI需求分析</h6>\n        <div class=\"btn-group\">\n          <el-button size=\"small\" @click=\"fetchAiAnalysis\" :loading=\"aiAnalysisLoading\">\n            <el-icon><Refresh /></el-icon>刷新分析\n          </el-button>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">需求完整性</h6>\n            <el-progress :percentage=\"aiAnalysis.completeness\" :status=\"getCompletenessStatus(aiAnalysis.completeness)\" style=\"margin-bottom:8px;\" />\n            <p class=\"text-muted small\">需求描述完整性评分</p>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">需求依赖关系</h6>\n            <div class=\"requirement-dependencies\">\n              <div class=\"dependency-item\">\n                <el-icon><Connection /></el-icon>\n                发现{{aiAnalysis.dependencies}}个需求依赖关系\n              </div>\n              <div class=\"dependency-item\">\n                <el-icon><CircleCloseFilled /></el-icon>\n                {{aiAnalysis.conflicts}}个需求存在冲突\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">智能建议</h6>\n            <div class=\"ai-suggestions\">\n              <div v-if=\"aiAnalysis.suggestions.length === 0\" class=\"text-center py-2\">\n                <!-- 不显示任何内容 -->\n              </div>\n              <div class=\"suggestion-item\" v-for=\"(suggestion, i) in aiAnalysis.suggestions\" :key=\"i\">\n                <el-icon><Lightning v-if=\"i === 0\" /><Check v-else /></el-icon>\n                {{suggestion}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 筛选区 -->\n    <div class=\"filter-bar\" style=\"display:flex;gap:12px;margin-bottom:16px;\">\n      <el-select v-model=\"filterPriority\" placeholder=\"优先级\" clearable style=\"width:120px;\">\n        <el-option label=\"全部\" value=\"\" />\n        <el-option label=\"高\" value=\"high\" />\n        <el-option label=\"中\" value=\"medium\" />\n        <el-option label=\"低\" value=\"low\" />\n      </el-select>\n      <el-select v-model=\"filterStatus\" placeholder=\"状态\" clearable style=\"width:120px;\">\n        <el-option label=\"全部\" value=\"\" />\n        <el-option label=\"待处理\" value=\"pending\" />\n        <el-option label=\"进行中\" value=\"in-progress\" />\n        <el-option label=\"已完成\" value=\"completed\" />\n      </el-select>\n      <el-input v-model=\"filterKeyword\" placeholder=\"关键词\" clearable style=\"width:180px;\" />\n    </div>\n    <!-- 需求列表 -->\n    <div v-loading=\"loading\" class=\"requirements-list\">\n      <div class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\" v-for=\"req in filteredRequirements\" :key=\"req.id\">\n          <div class=\"d-flex w-100 justify-content-between\">\n            <div>\n              <h6 class=\"mb-1\">{{ req.name }}</h6>\n              <div class=\"ai-requirement-tags\">\n                <el-tag v-for=\"tag in req.tags_list\" :key=\"tag.text\" :type=\"tag.type\" size=\"small\">{{ tag.text }}</el-tag>\n              </div>\n            </div>\n            <div class=\"text-end\">\n              <el-tag :type=\"getStatusType(req.status)\" size=\"small\">{{ getStatusText(req.status) }}</el-tag>\n              <div class=\"ai-requirement-status\">\n                <small class=\"text-muted\">{{ formatDate(req.created_at) }}</small>\n              </div>\n              <div style=\"margin-top: 8px;\">\n                <el-button size=\"small\" type=\"primary\" text @click=\"openEditReq(req)\">编辑</el-button>\n                <el-button size=\"small\" type=\"danger\" text @click=\"handleDeleteReq(req)\">删除</el-button>\n                <el-button size=\"small\" type=\"info\" text @click=\"analyzeRequirement(req, true)\" :loading=\"req.analyzing\">AI分析</el-button>\n              </div>\n            </div>\n          </div>\n          <p class=\"mb-1\">{{ req.description || '暂无描述' }}</p>\n          <div class=\"ai-requirement-analysis\" v-if=\"req.ai_analysis\">\n            <div class=\"d-flex justify-content-between\">\n              <small class=\"text-muted\">AI分析：</small>\n              <el-button type=\"link\" size=\"small\" @click=\"req.showFullAnalysis = !req.showFullAnalysis\">\n                {{ req.showFullAnalysis ? '收起' : '展开' }}\n              </el-button>\n            </div>\n            <div v-if=\"req.showFullAnalysis\">{{ req.ai_analysis }}</div>\n            <div v-else>{{ req.ai_analysis.substring(0, 100) }}{{ req.ai_analysis.length > 100 ? '...' : '' }}</div>\n          </div>\n          <div class=\"ai-requirement-analysis\" v-else>\n            <small class=\"text-muted\">暂无AI分析</small>\n          </div>\n        </div>\n      </div>\n      <el-empty v-if=\"requirements.length === 0\" description=\"暂无需求数据\" />\n    </div>\n  </div>\n  <!-- 新建/编辑需求弹窗 -->\n  <el-dialog v-model=\"showAddReq\" :title=\"editMode ? '编辑需求' : '新建需求'\" width=\"400px\">\n    <el-form :model=\"addReqForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"reqFormRef\">\n      <el-form-item label=\"需求名称\" prop=\"name\" required>\n        <el-input v-model=\"addReqForm.name\" placeholder=\"请输入需求名称\" />\n      </el-form-item>\n      <el-form-item label=\"优先级\" prop=\"priority\" required>\n        <el-select v-model=\"addReqForm.priority\" placeholder=\"请选择\">\n          <el-option label=\"高\" value=\"high\" />\n          <el-option label=\"中\" value=\"medium\" />\n          <el-option label=\"低\" value=\"low\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"标签\" prop=\"tags\" required>\n        <el-input v-model=\"addReqForm.tags\" placeholder=\"逗号分隔，如：功能,高优先级\" />\n      </el-form-item>\n      <el-form-item label=\"描述\" prop=\"description\" required>\n        <el-input v-model=\"addReqForm.description\" type=\"textarea\" placeholder=\"请输入需求描述\" />\n      </el-form-item>\n      <el-form-item label=\"状态\" prop=\"status\" required>\n        <el-select v-model=\"addReqForm.status\" placeholder=\"请选择\">\n          <el-option label=\"待处理\" value=\"pending\" />\n          <el-option label=\"进行中\" value=\"in-progress\" />\n          <el-option label=\"已完成\" value=\"completed\" />\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <el-button @click=\"closeDialog\">取消</el-button>\n      <el-button type=\"primary\" @click=\"submitAddReq\" :loading=\"submitting\">{{ editMode ? '保存' : '提交' }}</el-button>\n    </template>\n  </el-dialog>\n</template>\n<script setup>\nimport { Connection, CircleCloseFilled, Lightning, Check, Refresh } from '@element-plus/icons-vue'\nimport { ref, onMounted, computed, watch } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { fetchRequirements, createRequirement, updateRequirement, deleteRequirement, getRequirementAiAnalysis, getSingleRequirementAiAnalysis } from '@/api/project'\nimport { useRoute } from 'vue-router'\n\nconst route = useRoute()\nconst projectId = computed(() => route.params.id)\n\nconst requirements = ref([])\nconst loading = ref(false)\nconst submitting = ref(false)\nconst showAddReq = ref(false)\nconst editMode = ref(false)\nconst editingReqId = ref(null)\nconst addReqForm = ref({ name: '', priority: 'medium', tags: '', description: '', status: 'pending' })\nconst aiAnalysisLoading = ref(false)\nconst aiAnalysis = ref({\n  completeness: 0,\n  dependencies: 0,\n  conflicts: 0,\n  suggestions: []\n})\nconst filterPriority = ref('')\nconst filterStatus = ref('')\nconst filterKeyword = ref('')\nconst filteredRequirements = computed(() => {\n  return requirements.value.filter(req => {\n    const matchPriority = !filterPriority.value || req.priority === filterPriority.value\n    const matchStatus = !filterStatus.value || req.status === filterStatus.value\n    const matchKeyword = !filterKeyword.value || req.name.includes(filterKeyword.value) || (req.description && req.description.includes(filterKeyword.value))\n    return matchPriority && matchStatus && matchKeyword\n  })\n})\n\n// 表单引用\nconst reqFormRef = ref(null)\n\n// 表单验证规则\nconst formRules = {\n  name: [{ required: true, message: '请输入需求名称', trigger: 'blur' }],\n  priority: [{ required: true, message: '请选择优先级', trigger: 'change' }],\n  tags: [{ required: true, message: '请输入标签', trigger: 'blur' }],\n  description: [{ required: true, message: '请输入需求描述', trigger: 'blur' }],\n  status: [{ required: true, message: '请选择状态', trigger: 'change' }]\n}\n\n// 获取需求列表\nconst fetchRequirementList = async () => {\n  try {\n    loading.value = true\n    const res = await fetchRequirements(projectId.value)\n    requirements.value = res.data\n    requirements.value.forEach(req => {\n      req.analyzing = false\n      req.showFullAnalysis = false\n      // 自动AI分析\n      req.ai_analysis = ''\n      analyzeRequirement(req)\n    })\n  } catch (error) {\n    console.error('获取需求列表失败:', error)\n    ElMessage.error('获取需求列表失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 获取需求AI分析\nconst fetchAiAnalysis = async () => {\n  if (!projectId.value) {\n    ElMessage.warning('没有有效的项目ID')\n    return\n  }\n  \n  try {\n    aiAnalysisLoading.value = true\n    const res = await getRequirementAiAnalysis(projectId.value)\n    \n    // 检查响应数据结构\n    if (res.data) {\n      aiAnalysis.value = {\n        completeness: res.data.completeness || 0,\n        dependencies: res.data.dependencies || 0,\n        conflicts: res.data.conflicts || 0,\n        suggestions: Array.isArray(res.data.suggestions) ? res.data.suggestions : []\n      }\n      \n      console.log('AI需求分析结果:', aiAnalysis.value)\n    } else {\n      console.error('AI分析响应数据格式错误:', res)\n      ElMessage.error('AI分析响应数据格式错误')\n    }\n  } catch (error) {\n    console.error('获取AI分析失败:', error)\n    ElMessage.error('获取AI分析失败')\n  } finally {\n    aiAnalysisLoading.value = false\n  }\n}\n\n// 获取完整性状态\nconst getCompletenessStatus = (score) => {\n  if (score >= 80) return 'success' \n  if (score >= 60) return 'warning'\n  return 'exception'\n}\n\n// 打开编辑弹窗\nconst openEditReq = (req) => {\n  editMode.value = true\n  editingReqId.value = req.id\n  addReqForm.value = {\n    name: req.name,\n    priority: req.priority,\n    tags: req.tags,\n    description: req.description,\n    status: req.status\n  }\n  showAddReq.value = true\n}\n\n// 关闭弹窗\nconst closeDialog = () => {\n  showAddReq.value = false\n  editMode.value = false\n  editingReqId.value = null\n  addReqForm.value = { name: '', priority: 'medium', tags: '', description: '', status: 'pending' }\n}\n\n// 提交新建/编辑需求\nconst submitAddReq = async () => {\n  if (!reqFormRef.value) {\n    console.error('表单引用不存在')\n    return\n  }\n  \n  reqFormRef.value.validate(async valid => {\n    if (!valid) {\n      ElMessage.error('请填写所有必填项')\n      return\n    }\n    \n    try {\n      submitting.value = true\n      const formData = {\n        project: projectId.value,\n        name: addReqForm.value.name,\n        description: addReqForm.value.description,\n        priority: addReqForm.value.priority,\n        tags: addReqForm.value.tags,\n        status: addReqForm.value.status\n      }\n      if (editMode.value && editingReqId.value) {\n        await updateRequirement(editingReqId.value, formData)\n        ElMessage.success('需求更新成功')\n      } else {\n        await createRequirement(formData)\n        ElMessage.success('需求创建成功')\n      }\n      closeDialog()\n      refreshAfterChange()\n    } catch (error) {\n      console.error('保存需求失败:', error)\n      ElMessage.error('保存需求失败')\n    } finally {\n      submitting.value = false\n    }\n  })\n}\n\n// 删除需求\nconst handleDeleteReq = async (req) => {\n  try {\n    await ElMessageBox.confirm('确定删除此需求？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    })\n    \n    loading.value = true\n    await deleteRequirement(req.id)\n    ElMessage.success('删除成功')\n    refreshAfterChange()\n  } catch (error) {\n    if (error !== 'cancel') {\n      console.error('删除需求失败:', error)\n      ElMessage.error('删除需求失败')\n    }\n  } finally {\n    loading.value = false\n  }\n}\n\n// 获取状态类型\nconst getStatusType = (status) => {\n  const types = {\n    'pending': 'info',\n    'in-progress': 'primary',\n    'completed': 'success'\n  }\n  return types[status] || 'info'\n}\n\n// 获取状态文本\nconst getStatusText = (status) => {\n  const texts = {\n    'pending': '待处理',\n    'in-progress': '进行中',\n    'completed': '已完成'\n  }\n  return texts[status] || '待处理'\n}\n\n// 格式化日期\nconst formatDate = (dateString) => {\n  if (!dateString) return '刚刚'\n  const date = new Date(dateString)\n  const now = new Date()\n  const diff = now - date\n  \n  // 如果小于1天，显示\"x小时前\"或\"x分钟前\"\n  if (diff < 24 * 60 * 60 * 1000) {\n    const hours = Math.floor(diff / (60 * 60 * 1000))\n    if (hours > 0) {\n      return `${hours}小时前`\n    }\n    const minutes = Math.floor(diff / (60 * 1000))\n    if (minutes > 0) {\n      return `${minutes}分钟前`\n    }\n    return '刚刚'\n  }\n  \n  // 否则显示日期\n  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n}\n\n// 分析需求\nconst analyzeRequirement = (req, showMsg = false) => {\n  if (!req.id) {\n    if (showMsg) ElMessage.warning('无效的需求ID')\n    return\n  }\n  req.analyzing = true\n  getSingleRequirementAiAnalysis(req.id)\n    .then(res => {\n      req.ai_analysis = res.data.ai_analysis || '暂无分析'\n      req.showFullAnalysis = false\n      if (showMsg) ElMessage.success('AI分析完成')\n    })\n    .catch(() => {\n      req.ai_analysis = 'AI分析失败'\n      if (showMsg) ElMessage.error('AI分析失败')\n    })\n    .finally(() => {\n      req.analyzing = false\n    })\n}\n\n// 在组件挂载时获取需求列表和AI分析\nonMounted(() => {\n  fetchRequirementList()\n  fetchAiAnalysis()\n})\n\n// 监听项目ID变化，同时刷新需求列表和AI分析\nwatch(projectId, () => {\n  if (projectId.value) {\n    fetchRequirementList()\n    fetchAiAnalysis()\n  }\n})\n\n// 在创建或更新需求后刷新AI分析\nconst refreshAfterChange = () => {\n  fetchRequirementList()\n  fetchAiAnalysis()\n}\n</script>\n<style scoped>\n.module-card { background: var(--bg-color-secondary); border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; padding: 20px; }\n.module-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n.module-title { font-size: 1.1rem; font-weight: 600; color: var(--text-color) !important; margin: 0; }\n.btn-group { display: flex; gap: 10px; }\n.row { display: flex; flex-wrap: wrap; margin: 0 -10px; }\n.col-md-4 { padding: 0 10px; width: 33.3333%; }\n.mb-4 { margin-bottom: 24px; }\n.list-group { margin: 0; }\n.list-group-item,\n.list-group-item-action,\n.list-group-item-action:active,\n.list-group-item-action:focus,\n.list-group-item-action:hover {\n  background: var(--bg-color-tertiary) !important;\n  color: var(--text-color);\n  border: none;\n}\n.ai-analysis-card { background: var(--bg-color-secondary); border: 1px solid var(--border-color); border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n.dependency-item, .suggestion-item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }\n.text-primary { color: var(--primary-color)!important; }\n.filter-bar { display: flex; gap: 12px; margin-bottom: 16px; }\n.list-group-item:hover {\n  background: var(--hover-color);\n  color: var(--primary-color);\n}\n.ai-requirement-analysis {\n  background: var(--bg-color-tertiary);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n  color: var(--text-color);\n}\n.ai-requirement-analysis .text-muted,\n.ai-requirement-analysis small {\n  color: var(--text-color-tertiary) !important;\n}\n\n/* 确保 Element Plus 组件在深色模式下正确显示 */\n:deep(.el-dialog),\n:deep(.el-dialog .el-dialog__body),\n:deep(.el-dialog .el-dialog__header),\n:deep(.el-dialog .el-dialog__footer) {\n  background: var(--bg-color-secondary) !important;\n  color: var(--text-color) !important;\n}\n\n:deep(.el-button.el-button--text) {\n  color: var(--primary-color) !important;\n}\n\n:deep(.el-select-dropdown),\n:deep(.el-select-dropdown__item),\n:deep(.el-select-dropdown__list) {\n  background-color: var(--bg-color-secondary) !important;\n  color: var(--text-color) !important;\n}\n\n:deep(.el-select-dropdown__item.hover),\n:deep(.el-select-dropdown__item:hover) {\n  background-color: var(--hover-color) !important;\n}\n\n/* 修复 el-tag 标签在深色模式下的显示 */\n:deep(.el-tag) {\n  background-color: var(--bg-color-tertiary) !important;\n  color: var(--text-color) !important;\n  border-color: var(--border-color) !important;\n}\n\n:deep(.el-tag.el-tag--info) {\n  background-color: var(--bg-color-tertiary) !important;\n  border-color: var(--border-color) !important;\n}\n\n:deep(.el-tag.el-tag--success) {\n  background-color: var(--success-color) !important;\n  border-color: var(--success-color) !important;\n  color: #fff !important;\n}\n\n:deep(.el-tag.el-tag--primary) {\n  background-color: var(--primary-color) !important;\n  border-color: var(--primary-color) !important;\n  color: #fff !important;\n}\n\n:deep(.el-tag.el-tag--warning) {\n  background-color: var(--warning-color) !important;\n  border-color: var(--warning-color) !important;\n  color: #fff !important;\n}\n\n:deep(.el-tag.el-tag--danger) {\n  background-color: var(--danger-color) !important;\n  border-color: var(--danger-color) !important;\n  color: #fff !important;\n}\n\n/* 修复按钮悬停效果 */\n:deep(.el-button:hover),\n:deep(.el-button:focus) {\n  background-color: var(--hover-color) !important;\n  border-color: var(--primary-color) !important;\n  color: var(--primary-color) !important;\n}\n\n:deep(.el-button--primary:hover),\n:deep(.el-button--primary:focus) {\n  background-color: var(--primary-color) !important;\n  opacity: 0.9;\n  color: #fff !important;\n}\n\n:deep(.el-button--danger:hover),\n:deep(.el-button--danger:focus) {\n  background-color: var(--danger-color) !important;\n  opacity: 0.9;\n  color: #fff !important;\n}\n\n:deep(.el-button--info:hover),\n:deep(.el-button--info:focus) {\n  background-color: var(--info-color) !important;\n  opacity: 0.9;\n  color: #fff !important;\n}\n\n:deep(.el-button--text:hover),\n:deep(.el-button--text:focus) {\n  background-color: transparent !important;\n  color: var(--primary-color) !important;\n  opacity: 0.9;\n}\n\n/* 确保字体可见 */\n.ai-requirement-tags,\n.ai-requirement-status {\n  color: var(--text-color) !important;\n}\n\n/* 修复列表项细节 */\n.list-group-item {\n  border-radius: 5px !important;\n  margin-bottom: 10px !important;\n  padding: 16px !important;\n}\n</style>\n\n<style lang=\"scss\">\n[data-theme=\"dark\"] {\n  .module-card, .ai-analysis-card, .list-group-item, .el-dialog {\n    background-color: var(--el-bg-color-page) !important;\n    color: var(--el-text-color-primary) !important;\n    border: 1px solid var(--el-border-color-light) !important;\n  }\n\n  .module-title, h6, .el-dialog__title {\n    color: var(--el-text-color-primary) !important;\n  }\n\n  .text-muted, .small, .ai-requirement-analysis small.text-muted {\n    color: var(--el-text-color-secondary) !important;\n  }\n  \n  .el-form-item__label {\n    color: var(--el-text-color-secondary) !important;\n  }\n\n  .el-input__wrapper, .el-select .el-input__wrapper {\n    background-color: var(--el-fill-color-light) !important;\n    border-color: var(--el-border-color) !important;\n  }\n\n  .list-group-item-action:hover {\n    background-color: var(--el-fill-color-light) !important;\n  }\n\n  .dependency-item, .suggestion-item {\n    color: var(--el-text-color-secondary) !important;\n  }\n}\n</style> ","import script from \"./RequirementsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RequirementsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RequirementsView.vue?vue&type=style&index=0&id=1c82d407&scoped=true&lang=css\"\nimport \"./RequirementsView.vue?vue&type=style&index=1&id=1c82d407&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\18083\\\\Desktop\\\\CCIT\\\\office\\\\smart-office\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1c82d407\"]])\n\nexport default __exports__","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isDisjointFrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isDisjointFrom = require('../internals/set-is-disjoint-from');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isDisjointFrom', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.es/ecma262/#sec-set.prototype.isdisjointfrom\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isDisjointFrom: isDisjointFrom\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DashboardView.vue?vue&type=style&index=1&id=2e0dd7ae&lang=scss&scoped=true\"","/**\r\n * 日期格式化工具函数\r\n */\r\n\r\n/**\r\n * 格式化日期\r\n * @param {Date|String|Number} date - 日期对象或可转为日期的字符串/时间戳\r\n * @param {String} format - 格式化模板，如 'YYYY-MM-DD HH:mm:ss'\r\n * @returns {String} 格式化后的日期字符串\r\n */\r\nexport function formatDate(date, format = 'YYYY-MM-DD') {\r\n  if (!date) return '';\r\n  \r\n  // 确保date是Date对象\r\n  if (!(date instanceof Date)) {\r\n    date = new Date(date);\r\n    if (isNaN(date.getTime())) return '无效日期';\r\n  }\r\n  \r\n  const year = date.getFullYear();\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  const hour = date.getHours();\r\n  const minute = date.getMinutes();\r\n  const second = date.getSeconds();\r\n  \r\n  // 填充函数，确保数字为两位\r\n  const pad = num => (num < 10 ? '0' + num : num);\r\n  \r\n  return format\r\n    .replace(/YYYY/g, year)\r\n    .replace(/YY/g, String(year).slice(2))\r\n    .replace(/MM/g, pad(month))\r\n    .replace(/M/g, month)\r\n    .replace(/DD/g, pad(day))\r\n    .replace(/D/g, day)\r\n    .replace(/HH/g, pad(hour))\r\n    .replace(/H/g, hour)\r\n    .replace(/hh/g, pad(hour % 12 || 12))\r\n    .replace(/h/g, hour % 12 || 12)\r\n    .replace(/mm/g, pad(minute))\r\n    .replace(/m/g, minute)\r\n    .replace(/ss/g, pad(second))\r\n    .replace(/s/g, second);\r\n}\r\n\r\n/**\r\n * 格式化相对时间，如\"几分钟前\"、\"几小时前\"等\r\n * @param {Date|String|Number} date - 日期对象或可转为日期的字符串/时间戳\r\n * @returns {String} 相对时间字符串\r\n */\r\nexport function formatRelativeTime(date) {\r\n  if (!date) return '';\r\n  \r\n  // 确保date是Date对象\r\n  if (!(date instanceof Date)) {\r\n    date = new Date(date);\r\n    if (isNaN(date.getTime())) return '无效日期';\r\n  }\r\n  \r\n  const now = new Date();\r\n  const diff = now.getTime() - date.getTime();\r\n  const seconds = Math.floor(diff / 1000);\r\n  const minutes = Math.floor(seconds / 60);\r\n  const hours = Math.floor(minutes / 60);\r\n  const days = Math.floor(hours / 24);\r\n  const months = Math.floor(days / 30);\r\n  const years = Math.floor(months / 12);\r\n  \r\n  if (seconds < 60) {\r\n    return '刚刚';\r\n  } else if (minutes < 60) {\r\n    return `${minutes}分钟前`;\r\n  } else if (hours < 24) {\r\n    return `${hours}小时前`;\r\n  } else if (days < 30) {\r\n    return `${days}天前`;\r\n  } else if (months < 12) {\r\n    return `${months}个月前`;\r\n  } else {\r\n    return `${years}年前`;\r\n  }\r\n}\r\n\r\n/**\r\n * 格式化时间范围\r\n * @param {Date|String|Number} startDate - 开始日期\r\n * @param {Date|String|Number} endDate - 结束日期\r\n * @param {String} format - 日期格式\r\n * @returns {String} 格式化后的时间范围\r\n */\r\nexport function formatDateRange(startDate, endDate, format = 'YYYY-MM-DD') {\r\n  if (!startDate) return '';\r\n  \r\n  // 格式化开始日期\r\n  const start = formatDate(startDate, format);\r\n  \r\n  // 如果没有结束日期，只返回开始日期\r\n  if (!endDate) return start;\r\n  \r\n  // 格式化结束日期\r\n  const end = formatDate(endDate, format);\r\n  \r\n  // 返回日期范围\r\n  return `${start} 至 ${end}`;\r\n} ","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n","<template>\n  <div class=\"module-card\">\n    <div class=\"module-header\">\n      <h5 class=\"module-title\">文档管理</h5>\n      <div class=\"btn-group\">\n        <el-button type=\"primary\" size=\"default\" round @click=\"uploadDialogVisible = true\">上传文档</el-button>\n        <el-dialog v-model=\"uploadDialogVisible\" title=\"上传文档\" width=\"400px\">\n          <el-form :model=\"uploadForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"uploadFormRef\">\n            <el-form-item label=\"文档名称\" prop=\"name\" required>\n              <el-input v-model=\"uploadForm.name\" placeholder=\"请输入文档名称\" />\n            </el-form-item>\n            <el-form-item label=\"描述\" prop=\"desc\" required>\n              <el-input v-model=\"uploadForm.desc\" placeholder=\"请输入文档描述\" />\n            </el-form-item>\n            <el-form-item label=\"标签\" prop=\"tags\" required>\n              <el-input v-model=\"uploadForm.tags\" placeholder=\"多个标签用逗号分隔\" />\n            </el-form-item>\n            <el-form-item label=\"文件\" prop=\"file\" required>\n              <el-upload\n                :auto-upload=\"false\"\n                :show-file-list=\"true\"\n                :on-change=\"handleFileChange\"\n                :file-list=\"fileList\"\n              >\n                <el-button>选择文件</el-button>\n              </el-upload>\n            </el-form-item>\n          </el-form>\n          <template #footer>\n            <el-button @click=\"uploadDialogVisible = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitUpload\" :loading=\"uploading\">上传</el-button>\n          </template>\n        </el-dialog>\n      </div>\n    </div>\n    <!-- AI文档分析 -->\n    <div class=\"ai-document-analysis mb-4\">\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h6 class=\"mb-0\">AI文档分析</h6>\n        <div class=\"btn-group\">\n          <el-button size=\"small\" @click=\"fetchAiDocDashboard\" :loading=\"aiDocLoading\">\n            <el-icon><Refresh /></el-icon>刷新分析\n          </el-button>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">文档健康度</h6>\n            <el-progress :percentage=\"aiDocDashboard.health_score\" :status=\"aiDocDashboard.health_score>=80?'success':(aiDocDashboard.health_score>=60?'warning':'exception')\" style=\"margin-bottom:8px;\" />\n            <p class=\"text-muted small\">{{ aiDocDashboard.health_desc }}</p>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">文档关联性</h6>\n            <div class=\"document-relations\">\n              <div class=\"relation-item\">\n                <el-icon><Link /></el-icon>\n                发现{{ aiDocDashboard.related_count }}个相关文档\n              </div>\n              <div class=\"relation-item\">\n                <el-icon><CircleCloseFilled /></el-icon>\n                {{ aiDocDashboard.conflict_count }}个文档存在版本冲突\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"ai-analysis-card\">\n            <h6 class=\"text-primary\">智能建议</h6>\n            <div class=\"ai-suggestions\">\n              <div v-if=\"!aiDocDashboard.suggestions.length\" class=\"text-center py-2\">\n                <span class=\"text-muted\">暂无建议</span>\n              </div>\n              <div class=\"suggestion-item\" v-for=\"(suggestion, i) in aiDocDashboard.suggestions\" :key=\"i\" v-html=\"formatMarkdown(suggestion)\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 筛选区 -->\n    <div class=\"filter-bar\" style=\"display:flex;gap:12px;margin-bottom:16px;\">\n      <el-input v-model=\"filterKeyword\" placeholder=\"文档名/描述\" clearable style=\"width:180px;\" />\n      <el-select v-model=\"filterTag\" placeholder=\"标签\" clearable style=\"width:120px;\">\n        <el-option label=\"全部\" value=\"\" />\n        <el-option v-for=\"tag in allTags\" :key=\"tag\" :label=\"tag\" :value=\"tag\" />\n      </el-select>\n    </div>\n    <!-- 文档列表 -->\n    <div class=\"document-list\">\n      <div class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\" v-for=\"doc in filteredDocs\" :key=\"doc.name\">\n          <div class=\"d-flex w-100 justify-content-between\">\n            <div>\n              <h6 class=\"mb-1\">{{ doc.name }}</h6>\n              <div class=\"ai-document-tags\">\n                <el-tag v-for=\"tag in doc.tags\" :key=\"tag.text\" :type=\"tag.type\" size=\"small\">{{ tag.text }}</el-tag>\n              </div>\n            </div>\n            <div class=\"text-end\">\n              <small>{{ doc.time }}</small>\n              <el-button v-if=\"doc.file\" type=\"success\" size=\"small\" @click=\"downloadFile(doc.file, doc.name)\" style=\"margin-left:8px;\">下载</el-button>\n              <el-button type=\"primary\" size=\"small\" @click=\"openEditDialog(doc)\" style=\"margin-left:8px;\">编辑</el-button>\n              <el-button type=\"info\" size=\"small\" @click=\"analyzeDocument(doc)\" style=\"margin-left:8px;\" :loading=\"doc.analyzing\">AI分析</el-button>\n              <el-button type=\"danger\" size=\"small\" @click=\"confirmDelete(doc)\" style=\"margin-left:8px;\">删除</el-button>\n            </div>\n          </div>\n          <p class=\"mb-1\">{{ doc.desc }}</p>\n          <div class=\"ai-document-analysis\" v-if=\"doc.analysis\">\n            <div class=\"d-flex justify-content-between\">\n              <small class=\"text-muted\">AI分析：</small>\n              <el-button type=\"link\" size=\"small\" @click=\"doc.showFullAnalysis = !doc.showFullAnalysis\">\n                {{ doc.showFullAnalysis ? '收起' : '展开' }}\n              </el-button>\n            </div>\n            <div v-if=\"doc.showFullAnalysis\" v-html=\"formatMarkdown(doc.analysis)\"></div>\n            <div v-else v-html=\"formatMarkdown(doc.analysis.substring(0, 100) + (doc.analysis.length > 100 ? '...' : ''))\"></div>\n          </div>\n          <div class=\"ai-document-analysis\" v-else>\n            <small class=\"text-muted\">暂无AI分析</small>\n          </div>\n        </div>\n      </div>\n    </div>\n    <el-dialog v-model=\"editDialogVisible\" title=\"编辑文档信息\" width=\"400px\">\n      <el-form :model=\"editForm\" label-width=\"80px\" :rules=\"formRules\" ref=\"editFormRef\">\n        <el-form-item label=\"文档名称\" prop=\"name\" required>\n          <el-input v-model=\"editForm.name\" placeholder=\"请输入文档名称\" />\n        </el-form-item>\n        <el-form-item label=\"描述\" prop=\"desc\" required>\n          <el-input v-model=\"editForm.desc\" placeholder=\"请输入文档描述\" />\n        </el-form-item>\n        <el-form-item label=\"标签\" prop=\"tags\" required>\n          <el-input v-model=\"editForm.tags\" placeholder=\"多个标签用逗号分隔\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEdit\" :loading=\"editLoading\">保存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n<script setup>\nimport { ref, onMounted, watch, computed } from 'vue'\nimport { Link, CircleCloseFilled, Refresh } from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { fetchProjectDocuments, uploadProjectDocument, updateProjectDocument, deleteProjectDocument, getDocumentAiDashboard } from '@/api/project'\nimport axios from 'axios'\nimport request from '@/utils/request'\nimport { marked } from 'marked'\n\nconst props = defineProps({\n  project: { type: Object, required: true }\n})\n\nconst docs = ref([])\nconst loading = ref(false)\nconst uploadDialogVisible = ref(false)\nconst uploadForm = ref({\n  name: '',\n  desc: '',\n  tags: '',\n  file: null\n})\nconst fileList = ref([])\nconst uploading = ref(false)\nconst editDialogVisible = ref(false)\nconst editForm = ref({ id: '', name: '', desc: '', tags: '' })\nconst editLoading = ref(false)\nconst aiDocDashboard = ref({\n  health_score: 0,\n  health_desc: '',\n  related_count: 0,\n  conflict_count: 0,\n  suggestions: []\n})\nconst aiDocLoading = ref(false)\nconst filterKeyword = ref('')\nconst filterTag = ref('')\nconst allTags = computed(() => {\n  // 汇总所有文档的标签\n  const tagsSet = new Set()\n  docs.value.forEach(doc => {\n    (doc.tags || []).forEach(t => tagsSet.add(t.text))\n  })\n  return Array.from(tagsSet)\n})\nconst filteredDocs = computed(() => {\n  return docs.value.filter(doc => {\n    const matchKeyword = !filterKeyword.value || doc.name.includes(filterKeyword.value) || (doc.desc && doc.desc.includes(filterKeyword.value))\n    const matchTag = !filterTag.value || (doc.tags && doc.tags.some(t => t.text === filterTag.value))\n    return matchKeyword && matchTag\n  })\n})\n\nconst formatMarkdown = (text) => {\n  if (!text) return '';\n  return marked(text);\n}\n\n// 获取后端baseURL\nconst BASE_URL = 'http://localhost:8000'\n\nfunction loadDocuments() {\n  if (!props.project?.id) return\n  loading.value = true\n  fetchProjectDocuments(props.project.id).then(res => {\n    docs.value = (res.data || []).map(doc => ({\n      id: doc.id,\n      name: doc.name,\n      tags: (doc.tags || '').split(',').filter(Boolean).map(t => ({ text: t, type: 'info' })),\n      time: doc.uploaded_at ? doc.uploaded_at.slice(0, 10) : '',\n      desc: doc.desc,\n      analysis: doc.analysis,\n      file: doc.file,\n      analyzing: false,\n      showFullAnalysis: false\n    }))\n    // 自动AI分析\n    docs.value.forEach(doc => {\n      if (!doc.analysis) {\n        analyzeDocument(doc)\n      }\n    })\n  }).finally(() => loading.value = false)\n}\n\nfunction fetchAiDocDashboard() {\n  if (!props.project?.id) return\n  aiDocLoading.value = true\n  getDocumentAiDashboard(props.project.id).then(res => {\n    aiDocDashboard.value = res.data || {\n      health_score: 0,\n      health_desc: '',\n      related_count: 0,\n      conflict_count: 0,\n      suggestions: []\n    }\n  }).finally(() => aiDocLoading.value = false)\n}\n\nonMounted(() => {\n  loadDocuments()\n  fetchAiDocDashboard()\n})\n\nwatch(() => props.project?.id, (val) => {\n  if (val) {\n    loadDocuments()\n    fetchAiDocDashboard()\n  }\n})\n\n// 监听文档列表变化，重新获取AI分析\nwatch(docs, () => {\n  fetchAiDocDashboard()\n}, { deep: true })\n\n// 上传成功回调\nfunction handleUploadSuccess() {\n  ElMessage.success('文档上传成功！')\n  loadDocuments()\n}\n\n// 上传失败回调\nfunction handleUploadError() {\n  ElMessage.error('文档上传失败，请重试')\n}\n\nfunction handleFileChange(file) {\n  uploadForm.value.file = file.raw\n  fileList.value = [file]\n}\n\nfunction submitUpload() {\n  if (!uploadFormRef.value) {\n    console.error('表单引用不存在')\n    return\n  }\n  \n  uploadFormRef.value.validate(valid => {\n    if (!valid) {\n      ElMessage.error('请填写所有必填项')\n      return\n    }\n    \n    if (!uploadForm.value.file) {\n      ElMessage.warning('请先选择文件')\n      return\n    }\n    \n    uploading.value = true\n    const formData = new FormData()\n    formData.append('file', uploadForm.value.file)\n    formData.append('project', props.project.id)\n    formData.append('name', uploadForm.value.name || uploadForm.value.file.name)\n    formData.append('desc', uploadForm.value.desc)\n    formData.append('tags', uploadForm.value.tags)\n    \n    uploadProjectDocument(formData).then(() => {\n      handleUploadSuccess()\n      uploadDialogVisible.value = false\n      uploadForm.value = { name: '', desc: '', tags: '', file: null }\n      fileList.value = []\n    }).catch(() => {\n      handleUploadError()\n    }).finally(() => {\n      uploading.value = false\n    })\n  })\n}\n\nfunction downloadFile(url, name) {\n  let downloadUrl = url\n  if (!/^https?:\\/\\//.test(url)) {\n    downloadUrl = BASE_URL + url\n  }\n  axios({\n    url: downloadUrl,\n    method: 'get',\n    responseType: 'blob',\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n    }\n  }).then(res => {\n    const blob = new Blob([res.data])\n    // 优先用文档名称+原文件后缀\n    let ext = ''\n    const urlFilename = url.split('/').pop() || ''\n    const idx = urlFilename.lastIndexOf('.')\n    if (idx !== -1) ext = urlFilename.slice(idx)\n    let filename = (name || 'download') + ext\n    // 兼容Content-Disposition\n    const disposition = res.headers['content-disposition']\n    if (disposition) {\n      const match = disposition.match(/filename=\"?([^\"]+)\"?/)\n      if (match) filename = decodeURIComponent(match[1])\n    }\n    const link = document.createElement('a')\n    link.href = window.URL.createObjectURL(blob)\n    link.download = filename\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    window.URL.revokeObjectURL(link.href)\n  }).catch(() => {\n    ElMessage.error('下载失败，请检查网络或权限')\n  })\n}\n\nfunction openEditDialog(doc) {\n  editForm.value = {\n    id: doc.id,\n    name: doc.name,\n    desc: doc.desc,\n    tags: (doc.tags || []).map(t => t.text).join(',')\n  }\n  editDialogVisible.value = true\n}\n\nfunction submitEdit() {\n  if (!editFormRef.value) {\n    console.error('表单引用不存在')\n    return\n  }\n  \n  editFormRef.value.validate(valid => {\n    if (!valid) {\n      ElMessage.error('请填写所有必填项')\n      return\n    }\n    \n    editLoading.value = true\n    updateProjectDocument(editForm.value.id, {\n      name: editForm.value.name,\n      desc: editForm.value.desc,\n      tags: editForm.value.tags\n    }).then(() => {\n      ElMessage.success('文档信息已更新')\n      editDialogVisible.value = false\n      loadDocuments()\n    }).catch(() => {\n      ElMessage.error('更新失败')\n    }).finally(() => {\n      editLoading.value = false\n    })\n  })\n}\n\nfunction confirmDelete(doc) {\n  ElMessageBox.confirm('确定要删除该文档吗？', '提示', {\n    confirmButtonText: '删除',\n    cancelButtonText: '取消',\n    type: 'warning',\n  }).then(() => {\n    deleteProjectDocument(doc.id).then(() => {\n      ElMessage.success('文档已删除')\n      loadDocuments()\n    }).catch(() => {\n      ElMessage.error('删除失败')\n    })\n  }).catch(() => {})\n}\n\n// 添加分析文档的功能\nfunction analyzeDocument(doc) {\n  // 检查文档ID\n  const idNum = Number(doc.id)\n  if (!idNum || isNaN(idNum) || idNum <= 0 || !Number.isInteger(idNum)) {\n    ElMessage.warning('无效的文档ID')\n    return\n  }\n  \n  // 设置分析状态\n  doc.analyzing = true\n  \n  // 调用AI分析接口\n  request\n    .post(`/api/project-documents/${doc.id}/ai_analyze/`)\n    .then(response => {\n      const analysis = response.data.analysis\n      // 更新文档分析结果\n      doc.analysis = analysis\n      doc.showFullAnalysis = false\n      ElMessage.success('AI分析完成')\n    })\n    .catch(error => {\n      console.error('文档AI分析失败:', error)\n      ElMessage.error('文档AI分析失败')\n    })\n    .finally(() => {\n      doc.analyzing = false\n    })\n}\n\n// 表单引用\nconst uploadFormRef = ref(null)\nconst editFormRef = ref(null)\n\n// 表单验证规则\nconst formRules = {\n  name: [{ required: true, message: '请输入文档名称', trigger: 'blur' }],\n  desc: [{ required: true, message: '请输入文档描述', trigger: 'blur' }],\n  tags: [{ required: true, message: '请输入标签', trigger: 'blur' }],\n  file: [{ required: true, message: '请选择文件', trigger: 'change' }]\n}\n</script>\n<style scoped>\n.module-card { background: var(--bg-color-secondary); border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; padding: 20px; }\n.module-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n.module-title { font-size: 1.1rem; font-weight: 600; color: var(--text-color) !important; margin: 0; }\n.btn-group { display: flex; gap: 10px; }\n.row { display: flex; flex-wrap: wrap; margin: 0 -10px; }\n.col-md-4 { padding: 0 10px; width: 33.3333%; }\n.mb-4 { margin-bottom: 24px; }\n.list-group { margin: 0; }\n.list-group-item { background: var(--bg-color-tertiary); border: none; border-radius: 5px; margin-bottom: 10px; padding: 16px; }\n.ai-analysis-card { background: var(--bg-color-secondary); border: 1px solid var(--border-color); border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n.relation-item, .suggestion-item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }\n.text-primary { color: var(--primary-color)!important; }\n.ai-document-analysis {\n  background: var(--bg-color-tertiary);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n  color: var(--text-color);\n}\n.ai-document-analysis .text-muted,\n.ai-document-analysis small {\n  color: var(--text-color-tertiary) !important;\n}\n\n/* 深色模式下 Element Plus 组件适配 */\n:deep(.el-tag) {\n  background: var(--bg-color-tertiary) !important;\n  color: var(--text-color) !important;\n  border-color: var(--border-color) !important;\n}\n:deep(.el-badge__content) {\n  background: var(--primary-color) !important;\n  color: #fff !important;\n}\n:deep(.el-empty) {\n  background: transparent !important;\n  color: var(--text-color-tertiary) !important;\n}\n:deep(.el-progress-bar__outer) {\n  background: var(--bg-color-tertiary) !important;\n}\n:deep(.el-progress-bar__inner) {\n  background: var(--primary-color) !important;\n}\n.el-dialog,\n.el-dialog .el-dialog__body,\n.el-dialog .el-dialog__footer {\n  background: var(--bg-color-secondary);\n  color: var(--text-color);\n}\n.list-group-item:hover {\n  background: var(--hover-color);\n  color: var(--primary-color);\n}\n</style>\n\n<style lang=\"scss\">\n[data-theme=\"dark\"] {\n  .module-card, .ai-analysis-card, .list-group-item, .el-dialog {\n    background-color: var(--el-bg-color-page) !important;\n    color: var(--el-text-color-primary) !important;\n    border: 1px solid var(--el-border-color-light) !important;\n  }\n\n  .module-title, h6, .el-dialog__title {\n    color: var(--el-text-color-primary) !important;\n  }\n\n  .text-muted, .small, .ai-document-analysis small.text-muted {\n    color: var(--el-text-color-secondary) !important;\n  }\n  \n  .el-form-item__label {\n    color: var(--el-text-color-secondary) !important;\n  }\n\n  .el-input__wrapper {\n    background-color: var(--el-fill-color-light) !important;\n    border-color: var(--el-border-color) !important;\n  }\n\n  .list-group-item-action:hover {\n    background-color: var(--el-fill-color-light) !important;\n  }\n}\n</style> ","import script from \"./DocumentsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DocumentsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DocumentsView.vue?vue&type=style&index=0&id=d3b1aee0&scoped=true&lang=css\"\nimport \"./DocumentsView.vue?vue&type=style&index=1&id=d3b1aee0&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\18083\\\\Desktop\\\\CCIT\\\\office\\\\smart-office\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d3b1aee0\"]])\n\nexport default __exports__","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar createSetLike = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return false;\n    },\n    keys: function () {\n      return {\n        next: function () {\n          return { done: true };\n        }\n      };\n    }\n  };\n};\n\nvar createSetLikeWithInfinitySize = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return true;\n    },\n    keys: function () {\n      throw new Error('e');\n    }\n  };\n};\n\nmodule.exports = function (name, callback) {\n  var Set = getBuiltIn('Set');\n  try {\n    new Set()[name](createSetLike(0));\n    try {\n      // late spec change, early WebKit ~ Safari 17 implementation does not pass it\n      // https://github.com/tc39/proposal-set-methods/pull/88\n      // also covered engines with\n      // https://bugs.webkit.org/show_bug.cgi?id=272679\n      new Set()[name](createSetLike(-1));\n      return false;\n    } catch (error2) {\n      if (!callback) return true;\n      // early V8 implementation bug\n      // https://issues.chromium.org/issues/351332634\n      try {\n        new Set()[name](createSetLikeWithInfinitySize(-Infinity));\n        return false;\n      } catch (error) {\n        var set = new Set();\n        set.add(1);\n        set.add(2);\n        return callback(set[name](createSetLikeWithInfinitySize(Infinity)));\n      }\n    }\n  } catch (error) {\n    return false;\n  }\n};\n","'use strict';\nvar has = require('../internals/set-helpers').has;\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DocumentsView.vue?vue&type=style&index=1&id=d3b1aee0&lang=scss\"","'use strict';\nvar aSet = require('../internals/a-set');\nvar add = require('../internals/set-helpers').add;\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","<template>\n  <div class=\"main-container\">\n    <!-- 页面头部 -->\n    <div class=\"page-header\">\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <div>\n          <h4>{{ project ? project.name : '项目详情' }}</h4>\n          <div class=\"d-flex align-items-center\">\n            <span class=\"badge\" :class=\"project?.statusClass\">{{ project?.statusText }}</span>\n            <span class=\"ms-3 text-muted\">\n              <i class=\"bi bi-calendar me-1\"></i> \n              {{ project?.start ? formatDate(project.start) : '未设置' }} - \n              {{ project?.end ? formatDate(project.end) : '未设置' }}\n            </span>\n          </div>\n        </div>\n        <div>\n          <el-button type=\"primary\" size=\"small\" plain @click=\"goBack\">\n            <i class=\"bi bi-arrow-left me-1\"></i> 返回列表\n          </el-button>\n          <el-button type=\"primary\" size=\"small\" class=\"ms-2\" @click=\"showSetting = true\">\n            <i class=\"bi bi-gear me-1\"></i> 项目设置\n          </el-button>\n        </div>\n      </div>\n    </div>\n    <!-- 设置弹窗 -->\n    <el-dialog v-model=\"showSetting\" title=\"项目设置\" width=\"500px\">\n      <el-form :model=\"editProject\" label-width=\"80px\" :rules=\"formRules\" ref=\"editProjectFormRef\">\n        <el-form-item label=\"项目名称\" prop=\"name\" required>\n          <el-input v-model=\"editProject.name\" placeholder=\"请输入项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"项目描述\" prop=\"desc\" required>\n          <el-input v-model=\"editProject.desc\" type=\"textarea\" placeholder=\"请输入项目描述\" />\n        </el-form-item>\n        <el-form-item label=\"开始日期\" prop=\"start\" required>\n          <el-date-picker v-model=\"editProject.start\" placeholder=\"请选择开始日期\" />\n        </el-form-item>\n        <el-form-item label=\"结束日期\" prop=\"end\" required>\n          <el-date-picker v-model=\"editProject.end\" placeholder=\"请选择结束日期\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"showSetting=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveSetting\">保存</el-button>\n      </template>\n    </el-dialog>\n    <!-- 导航栏 -->\n    <div class=\"nav-tabs-container\">\n      <ul class=\"nav nav-tabs\">\n        <li class=\"nav-item\" v-for=\"item in navItems\" :key=\"item.view\">\n          <a class=\"nav-link\" :class=\"{active: activeView === item.view}\" href=\"#\" @click.prevent=\"activeView = item.view\">\n            <el-icon :size=\"16\"><component :is=\"item.icon\" /></el-icon>\n            {{ item.label }}\n          </a>\n        </li>\n      </ul>\n    </div>\n    <!-- 内容区 -->\n    <div class=\"content-area\">\n      <!-- 内容模块 -->\n      <div v-if=\"activeView === 'dashboard'\">\n        <DashboardView :project=\"project\" :tasks=\"tasks\" :documents=\"documents\" :requirements=\"requirements\" />\n      </div>\n      <div v-else-if=\"activeView === 'tasks'\">\n        <TasksView :project=\"project\" :members=\"projectMembers\" />\n      </div>\n      <div v-else-if=\"activeView === 'documents'\">\n        <DocumentsView :project=\"project\" />\n      </div>\n      <div v-else-if=\"activeView === 'requirements'\">\n        <RequirementsView :project=\"project\" />\n      </div>\n      <div v-else-if=\"activeView === 'reports'\">\n        <ReportsView :project=\"project\" :tasks=\"tasks\" :documents=\"documents\" :requirements=\"requirements\" />\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref, onMounted, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { Grid, List, Document, Lightning, DataAnalysis } from '@element-plus/icons-vue'\nimport DashboardView from './components/DashboardView.vue'\nimport TasksView from './components/TasksView.vue'\nimport DocumentsView from './components/DocumentsView.vue'\nimport RequirementsView from './components/RequirementsView.vue'\nimport ReportsView from './components/ReportsView.vue'\nimport request from '@/utils/request'\nimport { ElMessage } from 'element-plus'\n\nconst route = useRoute()\nconst router = useRouter()\nconst activeView = ref('dashboard')\nconst project = ref(null)\nconst showSetting = ref(false)\nconst editProject = ref({ name: '', desc: '', start: '', end: '' })\nconst projectMembers = ref([])\n\n// 新增：统一管理任务、文档、需求数据\nconst tasks = ref([])\nconst documents = ref([])\nconst requirements = ref([])\n\n// 新增：是否正在加载数据\nconst isLoading = ref(false)\n\n// 表单引用\nconst editProjectFormRef = ref(null)\n\n// 表单验证规则\nconst formRules = {\n  name: [\n    { required: true, message: '请输入项目名称', trigger: 'blur' }\n  ],\n  desc: [\n    { required: true, message: '请输入项目描述', trigger: 'blur' }\n  ],\n  start: [\n    { required: true, message: '请选择开始日期', trigger: 'change' }\n  ],\n  end: [\n    { required: true, message: '请选择结束日期', trigger: 'change' }\n  ]\n}\n\nconst navItems = [\n  { label: '工作台', view: 'dashboard', icon: Grid },\n  { label: '任务管理', view: 'tasks', icon: List },\n  { label: '文档管理', view: 'documents', icon: Document },\n  { label: '需求管理', view: 'requirements', icon: Lightning },\n  { label: '项目报表', view: 'reports', icon: DataAnalysis }\n]\n\nonMounted(() => {\n  loadProject()\n})\n\nwatch(showSetting, (val) => {\n  if (val && project.value) {\n    editProject.value = { ...project.value }\n  }\n})\n\n// 监听视图切换，切换到工作台或报表时刷新数据\nwatch(activeView, (newView) => {\n  if ((newView === 'dashboard' || newView === 'reports') && project.value?.id) {\n    refreshData()\n  }\n})\n\nfunction loadProject() {\n  const id = Number(route.params.id)\n  if (isNaN(id)) {\n    router.push({ name: 'Project' })\n    return\n  }\n  request.get(`/api/projects/${id}/`).then(res => {\n    project.value = res.data\n    if (project.value.status === 'doing') {\n      project.value.statusText = '进行中'\n      project.value.statusClass = 'bg-primary'\n    } else if (project.value.status === 'done') {\n      project.value.statusText = '已完成'\n      project.value.statusClass = 'bg-success'\n    } else {\n      project.value.statusText = project.value.status || '未知'\n      project.value.statusClass = 'bg-secondary'\n    }\n    \n    // 加载项目成员\n    loadProjectMembers(id)\n    // 新增：加载任务、文档、需求\n    loadTasks(id)\n    loadDocuments(id)\n    loadRequirements(id)\n  }).catch(() => {\n    router.push({ name: 'Project' })\n  })\n}\n\n// 新增：加载项目成员\nasync function loadProjectMembers(projectId) {\n  if (!projectId) return\n\n  console.log('ProjectDetail: 加载项目成员，项目ID:', projectId)\n\n  try {\n    // 1. 先获取项目详情，确保拿到最新的成员列表\n    const projectRes = await request.get(`/api/projects/${projectId}/`);\n    const updatedProject = projectRes.data;\n    \n    // 如果项目中有成员ID列表\n    if (updatedProject && updatedProject.members && updatedProject.members.length > 0) {\n      const memberIds = updatedProject.members;\n      \n      // 2. 获取公司所有用户，用于查找成员信息\n      const userInfo = JSON.parse(localStorage.getItem('user') || '{}');\n      const companyId = userInfo.company_id || userInfo.company;\n      if (!companyId) {\n        console.error('无法获取公司ID，无法加载成员信息');\n        return;\n      }\n      \n      const usersRes = await request.get(`/api/auth/companies/${companyId}/users/`);\n      let allCompanyUsers = [];\n      if (Array.isArray(usersRes.data)) {\n        allCompanyUsers = usersRes.data;\n      } else if (usersRes.data && Array.isArray(usersRes.data.data)) {\n        allCompanyUsers = usersRes.data.data;\n      }\n      \n      // 3. 从公司所有用户中，筛选出属于本项目的成员\n      const memberSet = new Set(memberIds);\n      projectMembers.value = allCompanyUsers\n        .filter(user => memberSet.has(user.id))\n        .map(user => ({\n          id: user.id,\n          name: user.name || user.username || user.email || `用户${user.id}`\n        }));\n\n      console.log('ProjectDetail: 已加载项目成员:', projectMembers.value);\n    } else {\n      console.log('项目尚无成员');\n      projectMembers.value = [];\n    }\n  } catch (err) {\n    console.error('加载项目成员失败', err);\n  }\n}\n\n// 加载任务数据\nfunction loadTasks(projectId) {\n  if (!projectId) return\n  request.get(`/api/tasks/?project=${projectId}`).then(res => {\n    // 修复：兼容多种后端响应结构\n    let tasksData = []\n    if (res.data && Array.isArray(res.data.results)) {\n      // 分页结构 { results: [...] }\n      tasksData = res.data.results\n    } else if (Array.isArray(res.data)) {\n      // 数组结构 [...]\n      tasksData = res.data\n    } else if (res.data && Array.isArray(res.data.data)) {\n      // 嵌套结构 { data: [...] }\n      tasksData = res.data.data\n    }\n    \n    // 标准化任务状态，确保前端统一处理\n    tasks.value = tasksData.map(task => ({\n      ...task,\n      status: task.status === '已完成' ? 'done' : \n              task.status === '进行中' ? 'in-progress' : \n              task.status === '待处理' ? 'todo' : \n              task.status || 'todo',\n      due_date: task.due_date || task.dueDate || '' // 确保 due_date 字段存在\n    }))\n    \n    console.log('加载任务数据成功:', tasks.value.length, '条')\n  }).catch(err => {\n    console.error('加载任务失败:', err)\n    tasks.value = []\n  })\n}\n\n// 加载文档数据\nfunction loadDocuments(projectId) {\n  if (!projectId) return\n  request.get(`/api/project-documents/?project=${projectId}`).then(res => {\n    // 修复：兼容多种后端响应结构\n    if (res.data && Array.isArray(res.data.results)) {\n      documents.value = res.data.results\n    } else if (Array.isArray(res.data)) {\n      documents.value = res.data\n    } else if (res.data && Array.isArray(res.data.data)) {\n      documents.value = res.data.data\n    } else {\n      documents.value = []\n    }\n    console.log('加载文档数据成功:', documents.value.length, '条')\n  }).catch(err => {\n    console.error('加载文档失败:', err)\n    documents.value = []\n  })\n}\n\n// 加载需求数据\nfunction loadRequirements(projectId) {\n  if (!projectId) return\n  request.get(`/api/requirements/?project=${projectId}`).then(res => {\n    // 修复：兼容多种后端响应结构\n    if (res.data && Array.isArray(res.data.results)) {\n      requirements.value = res.data.results\n    } else if (Array.isArray(res.data)) {\n      requirements.value = res.data\n    } else if (res.data && Array.isArray(res.data.data)) {\n      requirements.value = res.data.data\n    } else {\n      requirements.value = []\n    }\n    console.log('加载需求数据成功:', requirements.value.length, '条')\n  }).catch(err => {\n    console.error('加载需求失败:', err)\n    requirements.value = []\n  })\n}\n\n// 新增：刷新所有数据\nfunction refreshData() {\n  if (!project.value?.id) return\n  \n  isLoading.value = true\n  console.log('刷新项目数据...')\n  \n  // 并行加载所有数据\n  Promise.all([\n    loadTasksAsync(project.value.id),\n    loadDocumentsAsync(project.value.id),\n    loadRequirementsAsync(project.value.id)\n  ]).finally(() => {\n    isLoading.value = false\n    console.log('数据刷新完成')\n  })\n}\n\n// 新增：异步加载任务数据\nfunction loadTasksAsync(projectId) {\n  return new Promise((resolve) => {\n    loadTasks(projectId)\n    resolve()\n  })\n}\n\n// 新增：异步加载文档数据\nfunction loadDocumentsAsync(projectId) {\n  return new Promise((resolve) => {\n    loadDocuments(projectId)\n    resolve()\n  })\n}\n\n// 新增：异步加载需求数据\nfunction loadRequirementsAsync(projectId) {\n  return new Promise((resolve) => {\n    loadRequirements(projectId)\n    resolve()\n  })\n}\n\nfunction formatDate(dateStr) {\n  if (!dateStr) return '未设置'\n  const date = new Date(dateStr)\n  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n}\n\nfunction goBack() {\n  router.push({ name: 'Project' })\n}\n\nfunction saveSetting() {\n  if (!project.value?.id) return\n  \n  // 使用表单验证\n  if (!editProjectFormRef.value) {\n    console.error('表单引用不存在')\n    return\n  }\n  \n  editProjectFormRef.value.validate(valid => {\n    if (!valid) {\n      return\n    }\n\n    // 校验开始时间不能大于结束时间\n    if (editProject.value.start && editProject.value.end) {\n      if (new Date(editProject.value.start) > new Date(editProject.value.end)) {\n        ElMessage.error('项目开始时间不能大于结束时间')\n        return\n      }\n    }\n  \n    // 日期格式化\n    function formatDateStr(val) {\n      if (!val) return null  // 将空值转为null，避免空字符串验证错误\n      if (typeof val === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(val)) return val\n      const d = new Date(val)\n      if (isNaN(d)) return null  // 无效日期返回null\n      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`\n    }\n    \n    const members = projectMembers.value.map(m => m.id)\n    \n    // 获取用户所在公司ID\n    const userInfo = JSON.parse(localStorage.getItem('user') || '{}')\n    let companyId = userInfo.company_id || userInfo.company \n    if (typeof companyId === 'string' && !isNaN(companyId)) {\n      companyId = Number(companyId)\n    }\n    \n    const payload = { \n      ...editProject.value, \n      members,\n      company_id: companyId, // 确保company_id字段存在\n      start: formatDateStr(editProject.value.start),\n      end: formatDateStr(editProject.value.end)\n    }\n    \n    // 移除不需要的字段，避免后端验证错误\n    delete payload.company\n    delete payload.companyId\n    delete payload.statusText\n    delete payload.statusClass\n    \n    console.log('准备保存的项目数据:', payload)\n    \n    request.put(`/api/projects/${project.value.id}/`, payload).then(res => {\n      Object.assign(project.value, res.data)\n      showSetting.value = false\n    }).catch(err => {\n      console.error('更新项目失败', err?.response?.data || err)\n    })\n  })\n}\n</script>\n<style scoped>\n@import url('https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css');\n@import url('https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css');\n.main-container {\n  min-height: 100vh;\n  background: var(--bg-color);\n  padding-top: 0;\n}\n.page-header {\n  background: var(--bg-color-secondary);\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n  margin-bottom: 20px;\n  margin-top: 0;\n  color: var(--text-color);\n}\n.nav-tabs-container {\n  background: var(--bg-color-secondary);\n  padding: 0 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n  margin-bottom: 20px;\n}\n.nav-tabs {\n  border-bottom: none;\n}\n.nav-link {\n  color: var(--text-color-secondary);\n  padding: 15px 20px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  border: none;\n  border-bottom: 2px solid transparent;\n  background: transparent;\n}\n.nav-link.active {\n  color: var(--primary-color);\n  border-bottom: 2px solid var(--primary-color);\n  background: var(--bg-color);\n  border-radius: 10px 10px 0 0;\n}\n.nav-link:hover {\n  background: var(--hover-color);\n  color: var(--primary-color);\n}\n.content-area {\n  padding: 20px;\n  background: var(--bg-color);\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n  color: var(--text-color);\n}\n.page-header:hover,\n.nav-tabs-container:hover {\n  background: var(--hover-color);\n}\n.bg-primary { background: var(--primary-color)!important; }\n.bg-success { background: var(--success-color)!important; }\n.bg-warning { background: var(--warning-color)!important; }\n.bg-secondary { background: var(--border-color)!important; }\n.bg-info { background: var(--info-color)!important; }\n.badge {\n  font-weight: 500;\n  padding: 6px 10px;\n  border-radius: 6px;\n  color: #fff;\n}\n/* 如果有全局样式导致空白，可强制覆盖 */\n:deep(.el-main) {\n  padding-top: 0 !important;\n}\n.text-muted {\n  color: var(--text-color-tertiary) !important;\n}\n</style>\n\n<style lang=\"scss\">\n/* 深色模式下的样式修复 */\n[data-theme=\"dark\"] {\n  .main-container, .page-header, .nav-tabs-container, .content-area {\n    background-color: var(--el-bg-color-page) !important;\n    color: var(--el-text-color-primary) !important;\n  }\n  \n  .page-header {\n    border-bottom: 1px solid var(--el-border-color);\n  }\n\n  .nav-tabs .nav-link {\n    color: var(--el-text-color-secondary);\n    border-color: transparent;\n  }\n\n  .nav-tabs .nav-link:hover {\n    background: var(--el-fill-color-light);\n    border-color: var(--el-border-color);\n  }\n\n  .nav-tabs .nav-link.active {\n    background-color: var(--el-color-primary) !important;\n    color: #fff !important;\n    border-color: var(--el-color-primary) !important;\n  }\n\n  /* 修复弹窗样式 */\n  .el-dialog {\n    background-color: var(--el-bg-color);\n  }\n\n  .el-dialog__title {\n    color: var(--el-text-color-primary);\n  }\n\n  .el-dialog__header {\n    border-bottom: 1px solid var(--el-border-color);\n  }\n  \n  .el-form-item__label {\n    color: var(--el-text-color-secondary);\n  }\n}\n</style> ","import script from \"./ProjectDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProjectDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProjectDetail.vue?vue&type=style&index=0&id=1e66f6d4&scoped=true&lang=css\"\nimport \"./ProjectDetail.vue?vue&type=style&index=1&id=1e66f6d4&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\18083\\\\Desktop\\\\CCIT\\\\office\\\\smart-office\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1e66f6d4\"]])\n\nexport default __exports__"],"sourceRoot":""}