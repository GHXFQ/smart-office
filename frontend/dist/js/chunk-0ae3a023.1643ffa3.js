(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ae3a023","chunk-2d0e4842"],{"1e5a":function(e,t,a){"use strict";var o=a("23e7"),c=a("9961"),r=a("dad2");o({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:c})},"1e70":function(e,t,a){"use strict";var o=a("23e7"),c=a("a5f7"),r=a("dad2"),l=!r("difference",(function(e){return 0===e.size}));o({target:"Set",proto:!0,real:!0,forced:l},{difference:c})},"384f":function(e,t,a){"use strict";var o=a("e330"),c=a("5388"),r=a("cb27"),l=r.Set,n=r.proto,i=o(n.forEach),s=o(n.keys),d=s(new l).next;e.exports=function(e,t,a){return a?c({iterator:s(e),next:d},t):i(e,t)}},"395e":function(e,t,a){"use strict";var o=a("dc19"),c=a("cb27").has,r=a("8e16"),l=a("7f65"),n=a("5388"),i=a("2a62");e.exports=function(e){var t=o(this),a=l(e);if(r(t)<a.size)return!1;var s=a.getIterator();return!1!==n(s,(function(e){if(!c(t,e))return i(s,"normal",!1)}))}},"3bad":function(e,t,a){"use strict";a("40b2")},"40b2":function(e,t,a){},5388:function(e,t,a){"use strict";var o=a("c65b");e.exports=function(e,t,a){var c,r,l=a?e:e.iterator,n=e.next;while(!(c=o(n,l)).done)if(r=t(c.value),void 0!==r)return r}},"68df":function(e,t,a){"use strict";var o=a("dc19"),c=a("8e16"),r=a("384f"),l=a("7f65");e.exports=function(e){var t=o(this),a=l(e);return!(c(t)>a.size)&&!1!==r(t,(function(e){if(!a.includes(e))return!1}),!0)}},"72c3":function(e,t,a){"use strict";var o=a("23e7"),c=a("e9bc"),r=a("dad2");o({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:c})},"762e":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c={class:"smartdoc-home-container"},r={style:{display:"none"}},l={class:"page-header"},n={class:"right-section"},i={class:"search-controls"},s={class:"stats-cards"},d={class:"stat-content"},u={class:"stat-icon doc-icon"},m={class:"stat-info"},b={class:"stat-value"},j={class:"stat-content"},O={class:"stat-icon edit-icon"},p={class:"stat-info"},f={class:"stat-value"},h={class:"stat-content"},g={class:"stat-icon share-icon"},v={class:"stat-info"},y={class:"stat-value"},V={key:0,class:"filter-status-bar"},w={class:"filter-bar-content"},C={class:"filter-title"},N={class:"filter-actions"},x={class:"section category-section"},k={class:"section-header"},D={class:"section-actions"},_={class:"category-cards"},E={class:"category-icon",style:{backgroundColor:"#409EFF"}},S={class:"category-info"},T={class:"category-count"},B={key:0,class:"category-selected-indicator"},F=["onClick"],A={class:"category-info"},I={class:"category-count"},$={key:0,class:"category-selected-indicator"},U={class:"section"},M={class:"section-header"},P={class:"filter-controls"},z={class:"document-cards"},L={class:"doc-card-header"},R={class:"doc-info"},q={class:"doc-type-tag"},W={key:1,class:"doc-shared-tag"},H={class:"card-content-area"},J=["title"],Q=["innerHTML"],G={class:"doc-footer"},K={class:"doc-time"},X={class:"doc-actions btn-container"},Y={class:"new-doc-content"},Z={key:0,class:"pagination-container"},ee={key:0,class:"pagination-debug"},te={class:"section"},ae={class:"section-header"},oe={class:"section-actions"},ce={class:"document-cards"},re={class:"doc-card-header"},le={class:"doc-info"},ne={class:"doc-type-tag"},ie={key:1,class:"doc-shared-tag"},se={class:"card-content-area"},de=["title"],ue=["innerHTML"],me={class:"doc-footer"},be={class:"doc-time"},je={class:"doc-actions btn-container"},Oe={class:"new-doc-content"},pe={key:0,class:"empty-state"},fe={key:0},he={key:1},ge={class:"dialog-footer"},ve={key:0},ye={class:"user-permissions-list"},Ve={class:"user-name"},we={class:"permission-info"},Ce={class:"form-tip"},Ne={key:0,class:"form-tip"},xe={class:"user-permissions-list"},ke={class:"user-name"},De={class:"dialog-footer"},_e={key:0},Ee={class:"dialog-footer"},Se={class:"category-management"},Te={class:"category-list"},Be={class:"category-form"},Fe={class:"color-value"},Ae={class:"dialog-footer"};function Ie(e,t,a,Ie,$e,Ue){const Me=Object(o["resolveComponent"])("el-option"),Pe=Object(o["resolveComponent"])("el-select"),ze=Object(o["resolveComponent"])("Search"),Le=Object(o["resolveComponent"])("el-icon"),Re=Object(o["resolveComponent"])("el-input"),qe=Object(o["resolveComponent"])("Upload"),We=Object(o["resolveComponent"])("el-button"),He=Object(o["resolveComponent"])("Plus"),Je=Object(o["resolveComponent"])("Document"),Qe=Object(o["resolveComponent"])("el-card"),Ge=Object(o["resolveComponent"])("EditPen"),Ke=Object(o["resolveComponent"])("Share"),Xe=Object(o["resolveComponent"])("Close"),Ye=Object(o["resolveComponent"])("Folder"),Ze=Object(o["resolveComponent"])("User"),et=Object(o["resolveComponent"])("More"),tt=Object(o["resolveComponent"])("el-dropdown-item"),at=Object(o["resolveComponent"])("el-dropdown-menu"),ot=Object(o["resolveComponent"])("el-dropdown"),ct=Object(o["resolveComponent"])("Clock"),rt=Object(o["resolveComponent"])("el-tooltip"),lt=Object(o["resolveComponent"])("el-pagination"),nt=Object(o["resolveComponent"])("el-tab-pane"),it=Object(o["resolveComponent"])("el-tabs"),st=Object(o["resolveComponent"])("el-form-item"),dt=Object(o["resolveComponent"])("el-form"),ut=Object(o["resolveComponent"])("el-dialog"),mt=Object(o["resolveComponent"])("el-radio"),bt=Object(o["resolveComponent"])("el-radio-group"),jt=Object(o["resolveComponent"])("el-tag"),Ot=Object(o["resolveComponent"])("el-table-column"),pt=Object(o["resolveComponent"])("el-table"),ft=Object(o["resolveComponent"])("el-divider"),ht=Object(o["resolveComponent"])("el-color-picker");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",r,Object(o["toDisplayString"])(Ie.refreshTrigger),1),Object(o["createElementVNode"])("div",l,[t[40]||(t[40]=Object(o["createElementVNode"])("div",{class:"left-section"},[Object(o["createElementVNode"])("h2",{class:"page-title"},"智能文档"),Object(o["createElementVNode"])("p",{class:"page-description"},"创建、编辑和管理您的智能文档")],-1)),Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(Pe,{modelValue:Ie.searchCategory,"onUpdate:modelValue":t[0]||(t[0]=e=>Ie.searchCategory=e),placeholder:"选择分类",onChange:t[1]||(t[1]=e=>Ie.selectCategory(Ie.searchCategory)),class:"category-select"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Me,{label:"全部分类",value:"all"}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.documentCategories,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Me,{key:e.id,label:e.name,value:e.id.toString()},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Object(o["createVNode"])(Re,{placeholder:"搜索文档...",modelValue:Ie.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=e=>Ie.searchQuery=e),class:"search-input",clearable:""},{prefix:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(ze)]),_:1})]),_:1},8,["modelValue"])]),Object(o["createVNode"])(We,{type:"success",onClick:Ie.handleImportWord,style:{"margin-right":"10px"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(qe)]),_:1}),t[38]||(t[38]=Object(o["createTextVNode"])(" 导入Word "))]),_:1},8,["onClick"]),Object(o["createVNode"])(We,{type:"primary",onClick:Ie.createNewDocument},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(He)]),_:1}),t[39]||(t[39]=Object(o["createTextVNode"])(" 新建文档 "))]),_:1},8,["onClick"])])]),Object(o["createElementVNode"])("div",s,[Object(o["createVNode"])(Qe,{class:"stat-card",shadow:"hover",onClick:t[3]||(t[3]=e=>Ie.selectCategory("all"))},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Je)]),_:1})]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",b,Object(o["toDisplayString"])(Ie.totalDocuments),1),t[41]||(t[41]=Object(o["createElementVNode"])("div",{class:"stat-label"},"全部文档",-1))])])]),_:1}),Object(o["createVNode"])(Qe,{class:"stat-card",shadow:"hover"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",O,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ge)]),_:1})]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",f,Object(o["toDisplayString"])(Ie.recentEditCount),1),t[42]||(t[42]=Object(o["createElementVNode"])("div",{class:"stat-label"},"近期编辑",-1))])])]),_:1}),Object(o["createVNode"])(Qe,{class:"stat-card",shadow:"hover"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("div",g,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ke)]),_:1})]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",y,Object(o["toDisplayString"])(Ie.sharedDocuments.length),1),t[43]||(t[43]=Object(o["createElementVNode"])("div",{class:"stat-label"},"共享文档",-1))])])]),_:1})]),"all"!==Ie.searchCategory?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("div",C,[t[44]||(t[44]=Object(o["createElementVNode"])("span",null,"当前筛选: ",-1)),Object(o["createElementVNode"])("span",{class:"filter-category",style:Object(o["normalizeStyle"])({backgroundColor:Ie.getSelectedCategoryColor()})},Object(o["toDisplayString"])(Ie.getSelectedCategoryName()),5)]),Object(o["createElementVNode"])("div",N,[Object(o["createVNode"])(We,{type:"primary",link:"",onClick:Ie.resetCategoryFilter},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Xe)]),_:1}),t[45]||(t[45]=Object(o["createTextVNode"])(" 清除筛选 "))]),_:1},8,["onClick"])])])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",k,[t[47]||(t[47]=Object(o["createElementVNode"])("h3",null,"文档分类",-1)),Object(o["createElementVNode"])("div",D,[Object(o["createVNode"])(We,{text:"",onClick:Ie.manageCategories},{default:Object(o["withCtx"])(()=>t[46]||(t[46]=[Object(o["createTextVNode"])("管理分类")])),_:1},8,["onClick"])])]),Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["category-card",{"category-active":"all"===Ie.searchCategory}]),onClick:t[4]||(t[4]=e=>Ie.selectCategory("all"))},[Object(o["createElementVNode"])("div",E,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Je)]),_:1})]),Object(o["createElementVNode"])("div",S,[t[48]||(t[48]=Object(o["createElementVNode"])("h4",null,"全部文档",-1)),Object(o["createElementVNode"])("div",T,Object(o["toDisplayString"])(Ie.totalDocuments)+" 个文档",1)]),"all"===Ie.searchCategory?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B)):Object(o["createCommentVNode"])("",!0)],2),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.documentCategories,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id,class:Object(o["normalizeClass"])(["category-card",{"category-active":Ie.searchCategory===e.id.toString()}]),onClick:t=>Ie.selectCategory(e)},[Object(o["createElementVNode"])("div",{class:"category-icon",style:Object(o["normalizeStyle"])({backgroundColor:e.color})},[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ye)]),_:1})],4),Object(o["createElementVNode"])("div",A,[Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(e.name),1),Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.document_count)+" 个文档",1)]),Ie.searchCategory===e.id.toString()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$)):Object(o["createCommentVNode"])("",!0)],10,F))),128))])]),Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("div",M,[t[50]||(t[50]=Object(o["createElementVNode"])("h3",null,"我的文档",-1)),Object(o["createElementVNode"])("div",P,[Object(o["createVNode"])(We,{text:"",onClick:t[5]||(t[5]=()=>Ie.fetchDocuments(!0))},{default:Object(o["withCtx"])(()=>t[49]||(t[49]=[Object(o["createTextVNode"])("刷新")])),_:1})])]),Object(o["createElementVNode"])("div",z,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.documents,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Qe,{key:e.id,class:"doc-card",shadow:"hover",onClick:t=>Ie.openDocument(e)},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("div",q,Object(o["toDisplayString"])(e.type),1),e.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"doc-category-tag",style:Object(o["normalizeStyle"])({backgroundColor:e.category.color||"#67C23A"})},Object(o["toDisplayString"])(e.category.name),5)):Object(o["createCommentVNode"])("",!0),e.is_shared?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",W,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ze)]),_:1}),t[51]||(t[51]=Object(o["createElementVNode"])("span",null,"已共享",-1))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",{class:"doc-menu btn-container",onClick:t[7]||(t[7]=Object(o["withModifiers"])(()=>{},["stop"]))},[Object(o["createVNode"])(ot,{trigger:"click",onClick:t[6]||(t[6]=Object(o["withModifiers"])(()=>{},["stop"]))},{dropdown:Object(o["withCtx"])(()=>[Object(o["createVNode"])(at,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.openDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>t[52]||(t[52]=[Object(o["createTextVNode"])("打开")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.editDocument(e,t),["stop"])},{default:Object(o["withCtx"])(()=>t[53]||(t[53]=[Object(o["createTextVNode"])("编辑")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.exportDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>t[54]||(t[54]=[Object(o["createTextVNode"])("下载")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.shareDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>t[55]||(t[55]=[Object(o["createTextVNode"])("分享")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{divided:"",onClick:Object(o["withModifiers"])(t=>Ie.deleteDocument(e),["stop"]),type:"danger"},{default:Object(o["withCtx"])(()=>t[56]||(t[56]=[Object(o["createTextVNode"])("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(et)]),_:1})]),_:2},1024)])]),Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("h4",{class:"doc-title",title:e.title},Object(o["toDisplayString"])(e.title),9,J),Object(o["createElementVNode"])("div",{class:"doc-preview",innerHTML:e.preview||"无预览内容"},null,8,Q)]),Object(o["createElementVNode"])("div",G,[Object(o["createElementVNode"])("div",K,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(ct)]),_:1}),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(Ie.formatDate(e.update_time)),1)]),Object(o["createElementVNode"])("div",X,[Object(o["createVNode"])(rt,{content:"编辑",placement:"top"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(We,{link:"",circle:"",size:"small",onClick:Object(o["withModifiers"])(t=>Ie.editDocument(e,t),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ge)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),Object(o["createVNode"])(rt,{content:"分享",placement:"top"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(We,{link:"",circle:"",size:"small",onClick:Object(o["withModifiers"])(t=>Ie.shareDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ke)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])])]),_:2},1032,["onClick"]))),128)),Object(o["createElementVNode"])("div",{class:"doc-card new-doc-card",onClick:t[8]||(t[8]=(...e)=>Ie.createNewDocument&&Ie.createNewDocument(...e))},[Object(o["createElementVNode"])("div",Y,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(He)]),_:1}),t[57]||(t[57]=Object(o["createElementVNode"])("span",null,"新建文档",-1))])])]),Ie.totalCount>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Z,[Object(o["createVNode"])(lt,{background:"",layout:"prev, pager, next, jumper",total:Ie.totalCount,"page-size":Ie.pageSize,"current-page":Ie.page,"onUpdate:currentPage":t[9]||(t[9]=e=>Ie.page=e),onCurrentChange:Ie.onPageChange,"pager-count":5,disabled:Ie.createLoading},null,8,["total","page-size","current-page","onCurrentChange","disabled"]),Ie.$_isDev?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ee,[Object(o["createElementVNode"])("small",null,"当前页: "+Object(o["toDisplayString"])(Ie.page)+" / 总页数: "+Object(o["toDisplayString"])(Math.ceil(Ie.totalCount/Ie.pageSize)||0)+" (共"+Object(o["toDisplayString"])(Ie.totalCount)+"条记录)",1)])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",te,[Object(o["createElementVNode"])("div",ae,[t[59]||(t[59]=Object(o["createElementVNode"])("h3",null,"最近编辑",-1)),Object(o["createElementVNode"])("div",oe,[Object(o["createVNode"])(We,{text:"",onClick:t[10]||(t[10]=e=>Ie.viewAllDocuments("recent"))},{default:Object(o["withCtx"])(()=>t[58]||(t[58]=[Object(o["createTextVNode"])("查看全部")])),_:1})])]),Object(o["createElementVNode"])("div",ce,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.recentDocuments,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Qe,{key:e.id,class:"doc-card",shadow:"hover",onClick:t=>Ie.openDocument(e)},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",re,[Object(o["createElementVNode"])("div",le,[Object(o["createElementVNode"])("div",ne,Object(o["toDisplayString"])(e.type),1),e.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"doc-category-tag",style:Object(o["normalizeStyle"])({backgroundColor:e.category.color||"#67C23A"})},Object(o["toDisplayString"])(e.category.name),5)):Object(o["createCommentVNode"])("",!0),e.is_shared?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ie,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ze)]),_:1}),t[60]||(t[60]=Object(o["createElementVNode"])("span",null,"已共享",-1))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",{class:"doc-menu btn-container",onClick:t[12]||(t[12]=Object(o["withModifiers"])(()=>{},["stop"]))},[Object(o["createVNode"])(ot,{trigger:"click",onClick:t[11]||(t[11]=Object(o["withModifiers"])(()=>{},["stop"]))},{dropdown:Object(o["withCtx"])(()=>[Object(o["createVNode"])(at,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.openDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>t[61]||(t[61]=[Object(o["createTextVNode"])("打开")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.editDocument(e,t),["stop"])},{default:Object(o["withCtx"])(()=>t[62]||(t[62]=[Object(o["createTextVNode"])("编辑")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.exportDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>t[63]||(t[63]=[Object(o["createTextVNode"])("下载")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{onClick:Object(o["withModifiers"])(t=>Ie.shareDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>t[64]||(t[64]=[Object(o["createTextVNode"])("分享")])),_:2},1032,["onClick"]),Object(o["createVNode"])(tt,{divided:"",onClick:Object(o["withModifiers"])(t=>Ie.deleteDocument(e),["stop"]),type:"danger"},{default:Object(o["withCtx"])(()=>t[65]||(t[65]=[Object(o["createTextVNode"])("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(et)]),_:1})]),_:2},1024)])]),Object(o["createElementVNode"])("div",se,[Object(o["createElementVNode"])("h4",{class:"doc-title",title:e.title},Object(o["toDisplayString"])(e.title),9,de),Object(o["createElementVNode"])("div",{class:"doc-preview",innerHTML:e.preview||"无预览内容"},null,8,ue)]),Object(o["createElementVNode"])("div",me,[Object(o["createElementVNode"])("div",be,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(ct)]),_:1}),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(Ie.formatDate(e.update_time)),1)]),Object(o["createElementVNode"])("div",je,[Object(o["createVNode"])(rt,{content:"编辑",placement:"top"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(We,{link:"",circle:"",size:"small",onClick:Object(o["withModifiers"])(t=>Ie.editDocument(e,t),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ge)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),Object(o["createVNode"])(rt,{content:"分享",placement:"top"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(We,{link:"",circle:"",size:"small",onClick:Object(o["withModifiers"])(t=>Ie.shareDocument(e),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ke)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])])]),_:2},1032,["onClick"]))),128)),Object(o["createElementVNode"])("div",{class:"doc-card new-doc-card",onClick:t[13]||(t[13]=(...e)=>Ie.createNewDocument&&Ie.createNewDocument(...e))},[Object(o["createElementVNode"])("div",Oe,[Object(o["createVNode"])(Le,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(He)]),_:1}),t[66]||(t[66]=Object(o["createElementVNode"])("span",null,"新建文档",-1))])])]),0===Ie.recentDocuments.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pe)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(ut,{modelValue:Ie.newDocumentDialogVisible,"onUpdate:modelValue":t[20]||(t[20]=e=>Ie.newDocumentDialogVisible=e),title:"新建智能文档",width:"35%"},{footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",ge,[Object(o["createVNode"])(We,{onClick:t[19]||(t[19]=e=>Ie.newDocumentDialogVisible=!1)},{default:Object(o["withCtx"])(()=>t[69]||(t[69]=[Object(o["createTextVNode"])("取消")])),_:1}),Object(o["createVNode"])(We,{type:"primary",onClick:Ie.submitNewDocument,loading:Ie.createLoading},{default:Object(o["withCtx"])(()=>t[70]||(t[70]=[Object(o["createTextVNode"])(" 创建 ")])),_:1},8,["onClick","loading"])])]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(it,{modelValue:Ie.documentCreateType,"onUpdate:modelValue":t[14]||(t[14]=e=>Ie.documentCreateType=e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(nt,{label:"空白文档",name:"blank"}),Object(o["createVNode"])(nt,{label:"AI生成文档",name:"ai"})]),_:1},8,["modelValue"]),"blank"===Ie.documentCreateType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fe,[Object(o["createVNode"])(dt,{model:Ie.newDocumentForm,"label-width":"80px",class:"mt-4",rules:Ie.blankFormRules,ref:"blankFormRef"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(st,{label:"文档标题",prop:"title"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.newDocumentForm.title,"onUpdate:modelValue":t[15]||(t[15]=e=>Ie.newDocumentForm.title=e),placeholder:"请输入文档标题"},null,8,["modelValue"])]),_:1}),Object(o["createVNode"])(st,{label:"文档类型"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.newDocumentForm.type,"onUpdate:modelValue":t[16]||(t[16]=e=>Ie.newDocumentForm.type=e),placeholder:"请输入文档类型"},null,8,["modelValue"]),t[67]||(t[67]=Object(o["createElementVNode"])("div",{class:"form-tip"},"如果未填写，默认为通用类型",-1))]),_:1})]),_:1},8,["model","rules"])])):Object(o["createCommentVNode"])("",!0),"ai"===Ie.documentCreateType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",he,[Object(o["createVNode"])(dt,{model:Ie.aiDocumentForm,"label-width":"80px",class:"mt-4",rules:Ie.aiFormRules,ref:"aiFormRef"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(st,{label:"文档主题",prop:"title"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.aiDocumentForm.title,"onUpdate:modelValue":t[17]||(t[17]=e=>Ie.aiDocumentForm.title=e),placeholder:"简短描述文档主题，如：项目周报"},null,8,["modelValue"])]),_:1}),Object(o["createVNode"])(st,{label:"文档要求",prop:"requirements"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.aiDocumentForm.requirements,"onUpdate:modelValue":t[18]||(t[18]=e=>Ie.aiDocumentForm.requirements=e),type:"textarea",rows:3,placeholder:"详细描述您需要的文档内容和要求"},null,8,["modelValue"]),t[68]||(t[68]=Object(o["createElementVNode"])("div",{class:"form-tip"},"人工智能会根据您的描述生成文档内容",-1))]),_:1})]),_:1},8,["model","rules"])])):Object(o["createCommentVNode"])("",!0)]),_:1},8,["modelValue"]),Object(o["createVNode"])(ut,{modelValue:Ie.shareDialogVisible,"onUpdate:modelValue":t[26]||(t[26]=e=>Ie.shareDialogVisible=e),title:"分享文档",width:"30%",class:"share-dialog"},{footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",De,[Object(o["createVNode"])(We,{onClick:t[25]||(t[25]=e=>Ie.shareDialogVisible=!1)},{default:Object(o["withCtx"])(()=>t[80]||(t[80]=[Object(o["createTextVNode"])("取消")])),_:1}),Object(o["createVNode"])(We,{type:"primary",onClick:Ie.confirmShare,loading:Ie.shareLoading},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])("permission"===Ie.shareMode?"确定":"分享"),1)]),_:1},8,["onClick","loading"])])]),default:Object(o["withCtx"])(()=>[Ie.selectedDocument?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ve,[Object(o["createElementVNode"])("p",null,[t[71]||(t[71]=Object(o["createTextVNode"])("您即将分享文档: ")),Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(Ie.selectedDocument.title),1)]),Object(o["createVNode"])(dt,{"label-width":"120px",class:"mt-4"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(st,{label:"分享方式"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(bt,{modelValue:Ie.shareMode,"onUpdate:modelValue":t[21]||(t[21]=e=>Ie.shareMode=e),onChange:Ie.handleShareModeChange},{default:Object(o["withCtx"])(()=>[Ie.selectedDocument.creator&&Ie.selectedDocument.creator.id===Ie.getCurrentUserId()?(Object(o["openBlock"])(),Object(o["createBlock"])(mt,{key:0,label:"permission"},{default:Object(o["withCtx"])(()=>t[72]||(t[72]=[Object(o["createTextVNode"])("授予权限")])),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(mt,{label:"chat"},{default:Object(o["withCtx"])(()=>t[73]||(t[73]=[Object(o["createTextVNode"])("发送到聊天")])),_:1})]),_:1},8,["modelValue","onChange"])]),_:1}),"permission"===Ie.shareMode?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Ie.existingSharedUsers.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(st,{key:0,label:"已分享用户"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",ye,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.existingSharedUsers,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.user_id,class:"user-permission-item"},[Object(o["createElementVNode"])("span",Ve,Object(o["toDisplayString"])(e.username),1),Object(o["createElementVNode"])("div",we,[Object(o["createVNode"])(jt,{type:"info",size:"small"},{default:Object(o["withCtx"])(()=>t[74]||(t[74]=[Object(o["createTextVNode"])("可编辑")])),_:1}),Object(o["createVNode"])(We,{type:"danger",link:"",onClick:t=>Ie.removeSharedUser(e.user_id),style:{"margin-left":"10px"}},{default:Object(o["withCtx"])(()=>t[75]||(t[75]=[Object(o["createTextVNode"])("移除")])),_:2},1032,["onClick"])])]))),128))]),Object(o["createElementVNode"])("div",Ce,"已有 "+Object(o["toDisplayString"])(Ie.existingSharedUsers.length)+" 个用户拥有此文档的权限",1)]),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(st,{label:"添加用户"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Pe,{modelValue:Ie.selectedUsers,"onUpdate:modelValue":t[22]||(t[22]=e=>Ie.selectedUsers=e),modelModifiers:{number:!0},multiple:"",placeholder:"请选择要添加的用户",style:{width:"100%"},"popper-class":"share-dialog-popper",onChange:Ie.handleUserSelectionChange},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.availableUsers,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Me,{key:e.id,label:e.username,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),0===Ie.availableUsers.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ne,"没有可添加的用户")):Object(o["createCommentVNode"])("",!0)]),_:1}),Ie.selectedUsers.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(st,{key:1,label:"新增权限"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",xe,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.selectedUsersWithPermissions,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.user_id,class:"user-permission-item"},[Object(o["createElementVNode"])("span",ke,Object(o["toDisplayString"])(Ie.getUsernameById(e.user_id)),1),Object(o["createVNode"])(jt,{type:"success"},{default:Object(o["withCtx"])(()=>t[76]||(t[76]=[Object(o["createTextVNode"])("可编辑")])),_:1})]))),128))])]),_:1})):Object(o["createCommentVNode"])("",!0)],64)):Object(o["createCommentVNode"])("",!0),"chat"===Ie.shareMode?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(st,{label:"文档格式"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(bt,{modelValue:Ie.shareFormat,"onUpdate:modelValue":t[23]||(t[23]=e=>Ie.shareFormat=e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(mt,{label:"pdf"},{default:Object(o["withCtx"])(()=>t[77]||(t[77]=[Object(o["createTextVNode"])("PDF格式")])),_:1}),Object(o["createVNode"])(mt,{label:"word"},{default:Object(o["withCtx"])(()=>t[78]||(t[78]=[Object(o["createTextVNode"])("Word格式")])),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(o["createVNode"])(st,{label:"选择用户"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Pe,{modelValue:Ie.selectedChatUsers,"onUpdate:modelValue":t[24]||(t[24]=e=>Ie.selectedChatUsers=e),multiple:"",placeholder:"请选择接收用户",style:{width:"100%"},"popper-class":"share-dialog-popper"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.availableChatUsers,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Me,{key:e.id,label:e.username,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t[79]||(t[79]=Object(o["createElementVNode"])("div",{class:"form-tip"},"文档将发送到与选中用户的聊天会话中",-1))]),_:1})],64)):Object(o["createCommentVNode"])("",!0)]),_:1})])):Object(o["createCommentVNode"])("",!0)]),_:1},8,["modelValue"]),Object(o["createVNode"])(ut,{modelValue:Ie.deleteDialogVisible,"onUpdate:modelValue":t[28]||(t[28]=e=>Ie.deleteDialogVisible=e),title:"删除文档",width:"30%"},{footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",Ee,[Object(o["createVNode"])(We,{onClick:t[27]||(t[27]=e=>Ie.deleteDialogVisible=!1)},{default:Object(o["withCtx"])(()=>t[84]||(t[84]=[Object(o["createTextVNode"])("取消")])),_:1}),Object(o["createVNode"])(We,{type:"danger",onClick:Ie.confirmDelete,loading:Ie.deleteLoading},{default:Object(o["withCtx"])(()=>t[85]||(t[85]=[Object(o["createTextVNode"])(" 删除 ")])),_:1},8,["onClick","loading"])])]),default:Object(o["withCtx"])(()=>[Ie.selectedDocument?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_e,[Object(o["createElementVNode"])("p",null,[t[81]||(t[81]=Object(o["createTextVNode"])("您确定要删除文档 ")),Object(o["createElementVNode"])("strong",null,Object(o["toDisplayString"])(Ie.selectedDocument.title),1),t[82]||(t[82]=Object(o["createTextVNode"])(" 吗?"))]),t[83]||(t[83]=Object(o["createElementVNode"])("p",{class:"warning-text"},"此操作不可撤销!",-1))])):Object(o["createCommentVNode"])("",!0)]),_:1},8,["modelValue"]),Object(o["createVNode"])(ut,{modelValue:Ie.categoryDialogVisible,"onUpdate:modelValue":t[32]||(t[32]=e=>Ie.categoryDialogVisible=e),title:"管理文档分类",width:"40%"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",Se,[Object(o["createElementVNode"])("div",Te,[t[88]||(t[88]=Object(o["createElementVNode"])("h4",null,"当前类型",-1)),Object(o["createVNode"])(pt,{data:Ie.documentCategories,style:{width:"100%"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Ot,{prop:"name",label:"类型名称"}),Object(o["createVNode"])(Ot,{label:"颜色",width:"120"},{default:Object(o["withCtx"])(e=>[Object(o["createElementVNode"])("div",{class:"color-preview",style:Object(o["normalizeStyle"])({backgroundColor:e.row.color})},null,4),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.row.color),1)]),_:1}),Object(o["createVNode"])(Ot,{label:"文档数",width:"100"},{default:Object(o["withCtx"])(e=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.row.document_count||0),1)]),_:1}),Object(o["createVNode"])(Ot,{label:"操作",width:"150"},{default:Object(o["withCtx"])(e=>[Object(o["createVNode"])(We,{type:"primary",link:"",onClick:t=>Ie.editCategory(e.row)},{default:Object(o["withCtx"])(()=>t[86]||(t[86]=[Object(o["createTextVNode"])("编辑")])),_:2},1032,["onClick"]),Object(o["createVNode"])(We,{type:"danger",link:"",onClick:t=>Ie.deleteCategory(e.row),disabled:e.row.document_count>0},{default:Object(o["withCtx"])(()=>t[87]||(t[87]=[Object(o["createTextVNode"])("删除")])),_:2},1032,["onClick","disabled"])]),_:1})]),_:1},8,["data"])]),Object(o["createVNode"])(ft),Object(o["createElementVNode"])("div",Be,[Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(Ie.editingCategory.id?"编辑分类":"新增分类"),1),Object(o["createVNode"])(dt,{model:Ie.editingCategory,rules:Ie.categoryFormRules,"label-width":"80px",ref:"categoryFormRef"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(st,{label:"分类名称",prop:"name"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.editingCategory.name,"onUpdate:modelValue":t[29]||(t[29]=e=>Ie.editingCategory.name=e),placeholder:"输入分类名称"},null,8,["modelValue"])]),_:1}),Object(o["createVNode"])(st,{label:"分类颜色",prop:"color"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(ht,{modelValue:Ie.editingCategory.color,"onUpdate:modelValue":t[30]||(t[30]=e=>Ie.editingCategory.color=e)},null,8,["modelValue"]),Object(o["createElementVNode"])("span",Fe,Object(o["toDisplayString"])(Ie.editingCategory.color),1)]),_:1}),Object(o["createVNode"])(st,{label:"描述"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.editingCategory.description,"onUpdate:modelValue":t[31]||(t[31]=e=>Ie.editingCategory.description=e),type:"textarea",rows:3,placeholder:"输入分类描述（可选）"},null,8,["modelValue"])]),_:1}),Object(o["createVNode"])(st,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(We,{type:"primary",onClick:Ie.submitCategory,loading:Ie.categoryLoading},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Ie.editingCategory.id?"更新":"创建"),1)]),_:1},8,["onClick","loading"]),Object(o["createVNode"])(We,{onClick:Ie.resetCategoryForm},{default:Object(o["withCtx"])(()=>t[89]||(t[89]=[Object(o["createTextVNode"])("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])])])]),_:1},8,["modelValue"]),Object(o["createVNode"])(ut,{modelValue:Ie.editDialogVisible,"onUpdate:modelValue":t[37]||(t[37]=e=>Ie.editDialogVisible=e),title:"编辑文档",width:"35%"},{footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",Ae,[Object(o["createVNode"])(We,{onClick:t[36]||(t[36]=e=>Ie.editDialogVisible=!1)},{default:Object(o["withCtx"])(()=>t[91]||(t[91]=[Object(o["createTextVNode"])("取消")])),_:1}),Object(o["createVNode"])(We,{type:"primary",onClick:Ie.submitEditDocument,loading:Ie.editLoading},{default:Object(o["withCtx"])(()=>t[92]||(t[92]=[Object(o["createTextVNode"])(" 保存 ")])),_:1},8,["onClick","loading"])])]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(dt,{model:Ie.editDocumentForm,"label-width":"80px",class:"mt-4",rules:Ie.editFormRules,ref:"editFormRef"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(st,{label:"文档标题",prop:"title"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.editDocumentForm.title,"onUpdate:modelValue":t[33]||(t[33]=e=>Ie.editDocumentForm.title=e),placeholder:"请输入文档标题"},null,8,["modelValue"])]),_:1}),Object(o["createVNode"])(st,{label:"文档类型"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Re,{modelValue:Ie.editDocumentForm.type,"onUpdate:modelValue":t[34]||(t[34]=e=>Ie.editDocumentForm.type=e),placeholder:"请输入文档类型"},null,8,["modelValue"]),t[90]||(t[90]=Object(o["createElementVNode"])("div",{class:"form-tip"},"如果未填写，默认为通用类型",-1))]),_:1}),Object(o["createVNode"])(st,{label:"所属分类"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Pe,{modelValue:Ie.editDocumentForm.category_id,"onUpdate:modelValue":t[35]||(t[35]=e=>Ie.editDocumentForm.category_id=e),placeholder:"选择文档分类",style:{width:"100%"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(Me,{label:"无分类",value:null}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Ie.documentCategories,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(Me,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}a("14d9"),a("e9f5"),a("910d"),a("f665"),a("7d54"),a("ab43"),a("a732"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3");var $e=a("6605"),Ue=a("3ef4"),Me=a("c9a1"),Pe=a("90b1"),ze=a("f6f2"),Le=a("2ef0"),Re=a.n(Le),qe=a("f345"),We=a("c24f"),He=a("d800"),Je=a("b775"),Qe={name:"SmartDocHome",components:{Search:ze["Search"],Plus:ze["Plus"],EditPen:ze["EditPen"],Share:ze["Share"],Folder:ze["Folder"],Close:ze["Close"],More:ze["More"],Document:ze["Document"],Clock:ze["Clock"],Upload:ze["Upload"],User:ze["User"]},setup(){const e=Object($e["d"])(),t=Object($e["c"])(),{proxy:c}=Object(o["getCurrentInstance"])(),r=!1,l=Object(o["ref"])(Date.now()),n=Object(o["ref"])([]),i=Object(o["ref"])([]),s=Object(o["ref"])([]),d=Object(o["ref"])([]),u=Object(o["ref"])(""),m=Object(o["ref"])("all"),b=Object(o["ref"])(!1),j=Object(o["ref"])(!1),O=Object(o["ref"])(!1),p=Object(o["ref"])("blank"),f=Object(o["ref"])(null),h=Object(o["ref"])([]),g=Object(o["ref"])([]),v=Object(o["ref"])([]),y=Object(o["ref"])([]),V=Object(o["ref"])(!1),w=Object(o["ref"])(!1),C=Object(o["ref"])(!1),N=Object(o["ref"])([]),x=Object(o["ref"])("permission"),k=Object(o["ref"])("pdf"),D=Object(o["ref"])([]),_=Object(o["ref"])(1),E=12,S=Object(o["ref"])(0),T=Object(o["ref"])(0),B=Object(o["ref"])(!0),F=Object(o["ref"])(!1),A=Object(o["ref"])(!1),I=Object(o["ref"])({id:null,title:"",type:"",category_id:null}),$=Object(o["ref"])(!1),U=Object(o["ref"])({title:"",type:""}),M=Object(o["ref"])({title:"",requirements:""}),P={title:[{required:!0,message:"请输入文档标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}]},z={title:[{required:!0,message:"请输入文档主题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],requirements:[{required:!0,message:"请输入文档要求",trigger:"blur"},{min:10,max:500,message:"长度在 10 到 500 个字符",trigger:"blur"}]},L={title:[{required:!0,message:"请输入文档标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}]},R=Object(o["ref"])(null),q=Object(o["ref"])(null),W=Object(o["ref"])(null),H=Object(o["computed"])(()=>T.value),J=Object(o["computed"])(()=>i.value.length||0),Q=Object(o["ref"])(!1),G=Object(o["ref"])({name:"",color:"#409EFF",description:""}),K=Object(o["ref"])(null),X=Object(o["ref"])(!1),Y={name:[{required:!0,message:"请输入类型名称",trigger:"blur"},{min:2,max:20,message:"长度在2到20个字符",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"change"}]},Z=async()=>{n.value=[...n.value],i.value=[...i.value],s.value=[...s.value],c&&c.$forceUpdate&&c.$forceUpdate(),await Object(o["nextTick"])()},ee=async(e=!1,t=!1,a=null)=>{if(e&&(_.value=1,B.value=!0),!t||B.value||e){t?F.value=!0:V.value=!0;try{const e={};m.value&&"all"!==m.value&&(e.category=m.value),u.value&&(e.search=u.value);const o={page:_.value,page_size:E,_t:a||(new Date).getTime()};Object.assign(o,e),console.log(`获取文档列表，页码: ${_.value}，参数:`,o);const c=await Object(qe["j"])(o);console.log("文档列表API响应:",c);let r=[],l=0;if(c&&c.warning&&(console.warn("API返回警告:",c.warning),Object(Ue["a"])({message:c.warning,type:"warning",duration:5e3}),c.warning.includes("页码")&&c.warning.includes("无效或超出范围")&&setTimeout(()=>{_.value=1},0)),c&&c.data&&Array.isArray(c.data))r=c.data,l=c.total||c.count||0;else if(c&&c.results&&Array.isArray(c.results))r=c.results,l=c.count||0;else{if(!(c&&c.data&&c.data.results&&Array.isArray(c.data.results)))return console.warn("API返回的文档数据格式无效:",c),void(n.value=[]);r=c.data.results,l=c.data.count||0}if(S.value=l,e.category||e.search||(T.value=l),t){const e=new Set(n.value.map(e=>e.id)),t=r.filter(t=>!e.has(t.id));t.length>0?(n.value=[...n.value,...t],console.log(`追加了 ${t.length} 个新文档，当前共 ${n.value.length} 个`)):(console.log("没有新的文档被追加"),B.value=r.length>0)}else n.value=r,console.log(`设置了 ${n.value.length} 个文档`);console.log(`当前文档ID列表: [${n.value.map(e=>e.id).join(", ")}]`);const i=Math.ceil(l/E);if(console.log(`分页状态 - 当前页: ${_.value}, 总页数: ${i}, 总文档数: ${l}`),_.value>i&&i>0&&!t)return console.warn(`当前页 ${_.value} 超出范围，自动修正为最后一页 ${i}`),void setTimeout(()=>{_.value=i},0);B.value=_.value<i,!t&&n.value.length<8&&B.value&&(console.log("文档数量较少，自动加载下一页"),await new Promise(e=>setTimeout(e,100)),await ee(!1,!0,a))}catch(o){console.error("获取文档列表失败",o),n.value=[],Ue["a"].error("获取文档列表失败")}finally{t?F.value=!1:V.value=!1}}else console.log("没有更多文档，取消获取")},te=async(e=!1,t=null)=>{console.log("开始获取最近文档...");try{const a=e?{_t:t||(new Date).getTime()}:{},o=await Object(qe["k"])(a);console.log("最近文档API响应:",o),o&&o.data?(i.value=Array.isArray(o.data)?[...o.data]:[],console.log(`设置最近文档: ${i.value.length}条记录`)):(console.warn("API返回的最近文档数据无效:",o),i.value=[])}catch(a){console.error("获取最近文档失败:",a),Ue["a"].error("获取最近文档失败"),i.value=[]}},ae=async(e=null)=>{try{const t=e?{_t:e}:{},a=await Object(qe["l"])(t);s.value=a.data}catch(t){console.error("获取共享文档失败",t),Ue["a"].error("获取共享文档失败")}},oe=async(e=null,t=0)=>{console.log("开始获取文档分类...");try{const a=e?{_t:e}:{},o=await Object(qe["h"])(a);console.log("文档分类API响应:",o),o&&o.data?(d.value=o.data,console.log(`设置文档分类: ${d.value.length}条记录, 数据:`,d.value)):(console.warn("API返回的文档分类数据无效:",o),d.value=[],0===d.value.length&&t<2&&(console.log(`文档分类数据为空，${t+1}秒后重试...`),setTimeout(()=>oe(e,t+1),1e3*(t+1))))}catch(a){console.error("获取文档分类失败:",a),a.response&&a.response.status>=500&&t<2?(console.log(`服务器错误，${t+1}秒后重试...`),setTimeout(()=>oe(e,t+1),1e3*(t+1))):(Ue["a"].error("获取文档分类失败，请刷新页面重试"),d.value=[])}};Object(o["watch"])(u,Re.a.debounce(async()=>{_.value=1,B.value=!0,n.value=[],V.value=!0;try{await ee(!0)}catch(e){console.error("搜索失败:",e),Ue["a"].error("搜索文档失败，请重试")}finally{V.value=!1}},300));const ce=()=>{U.value={title:"",type:""},M.value={title:"",requirements:""},p.value="blank",b.value=!0,Object(o["nextTick"])(()=>{try{const e=document.querySelector(".el-dialog");e&&e.addEventListener("closed",()=>{try{R.value&&R.value.clearValidate(),q.value&&q.value.clearValidate()}catch(e){console.error("Error clearing form validation:",e)}},{once:!0})}catch(e){console.error("Error setting up dialog event listener:",e)}})},re=async()=>{if("blank"===p.value){if(!R.value)return void console.warn("表单引用不存在");try{const t=await R.value.validate().catch(e=>(console.error("表单验证失败:",e),!1));if(t){V.value=!0;try{console.log("开始创建文档:",{title:U.value.title,type:U.value.type||"通用"});const t=await Object(qe["b"])({title:U.value.title,type:U.value.type||"通用",content:""});console.log("创建文档响应数据：",JSON.stringify(t)),b.value=!1,Ue["a"].success("文档创建成功");let a=null;t&&t.data&&(t.data.id?a=t.data.id:Array.isArray(t.data)&&t.data.length>0?a=t.data[0].id:t.data.results&&Array.isArray(t.data.results)&&t.data.results.length>0&&(a=t.data.results[0].id)),setTimeout(()=>{a?(console.log("准备跳转到文档详情页，ID: "+a),ee(),te(),setTimeout(()=>{e.push({name:"SmartDocDetail",params:{id:a}}).then(()=>{V.value=!1}).catch(t=>{console.error("路由导航失败:",t),Ue["a"].error("跳转文档详情页失败，请手动刷新页面"),e.push("/smartdoc/"+a).catch(e=>{console.error("路径导航也失败:",e),Ue["a"].error("路径跳转详情页也失败")}),V.value=!1})},300)):(console.warn("创建文档成功，但返回的数据格式不正确",t),ee(),te())},100)}catch(a){console.error("创建文档失败",a),Ue["a"].error("创建文档失败")}finally{V.value=!1}}}catch(a){console.error("提交表单时发生错误:",a),Ue["a"].error("表单提交失败"),V.value=!1}}else if("ai"===p.value){if(!q.value)return void console.warn("AI表单引用不存在");try{const o=await q.value.validate().catch(e=>(console.error("AI表单验证失败:",e),!1));if(o){V.value=!0;try{const a="all"!==m.value?m.value:null,o=await Object(qe["a"])({title:M.value.title,requirement:M.value.requirements,category_id:a,doc_type:"AI"});var t;if(console.log("AI生成文档响应数据：",o),o&&504===o.status)return Ue["a"].error((null===(t=o.data)||void 0===t?void 0:t.detail)||"AI生成超时，请简化需求或稍后重试"),void(V.value=!1);if(o&&o.data&&"string"===typeof o.data.detail&&o.data.detail.includes("超时"))return Ue["a"].error(o.data.detail),void(V.value=!1);b.value=!1,Ue["a"].success("AI生成文档成功");let c=null;o&&o.data&&o.data.id&&(c=o.data.id),c?(console.log("准备跳转到文档详情页，路由名: SmartDocDetail, id:",c),e.push({name:"SmartDocDetail",params:{id:String(c)}}).then(()=>{V.value=!1}).catch(t=>{console.error("路由导航失败:",t),Ue["a"].error("跳转文档详情页失败，请手动刷新页面"),e.push("/smartdoc/"+c).catch(e=>{console.error("路径导航也失败:",e),Ue["a"].error("路径跳转详情页也失败")}),V.value=!1}),ee(),te()):(ee(),te(),V.value=!1)}catch(a){console.error("AI生成文档失败",a),Ue["a"].error("AI生成文档失败")}finally{V.value=!1}}}catch(a){console.error("提交AI表单时发生错误:",a),Ue["a"].error("表单提交失败"),V.value=!1}}},le=t=>{e.push({name:"SmartDocDetail",params:{id:t.id}})},ne=(e,t)=>{t&&t.stopPropagation();let a=null;e.category&&e.category.id&&(a=Number(e.category.id)),console.log("编辑文档:",e.id,"当前分类:",a),I.value={id:e.id,title:e.title,type:e.type||"",category_id:a},A.value=!0},ie=async()=>{if(W.value)try{const e=await W.value.validate();if(e){$.value=!0;const e={title:I.value.title,type:I.value.type||"通用",category_id:I.value.category_id};await Object(qe["r"])(I.value.id,e),Ue["a"].success("文档更新成功"),A.value=!1,await Se()}}catch(e){console.error("更新文档失败",e),Ue["a"].error("更新文档失败")}finally{$.value=!1}},se=e=>{Object(Me["a"])({title:"导出文档",message:"请选择导出格式",showCancelButton:!0,confirmButtonText:"导出为PDF",cancelButtonText:"导出为Word",closeOnClickModal:!0,callback:t=>{"confirm"===t?de(e):"cancel"===t&&ue(e)}})},de=async e=>{if(!e)return void Ue["a"].error("没有可导出的文档");const t=Pe["a"].service({lock:!0,text:"正在加载文档内容...",background:"rgba(255, 255, 255, 0.7)"});try{const o=await Object(qe["i"])(e.id),c=o.data.content;if(!c)return t.close(),void Ue["a"].error("文档内容为空，无法导出");const r=e.title||"未命名文档",l=r+".pdf",n=document.createElement("div");n.innerHTML=c,n.className="temp-export-container",document.body.appendChild(n);const i={margin:[15,15,15,15],filename:l,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};t.setText("正在生成PDF...");const s=await a.e("chunk-7fdcfda9").then(a.t.bind(null,"d67e",7)),d=s.default;await d().from(n).set(i).save(),document.body.removeChild(n),t.close(),Ue["a"].success("PDF导出成功")}catch(o){console.error("PDF导出失败:",o),t.close(),Ue["a"].error("PDF导出失败: "+(o.message||"未知错误"))}},ue=async e=>{if(!e)return void Ue["a"].error("没有可导出的文档");const t=Pe["a"].service({lock:!0,text:"正在加载文档内容...",background:"rgba(255, 255, 255, 0.7)"});try{const o=await Object(qe["i"])(e.id),c=o.data.content;if(!c)return t.close(),void Ue["a"].error("文档内容为空，无法导出");const r=e.title||"未命名文档",l=r+".doc",n=document.createElement("div");n.innerHTML=c,t.setText("正在生成Word文档...");const i=`\n          <html xmlns:o="urn:schemas-microsoft-com:office:office" \n                xmlns:w="urn:schemas-microsoft-com:office:word" \n                xmlns="http://www.w3.org/TR/REC-html40">\n          <head>\n            <meta charset="utf-8">\n            <title>${r}</title>\n            <style>\n              body { font-family: SimSun, Arial, sans-serif; margin: 1cm; }\n              img { max-width: 100%; height: auto; }\n              p { margin: 0; padding: 0; }\n              h1 { font-size: 18pt; }\n              h2 { font-size: 16pt; }\n              h3 { font-size: 14pt; }\n              table { border-collapse: collapse; width: 100%; }\n              td, th { border: 1px solid #000; padding: 5px; }\n            </style>\n          </head>\n          <body>\n            <h1>${r}</h1>\n            ${n.innerHTML}\n          </body>\n          </html>\n        `,s=await a.e("chunk-2d0b1f6a").then(a.t.bind(null,"21a6",7)),d=s.saveAs||s.default,u=new Blob([i],{type:"application/msword"});d(u,l),t.close(),Ue["a"].success("Word文档导出成功")}catch(o){console.error("Word导出失败:",o),t.close(),Ue["a"].error("Word导出失败: "+(o.message||"未知错误"))}},me=async e=>{f.value=e,w.value=!0;try{console.log("获取文档详情，ID:",e.id);const t=await Object(qe["i"])(e.id);console.log("文档详情响应:",t);let a=[];t&&t.data&&(t.data.shared_with&&Array.isArray(t.data.shared_with)?(a=t.data.shared_with,console.log("从data.shared_with提取共享用户:",a)):t.data.permissions&&Array.isArray(t.data.permissions)?(a=t.data.permissions,console.log("从data.permissions提取共享用户:",a)):t.shared_with&&Array.isArray(t.shared_with)&&(a=t.shared_with,console.log("从直接的shared_with提取共享用户:",a))),a.length>0?N.value=a.map(e=>e.user&&(e.user.id||e.user.user_id)?{user_id:e.user.id||e.user.user_id,username:e.user.username||e.user.name||e.user.email||"用户"+e.user.id,permission:e.permission||"edit"}:e.user_id||e.userId?{user_id:e.user_id||e.userId,username:e.username||e.name||e.email||"用户"+(e.user_id||e.userId),permission:e.permission||"edit"}:{user_id:e.id||e.user_id||0,username:e.username||e.name||e.email||"未知用户",permission:e.permission||"edit"}):(console.log("没有找到已分享用户数据"),N.value=[]),console.log("处理后的已分享用户列表:",N.value);const o=new Set(N.value.map(e=>e.user_id));console.log("已分享用户ID集合:",Array.from(o));const c=localStorage.getItem("user");let r=null,l=null;if(c){const e=JSON.parse(c);r=e.id,l=e.company_id,console.log("当前用户ID:",r,"公司ID:",l)}const n=e.creator&&r&&e.creator.id===r;x.value=n?"permission":"chat",console.log("是否为创建者:",n,"分享模式:",x.value);const i=await We["a"].getCompanyUsers();console.log("公司用户列表响应:",i),i.success&&Array.isArray(i.data)?(v.value=i.data.filter(e=>e.id!==r&&(!l||e.company_id===l)&&!o.has(e.id)).map(e=>({id:e.id,username:e.name||e.username||e.email||"用户"+e.id})),y.value=i.data.filter(e=>e.id!==r&&(!l||e.company_id===l)).map(e=>({id:e.id,username:e.name||e.username||e.email||"用户"+e.id})),console.log("授权模式可选用户列表:",v.value),console.log("聊天模式可选用户列表:",y.value)):(console.warn("获取公司用户列表失败:",i),v.value=[],y.value=[])}catch(t){console.error("打开分享对话框失败:",t),Ue["a"].error("获取分享信息失败"),N.value=[]}finally{w.value=!1,k.value="pdf",h.value=[],g.value=[],D.value=[],j.value=!0}},be=e=>{const t=v.value.find(t=>t.id===e);return t?t.username:"未知用户"},je=()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return t.id}return null}catch(e){return console.error("获取当前用户ID失败:",e),null}},Oe=e=>{console.log("选择变化 - 原始值:",e),console.log("选择变化 - selectedUsers:",h.value),console.log("选择变化 - 类型:",typeof h.value,Array.isArray(h.value)),Array.isArray(h.value)||(console.warn("selectedUsers不是数组，强制转换为数组"),h.value=Array.isArray(e)?e:[]),g.value=h.value.map(e=>(console.log("处理用户ID:",e,"类型:",typeof e),{user_id:e,permission:"edit"})),console.log("用户选择变化，已选择用户:",h.value),console.log("用户权限数组:",g.value)},pe=()=>{console.log("分享模式变更为:",x.value),"permission"===x.value?(D.value=[],console.log("已清空聊天用户选择")):"chat"===x.value&&(h.value=[],g.value=[],console.log("已清空权限用户选择"))},fe=async()=>{if("permission"===x.value){const t=je(),a=f.value&&f.value.creator&&t&&f.value.creator.id===t;if(!a)return void Ue["a"].warning("只有文档创建者才能授予权限");const o=[...N.value.map(e=>({user_id:e.user_id,permission:"edit"})),...g.value];w.value=!0;try{await Object(qe["p"])(f.value.id,o),Ue["a"].success("权限更新成功"),j.value=!1}catch(e){console.error("分享文档失败",e),Ue["a"].error("权限更新失败")}finally{w.value=!1}}else if("chat"===x.value){if(!f.value||0===D.value.length)return void Ue["a"].warning("请选择至少一个接收用户");w.value=!0;try{const t=localStorage.getItem("user");let o=null;if(t){const e=JSON.parse(t);o=e.id}if(!o)return Ue["a"].error("无法获取当前用户信息"),void(w.value=!1);const c=await Object(qe["i"])(f.value.id),r=c.data;if(!r||!r.content)return Ue["a"].error("无法获取文档内容"),void(w.value=!1);const l=Pe["a"].service({lock:!0,text:`正在准备${"pdf"===k.value?"PDF":"Word"}文件...`,background:"rgba(255, 255, 255, 0.7)"});try{const e=r.title||"未命名文档",t=r.content,c=document.createElement("div");c.innerHTML=t,c.className="temp-export-container",document.body.appendChild(c);let n=null,i=e,s="";if("pdf"===k.value){i+=".pdf",s="application/pdf",l.setText("正在生成PDF文件...");const e=await a.e("chunk-7fdcfda9").then(a.t.bind(null,"d67e",7)),t=e.default,o={margin:[15,15,15,15],filename:i,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};n=await t().from(c).set(o).outputPdf("blob")}else{i+=".doc",s="application/msword",l.setText("正在生成Word文件...");const t=`\n                <html xmlns:o="urn:schemas-microsoft-com:office:office" \n                      xmlns:w="urn:schemas-microsoft-com:office:word" \n                      xmlns="http://www.w3.org/TR/REC-html40">\n                <head>\n                  <meta charset="utf-8">\n                  <title>${e}</title>\n                  <style>\n                    body { font-family: SimSun, Arial, sans-serif; margin: 1cm; }\n                    img { max-width: 100%; height: auto; }\n                    p { margin: 0; padding: 0; }\n                    h1 { font-size: 18pt; }\n                    h2 { font-size: 16pt; }\n                    h3 { font-size: 14pt; }\n                    table { border-collapse: collapse; width: 100%; }\n                    td, th { border: 1px solid #000; padding: 5px; }\n                  </style>\n                </head>\n                <body>\n                  <h1>${e}</h1>\n                  ${c.innerHTML}\n                </body>\n                </html>\n              `;n=new Blob([t],{type:s})}document.body.removeChild(c),l.setText("正在查找聊天会话...");const d=await Object(He["h"])();let u=[];d&&d.data&&Array.isArray(d.data)?u=d.data:d&&d.results&&Array.isArray(d.results)?u=d.results:d&&Array.isArray(d)&&(u=d),console.log(`获取到 ${u.length} 个会话`),l.setText("正在准备发送...");const m=new Map;for(const a of D.value){const e=u.find(e=>{if(!e.participants||!Array.isArray(e.participants))return!1;if(2!==e.participants.length)return!1;const t=e.participants.some(e=>e.id===o||e.user&&e.user.id===o),c=e.participants.some(e=>e.id===a||e.user&&e.user.id===a);return t&&c});e&&(m.set(a,e.id),console.log(`用户${a}有现有会话: ${e.id}`))}const b=[];for(const a of D.value)m.has(a)||(console.log(`为用户${a}创建新会话...`),b.push(Object(He["c"])({participant_ids:[o,a],title:"文档分享"}).then(e=>{if(e&&e.data&&e.data.id)m.set(a,e.data.id),console.log(`为用户${a}创建新会话成功: ${e.data.id}`);else{if(!e||!e.id)return console.error("创建聊天会话失败，返回数据格式不正确:",e),null;m.set(a,e.id),console.log(`为用户${a}创建新会话成功: ${e.id}`)}}).catch(e=>(console.error(`为用户${a}创建会话失败:`,e),null))));b.length>0&&(l.setText(`正在创建 ${b.length} 个新会话...`),await Promise.all(b)),l.setText("正在发送文件...");const O=[],p=[];for(const a of D.value){const t=m.get(a);if(!t){console.error(`未能找到或创建用户${a}的会话`),p.push(a);continue}console.log(`准备向会话 ${t} 发送文档...`);const o=new FormData;o.append("chat",t),o.append("message_type","file"),o.append("content",`分享了一个${"pdf"===k.value?"PDF":"Word"}文档: ${e}`);const c=new File([n],i,{type:s});o.append("file",c),O.push(Object(Je["a"])({url:"/api/chat/messages/",method:"post",data:o,headers:{"Content-Type":"multipart/form-data"},timeout:3e4}).then(e=>(console.log(`向用户 ${a} 发送文档成功:`,e),{userId:a,success:!0})).catch(e=>(console.error(`向用户 ${a} 发送文档失败:`,e),{userId:a,success:!1,error:e})))}const f=await Promise.all(O),h=f.filter(e=>e.success).length,g=f.length,v=D.value.length;h>0?(h===v?Ue["a"].success(`成功发送文档到所有 ${h} 个用户的聊天`):Ue["a"].warning(`部分发送成功: ${h}/${v} 个用户接收到文档`),j.value=!1):g>0?Ue["a"].error("发送文档失败，请重试"):Ue["a"].error("未能创建任何聊天会话，请重试")}catch(e){console.error("生成文档文件失败:",e),Ue["a"].error("生成文档文件失败")}finally{l.close()}}catch(e){console.error("分享文档到聊天失败:",e),Ue["a"].error("分享文档到聊天失败")}finally{w.value=!1}}},he=e=>{f.value=e,O.value=!0},ge=async()=>{if(f.value){C.value=!0;try{var t;const c=f.value.id,r=null===(t=f.value.category)||void 0===t?void 0:t.id;if(O.value=!1,await Object(qe["d"])(c),Ue["a"].success("文档删除成功"),f.value=null,window.localStorage)try{localStorage.removeItem("doc_cache_"+c),localStorage.removeItem("recent_docs_cache"),localStorage.removeItem("doc_list_cache")}catch(a){console.error("清除本地缓存失败:",a)}if(l.value=Date.now(),n.value=[...n.value.filter(e=>e.id!==c)],i.value=[...i.value.filter(e=>e.id!==c)],s.value=[...s.value.filter(e=>e.id!==c)],await Z(),r){const e=d.value.find(e=>e.id===r);e&&e.document_count>0&&e.document_count--}await Object(o["nextTick"])(),"SmartDocDetail"===e.currentRoute.value.name?(console.log("从详情页删除文档，重新导航到文档首页"),await Se(),e.replace({name:"SmartDoc",query:{_refresh:Date.now()}})):await Te()}catch(c){console.error("删除文档失败",c),Ue["a"].error("删除文档失败"),O.value=!1}finally{C.value=!1}}},ve=t=>{"recent"===t&&e.push({name:"SmartDoc"}).then(()=>{setTimeout(()=>{const e=document.querySelector(".section");e&&e.scrollIntoView({behavior:"smooth"})},300)})},ye=e=>{let t;console.log("选择分类:",e),"all"===e?t="all":"string"===typeof e?t=e:"object"===typeof e&&null!==e&&(t=e.id.toString()),console.log("处理后的分类ID:",t),t!==m.value?(m.value=t,n.value=[],V.value=!0,_.value=1,B.value=!0,setTimeout(async()=>{try{await ee(!0)}catch(t){console.error("获取文档失败:",t),Ue["a"].error("获取文档列表失败，请刷新页面重试")}finally{V.value=!1}const e=document.querySelectorAll(".doc-card");e&&e.length>0&&e.forEach((e,t)=>{e&&(e.style.animationDelay=50*t+"ms",e.classList.remove("fadeIn"),setTimeout(()=>{e&&e.classList.add("fadeIn")},10))})},300)):console.log("分类未变化，不重新加载")},Ve=()=>{if("all"===m.value)return"#409EFF";const e=d.value.find(e=>e.id.toString()===m.value);return(null===e||void 0===e?void 0:e.color)||"#67C23A"},we=()=>{if("all"===m.value)return"全部文档";const e=d.value.find(e=>e.id.toString()===m.value);return(null===e||void 0===e?void 0:e.name)||"未知分类"},Ce=()=>{Q.value=!0,xe()},Ne=e=>{G.value={...e}},xe=()=>{G.value={id:"",name:"",color:"#409EFF",description:""},K.value&&K.value.resetFields()},ke=async()=>{K.value&&await K.value.validate(async e=>{if(e){X.value=!0;try{const e={name:G.value.name,color:G.value.color,description:G.value.description||""};G.value.id?(await Object(qe["s"])(G.value.id,e),Ue["a"].success("分类更新成功")):(await Object(qe["c"])(e),Ue["a"].success("分类创建成功")),oe(),xe()}catch(t){console.error("保存分类失败:",t),Ue["a"].error("保存分类失败")}finally{X.value=!1}}})},De=e=>{e.document_count>0?Ue["a"].warning("该分类下有文档，无法删除"):Me["a"].confirm(`确定要删除分类"${e.name}"吗？`,"删除分类",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await Object(qe["e"])(e.id),Ue["a"].success("分类删除成功"),oe()}catch(t){console.error("删除分类失败:",t),Ue["a"].error("删除分类失败")}}).catch(()=>{})},_e=e=>{const t=new Date(e),a=new Date;if(t.toDateString()===a.toDateString())return t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});const o=new Date(a);if(o.setDate(a.getDate()-1),t.toDateString()===o.toDateString())return"昨天";const c=["周日","周一","周二","周三","周四","周五","周六"],r=Math.round((a-t)/864e5);return r<7?c[t.getDay()]:t.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric"})},Ee=()=>{m.value="all",_.value=1,ee(!0)};Object(o["onActivated"])(()=>{console.log("SmartDoc组件被激活，重新获取数据"),Se()});const Se=async()=>{_.value=1;try{console.log("重新加载所有文档数据..."),V.value=!0;const t=Date.now();try{window.localStorage&&(localStorage.removeItem("doc_list_cache"),localStorage.removeItem("recent_docs_cache"),localStorage.removeItem("doc_categories_cache"))}catch(e){console.error("清除缓存失败:",e)}await oe(t),await Promise.all([ee(!0,!1,t),te(!0,t),ae(t)]),console.log("数据重新加载完成",{"分类数量":d.value.length,"文档数量":n.value.length,"最近文档":i.value.length,"共享文档":s.value.length,"总计数":S.value}),await Z()}catch(t){console.error("数据重新加载失败:",t),Ue["a"].error("加载数据失败，请刷新页面")}finally{V.value=!1}};Object(o["provide"])("reloadDocuments",Se),Object(o["watch"])(()=>t.query._refresh,e=>{e&&(console.log("检测到路由刷新参数:",e),l.value=Date.now(),Se())}),Object(o["watch"])(()=>t.path,(e,t)=>{console.log("路由变化:",t,"->",e),"/smartdoc"===e&&t&&t.startsWith("/smartdoc/")&&(console.log("从详情页返回列表页，强制刷新数据"),l.value=Date.now(),Se())});const Te=async()=>{_.value=1,await Se(),c&&c.$forceUpdate&&c.$forceUpdate()},Be=e=>{console.log("分页点击事件 - 切换到页面: "+e);const t=Math.ceil(S.value/E);if(e>t&&t>0)return console.warn(`请求的页码 ${e} 超出最大页码 ${t}，自动调整为最大页码`),void setTimeout(()=>{_.value=t},0)};Object(o["watch"])(()=>_.value,async(e,t)=>{if(console.log(`页码变化: ${t} -> ${e}`),e===t)return;const a=Math.ceil(S.value/E);if(e>a&&a>0)return console.warn(`页码 ${e} 超出最大页码 ${a}，自动调整为最大页码`),void setTimeout(()=>{_.value=a},0);try{V.value=!0,B.value=!0,await ee(!1,!1,Date.now());const e=document.querySelector(".section");e&&e.scrollIntoView({behavior:"smooth"})}catch(o){console.error("页码变化加载失败:",o),Ue["a"].error("加载数据失败，请重试"),o.response&&404===o.response.status&&(console.warn("页码不存在，返回第一页"),setTimeout(()=>{_.value=1},0))}finally{V.value=!1}});const Fe=()=>{!F.value&&B.value&&(_.value++,ee(!1,!0))};Object(o["onMounted"])(()=>{console.log("SmartDoc组件mounted，加载数据");const e=t.query._refresh;e?(console.log("检测到URL中的刷新参数:",e),l.value=Date.now(),setTimeout(()=>{Se()},10)):Se()});const Ae=()=>{const t=document.createElement("input");t.type="file",t.accept=".docx,.doc",t.style.display="none",document.body.appendChild(t),t.addEventListener("change",async a=>{if(a.target.files.length>0){const c=a.target.files[0],r=Pe["a"].service({fullscreen:!0,text:"正在导入Word文档...",background:"rgba(255, 255, 255, 0.8)",lock:!0});try{const a=new FormData;a.append("file",c);const o=await Object(qe["n"])(a);o&&o.id?(await Se(),Ue["a"].success("Word文档导入成功"),setTimeout(()=>{e.push({name:"SmartDocDetail",params:{id:o.id},query:{_refresh:Date.now()}})},1e3)):Ue["a"].error("导入失败："+((null===o||void 0===o?void 0:o.detail)||"未知错误"))}catch(o){console.error("导入Word文档出错:",o),Ue["a"].error("导入Word文档失败: "+(o.message||"未知错误"))}finally{setTimeout(()=>{r.close(),document.body.removeChild(t)},500)}}}),t.click()},Ie=e=>{console.log("尝试移除用户权限:",e);const t=N.value.find(t=>t.user_id===e);t?(console.log("找到要移除权限的用户:",t),v.value.push({id:t.user_id,username:t.username}),N.value=N.value.filter(t=>t.user_id!==e),console.log("移除后的已分享用户列表:",N.value),Object(Ue["a"])({message:`已移除用户 ${t.username} 的权限，点击分享按钮保存更改`,type:"warning"})):console.warn("未找到要移除的用户:",e)};return{documents:n,recentDocuments:i,sharedDocuments:s,documentCategories:d,searchQuery:u,searchCategory:m,totalDocuments:H,recentEditCount:J,newDocumentDialogVisible:b,shareDialogVisible:j,deleteDialogVisible:O,documentCreateType:p,newDocumentForm:U,aiDocumentForm:M,blankFormRules:P,aiFormRules:z,blankFormRef:R,aiFormRef:q,selectedDocument:f,selectedUsers:h,selectedUsersWithPermissions:g,availableUsers:v,availableChatUsers:y,createLoading:V,shareLoading:w,deleteLoading:C,createNewDocument:ce,submitNewDocument:re,openDocument:le,editDocument:ne,submitEditDocument:ie,exportDocument:se,shareDocument:me,confirmShare:fe,deleteDocument:he,confirmDelete:ge,viewAllDocuments:ve,formatDate:_e,categoryDialogVisible:Q,editingCategory:G,categoryFormRef:K,categoryLoading:X,categoryFormRules:Y,editCategory:Ne,resetCategoryForm:xe,submitCategory:ke,deleteCategory:De,resetCategoryFilter:Ee,selectCategory:ye,getSelectedCategoryColor:Ve,getSelectedCategoryName:we,manageCategories:Ce,reloadAllData:Se,refreshData:Te,refreshTrigger:l,hasMore:B,loadingMore:F,loadMoreDocuments:Fe,exportToPdf:de,exportToWord:ue,editDialogVisible:A,editDocumentForm:I,editFormRef:W,editLoading:$,editFormRules:L,onPageChange:Be,page:_,pageSize:E,totalCount:S,$_isDev:r,fetchDocuments:ee,shareMode:x,shareFormat:k,selectedChatUsers:D,handleImportWord:Ae,getUsernameById:be,handleUserSelectionChange:Oe,handleShareModeChange:pe,getCurrentUserId:je,existingSharedUsers:N,removeSharedUser:Ie}}},Ge=(a("3bad"),a("c489"),a("6b0d")),Ke=a.n(Ge);const Xe=Ke()(Qe,[["render",Ie],["__scopeId","data-v-cac81e82"]]);t["default"]=Xe},"79a4":function(e,t,a){"use strict";var o=a("23e7"),c=a("d039"),r=a("953b"),l=a("dad2"),n=!l("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||c((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));o({target:"Set",proto:!0,real:!0,forced:n},{intersection:r})},"7f65":function(e,t,a){"use strict";var o=a("59ed"),c=a("825a"),r=a("c65b"),l=a("5926"),n=a("46c4"),i="Invalid size",s=RangeError,d=TypeError,u=Math.max,m=function(e,t){this.set=e,this.size=u(t,0),this.has=o(e.has),this.keys=o(e.keys)};m.prototype={getIterator:function(){return n(c(r(this.keys,this.set)))},includes:function(e){return r(this.has,this.set,e)}},e.exports=function(e){c(e);var t=+e.size;if(t!==t)throw new d(i);var a=l(t);if(a<0)throw new s(i);return new m(e,a)}},"83b9":function(e,t,a){"use strict";var o=a("cb27"),c=a("384f"),r=o.Set,l=o.add;e.exports=function(e){var t=new r;return c(e,(function(e){l(t,e)})),t}},"8b00":function(e,t,a){"use strict";var o=a("23e7"),c=a("68df"),r=a("dad2"),l=!r("isSubsetOf",(function(e){return e}));o({target:"Set",proto:!0,real:!0,forced:l},{isSubsetOf:c})},"8e16":function(e,t,a){"use strict";var o=a("7282"),c=a("cb27");e.exports=o(c.proto,"size","get")||function(e){return e.size}},"910d":function(e,t,a){"use strict";var o=a("23e7"),c=a("c65b"),r=a("59ed"),l=a("825a"),n=a("46c4"),i=a("c5cc"),s=a("9bdd"),d=a("c430"),u=a("2a62"),m=a("f99f"),b=!d&&m("filter",TypeError),j=i((function(){var e,t,a,o=this.iterator,r=this.predicate,n=this.next;while(1){if(e=l(c(n,o)),t=this.done=!!e.done,t)return;if(a=e.value,s(o,r,[a,this.counter++],!0))return a}}));o({target:"Iterator",proto:!0,real:!0,forced:d||b},{filter:function(e){l(this);try{r(e)}catch(t){u(this,"throw",t)}return b?c(b,this,e):new j(n(this),{predicate:e})}})},"953b":function(e,t,a){"use strict";var o=a("dc19"),c=a("cb27"),r=a("8e16"),l=a("7f65"),n=a("384f"),i=a("5388"),s=c.Set,d=c.add,u=c.has;e.exports=function(e){var t=o(this),a=l(e),c=new s;return r(t)>a.size?i(a.getIterator(),(function(e){u(t,e)&&d(c,e)})):n(t,(function(e){a.includes(e)&&d(c,e)})),c}},9961:function(e,t,a){"use strict";var o=a("dc19"),c=a("cb27"),r=a("83b9"),l=a("7f65"),n=a("5388"),i=c.add,s=c.has,d=c.remove;e.exports=function(e){var t=o(this),a=l(e).getIterator(),c=r(t);return n(a,(function(e){s(t,e)?d(c,e):i(c,e)})),c}},a4e7:function(e,t,a){"use strict";var o=a("23e7"),c=a("395e"),r=a("dad2"),l=!r("isSupersetOf",(function(e){return!e}));o({target:"Set",proto:!0,real:!0,forced:l},{isSupersetOf:c})},a537:function(e,t,a){},a5f7:function(e,t,a){"use strict";var o=a("dc19"),c=a("cb27"),r=a("83b9"),l=a("8e16"),n=a("7f65"),i=a("384f"),s=a("5388"),d=c.has,u=c.remove;e.exports=function(e){var t=o(this),a=n(e),c=r(t);return l(t)<=a.size?i(t,(function(e){a.includes(e)&&u(c,e)})):s(a.getIterator(),(function(e){d(t,e)&&u(c,e)})),c}},b4bc:function(e,t,a){"use strict";var o=a("dc19"),c=a("cb27").has,r=a("8e16"),l=a("7f65"),n=a("384f"),i=a("5388"),s=a("2a62");e.exports=function(e){var t=o(this),a=l(e);if(r(t)<=a.size)return!1!==n(t,(function(e){if(a.includes(e))return!1}),!0);var d=a.getIterator();return!1!==i(d,(function(e){if(c(t,e))return s(d,"normal",!1)}))}},c1a1:function(e,t,a){"use strict";var o=a("23e7"),c=a("b4bc"),r=a("dad2"),l=!r("isDisjointFrom",(function(e){return!e}));o({target:"Set",proto:!0,real:!0,forced:l},{isDisjointFrom:c})},c489:function(e,t,a){"use strict";a("a537")},cb27:function(e,t,a){"use strict";var o=a("e330"),c=Set.prototype;e.exports={Set:Set,add:o(c.add),has:o(c.has),remove:o(c["delete"]),proto:c}},d800:function(e,t,a){"use strict";a.d(t,"h",(function(){return c})),a.d(t,"g",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"l",(function(){return n})),a.d(t,"i",(function(){return i})),a.d(t,"j",(function(){return s})),a.d(t,"k",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return b})),a.d(t,"m",(function(){return j})),a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return p}));a("d9e2");var o=a("b775");function c(){return Object(o["a"])({url:"/api/chat/sessions/",method:"get"})}function r(e){return Object(o["a"])({url:`/api/chat/sessions/${e}/`,method:"get"})}function l(e){return Object(o["a"])({url:"/api/chat/sessions/",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/api/chat/messages/",method:"post",data:{...e,message_type:"text"}})}function i(e,t,a){const c=new FormData;return c.append("chat",e),c.append("message_type","file"),c.append("content",t),c.append("file",a),Object(o["a"])({url:"/api/chat/messages/",method:"post",data:c})}function s(e,t,a){const c=new FormData;return c.append("chat",e),c.append("message_type","image"),c.append("content",t),c.append("file",a),Object(o["a"])({url:"/api/chat/messages/",method:"post",data:c})}function d(e){return Object(o["a"])({url:"/api/chat/messages/",method:"post",data:{...e,message_type:"knowledge",content:"分享了一个知识库文件"}})}function u(e){return Object(o["a"])({url:`/api/chat/messages/${e}/download/`,method:"get",responseType:"blob"})}function m(e){return Object(o["a"])({url:"/api/chat/find-or-create/",method:"post",data:{user_id:e}})}async function b(e){if(!e||0===e.length)throw new Error("No user IDs provided");return 1===e.length?m(e[0]):l({participants:e})}function j(e,t,a){return Object(o["a"])({url:`/api/chat/sessions/${e}/summarize/`,method:"post",data:{start_date:t,end_date:a}})}function O(e){return Object(o["a"])({url:"/api/chat/analyze-for-calendar/",method:"post",data:{content:e}})}function p(e){return Object(o["a"])({url:"/api/calendar/events/",method:"post",data:e})}},dad2:function(e,t,a){"use strict";var o=a("d066"),c=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},r=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var a=o("Set");try{(new a)[e](c(0));try{return(new a)[e](c(-1)),!1}catch(n){if(!t)return!0;try{return(new a)[e](r(-1/0)),!1}catch(i){var l=new a;return l.add(1),l.add(2),t(l[e](r(1/0)))}}}catch(i){return!1}}},dc19:function(e,t,a){"use strict";var o=a("cb27").has;e.exports=function(e){return o(e),e}},e9bc:function(e,t,a){"use strict";var o=a("dc19"),c=a("cb27").add,r=a("83b9"),l=a("7f65"),n=a("5388");e.exports=function(e){var t=o(this),a=l(e).getIterator(),i=r(t);return n(a,(function(e){c(i,e)})),i}},f345:function(e,t,a){"use strict";a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return r})),a.d(t,"l",(function(){return l})),a.d(t,"i",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"r",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"p",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"s",(function(){return j})),a.d(t,"e",(function(){return O})),a.d(t,"a",(function(){return p})),a.d(t,"g",(function(){return f})),a.d(t,"o",(function(){return h})),a.d(t,"m",(function(){return g})),a.d(t,"q",(function(){return v})),a.d(t,"f",(function(){return y})),a.d(t,"n",(function(){return V}));var o=a("b775");function c(e){console.log("调用getDocuments API, 参数:",e);const t={...e,page:e.page||1,page_size:e.limit||e.page_size||10};return t.limit&&t.page_size&&delete t.limit,console.log("处理后的参数:",t),Object(o["a"])({url:"/api/smartdoc/documents/",method:"get",params:t,timeout:6e4}).then(e=>(console.log("getDocuments API响应:",e),e&&e.warning&&console.warn("API响应包含警告:",e.warning),e.results&&Array.isArray(e.results)?(console.log(`DRF分页格式: 共${e.count||0}条记录，当前页${t.page}`),{data:e.results,count:e.count||0,total:e.count||0,next:e.next,previous:e.previous,warning:e.warning}):e.data&&Array.isArray(e.data)?(console.log(`数组格式: 共${e.data.length}条记录`),e):e.data&&e.data.results&&Array.isArray(e.data.results)?(console.log(`嵌套DRF格式: 共${e.data.count||0}条记录，当前页${t.page}`),{data:e.data.results,count:e.data.count||0,total:e.data.count||0,next:e.data.next,previous:e.data.previous,warning:e.data.warning}):(console.warn("未知响应格式:",e),e))).catch(a=>{if(console.error("getDocuments API错误:",a),a.response&&404===a.response.status&&t.page>1){if(console.warn(`页码${t.page}不存在，自动尝试获取第1页`),e._retry)throw console.error("已经重试过一次，避免多次重试"),a;{const a={...e,page:1,_retry:!0};return c(a).then(e=>(e&&(e.warning=`请求的页码 ${t.page} 不存在，已返回第1页数据`),e))}}throw a.response&&a.response.status>=500?console.warn("服务器错误，可能需要重试"):a.response||console.warn("网络错误，请检查网络连接"),a})}function r(e){return console.log("调用getRecentDocuments API, 参数:",e),Object(o["a"])({url:"/api/smartdoc/documents/recent/",method:"get",params:e}).then(e=>(console.log("getRecentDocuments API响应:",e),e)).catch(e=>{throw console.error("getRecentDocuments API错误:",e),e})}function l(e){return Object(o["a"])({url:"/api/smartdoc/documents/shared/",method:"get",params:e})}function n(e){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/`,method:"get",timeout:6e4})}function i(e){return Object(o["a"])({url:"/api/smartdoc/documents/",method:"post",data:e})}function s(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/`,method:"put",data:t})}function d(e){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/`,method:"delete"})}function u(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/share/`,method:"post",data:{shared_users:t}})}function m(e){return console.log("调用getDocumentCategories API, 参数:",e),Object(o["a"])({url:"/api/smartdoc/categories/",method:"get",params:e}).then(e=>(console.log("getDocumentCategories API响应:",e),e)).catch(e=>{throw console.error("getDocumentCategories API错误:",e),e})}function b(e){return Object(o["a"])({url:"/api/smartdoc/categories/",method:"post",data:e})}function j(e,t){return Object(o["a"])({url:`/api/smartdoc/categories/${e}/`,method:"put",data:t})}function O(e){return Object(o["a"])({url:`/api/smartdoc/categories/${e}/`,method:"delete"})}function p(e){return Object(o["a"])({url:"/api/smartdoc/ai_generate/",method:"post",data:e,timeout:18e4})}function f(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/expand_content/`,method:"post",data:t,timeout:12e4})}function h(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/polish_text/`,method:"post",data:t,timeout:12e4})}function g(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/grammar_check/`,method:"post",data:t,timeout:12e4}).then(e=>e.data)}function v(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/translate/`,method:"post",data:t,timeout:12e4}).then(e=>e.data)}function y(e,t){return Object(o["a"])({url:`/api/smartdoc/documents/${e}/qa/`,method:"post",data:t,timeout:12e4}).then(e=>e.data)}function V(e){return Object(o["a"])({url:"/api/smartdoc/documents/import/word/",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"},timeout:6e4})}},f665:function(e,t,a){"use strict";var o=a("23e7"),c=a("c65b"),r=a("2266"),l=a("59ed"),n=a("825a"),i=a("46c4"),s=a("2a62"),d=a("f99f"),u=d("find",TypeError);o({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(e){n(this);try{l(e)}catch(o){s(this,"throw",o)}if(u)return c(u,this,e);var t=i(this),a=0;return r(t,(function(t,o){if(e(t,a++))return o(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);
//# sourceMappingURL=chunk-0ae3a023.1643ffa3.js.map