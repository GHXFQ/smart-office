(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdcda268"],{1158:function(e,t,c){},1662:function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o={class:"settings-menu"},i={class:"settings-container"},l={class:"settings-nav"},n={class:"settings-content"},s={class:"global-action-bar"},d={key:0,class:"setting-section"},r={class:"label-with-icon"},b={class:"label-with-icon"},j={class:"label-with-icon"},O={class:"label-with-icon"},h={class:"label-with-icon"},u={key:1,class:"setting-section"},m={class:"description"};function V(e,t,c,V,f,g){const p=Object(a["resolveComponent"])("el-popover"),N=Object(a["resolveComponent"])("refresh-left"),w=Object(a["resolveComponent"])("el-icon"),C=Object(a["resolveComponent"])("el-button"),x=Object(a["resolveComponent"])("el-popconfirm"),v=Object(a["resolveComponent"])("check"),S=Object(a["resolveComponent"])("info-filled"),_=Object(a["resolveComponent"])("el-tooltip"),E=Object(a["resolveComponent"])("el-input"),y=Object(a["resolveComponent"])("el-form-item"),T=Object(a["resolveComponent"])("el-col"),k=Object(a["resolveComponent"])("el-row"),I=Object(a["resolveComponent"])("el-radio-button"),A=Object(a["resolveComponent"])("el-radio-group"),U=Object(a["resolveComponent"])("el-form"),M=Object(a["resolveComponent"])("el-radio"),z=Object(a["resolveComponent"])("el-slider"),D=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(p,{placement:"bottom",width:120,trigger:"click"},{reference:Object(a["withCtx"])(()=>t[12]||(t[12]=[Object(a["createElementVNode"])("div",{class:"settings-button"},[Object(a["createElementVNode"])("i",{class:"el-icon-setting"})],-1)])),default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",{class:"menu-item",onClick:t[0]||(t[0]=(...e)=>g.openSettings&&g.openSettings(...e))},"系统设置"),t[13]||(t[13]=Object(a["createElementVNode"])("div",{class:"menu-item"},"帮助中心",-1)),t[14]||(t[14]=Object(a["createElementVNode"])("div",{class:"menu-divider"},null,-1)),t[15]||(t[15]=Object(a["createElementVNode"])("div",{class:"menu-item"},"退出登录",-1))])]),_:1}),Object(a["createVNode"])(D,{title:"系统设置",modelValue:f.dialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>f.dialogVisible=e),width:"800px","before-close":g.handleClose,"close-on-click-modal":!1,"custom-class":"settings-dialog","destroy-on-close":""},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["nav-item",{active:"ai"===f.activeTab}]),onClick:t[1]||(t[1]=e=>f.activeTab="ai")},t[16]||(t[16]=[Object(a["createElementVNode"])("i",{class:"el-icon-cpu"},null,-1),Object(a["createElementVNode"])("span",null,"个性化AI设置",-1)]),2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["nav-item",{active:"ui"===f.activeTab}]),onClick:t[2]||(t[2]=e=>f.activeTab="ui")},t[17]||(t[17]=[Object(a["createElementVNode"])("i",{class:"el-icon-brush"},null,-1),Object(a["createElementVNode"])("span",null,"界面偏好",-1)]),2)]),Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(x,{title:`确定要恢复${"ai"===f.activeTab?"个性化AI设置":"界面偏好"}的默认设置吗？`,"confirm-button-text":"确定","cancel-button-text":"取消",onConfirm:g.resetCurrentSettings},{reference:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(N)]),_:1}),t[18]||(t[18]=Object(a["createTextVNode"])(" 恢复默认 "))]),_:1})]),_:1},8,["title","onConfirm"]),Object(a["createVNode"])(C,{type:"primary",onClick:g.saveCurrentSettings},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v)]),_:1}),t[19]||(t[19]=Object(a["createTextVNode"])(" 保存设置 "))]),_:1},8,["onClick"])]),"ai"===f.activeTab?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[t[28]||(t[28]=Object(a["createElementVNode"])("h3",null,"个性化AI设置",-1)),Object(a["createVNode"])(U,{"label-position":"top",model:f.aiSettings},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(k,{gutter:20},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(T,{span:12},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,null,{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",r,[t[20]||(t[20]=Object(a["createTextVNode"])(" AI如何称呼您 ")),Object(a["createVNode"])(_,{effect:"light",content:"您希望AI助手如何称呼您，例如您的姓名或昵称。",placement:"top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{class:"info-icon"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S)]),_:1})]),_:1})])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(E,{modelValue:f.aiSettings.nickname,"onUpdate:modelValue":t[3]||(t[3]=e=>f.aiSettings.nickname=e),placeholder:"例如：李经理",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),Object(a["createVNode"])(T,{span:12},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,null,{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",b,[t[21]||(t[21]=Object(a["createTextVNode"])(" 您的职位 ")),Object(a["createVNode"])(_,{effect:"light",content:"您的职位信息有助于AI在生成内容时更贴合您的专业领域。",placement:"top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{class:"info-icon"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S)]),_:1})]),_:1})])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(E,{modelValue:f.aiSettings.job,"onUpdate:modelValue":t[4]||(t[4]=e=>f.aiSettings.job=e),placeholder:"例如：软件工程师",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(y,null,{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",j,[t[22]||(t[22]=Object(a["createTextVNode"])(" AI沟通风格 ")),Object(a["createVNode"])(_,{effect:"light",content:"选择您偏好的AI沟通风格，或在下方文本框中自定义。",placement:"top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{class:"info-icon"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S)]),_:1})]),_:1})])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(A,{modelValue:f.aiSettings.tone,"onUpdate:modelValue":t[5]||(t[5]=e=>f.aiSettings.tone=e),class:"tone-radios"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(I,{label:"professional"},{default:Object(a["withCtx"])(()=>t[23]||(t[23]=[Object(a["createTextVNode"])("专业严谨")])),_:1}),Object(a["createVNode"])(I,{label:"friendly"},{default:Object(a["withCtx"])(()=>t[24]||(t[24]=[Object(a["createTextVNode"])("亲切友好")])),_:1}),Object(a["createVNode"])(I,{label:"concise"},{default:Object(a["withCtx"])(()=>t[25]||(t[25]=[Object(a["createTextVNode"])("简洁直接")])),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(a["createVNode"])(y,null,{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",O,[t[26]||(t[26]=Object(a["createTextVNode"])(" 自定义AI风格 ")),Object(a["createVNode"])(_,{effect:"light",content:'在这里输入您希望AI具备的其它沟通风格或特征，例如"幽默"、"详细"等，多个词语请用逗号隔开。',placement:"top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{class:"info-icon"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S)]),_:1})]),_:1})])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(E,{type:"textarea",modelValue:f.aiSettings.traitsText,"onUpdate:modelValue":t[6]||(t[6]=e=>f.aiSettings.traitsText=e),placeholder:"例如：富有创造力, 善于总结",rows:3,class:"textarea-input"},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(y,null,{label:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",h,[t[27]||(t[27]=Object(a["createTextVNode"])(" 其它自定义信息 ")),Object(a["createVNode"])(_,{effect:"light",content:"您可以在此提供更多关于您的工作内容、兴趣偏好或特定要求的信息，以便AI为您提供更个性化的服务。",placement:"top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{class:"info-icon"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S)]),_:1})]),_:1})])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(E,{type:"textarea",modelValue:f.aiSettings.otherInfo,"onUpdate:modelValue":t[7]||(t[7]=e=>f.aiSettings.otherInfo=e),placeholder:"例如：我主要负责XX项目的管理，请在总结时突出项目进度和风险点。",rows:4,class:"textarea-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):Object(a["createCommentVNode"])("",!0),"ui"===f.activeTab?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",u,[t[34]||(t[34]=Object(a["createElementVNode"])("h3",null,"主题设置",-1)),Object(a["createVNode"])(U,{"label-position":"left","label-width":"120px"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,{label:"主题模式"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(A,{modelValue:f.uiSettings.theme,"onUpdate:modelValue":t[8]||(t[8]=e=>f.uiSettings.theme=e)},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(M,{label:"light"},{default:Object(a["withCtx"])(()=>t[29]||(t[29]=[Object(a["createTextVNode"])("浅色")])),_:1}),Object(a["createVNode"])(M,{label:"dark"},{default:Object(a["withCtx"])(()=>t[30]||(t[30]=[Object(a["createTextVNode"])("深色")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t[35]||(t[35]=Object(a["createElementVNode"])("h3",null,"布局设置",-1)),Object(a["createVNode"])(U,{"label-position":"left","label-width":"120px"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(y,{label:"内容密度"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(A,{modelValue:f.uiSettings.contentDensity,"onUpdate:modelValue":t[9]||(t[9]=e=>f.uiSettings.contentDensity=e)},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(M,{label:"compact"},{default:Object(a["withCtx"])(()=>t[31]||(t[31]=[Object(a["createTextVNode"])("紧凑")])),_:1}),Object(a["createVNode"])(M,{label:"normal"},{default:Object(a["withCtx"])(()=>t[32]||(t[32]=[Object(a["createTextVNode"])("标准")])),_:1}),Object(a["createVNode"])(M,{label:"comfortable"},{default:Object(a["withCtx"])(()=>t[33]||(t[33]=[Object(a["createTextVNode"])("宽松")])),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(a["createVNode"])(y,{label:"字体大小"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(z,{modelValue:f.uiSettings.fontSize,"onUpdate:modelValue":t[10]||(t[10]=e=>f.uiSettings.fontSize=e),min:12,max:20,step:1,"show-stops":""},null,8,["modelValue"]),Object(a["createElementVNode"])("span",m,Object(a["toDisplayString"])(f.uiSettings.fontSize)+"px",1)]),_:1})]),_:1})])):Object(a["createCommentVNode"])("",!0)])])]),_:1},8,["modelValue","before-close"])])}var f=c("b775"),g=c("3ef4"),p=c("f6f2"),N={name:"Setting",components:{InfoFilled:p["InfoFilled"],"refresh-left":p["RefreshLeft"],check:p["Check"]},data(){return{dialogVisible:!1,activeTab:"ai",aiSettings:{nickname:"",job:"",tone:"professional",traitsText:"",otherInfo:""},uiSettings:{theme:"light",contentDensity:"normal",fontSize:14}}},mounted(){this.dialogVisible&&(this.fetchUiSettings(),this.fetchAiSettings()),document.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeyDown)},methods:{showMessage(e,t){try{Object(g["a"])({type:e,message:t})}catch(c){console.log(`[${e}] ${t}`)}},openSettings(){try{console.log("设置弹窗被打开"),this.dialogVisible=!0,this.fetchUiSettings(),this.fetchAiSettings()}catch(e){console.error("打开设置弹窗失败:",e)}},handleKeyDown(e){"Escape"===e.key&&this.dialogVisible&&(this.dialogVisible=!1)},handleClose(){this.dialogVisible=!1},async fetchUiSettings(){try{const e=await Object(f["a"])({url:"/api/settings/ui-preferences",method:"get"});e&&e.success&&(this.uiSettings={...this.uiSettings,...e.data})}catch(e){console.error("获取界面偏好失败:",e),this.showMessage("info","首次使用系统，暂无偏好设置")}},async fetchAiSettings(){try{const e=await Object(f["a"])({url:"/api/settings/ai-settings",method:"get"});e&&e.success&&(this.aiSettings={nickname:e.data.nickname||"",job:e.data.job||"",tone:e.data.tone||"professional",traitsText:e.data.traits_text||"",otherInfo:e.data.other_info||""})}catch(e){console.error("获取个性化AI设置失败:",e),this.showMessage("info","首次使用系统，暂无个性化AI设置")}},async saveAiSettings(){try{const e={nickname:this.aiSettings.nickname,job:this.aiSettings.job,tone:this.aiSettings.tone,traits_text:this.aiSettings.traitsText,other_info:this.aiSettings.otherInfo},t=await Object(f["a"])({url:"/api/settings/ai-settings",method:"post",data:e});if(t&&t.success)this.showMessage("success","个性化AI设置已保存"),this.dialogVisible=!1;else{const e=t&&t.message||"保存失败";this.showMessage("error",e)}}catch(e){console.error("保存个性化AI设置失败:",e),this.showMessage("error","保存设置信息失败")}},resetAiSettings(){this.aiSettings={nickname:"",job:"",tone:"professional",traitsText:"",otherInfo:""},this.showMessage("info","已重置个性化AI设置")},async saveUiSettings(){try{const e=await Object(f["a"])({url:"/api/settings/ui-preferences",method:"post",data:this.uiSettings});if(e&&e.success)this.showMessage("success","界面偏好设置已保存"),this.applyTheme(),this.dialogVisible=!1;else{const t=e&&e.message||"保存失败";this.showMessage("error",t)}}catch(e){console.error("保存界面偏好失败:",e),this.showMessage("error","保存设置信息失败")}},resetUiSettings(){this.uiSettings={theme:"light",contentDensity:"normal",fontSize:14},this.showMessage("info","已恢复默认设置，请点击保存生效")},applyTheme(){document&&document.documentElement&&document.documentElement.style&&(document.documentElement.setAttribute("data-theme",this.uiSettings.theme),document.documentElement.style.setProperty("--font-size-base",this.uiSettings.fontSize+"px"))},resetCurrentSettings(){"ai"===this.activeTab?this.resetAiSettings():"ui"===this.activeTab&&this.resetUiSettings()},saveCurrentSettings(){"ai"===this.activeTab?this.saveAiSettings():"ui"===this.activeTab&&this.saveUiSettings()}}},w=(c("cb88"),c("6b0d")),C=c.n(w);const x=C()(N,[["render",V],["__scopeId","data-v-3234de44"]]);t["default"]=x},cb88:function(e,t,c){"use strict";c("1158")}}]);
//# sourceMappingURL=chunk-fdcda268.084753e2.js.map